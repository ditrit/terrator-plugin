/*! For license information please see terrator-plugin.js.LICENSE.txt */
(()=>{var t={149:(t,e)=>{(()=>{var t={326:function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){"use strict";var r=Array.prototype,i=Object.prototype,o={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},s=/[&"'<>\\]/g;function a(t,e){return i.hasOwnProperty.call(t,e)}function c(t){return o[t]}function u(t,e,n){var r,i,o;if(t instanceof Error&&(t=(i=t).name+": "+i.message),Object.setPrototypeOf?(r=new Error(t),Object.setPrototypeOf(r,u.prototype)):(r=this,Object.defineProperty(r,"message",{enumerable:!1,writable:!0,value:t})),Object.defineProperty(r,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(r,this.constructor),i){var s=Object.getOwnPropertyDescriptor(i,"stack");(o=s&&(s.get||function(){return s.value}))||(o=function(){return i.stack})}else{var a=new Error(t).stack;o=function(){return a}}return Object.defineProperty(r,"stack",{get:function(){return o.call(r)}}),Object.defineProperty(r,"cause",{value:i}),r.lineno=e,r.colno=n,r.firstUpdate=!0,r.Update=function(t){var e="("+(t||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?e+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(e+=" [Line "+this.lineno+"]")),e+="\n ",this.firstUpdate&&(e+=" "),this.message=e+(this.message||""),this.firstUpdate=!1,this},r}function l(t){return"[object Function]"===i.toString.call(t)}function h(t){return"[object Array]"===i.toString.call(t)}function f(t){return"[object String]"===i.toString.call(t)}function p(t){return"[object Object]"===i.toString.call(t)}function d(t){var e,n=(e=t)?"string"==typeof e?e.split("."):[e]:[];return function(t){for(var e=t,r=0;r<n.length;r++){var i=n[r];if(!a(e,i))return;e=e[i]}return e}}function m(t){return Array.prototype.slice.call(t)}function y(t,e,n){return Array.prototype.indexOf.call(t||[],e,n)}function g(t){var e=[];for(var n in t)a(t,n)&&e.push(n);return e}(e=t.exports={}).hasOwnProp=a,e._prettifyError=function(t,n,r){if(r.Update||(r=new e.TemplateError(r)),r.Update(t),!n){var i=r;(r=new Error(i.message)).name=i.name}return r},Object.setPrototypeOf?Object.setPrototypeOf(u.prototype,Error.prototype):u.prototype=Object.create(Error.prototype,{constructor:{value:u}}),e.TemplateError=u,e.escape=function(t){return t.replace(s,c)},e.isFunction=l,e.isArray=h,e.isString=f,e.isObject=p,e.getAttrGetter=d,e.groupBy=function(t,e,n){for(var r={},i=l(e)?e:d(e),o=0;o<t.length;o++){var s=t[o],a=i(s,o);if(void 0===a&&!0===n)throw new TypeError('groupby: attribute "'+e+'" resolved to undefined');(r[a]||(r[a]=[])).push(s)}return r},e.toArray=m,e.without=function(t){var e=[];if(!t)return e;for(var n=t.length,r=m(arguments).slice(1),i=-1;++i<n;)-1===y(r,t[i])&&e.push(t[i]);return e},e.repeat=function(t,e){for(var n="",r=0;r<e;r++)n+=t;return n},e.each=function(t,e,n){if(null!=t)if(r.forEach&&t.forEach===r.forEach)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)},e.map=function(t,e){var n=[];if(null==t)return n;if(r.map&&t.map===r.map)return t.map(e);for(var i=0;i<t.length;i++)n[n.length]=e(t[i],i);return t.length===+t.length&&(n.length=t.length),n},e.asyncIter=function(t,e,n){var r=-1;!function i(){++r<t.length?e(t[r],r,i,n):n()}()},e.asyncFor=function(t,e,n){var r=g(t||{}),i=r.length,o=-1;!function s(){o++;var a=r[o];o<i?e(a,t[a],o,i,s):n()}()},e.indexOf=y,e.keys=g,e._entries=function(t){return g(t).map((function(e){return[e,t[e]]}))},e._values=function(t){return g(t).map((function(e){return t[e]}))},e._assign=e.extend=function(t,e){return t=t||{},g(e).forEach((function(n){t[n]=e[n]})),t},e.inOperator=function(t,e){if(h(e)||f(e))return-1!==e.indexOf(t);if(p(e))return t in e;throw new Error('Cannot use "in" operator to search for "'+t+'" in unexpected types.')}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,"symbol"==typeof(i=function(t){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key))?i:String(i),r)}var i}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var a=n(16),c=n(0);function u(t,e,n){n=n||{},c.keys(n).forEach((function(e){var r,i;n[e]=(r=t.prototype[e],i=n[e],"function"!=typeof r||"function"!=typeof i?i:function(){var t=this.parent;this.parent=r;var e=i.apply(this,arguments);return this.parent=t,e})}));var r=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),i(n,[{key:"typename",get:function(){return e}}]),n}(t);return c._assign(r.prototype,n),r}var l=function(){function t(){this.init.apply(this,arguments)}return t.prototype.init=function(){},t.extend=function(t,e){return"object"==typeof t&&(e=t,t="anonymous"),u(this,t,e)},i(t,[{key:"typename",get:function(){return this.constructor.name}}]),t}(),h=function(t){function e(){var e,n;return(e=n=t.call(this)||this).init.apply(e,arguments),n}return o(e,t),e.prototype.init=function(){},e.extend=function(t,e){return"object"==typeof t&&(e=t,t="anonymous"),u(this,t,e)},i(e,[{key:"typename",get:function(){return this.constructor.name}}]),e}(a);t.exports={Obj:l,EmitterObj:h}},function(t,e,n){"use strict";var r=n(0),i=Array.from,o="function"==typeof Symbol&&Symbol.iterator&&"function"==typeof i,s=function(){function t(t,e){this.variables=Object.create(null),this.parent=t,this.topLevel=!1,this.isolateWrites=e}var e=t.prototype;return e.set=function(t,e,n){var r=t.split("."),i=this.variables,o=this;if(n&&(o=this.resolve(r[0],!0)))o.set(t,e);else{for(var s=0;s<r.length-1;s++){var a=r[s];i[a]||(i[a]={}),i=i[a]}i[r[r.length-1]]=e}},e.get=function(t){var e=this.variables[t];return void 0!==e?e:null},e.lookup=function(t){var e=this.parent,n=this.variables[t];return void 0!==n?n:e&&e.lookup(t)},e.resolve=function(t,e){var n=e&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[t]?this:n&&n.resolve(t)},e.push=function(e){return new t(this,e)},e.pop=function(){return this.parent},t}();function a(t){return t&&Object.prototype.hasOwnProperty.call(t,"__keywords")}function c(t){var e=t.length;return 0===e?0:a(t[e-1])?e-1:e}function u(t){if("string"!=typeof t)return t;this.val=t,this.length=t.length}u.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),u.prototype.valueOf=function(){return this.val},u.prototype.toString=function(){return this.val},t.exports={Frame:s,makeMacro:function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s,u=c(i),l=function(t){var e=t.length;if(e){var n=t[e-1];if(a(n))return n}return{}}(i);if(u>t.length)s=i.slice(0,t.length),i.slice(s.length,u).forEach((function(t,n){n<e.length&&(l[e[n]]=t)})),s.push(l);else if(u<t.length){s=i.slice(0,u);for(var h=u;h<t.length;h++){var f=t[h];s.push(l[f]),delete l[f]}s.push(l)}else s=i;return n.apply(this,s)}},makeKeywordArgs:function(t){return t.__keywords=!0,t},numArgs:c,suppressValue:function(t,e){return t=null!=t?t:"",!e||t instanceof u||(t=r.escape(t.toString())),t},ensureDefined:function(t,e,n){if(null==t)throw new r.TemplateError("attempted to output null or undefined value",e+1,n+1);return t},memberLookup:function(t,e){if(null!=t)return"function"==typeof t[e]?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t[e].apply(t,r)}:t[e]},contextOrFrameLookup:function(t,e,n){var r=e.lookup(n);return void 0!==r?r:t.lookup(n)},callWrap:function(t,e,n,r){if(!t)throw new Error("Unable to call `"+e+"`, which is undefined or falsey");if("function"!=typeof t)throw new Error("Unable to call `"+e+"`, which is not a function");return t.apply(n,r)},handleError:function(t,e,n){return t.lineno?t:new r.TemplateError(t,e,n)},isArray:r.isArray,keys:r.keys,SafeString:u,copySafeness:function(t,e){return t instanceof u?new u(e):e.toString()},markSafe:function(t){var e=typeof t;return"string"===e?new u(t):"function"!==e?t:function(e){var n=t.apply(this,arguments);return"string"==typeof n?new u(n):n}},asyncEach:function(t,e,n,i){if(r.isArray(t)){var o=t.length;r.asyncIter(t,(function(t,r,i){switch(e){case 1:n(t,r,o,i);break;case 2:n(t[0],t[1],r,o,i);break;case 3:n(t[0],t[1],t[2],r,o,i);break;default:t.push(r,o,i),n.apply(this,t)}}),i)}else r.asyncFor(t,(function(t,e,r,i,o){n(t,e,r,i,o)}),i)},asyncAll:function(t,e,n,i){var o,s,a=0;function c(t,e){a++,s[t]=e,a===o&&i(null,s.join(""))}if(r.isArray(t))if(o=t.length,s=new Array(o),0===o)i(null,"");else for(var u=0;u<t.length;u++){var l=t[u];switch(e){case 1:n(l,u,o,c);break;case 2:n(l[0],l[1],u,o,c);break;case 3:n(l[0],l[1],l[2],u,o,c);break;default:l.push(u,o,c),n.apply(this,l)}}else{var h=r.keys(t||{});if(o=h.length,s=new Array(o),0===o)i(null,"");else for(var f=0;f<h.length;f++){var p=h[f];n(p,t[p],f,o,c)}}},inOperator:r.inOperator,fromIterator:function(t){return"object"!=typeof t||null===t||r.isArray(t)?t:o&&Symbol.iterator in t?i(t):t}}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,"symbol"==typeof(i=function(t){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key))?i:String(i),r)}var i}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t,e,n){t instanceof e&&n.push(t),t instanceof c&&t.findAll(e,n)}var c=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.init=function(t,e){for(var n=arguments,r=this,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];this.lineno=t,this.colno=e,this.fields.forEach((function(t,e){var i=n[e+2];void 0===i&&(i=null),r[t]=i}))},n.findAll=function(t,e){var n=this;return e=e||[],this instanceof l?this.children.forEach((function(n){return a(n,t,e)})):this.fields.forEach((function(r){return a(n[r],t,e)})),e},n.iterFields=function(t){var e=this;this.fields.forEach((function(n){t(e[n],n)}))},e}(n(1).Obj),u=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),i(e,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),e}(c),l=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.init=function(e,n,r){t.prototype.init.call(this,e,n,r||[])},n.addChild=function(t){this.children.push(t)},i(e,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),e}(c),h=l.extend("Root"),f=u.extend("Literal"),p=u.extend("Symbol"),d=l.extend("Group"),m=l.extend("Array"),y=c.extend("Pair",{fields:["key","value"]}),g=l.extend("Dict"),v=c.extend("LookupVal",{fields:["target","val"]}),b=c.extend("If",{fields:["cond","body","else_"]}),_=b.extend("IfAsync"),w=c.extend("InlineIf",{fields:["cond","body","else_"]}),x=c.extend("For",{fields:["arr","name","body","else_"]}),k=x.extend("AsyncEach"),T=x.extend("AsyncAll"),S=c.extend("Macro",{fields:["name","args","body"]}),E=S.extend("Caller"),A=c.extend("Import",{fields:["template","target","withContext"]}),O=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(e,n,r,i,o){t.prototype.init.call(this,e,n,r,i||new l,o)},i(e,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),e}(c),N=c.extend("FunCall",{fields:["name","args"]}),C=N.extend("Filter"),L=C.extend("FilterAsync",{fields:["name","args","symbol"]}),R=g.extend("KeywordArgs"),P=c.extend("Block",{fields:["name","body"]}),I=c.extend("Super",{fields:["blockName","symbol"]}),M=c.extend("TemplateRef",{fields:["template"]}).extend("Extends"),D=c.extend("Include",{fields:["template","ignoreMissing"]}),j=c.extend("Set",{fields:["targets","value"]}),B=c.extend("Switch",{fields:["expr","cases","default"]}),F=c.extend("Case",{fields:["cond","body"]}),U=l.extend("Output"),z=c.extend("Capture",{fields:["body"]}),V=f.extend("TemplateData"),K=c.extend("UnaryOp",{fields:["target"]}),H=c.extend("BinOp",{fields:["left","right"]}),q=H.extend("In"),W=H.extend("Is"),G=H.extend("Or"),Y=H.extend("And"),$=K.extend("Not"),X=H.extend("Add"),Z=H.extend("Concat"),J=H.extend("Sub"),Q=H.extend("Mul"),tt=H.extend("Div"),et=H.extend("FloorDiv"),nt=H.extend("Mod"),rt=H.extend("Pow"),it=K.extend("Neg"),ot=K.extend("Pos"),st=c.extend("Compare",{fields:["expr","ops"]}),at=c.extend("CompareOperand",{fields:["expr","type"]}),ct=c.extend("CallExtension",{init:function(t,e,n,r){this.parent(),this.extName=t.__name||t,this.prop=e,this.args=n||new l,this.contentArgs=r||[],this.autoescape=t.autoescape},fields:["extName","prop","args","contentArgs"]}),ut=ct.extend("CallExtensionAsync");function lt(t,e,n){var r=t.split("\n");r.forEach((function(t,i){t&&(n&&i>0||!n)&&process.stdout.write(" ".repeat(e));var o=i===r.length-1?"":"\n";process.stdout.write(""+t+o)}))}t.exports={Node:c,Root:h,NodeList:l,Value:u,Literal:f,Symbol:p,Group:d,Array:m,Pair:y,Dict:g,Output:U,Capture:z,TemplateData:V,If:b,IfAsync:_,InlineIf:w,For:x,AsyncEach:k,AsyncAll:T,Macro:S,Caller:E,Import:A,FromImport:O,FunCall:N,Filter:C,FilterAsync:L,KeywordArgs:R,Block:P,Super:I,Extends:M,Include:D,Set:j,Switch:B,Case:F,LookupVal:v,BinOp:H,In:q,Is:W,Or:G,And:Y,Not:$,Add:X,Concat:Z,Sub:J,Mul:Q,Div:tt,FloorDiv:et,Mod:nt,Pow:rt,Neg:it,Pos:ot,Compare:st,CompareOperand:at,CallExtension:ct,CallExtensionAsync:ut,printNodes:function t(e,n){if(n=n||0,lt(e.typename+": ",n),e instanceof l)lt("\n"),e.children.forEach((function(e){t(e,n+2)}));else if(e instanceof ct)lt(e.extName+"."+e.prop+"\n"),e.args&&t(e.args,n+2),e.contentArgs&&e.contentArgs.forEach((function(e){t(e,n+2)}));else{var r=[],i=null;e.iterFields((function(t,e){t instanceof c?r.push([e,t]):(i=i||{})[e]=t})),i?lt(JSON.stringify(i,null,2)+"\n",null,!0):lt("\n"),r.forEach((function(e){var r=e[0],i=e[1];lt("["+r+"] =>",n+2),t(i,n+4)}))}}}},function(t,e){},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(8),o=n(17),s=n(3),a=n(0).TemplateError,c=n(2).Frame,u=n(1).Obj,l={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},h=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var o=i.prototype;return o.init=function(t,e){this.templateName=t,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=e},o.fail=function(t,e,n){throw void 0!==e&&(e+=1),void 0!==n&&(n+=1),new a(t,e,n)},o._pushBuffer=function(){var t=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=t,this._emit("var "+this.buffer+' = "";'),t},o._popBuffer=function(){this.buffer=this.bufferStack.pop()},o._emit=function(t){this.codebuf.push(t)},o._emitLine=function(t){this._emit(t+"\n")},o._emitLines=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e){return t._emitLine(e)}))},o._emitFuncBegin=function(t,e){this.buffer="output",this._scopeClosers="",this._emitLine("function "+e+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+t.lineno+";"),this._emitLine("var colno = "+t.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},o._emitFuncEnd=function(t){t||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},o._addScopeLevel=function(){this._scopeClosers+="})"},o._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},o._withScopedSyntax=function(t){var e=this._scopeClosers;this._scopeClosers="",t.call(this),this._closeScopeLevels(),this._scopeClosers=e},o._makeCallback=function(t){var e=this._tmpid();return"function("+e+(t?","+t:"")+") {\nif("+e+") { cb("+e+"); return; }"},o._tmpid=function(){return this.lastId++,"t_"+this.lastId},o._templateName=function(){return null==this.templateName?"undefined":JSON.stringify(this.templateName)},o._compileChildren=function(t,e){var n=this;t.children.forEach((function(t){n.compile(t,e)}))},o._compileAggregate=function(t,e,n,r){var i=this;n&&this._emit(n),t.children.forEach((function(t,n){n>0&&i._emit(","),i.compile(t,e)})),r&&this._emit(r)},o._compileExpression=function(t,e){this.assertType(t,s.Literal,s.Symbol,s.Group,s.Array,s.Dict,s.FunCall,s.Caller,s.Filter,s.LookupVal,s.Compare,s.InlineIf,s.In,s.Is,s.And,s.Or,s.Not,s.Add,s.Concat,s.Sub,s.Mul,s.Div,s.FloorDiv,s.Mod,s.Pow,s.Neg,s.Pos,s.Compare,s.NodeList),this.compile(t,e)},o.assertType=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.some((function(e){return t instanceof e}))||this.fail("assertType: invalid type: "+t.typename,t.lineno,t.colno)},o.compileCallExtension=function(t,e,n){var r=this,i=t.args,o=t.contentArgs,a="boolean"!=typeof t.autoescape||t.autoescape;if(n||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+t.extName+'")["'+t.prop+'"]('),this._emit("context"),(i||o)&&this._emit(","),i&&(i instanceof s.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),i.children.forEach((function(t,n){r._compileExpression(t,e),(n!==i.children.length-1||o.length)&&r._emit(",")}))),o.length&&o.forEach((function(t,n){if(n>0&&r._emit(","),t){r._emitLine("function(cb) {"),r._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var i=r._pushBuffer();r._withScopedSyntax((function(){r.compile(t,e),r._emitLine("cb(null, "+i+");")})),r._popBuffer(),r._emitLine("return "+i+";"),r._emitLine("}")}else r._emit("null")})),n){var c=this._tmpid();this._emitLine(", "+this._makeCallback(c)),this._emitLine(this.buffer+" += runtime.suppressValue("+c+", "+a+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+a+" && env.opts.autoescape);\n")},o.compileCallExtensionAsync=function(t,e){this.compileCallExtension(t,e,!0)},o.compileNodeList=function(t,e){this._compileChildren(t,e)},o.compileLiteral=function(t){if("string"==typeof t.value){var e=t.value.replace(/\\/g,"\\\\");e=(e=(e=(e=(e=e.replace(/"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t")).replace(/\u2028/g,"\\u2028"),this._emit('"'+e+'"')}else null===t.value?this._emit("null"):this._emit(t.value.toString())},o.compileSymbol=function(t,e){var n=t.value,r=e.lookup(n);r?this._emit(r):this._emit('runtime.contextOrFrameLookup(context, frame, "'+n+'")')},o.compileGroup=function(t,e){this._compileAggregate(t,e,"(",")")},o.compileArray=function(t,e){this._compileAggregate(t,e,"[","]")},o.compileDict=function(t,e){this._compileAggregate(t,e,"{","}")},o.compilePair=function(t,e){var n=t.key,r=t.value;n instanceof s.Symbol?n=new s.Literal(n.lineno,n.colno,n.value):n instanceof s.Literal&&"string"==typeof n.value||this.fail("compilePair: Dict keys must be strings or names",n.lineno,n.colno),this.compile(n,e),this._emit(": "),this._compileExpression(r,e)},o.compileInlineIf=function(t,e){this._emit("("),this.compile(t.cond,e),this._emit("?"),this.compile(t.body,e),this._emit(":"),null!==t.else_?this.compile(t.else_,e):this._emit('""'),this._emit(")")},o.compileIn=function(t,e){this._emit("runtime.inOperator("),this.compile(t.left,e),this._emit(","),this.compile(t.right,e),this._emit(")")},o.compileIs=function(t,e){var n=t.right.name?t.right.name.value:t.right.value;this._emit('env.getTest("'+n+'").call(context, '),this.compile(t.left,e),t.right.args&&(this._emit(","),this.compile(t.right.args,e)),this._emit(") === true")},o._binOpEmitter=function(t,e,n){this.compile(t.left,e),this._emit(n),this.compile(t.right,e)},o.compileOr=function(t,e){return this._binOpEmitter(t,e," || ")},o.compileAnd=function(t,e){return this._binOpEmitter(t,e," && ")},o.compileAdd=function(t,e){return this._binOpEmitter(t,e," + ")},o.compileConcat=function(t,e){return this._binOpEmitter(t,e,' + "" + ')},o.compileSub=function(t,e){return this._binOpEmitter(t,e," - ")},o.compileMul=function(t,e){return this._binOpEmitter(t,e," * ")},o.compileDiv=function(t,e){return this._binOpEmitter(t,e," / ")},o.compileMod=function(t,e){return this._binOpEmitter(t,e," % ")},o.compileNot=function(t,e){this._emit("!"),this.compile(t.target,e)},o.compileFloorDiv=function(t,e){this._emit("Math.floor("),this.compile(t.left,e),this._emit(" / "),this.compile(t.right,e),this._emit(")")},o.compilePow=function(t,e){this._emit("Math.pow("),this.compile(t.left,e),this._emit(", "),this.compile(t.right,e),this._emit(")")},o.compileNeg=function(t,e){this._emit("-"),this.compile(t.target,e)},o.compilePos=function(t,e){this._emit("+"),this.compile(t.target,e)},o.compileCompare=function(t,e){var n=this;this.compile(t.expr,e),t.ops.forEach((function(t){n._emit(" "+l[t.type]+" "),n.compile(t.expr,e)}))},o.compileLookupVal=function(t,e){this._emit("runtime.memberLookup(("),this._compileExpression(t.target,e),this._emit("),"),this._compileExpression(t.val,e),this._emit(")")},o._getNodeName=function(t){switch(t.typename){case"Symbol":return t.value;case"FunCall":return"the return value of ("+this._getNodeName(t.name)+")";case"LookupVal":return this._getNodeName(t.target)+'["'+this._getNodeName(t.val)+'"]';case"Literal":return t.value.toString();default:return"--expression--"}},o.compileFunCall=function(t,e){this._emit("(lineno = "+t.lineno+", colno = "+t.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(t.name,e),this._emit(', "'+this._getNodeName(t.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(t.args,e,"[","])"),this._emit(")")},o.compileFilter=function(t,e){var n=t.name;this.assertType(n,s.Symbol),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(t.args,e),this._emit(")")},o.compileFilterAsync=function(t,e){var n=t.name,r=t.symbol.value;this.assertType(n,s.Symbol),e.set(r,r),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(t.args,e),this._emitLine(", "+this._makeCallback(r)),this._addScopeLevel()},o.compileKeywordArgs=function(t,e){this._emit("runtime.makeKeywordArgs("),this.compileDict(t,e),this._emit(")")},o.compileSet=function(t,e){var n=this,r=[];t.targets.forEach((function(t){var i=t.value,o=e.lookup(i);null==o&&(o=n._tmpid(),n._emitLine("var "+o+";")),r.push(o)})),t.value?(this._emit(r.join(" = ")+" = "),this._compileExpression(t.value,e),this._emitLine(";")):(this._emit(r.join(" = ")+" = "),this.compile(t.body,e),this._emitLine(";")),t.targets.forEach((function(t,e){var i=r[e],o=t.value;n._emitLine('frame.set("'+o+'", '+i+", true);"),n._emitLine("if(frame.topLevel) {"),n._emitLine('context.setVariable("'+o+'", '+i+");"),n._emitLine("}"),"_"!==o.charAt(0)&&(n._emitLine("if(frame.topLevel) {"),n._emitLine('context.addExport("'+o+'", '+i+");"),n._emitLine("}"))}))},o.compileSwitch=function(t,e){var n=this;this._emit("switch ("),this.compile(t.expr,e),this._emit(") {"),t.cases.forEach((function(t,r){n._emit("case "),n.compile(t.cond,e),n._emit(": "),n.compile(t.body,e),t.body.children.length&&n._emitLine("break;")})),t.default&&(this._emit("default:"),this.compile(t.default,e)),this._emit("}")},o.compileIf=function(t,e,n){var r=this;this._emit("if("),this._compileExpression(t.cond,e),this._emitLine(") {"),this._withScopedSyntax((function(){r.compile(t.body,e),n&&r._emit("cb()")})),t.else_?(this._emitLine("}\nelse {"),this._withScopedSyntax((function(){r.compile(t.else_,e),n&&r._emit("cb()")}))):n&&(this._emitLine("}\nelse {"),this._emit("cb()")),this._emitLine("}")},o.compileIfAsync=function(t,e){this._emit("(function(cb) {"),this.compileIf(t,e,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},o._emitLoopBindings=function(t,e,n,r){var i=this;[{name:"index",val:n+" + 1"},{name:"index0",val:n},{name:"revindex",val:r+" - "+n},{name:"revindex0",val:r+" - "+n+" - 1"},{name:"first",val:n+" === 0"},{name:"last",val:n+" === "+r+" - 1"},{name:"length",val:r}].forEach((function(t){i._emitLine('frame.set("loop.'+t.name+'", '+t.val+");")}))},o.compileFor=function(t,e){var n=this,r=this._tmpid(),i=this._tmpid(),o=this._tmpid();if(e=e.push(),this._emitLine("frame = frame.push();"),this._emit("var "+o+" = "),this._compileExpression(t.arr,e),this._emitLine(";"),this._emit("if("+o+") {"),this._emitLine(o+" = runtime.fromIterator("+o+");"),t.name instanceof s.Array){this._emitLine("var "+r+";"),this._emitLine("if(runtime.isArray("+o+")) {"),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for("+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),t.name.children.forEach((function(i,s){var a=n._tmpid();n._emitLine("var "+a+" = "+o+"["+r+"]["+s+"];"),n._emitLine('frame.set("'+i+'", '+o+"["+r+"]["+s+"]);"),e.set(t.name.children[s].value,a)})),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}"),this._emitLine("} else {");var a=t.name.children,c=a[0],u=a[1],l=this._tmpid(),h=this._tmpid();e.set(c.value,l),e.set(u.value,h),this._emitLine(r+" = -1;"),this._emitLine("var "+i+" = runtime.keys("+o+").length;"),this._emitLine("for(var "+l+" in "+o+") {"),this._emitLine(r+"++;"),this._emitLine("var "+h+" = "+o+"["+l+"];"),this._emitLine('frame.set("'+c.value+'", '+l+");"),this._emitLine('frame.set("'+u.value+'", '+h+");"),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}"),this._emitLine("}")}else{var f=this._tmpid();e.set(t.name.value,f),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for(var "+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),this._emitLine("var "+f+" = "+o+"["+r+"];"),this._emitLine('frame.set("'+t.name.value+'", '+f+");"),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}")}this._emitLine("}"),t.else_&&(this._emitLine("if (!"+i+") {"),this.compile(t.else_,e),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o._compileAsyncLoop=function(t,e,n){var r=this,i=this._tmpid(),o=this._tmpid(),a=this._tmpid(),c=n?"asyncAll":"asyncEach";if(e=e.push(),this._emitLine("frame = frame.push();"),this._emit("var "+a+" = runtime.fromIterator("),this._compileExpression(t.arr,e),this._emitLine(");"),t.name instanceof s.Array){var u=t.name.children.length;this._emit("runtime."+c+"("+a+", "+u+", function("),t.name.children.forEach((function(t){r._emit(t.value+",")})),this._emit(i+","+o+",next) {"),t.name.children.forEach((function(t){var n=t.value;e.set(n,n),r._emitLine('frame.set("'+n+'", '+n+");")}))}else{var l=t.name.value;this._emitLine("runtime."+c+"("+a+", 1, function("+l+", "+i+", "+o+",next) {"),this._emitLine('frame.set("'+l+'", '+l+");"),e.set(l,l)}this._emitLoopBindings(t,a,i,o),this._withScopedSyntax((function(){var o;n&&(o=r._pushBuffer()),r.compile(t.body,e),r._emitLine("next("+i+(o?","+o:"")+");"),n&&r._popBuffer()}));var h=this._tmpid();this._emitLine("}, "+this._makeCallback(h)),this._addScopeLevel(),n&&this._emitLine(this.buffer+" += "+h+";"),t.else_&&(this._emitLine("if (!"+a+".length) {"),this.compile(t.else_,e),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o.compileAsyncEach=function(t,e){this._compileAsyncLoop(t,e)},o.compileAsyncAll=function(t,e){this._compileAsyncLoop(t,e,!0)},o._compileMacro=function(t,e){var n=this,r=[],i=null,o="macro_"+this._tmpid(),a=void 0!==e;t.args.children.forEach((function(e,o){o===t.args.children.length-1&&e instanceof s.Dict?i=e:(n.assertType(e,s.Symbol),r.push(e))}));var u,l=[].concat(r.map((function(t){return"l_"+t.value})),["kwargs"]),h=r.map((function(t){return'"'+t.value+'"'})),f=(i&&i.children||[]).map((function(t){return'"'+t.key.value+'"'}));u=a?e.push(!0):new c,this._emitLines("var "+o+" = runtime.makeMacro(","["+h.join(", ")+"], ","["+f.join(", ")+"], ","function ("+l.join(", ")+") {","var callerFrame = frame;","frame = "+(a?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),r.forEach((function(t){n._emitLine('frame.set("'+t.value+'", l_'+t.value+");"),u.set(t.value,"l_"+t.value)})),i&&i.children.forEach((function(t){var e=t.key.value;n._emit('frame.set("'+e+'", '),n._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+e+'")'),n._emit(' ? kwargs["'+e+'"] : '),n._compileExpression(t.value,u),n._emit(");")}));var p=this._pushBuffer();return this._withScopedSyntax((function(){n.compile(t.body,u)})),this._emitLine("frame = "+(a?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+p+");"),this._emitLine("});"),this._popBuffer(),o},o.compileMacro=function(t,e){var n=this._compileMacro(t),r=t.name.value;e.set(r,n),e.parent?this._emitLine('frame.set("'+r+'", '+n+");"):("_"!==t.name.value.charAt(0)&&this._emitLine('context.addExport("'+r+'");'),this._emitLine('context.setVariable("'+r+'", '+n+");"))},o.compileCaller=function(t,e){this._emit("(function (){");var n=this._compileMacro(t,e);this._emit("return "+n+";})()")},o._compileGetTemplate=function(t,e,n,r){var i=this._tmpid(),o=this._templateName(),s=this._makeCallback(i),a=n?"true":"false",c=r?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(t.template,e),this._emitLine(", "+a+", "+o+", "+c+", "+s),i},o.compileImport=function(t,e){var n=t.target.value,r=this._compileGetTemplate(t,e,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),e.set(n,r),e.parent?this._emitLine('frame.set("'+n+'", '+r+");"):this._emitLine('context.setVariable("'+n+'", '+r+");")},o.compileFromImport=function(t,e){var n=this,r=this._compileGetTemplate(t,e,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),t.names.children.forEach((function(t){var i,o,a=n._tmpid();t instanceof s.Pair?(i=t.key.value,o=t.value.value):o=i=t.value,n._emitLine("if(Object.prototype.hasOwnProperty.call("+r+', "'+i+'")) {'),n._emitLine("var "+a+" = "+r+"."+i+";"),n._emitLine("} else {"),n._emitLine("cb(new Error(\"cannot import '"+i+"'\")); return;"),n._emitLine("}"),e.set(o,a),e.parent?n._emitLine('frame.set("'+o+'", '+a+");"):n._emitLine('context.setVariable("'+o+'", '+a+");")}))},o.compileBlock=function(t){var e=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+t.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(e)),this._emitLine(this.buffer+" += "+e+";"),this._addScopeLevel()},o.compileSuper=function(t,e){var n=t.blockName.value,r=t.symbol.value,i=this._makeCallback(r);this._emitLine('context.getSuper(env, "'+n+'", b_'+n+", frame, runtime, "+i),this._emitLine(r+" = runtime.markSafe("+r+");"),this._addScopeLevel(),e.set(r,r)},o.compileExtends=function(t,e){var n=this._tmpid(),r=this._compileGetTemplate(t,e,!0,!1);this._emitLine("parentTemplate = "+r),this._emitLine("for(var "+n+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+n+", parentTemplate.blocks["+n+"]);"),this._emitLine("}"),this._addScopeLevel()},o.compileInclude=function(t,e){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var n=this._compileGetTemplate(t,e,!1,t.ignoreMissing);this._emitLine("callback(null,"+n+");});"),this._emitLine("});");var r=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(r)),this._emitLine("callback(null,"+r+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},o.compileTemplateData=function(t,e){this.compileLiteral(t,e)},o.compileCapture=function(t,e){var n=this,r=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=r},o.compileOutput=function(t,e){var n=this;t.children.forEach((function(r){r instanceof s.TemplateData?r.value&&(n._emit(n.buffer+" += "),n.compileLiteral(r,e),n._emitLine(";")):(n._emit(n.buffer+" += runtime.suppressValue("),n.throwOnUndefined&&n._emit("runtime.ensureDefined("),n.compile(r,e),n.throwOnUndefined&&n._emit(","+t.lineno+","+t.colno+")"),n._emit(", env.opts.autoescape);\n"))}))},o.compileRoot=function(t,e){var n=this;e&&this.fail("compileRoot: root node can't have frame"),e=new c,this._emitFuncBegin(t,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(t,e),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var r=[],i=t.findAll(s.Block);i.forEach((function(t,e){var i=t.name.value;if(-1!==r.indexOf(i))throw new Error('Block "'+i+'" defined more than once.');r.push(i),n._emitFuncBegin(t,"b_"+i);var o=new c;n._emitLine("var frame = frame.push(true);"),n.compile(t.body,o),n._emitFuncEnd()})),this._emitLine("return {"),i.forEach((function(t,e){var r="b_"+t.name.value;n._emitLine(r+": "+r+",")})),this._emitLine("root: root\n};")},o.compile=function(t,e){var n=this["compile"+t.typename];n?n.call(this,t,e):this.fail("compile: Cannot compile node: "+t.typename,t.lineno,t.colno)},o.getCode=function(){return this.codebuf.join("")},i}(u);t.exports={compile:function(t,e,n,r,s){void 0===s&&(s={});var a=new h(r,s.throwOnUndefined),c=(n||[]).map((function(t){return t.preprocess})).filter((function(t){return!!t})).reduce((function(t,e){return e(t)}),t);return a.compile(o.transform(i.parse(c,n,s),e,r)),a.getCode()},Compiler:h}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(4),o=n(1).EmitterObj;t.exports=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var s=o.prototype;return s.resolve=function(t,e){return i.resolve(i.dirname(t),e)},s.isRelative=function(t){return 0===t.indexOf("./")||0===t.indexOf("../")},o}(o)},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}var o=n(12),s=n(15),a=n(0),c=n(5),u=n(18),l=n(10),h=l.FileSystemLoader,f=l.WebLoader,p=l.PrecompiledLoader,d=n(20),m=n(21),y=n(1),g=y.Obj,v=y.EmitterObj,b=n(2),_=b.handleError,w=b.Frame,x=n(22);function k(t,e,n){o((function(){t(e,n)}))}var T={type:"code",obj:{root:function(t,e,n,r,i){try{i(null,"")}catch(t){i(_(t,null,null))}}}},S=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e){var n=this;e=this.opts=e||{},this.opts.dev=!!e.dev,this.opts.autoescape=null==e.autoescape||e.autoescape,this.opts.throwOnUndefined=!!e.throwOnUndefined,this.opts.trimBlocks=!!e.trimBlocks,this.opts.lstripBlocks=!!e.lstripBlocks,this.loaders=[],t?this.loaders=a.isArray(t)?t:[t]:h?this.loaders=[new h("views")]:f&&(this.loaders=[new f("/views")]),"undefined"!=typeof window&&window.nunjucksPrecompiled&&this.loaders.unshift(new p(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=m(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],a._entries(u).forEach((function(t){var e=t[0],r=t[1];return n.addFilter(e,r)})),a._entries(d).forEach((function(t){var e=t[0],r=t[1];return n.addTest(e,r)}))},n._initLoaders=function(){var t=this;this.loaders.forEach((function(e){e.cache={},"function"==typeof e.on&&(e.on("update",(function(n,r){e.cache[n]=null,t.emit("update",n,r,e)})),e.on("load",(function(n,r){t.emit("load",n,r,e)})))}))},n.invalidateCache=function(){this.loaders.forEach((function(t){t.cache={}}))},n.addExtension=function(t,e){return e.__name=t,this.extensions[t]=e,this.extensionsList.push(e),this},n.removeExtension=function(t){var e=this.getExtension(t);e&&(this.extensionsList=a.without(this.extensionsList,e),delete this.extensions[t])},n.getExtension=function(t){return this.extensions[t]},n.hasExtension=function(t){return!!this.extensions[t]},n.addGlobal=function(t,e){return this.globals[t]=e,this},n.getGlobal=function(t){if(void 0===this.globals[t])throw new Error("global not found: "+t);return this.globals[t]},n.addFilter=function(t,e,n){var r=e;return n&&this.asyncFilters.push(t),this.filters[t]=r,this},n.getFilter=function(t){if(!this.filters[t])throw new Error("filter not found: "+t);return this.filters[t]},n.addTest=function(t,e){return this.tests[t]=e,this},n.getTest=function(t){if(!this.tests[t])throw new Error("test not found: "+t);return this.tests[t]},n.resolveTemplate=function(t,e,n){return t.isRelative&&e&&t.isRelative(n)&&t.resolve?t.resolve(e,n):n},n.getTemplate=function(t,e,n,r,i){var o,s=this,c=this,u=null;if(t&&t.raw&&(t=t.raw),a.isFunction(n)&&(i=n,n=null,e=e||!1),a.isFunction(e)&&(i=e,e=!1),t instanceof A)u=t;else{if("string"!=typeof t)throw new Error("template names must be a string: "+t);for(var l=0;l<this.loaders.length;l++){var h=this.loaders[l];if(u=h.cache[this.resolveTemplate(h,n,t)])break}}return u?(e&&u.compile(),i?void i(null,u):u):(a.asyncIter(this.loaders,(function(e,r,i,o){function s(t,n){t?o(t):n?(n.loader=e,o(null,n)):i()}t=c.resolveTemplate(e,n,t),e.async?e.getSource(t,s):s(null,e.getSource(t))}),(function(n,a){if(a||n||r||(n=new Error("template not found: "+t)),n){if(i)return void i(n);throw n}var c;a?(c=new A(a.src,s,a.path,e),a.noCache||(a.loader.cache[t]=c)):c=new A(T,s,"",e),i?i(null,c):o=c})),o)},n.express=function(t){return x(this,t)},n.render=function(t,e,n){a.isFunction(e)&&(n=e,e=null);var r=null;return this.getTemplate(t,(function(t,i){if(t&&n)k(n,t);else{if(t)throw t;r=i.render(e,n)}})),r},n.renderString=function(t,e,n,r){return a.isFunction(n)&&(r=n,n={}),new A(t,this,(n=n||{}).path).render(e,r)},n.waterfall=function(t,e,n){return s(t,e,n)},e}(v),E=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e,n){var r=this;this.env=n||new S,this.ctx=a.extend({},t),this.blocks={},this.exported=[],a.keys(e).forEach((function(t){r.addBlock(t,e[t])}))},n.lookup=function(t){return t in this.env.globals&&!(t in this.ctx)?this.env.globals[t]:this.ctx[t]},n.setVariable=function(t,e){this.ctx[t]=e},n.getVariables=function(){return this.ctx},n.addBlock=function(t,e){return this.blocks[t]=this.blocks[t]||[],this.blocks[t].push(e),this},n.getBlock=function(t){if(!this.blocks[t])throw new Error('unknown block "'+t+'"');return this.blocks[t][0]},n.getSuper=function(t,e,n,r,i,o){var s=a.indexOf(this.blocks[e]||[],n),c=this.blocks[e][s+1];if(-1===s||!c)throw new Error('no super block available for "'+e+'"');c(t,this,r,i,o)},n.addExport=function(t){this.exported.push(t)},n.getExported=function(){var t=this,e={};return this.exported.forEach((function(n){e[n]=t.ctx[n]})),e},e}(g),A=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e,n,r){if(this.env=e||new S,a.isObject(t))switch(t.type){case"code":this.tmplProps=t.obj;break;case"string":this.tmplStr=t.obj;break;default:throw new Error("Unexpected template object type "+t.type+"; expected 'code', or 'string'")}else{if(!a.isString(t))throw new Error("src must be a string or an object describing the source");this.tmplStr=t}if(this.path=n,r)try{this._compile()}catch(t){throw a._prettifyError(this.path,this.env.opts.dev,t)}else this.compiled=!1},n.render=function(t,e,n){var r=this;"function"==typeof t?(n=t,t={}):"function"==typeof e&&(n=e,e=null);var i=!e;try{this.compile()}catch(t){var o=a._prettifyError(this.path,this.env.opts.dev,t);if(n)return k(n,o);throw o}var s=new E(t||{},this.blocks,this.env),c=e?e.push(!0):new w;c.topLevel=!0;var u=null,l=!1;return this.rootRenderFunc(this.env,s,c,b,(function(t,e){if(!l||!n||void 0===e)if(t&&(t=a._prettifyError(r.path,r.env.opts.dev,t),l=!0),n)i?k(n,t,e):n(t,e);else{if(t)throw t;u=e}})),u},n.getExported=function(t,e,n){"function"==typeof t&&(n=t,t={}),"function"==typeof e&&(n=e,e=null);try{this.compile()}catch(t){if(n)return n(t);throw t}var r=e?e.push():new w;r.topLevel=!0;var i=new E(t||{},this.blocks,this.env);this.rootRenderFunc(this.env,i,r,b,(function(t){t?n(t,null):n(null,i.getExported())}))},n.compile=function(){this.compiled||this._compile()},n._compile=function(){var t;if(this.tmplProps)t=this.tmplProps;else{var e=c.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);t=new Function(e)()}this.blocks=this._getBlocks(t),this.rootRenderFunc=t.root,this.compiled=!0},n._getBlocks=function(t){var e={};return a.keys(t).forEach((function(n){"b_"===n.slice(0,2)&&(e[n.slice(2)]=t[n])})),e},e}(g);t.exports={Environment:S,Template:A}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(9),o=n(3),s=n(1).Obj,a=n(0),c=function(t){var e,n;function s(){return t.apply(this,arguments)||this}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var c=s.prototype;return c.init=function(t){this.tokens=t,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},c.nextToken=function(t){var e;if(this.peeked){if(t||this.peeked.type!==i.TOKEN_WHITESPACE)return e=this.peeked,this.peeked=null,e;this.peeked=null}if(e=this.tokens.nextToken(),!t)for(;e&&e.type===i.TOKEN_WHITESPACE;)e=this.tokens.nextToken();return e},c.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},c.pushToken=function(t){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=t},c.error=function(t,e,n){if(void 0===e||void 0===n){var r=this.peekToken()||{};e=r.lineno,n=r.colno}return void 0!==e&&(e+=1),void 0!==n&&(n+=1),new a.TemplateError(t,e,n)},c.fail=function(t,e,n){throw this.error(t,e,n)},c.skip=function(t){var e=this.nextToken();return!(!e||e.type!==t)||(this.pushToken(e),!1)},c.expect=function(t){var e=this.nextToken();return e.type!==t&&this.fail("expected "+t+", got "+e.type,e.lineno,e.colno),e},c.skipValue=function(t,e){var n=this.nextToken();return!(!n||n.type!==t||n.value!==e)||(this.pushToken(n),!1)},c.skipSymbol=function(t){return this.skipValue(i.TOKEN_SYMBOL,t)},c.advanceAfterBlockEnd=function(t){var e;return t||((e=this.peekToken())||this.fail("unexpected end of file"),e.type!==i.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),t=this.nextToken().value),(e=this.nextToken())&&e.type===i.TOKEN_BLOCK_END?"-"===e.value.charAt(0)&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+t+" statement"),e},c.advanceAfterVariableEnd=function(){var t=this.nextToken();t&&t.type===i.TOKEN_VARIABLE_END?this.dropLeadingWhitespace="-"===t.value.charAt(t.value.length-this.tokens.tags.VARIABLE_END.length-1):(this.pushToken(t),this.fail("expected variable end"))},c.parseFor=function(){var t,e,n=this.peekToken();if(this.skipSymbol("for")?(t=new o.For(n.lineno,n.colno),e="endfor"):this.skipSymbol("asyncEach")?(t=new o.AsyncEach(n.lineno,n.colno),e="endeach"):this.skipSymbol("asyncAll")?(t=new o.AsyncAll(n.lineno,n.colno),e="endall"):this.fail("parseFor: expected for{Async}",n.lineno,n.colno),t.name=this.parsePrimary(),t.name instanceof o.Symbol||this.fail("parseFor: variable name expected for loop"),this.peekToken().type===i.TOKEN_COMMA){var r=t.name;for(t.name=new o.Array(r.lineno,r.colno),t.name.addChild(r);this.skip(i.TOKEN_COMMA);){var s=this.parsePrimary();t.name.addChild(s)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',n.lineno,n.colno),t.arr=this.parseExpression(),this.advanceAfterBlockEnd(n.value),t.body=this.parseUntilBlocks(e,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),t.else_=this.parseUntilBlocks(e)),this.advanceAfterBlockEnd(),t},c.parseMacro=function(){var t=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var e=this.parsePrimary(!0),n=this.parseSignature(),r=new o.Macro(t.lineno,t.colno,e,n);return this.advanceAfterBlockEnd(t.value),r.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),r},c.parseCall=function(){var t=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var e=this.parseSignature(!0)||new o.NodeList,n=this.parsePrimary();this.advanceAfterBlockEnd(t.value);var r=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var i=new o.Symbol(t.lineno,t.colno,"caller"),s=new o.Caller(t.lineno,t.colno,i,e,r),a=n.args.children;return a[a.length-1]instanceof o.KeywordArgs||a.push(new o.KeywordArgs),a[a.length-1].addChild(new o.Pair(t.lineno,t.colno,i,s)),new o.Output(t.lineno,t.colno,[n])},c.parseWithContext=function(){var t=this.peekToken(),e=null;return this.skipSymbol("with")?e=!0:this.skipSymbol("without")&&(e=!1),null!==e&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",t.lineno,t.colno)),e},c.parseImport=function(){var t=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",t.lineno,t.colno);var e=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',t.lineno,t.colno);var n=this.parseExpression(),r=this.parseWithContext(),i=new o.Import(t.lineno,t.colno,e,n,r);return this.advanceAfterBlockEnd(t.value),i},c.parseFrom=function(){var t=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var e=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",t.lineno,t.colno);for(var n,r=new o.NodeList;;){var s=this.peekToken();if(s.type===i.TOKEN_BLOCK_END){r.children.length||this.fail("parseFrom: Expected at least one import name",t.lineno,t.colno),"-"===s.value.charAt(0)&&(this.dropLeadingWhitespace=!0),this.nextToken();break}r.children.length>0&&!this.skip(i.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",t.lineno,t.colno);var a=this.parsePrimary();if("_"===a.value.charAt(0)&&this.fail("parseFrom: names starting with an underscore cannot be imported",a.lineno,a.colno),this.skipSymbol("as")){var c=this.parsePrimary();r.addChild(new o.Pair(a.lineno,a.colno,a,c))}else r.addChild(a);n=this.parseWithContext()}return new o.FromImport(t.lineno,t.colno,e,r,n)},c.parseBlock=function(){var t=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",t.lineno,t.colno);var e=new o.Block(t.lineno,t.colno);e.name=this.parsePrimary(),e.name instanceof o.Symbol||this.fail("parseBlock: variable name expected",t.lineno,t.colno),this.advanceAfterBlockEnd(t.value),e.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(e.name.value);var n=this.peekToken();return n||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(n.value),e},c.parseExtends=function(){var t="extends",e=this.peekToken();this.skipSymbol(t)||this.fail("parseTemplateRef: expected "+t);var n=new o.Extends(e.lineno,e.colno);return n.template=this.parseExpression(),this.advanceAfterBlockEnd(e.value),n},c.parseInclude=function(){var t="include",e=this.peekToken();this.skipSymbol(t)||this.fail("parseInclude: expected "+t);var n=new o.Include(e.lineno,e.colno);return n.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(n.ignoreMissing=!0),this.advanceAfterBlockEnd(e.value),n},c.parseIf=function(){var t,e=this.peekToken();this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?t=new o.If(e.lineno,e.colno):this.skipSymbol("ifAsync")?t=new o.IfAsync(e.lineno,e.colno):this.fail("parseIf: expected if, elif, or elseif",e.lineno,e.colno),t.cond=this.parseExpression(),this.advanceAfterBlockEnd(e.value),t.body=this.parseUntilBlocks("elif","elseif","else","endif");var n=this.peekToken();switch(n&&n.value){case"elseif":case"elif":t.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),t.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":t.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return t},c.parseSet=function(){var t=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",t.lineno,t.colno);for(var e,n=new o.Set(t.lineno,t.colno,[]);(e=this.parsePrimary())&&(n.targets.push(e),this.skip(i.TOKEN_COMMA)););return this.skipValue(i.TOKEN_OPERATOR,"=")?(n.value=this.parseExpression(),this.advanceAfterBlockEnd(t.value)):this.skip(i.TOKEN_BLOCK_END)?(n.body=new o.Capture(t.lineno,t.colno,this.parseUntilBlocks("endset")),n.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",t.lineno,t.colno),n},c.parseSwitch=function(){var t="switch",e="endswitch",n="case",r="default",i=this.peekToken();this.skipSymbol(t)||this.skipSymbol(n)||this.skipSymbol(r)||this.fail('parseSwitch: expected "switch," "case" or "default"',i.lineno,i.colno);var s=this.parseExpression();this.advanceAfterBlockEnd(t),this.parseUntilBlocks(n,r,e);var a,c=this.peekToken(),u=[];do{this.skipSymbol(n);var l=this.parseExpression();this.advanceAfterBlockEnd(t);var h=this.parseUntilBlocks(n,r,e);u.push(new o.Case(c.line,c.col,l,h)),c=this.peekToken()}while(c&&c.value===n);switch(c.value){case r:this.advanceAfterBlockEnd(),a=this.parseUntilBlocks(e),this.advanceAfterBlockEnd();break;case e:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new o.Switch(i.lineno,i.colno,s,u,a)},c.parseStatement=function(){var t=this.peekToken();if(t.type!==i.TOKEN_SYMBOL&&this.fail("tag name expected",t.lineno,t.colno),this.breakOnBlocks&&-1!==a.indexOf(this.breakOnBlocks,t.value))return null;switch(t.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var e=0;e<this.extensions.length;e++){var n=this.extensions[e];if(-1!==a.indexOf(n.tags||[],t.value))return n.parse(this,o,i)}this.fail("unknown block tag: "+t.value,t.lineno,t.colno)}},c.parseRaw=function(t){for(var e="end"+(t=t||"raw"),n=new RegExp("([\\s\\S]*?){%\\s*("+t+"|"+e+")\\s*(?=%})%}"),r=1,i="",s=null,a=this.advanceAfterBlockEnd();(s=this.tokens._extractRegex(n))&&r>0;){var c=s[0],u=s[1],l=s[2];l===t?r+=1:l===e&&(r-=1),0===r?(i+=u,this.tokens.backN(c.length-u.length)):i+=c}return new o.Output(a.lineno,a.colno,[new o.TemplateData(a.lineno,a.colno,i)])},c.parsePostfix=function(t){for(var e,n=this.peekToken();n;){if(n.type===i.TOKEN_LEFT_PAREN)t=new o.FunCall(n.lineno,n.colno,t,this.parseSignature());else if(n.type===i.TOKEN_LEFT_BRACKET)(e=this.parseAggregate()).children.length>1&&this.fail("invalid index"),t=new o.LookupVal(n.lineno,n.colno,t,e.children[0]);else{if(n.type!==i.TOKEN_OPERATOR||"."!==n.value)break;this.nextToken();var r=this.nextToken();r.type!==i.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+r.value,r.lineno,r.colno),e=new o.Literal(r.lineno,r.colno,r.value),t=new o.LookupVal(n.lineno,n.colno,t,e)}n=this.peekToken()}return t},c.parseExpression=function(){return this.parseInlineIf()},c.parseInlineIf=function(){var t=this.parseOr();if(this.skipSymbol("if")){var e=this.parseOr(),n=t;(t=new o.InlineIf(t.lineno,t.colno)).body=n,t.cond=e,this.skipSymbol("else")?t.else_=this.parseOr():t.else_=null}return t},c.parseOr=function(){for(var t=this.parseAnd();this.skipSymbol("or");){var e=this.parseAnd();t=new o.Or(t.lineno,t.colno,t,e)}return t},c.parseAnd=function(){for(var t=this.parseNot();this.skipSymbol("and");){var e=this.parseNot();t=new o.And(t.lineno,t.colno,t,e)}return t},c.parseNot=function(){var t=this.peekToken();return this.skipSymbol("not")?new o.Not(t.lineno,t.colno,this.parseNot()):this.parseIn()},c.parseIn=function(){for(var t=this.parseIs();;){var e=this.nextToken();if(!e)break;var n=e.type===i.TOKEN_SYMBOL&&"not"===e.value;if(n||this.pushToken(e),!this.skipSymbol("in")){n&&this.pushToken(e);break}var r=this.parseIs();t=new o.In(t.lineno,t.colno,t,r),n&&(t=new o.Not(t.lineno,t.colno,t))}return t},c.parseIs=function(){var t=this.parseCompare();if(this.skipSymbol("is")){var e=this.skipSymbol("not"),n=this.parseCompare();t=new o.Is(t.lineno,t.colno,t,n),e&&(t=new o.Not(t.lineno,t.colno,t))}return t},c.parseCompare=function(){for(var t=["==","===","!=","!==","<",">","<=",">="],e=this.parseConcat(),n=[];;){var r=this.nextToken();if(!r)break;if(-1===t.indexOf(r.value)){this.pushToken(r);break}n.push(new o.CompareOperand(r.lineno,r.colno,this.parseConcat(),r.value))}return n.length?new o.Compare(n[0].lineno,n[0].colno,e,n):e},c.parseConcat=function(){for(var t=this.parseAdd();this.skipValue(i.TOKEN_TILDE,"~");){var e=this.parseAdd();t=new o.Concat(t.lineno,t.colno,t,e)}return t},c.parseAdd=function(){for(var t=this.parseSub();this.skipValue(i.TOKEN_OPERATOR,"+");){var e=this.parseSub();t=new o.Add(t.lineno,t.colno,t,e)}return t},c.parseSub=function(){for(var t=this.parseMul();this.skipValue(i.TOKEN_OPERATOR,"-");){var e=this.parseMul();t=new o.Sub(t.lineno,t.colno,t,e)}return t},c.parseMul=function(){for(var t=this.parseDiv();this.skipValue(i.TOKEN_OPERATOR,"*");){var e=this.parseDiv();t=new o.Mul(t.lineno,t.colno,t,e)}return t},c.parseDiv=function(){for(var t=this.parseFloorDiv();this.skipValue(i.TOKEN_OPERATOR,"/");){var e=this.parseFloorDiv();t=new o.Div(t.lineno,t.colno,t,e)}return t},c.parseFloorDiv=function(){for(var t=this.parseMod();this.skipValue(i.TOKEN_OPERATOR,"//");){var e=this.parseMod();t=new o.FloorDiv(t.lineno,t.colno,t,e)}return t},c.parseMod=function(){for(var t=this.parsePow();this.skipValue(i.TOKEN_OPERATOR,"%");){var e=this.parsePow();t=new o.Mod(t.lineno,t.colno,t,e)}return t},c.parsePow=function(){for(var t=this.parseUnary();this.skipValue(i.TOKEN_OPERATOR,"**");){var e=this.parseUnary();t=new o.Pow(t.lineno,t.colno,t,e)}return t},c.parseUnary=function(t){var e,n=this.peekToken();return e=this.skipValue(i.TOKEN_OPERATOR,"-")?new o.Neg(n.lineno,n.colno,this.parseUnary(!0)):this.skipValue(i.TOKEN_OPERATOR,"+")?new o.Pos(n.lineno,n.colno,this.parseUnary(!0)):this.parsePrimary(),t||(e=this.parseFilter(e)),e},c.parsePrimary=function(t){var e,n=this.nextToken(),r=null;if(n?n.type===i.TOKEN_STRING?e=n.value:n.type===i.TOKEN_INT?e=parseInt(n.value,10):n.type===i.TOKEN_FLOAT?e=parseFloat(n.value):n.type===i.TOKEN_BOOLEAN?"true"===n.value?e=!0:"false"===n.value?e=!1:this.fail("invalid boolean: "+n.value,n.lineno,n.colno):n.type===i.TOKEN_NONE?e=null:n.type===i.TOKEN_REGEX&&(e=new RegExp(n.value.body,n.value.flags)):this.fail("expected expression, got end of file"),void 0!==e?r=new o.Literal(n.lineno,n.colno,e):n.type===i.TOKEN_SYMBOL?r=new o.Symbol(n.lineno,n.colno,n.value):(this.pushToken(n),r=this.parseAggregate()),t||(r=this.parsePostfix(r)),r)return r;throw this.error("unexpected token: "+n.value,n.lineno,n.colno)},c.parseFilterName=function(){for(var t=this.expect(i.TOKEN_SYMBOL),e=t.value;this.skipValue(i.TOKEN_OPERATOR,".");)e+="."+this.expect(i.TOKEN_SYMBOL).value;return new o.Symbol(t.lineno,t.colno,e)},c.parseFilterArgs=function(t){return this.peekToken().type===i.TOKEN_LEFT_PAREN?this.parsePostfix(t).args.children:[]},c.parseFilter=function(t){for(;this.skip(i.TOKEN_PIPE);){var e=this.parseFilterName();t=new o.Filter(e.lineno,e.colno,e,new o.NodeList(e.lineno,e.colno,[t].concat(this.parseFilterArgs(t))))}return t},c.parseFilterStatement=function(){var t=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var e=this.parseFilterName(),n=this.parseFilterArgs(e);this.advanceAfterBlockEnd(t.value);var r=new o.Capture(e.lineno,e.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var i=new o.Filter(e.lineno,e.colno,e,new o.NodeList(e.lineno,e.colno,[r].concat(n)));return new o.Output(e.lineno,e.colno,[i])},c.parseAggregate=function(){var t,e=this.nextToken();switch(e.type){case i.TOKEN_LEFT_PAREN:t=new o.Group(e.lineno,e.colno);break;case i.TOKEN_LEFT_BRACKET:t=new o.Array(e.lineno,e.colno);break;case i.TOKEN_LEFT_CURLY:t=new o.Dict(e.lineno,e.colno);break;default:return null}for(;;){var n=this.peekToken().type;if(n===i.TOKEN_RIGHT_PAREN||n===i.TOKEN_RIGHT_BRACKET||n===i.TOKEN_RIGHT_CURLY){this.nextToken();break}if(t.children.length>0&&(this.skip(i.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",e.lineno,e.colno)),t instanceof o.Dict){var r=this.parsePrimary();this.skip(i.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",e.lineno,e.colno);var s=this.parseExpression();t.addChild(new o.Pair(r.lineno,r.colno,r,s))}else{var a=this.parseExpression();t.addChild(a)}}return t},c.parseSignature=function(t,e){var n=this.peekToken();if(!e&&n.type!==i.TOKEN_LEFT_PAREN){if(t)return null;this.fail("expected arguments",n.lineno,n.colno)}n.type===i.TOKEN_LEFT_PAREN&&(n=this.nextToken());for(var r=new o.NodeList(n.lineno,n.colno),s=new o.KeywordArgs(n.lineno,n.colno),a=!1;;){if(n=this.peekToken(),!e&&n.type===i.TOKEN_RIGHT_PAREN){this.nextToken();break}if(e&&n.type===i.TOKEN_BLOCK_END)break;if(a&&!this.skip(i.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",n.lineno,n.colno);else{var c=this.parseExpression();this.skipValue(i.TOKEN_OPERATOR,"=")?s.addChild(new o.Pair(c.lineno,c.colno,c,this.parseExpression())):r.addChild(c)}a=!0}return s.children.length&&r.addChild(s),r},c.parseUntilBlocks=function(){for(var t=this.breakOnBlocks,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.breakOnBlocks=n;var i=this.parse();return this.breakOnBlocks=t,i},c.parseNodes=function(){for(var t,e=[];t=this.nextToken();)if(t.type===i.TOKEN_DATA){var n=t.value,r=this.peekToken(),s=r&&r.value;this.dropLeadingWhitespace&&(n=n.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),r&&(r.type===i.TOKEN_BLOCK_START&&"-"===s.charAt(s.length-1)||r.type===i.TOKEN_VARIABLE_START&&"-"===s.charAt(this.tokens.tags.VARIABLE_START.length)||r.type===i.TOKEN_COMMENT&&"-"===s.charAt(this.tokens.tags.COMMENT_START.length))&&(n=n.replace(/\s*$/,"")),e.push(new o.Output(t.lineno,t.colno,[new o.TemplateData(t.lineno,t.colno,n)]))}else if(t.type===i.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var a=this.parseStatement();if(!a)break;e.push(a)}else if(t.type===i.TOKEN_VARIABLE_START){var c=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),e.push(new o.Output(t.lineno,t.colno,[c]))}else t.type===i.TOKEN_COMMENT?this.dropLeadingWhitespace="-"===t.value.charAt(t.value.length-this.tokens.tags.COMMENT_END.length-1):this.fail("Unexpected token at top-level: "+t.type,t.lineno,t.colno);return e},c.parse=function(){return new o.NodeList(0,0,this.parseNodes())},c.parseAsRoot=function(){return new o.Root(0,0,this.parseNodes())},s}(s);t.exports={parse:function(t,e,n){var r=new c(i.lex(t,n));return void 0!==e&&(r.extensions=e),r.parseAsRoot()},Parser:c}},function(t,e,n){"use strict";var r=n(0),i=" \n\t\r",o="()[]{}%*-+~/#,:|.<>=!",s="string",a="whitespace",c="data",u="block-start",l="block-end",h="variable-start",f="variable-end",p="comment",d="left-paren",m="right-paren",y="left-bracket",g="right-bracket",v="left-curly",b="right-curly",_="operator",w="comma",x="colon",k="tilde",T="pipe",S="float",E="boolean",A="none",O="symbol",N="regex";function C(t,e,n,r){return{type:t,value:e,lineno:n,colno:r}}var L=function(){function t(t,e){this.str=t,this.index=0,this.len=t.length,this.lineno=0,this.colno=0,this.in_code=!1;var n=(e=e||{}).tags||{};this.tags={BLOCK_START:n.blockStart||"{%",BLOCK_END:n.blockEnd||"%}",VARIABLE_START:n.variableStart||"{{",VARIABLE_END:n.variableEnd||"}}",COMMENT_START:n.commentStart||"{#",COMMENT_END:n.commentEnd||"#}"},this.trimBlocks=!!e.trimBlocks,this.lstripBlocks=!!e.lstripBlocks}var e=t.prototype;return e.nextToken=function(){var t,e=this.lineno,n=this.colno;if(this.in_code){var L=this.current();if(this.isFinished())return null;if('"'===L||"'"===L)return C(s,this._parseString(L),e,n);if(t=this._extract(i))return C(a,t,e,n);if((t=this._extractString(this.tags.BLOCK_END))||(t=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&("\n"===(L=this.current())?this.forward():"\r"===L&&(this.forward(),"\n"===(L=this.current())?this.forward():this.back())),C(l,t,e,n);if((t=this._extractString(this.tags.VARIABLE_END))||(t=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,C(f,t,e,n);if("r"===L&&"/"===this.str.charAt(this.index+1)){this.forwardN(2);for(var R="";!this.isFinished();){if("/"===this.current()&&"\\"!==this.previous()){this.forward();break}R+=this.current(),this.forward()}for(var P=["g","i","m","y"],I="";!this.isFinished()&&-1!==P.indexOf(this.current());)I+=this.current(),this.forward();return C(N,{body:R,flags:I},e,n)}if(-1!==o.indexOf(L)){this.forward();var M,D=["==","===","!=","!==","<=",">=","//","**"],j=L+this.current();switch(-1!==r.indexOf(D,j)&&(this.forward(),L=j,-1!==r.indexOf(D,j+this.current())&&(L=j+this.current(),this.forward())),L){case"(":M=d;break;case")":M=m;break;case"[":M=y;break;case"]":M=g;break;case"{":M=v;break;case"}":M=b;break;case",":M=w;break;case":":M=x;break;case"~":M=k;break;case"|":M=T;break;default:M=_}return C(M,L,e,n)}if((t=this._extractUntil(i+o)).match(/^[-+]?[0-9]+$/)){if("."===this.current()){this.forward();var B=this._extract("0123456789");return C(S,t+"."+B,e,n)}return C("int",t,e,n)}if(t.match(/^(true|false)$/))return C(E,t,e,n);if("none"===t)return C(A,t,e,n);if("null"===t)return C(A,t,e,n);if(t)return C(O,t,e,n);throw new Error("Unexpected value while parsing: "+t)}var F,U=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((t=this._extractString(this.tags.BLOCK_START+"-"))||(t=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,C(u,t,e,n);if((t=this._extractString(this.tags.VARIABLE_START+"-"))||(t=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,C(h,t,e,n);t="";var z=!1;for(this._matches(this.tags.COMMENT_START)&&(z=!0,t=this._extractString(this.tags.COMMENT_START));null!==(F=this._extractUntil(U));){if(t+=F,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!z){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=t.length){var V=t.slice(-this.colno);if(/^\s+$/.test(V)&&!(t=t.slice(0,-this.colno)).length)return this.nextToken()}break}if(this._matches(this.tags.COMMENT_END)){if(!z)throw new Error("unexpected end of comment");t+=this._extractString(this.tags.COMMENT_END);break}t+=this.current(),this.forward()}if(null===F&&z)throw new Error("expected end of comment, got end of file");return C(z?p:c,t,e,n)},e._parseString=function(t){this.forward();for(var e="";!this.isFinished()&&this.current()!==t;){var n=this.current();if("\\"===n){switch(this.forward(),this.current()){case"n":e+="\n";break;case"t":e+="\t";break;case"r":e+="\r";break;default:e+=this.current()}this.forward()}else e+=n,this.forward()}return this.forward(),e},e._matches=function(t){return this.index+t.length>this.len?null:this.str.slice(this.index,this.index+t.length)===t},e._extractString=function(t){return this._matches(t)?(this.forwardN(t.length),t):null},e._extractUntil=function(t){return this._extractMatching(!0,t||"")},e._extract=function(t){return this._extractMatching(!1,t)},e._extractMatching=function(t,e){if(this.isFinished())return null;var n=e.indexOf(this.current());if(t&&-1===n||!t&&-1!==n){var r=this.current();this.forward();for(var i=e.indexOf(this.current());(t&&-1===i||!t&&-1!==i)&&!this.isFinished();)r+=this.current(),this.forward(),i=e.indexOf(this.current());return r}return""},e._extractRegex=function(t){var e=this.currentStr().match(t);return e?(this.forwardN(e[0].length),e):null},e.isFinished=function(){return this.index>=this.len},e.forwardN=function(t){for(var e=0;e<t;e++)this.forward()},e.forward=function(){this.index++,"\n"===this.previous()?(this.lineno++,this.colno=0):this.colno++},e.backN=function(t){for(var e=0;e<t;e++)this.back()},e.back=function(){if(this.index--,"\n"===this.current()){this.lineno--;var t=this.src.lastIndexOf("\n",this.index-1);this.colno=-1===t?this.index:this.index-t}else this.colno--},e.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},e.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},e.previous=function(){return this.str.charAt(this.index-1)},t}();t.exports={lex:function(t,e){return new L(t,e)},TOKEN_STRING:s,TOKEN_WHITESPACE:a,TOKEN_DATA:c,TOKEN_BLOCK_START:u,TOKEN_BLOCK_END:l,TOKEN_VARIABLE_START:h,TOKEN_VARIABLE_END:f,TOKEN_COMMENT:p,TOKEN_LEFT_PAREN:d,TOKEN_RIGHT_PAREN:m,TOKEN_LEFT_BRACKET:y,TOKEN_RIGHT_BRACKET:g,TOKEN_LEFT_CURLY:v,TOKEN_RIGHT_CURLY:b,TOKEN_OPERATOR:_,TOKEN_COMMA:w,TOKEN_COLON:x,TOKEN_TILDE:k,TOKEN_PIPE:T,TOKEN_INT:"int",TOKEN_FLOAT:S,TOKEN_BOOLEAN:E,TOKEN_NONE:A,TOKEN_SYMBOL:O,TOKEN_SPECIAL:"special",TOKEN_REGEX:N}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(6),o=n(19).PrecompiledLoader,s=function(t){var e,n;function i(e,n){var r;return(r=t.call(this)||this).baseURL=e||".",n=n||{},r.useCache=!!n.useCache,r.async=!!n.async,r}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var o=i.prototype;return o.resolve=function(t,e){throw new Error("relative templates not support in the browser yet")},o.getSource=function(t,e){var n,r=this,i=this.useCache;return this.fetch(this.baseURL+"/"+t,(function(o,s){if(o)if(e)e(o.content);else{if(404!==o.status)throw o.content;n=null}else n={src:s,path:t,noCache:!i},r.emit("load",t,n),e&&e(null,n)})),n},o.fetch=function(t,e){if("undefined"==typeof window)throw new Error("WebLoader can only by used in a browser");var n=new XMLHttpRequest,r=!0;n.onreadystatechange=function(){4===n.readyState&&r&&(r=!1,0===n.status||200===n.status?e(null,n.responseText):e({status:n.status,content:n.responseText}))},t+=(-1===t.indexOf("?")?"?":"&")+"s="+(new Date).getTime(),n.open("GET",t,this.async),n.send()},i}(i);t.exports={WebLoader:s,PrecompiledLoader:o}},function(t,e,n){"use strict";var r,i=n(0),o=n(7),s=o.Environment,a=o.Template,c=n(6),u=n(10),l=n(23),h=n(5),f=n(8),p=n(9),d=n(2),m=n(3),y=n(25);function g(t,e){var n;return e=e||{},i.isObject(t)&&(e=t,t=null),u.FileSystemLoader?n=new u.FileSystemLoader(t,{watch:e.watch,noCache:e.noCache}):u.WebLoader&&(n=new u.WebLoader(t,{useCache:e.web&&e.web.useCache,async:e.web&&e.web.async})),r=new s(n,e),e&&e.express&&r.express(e.express),r}t.exports={Environment:s,Template:a,Loader:c,FileSystemLoader:u.FileSystemLoader,NodeResolveLoader:u.NodeResolveLoader,PrecompiledLoader:u.PrecompiledLoader,WebLoader:u.WebLoader,compiler:h,parser:f,lexer:p,runtime:d,lib:i,nodes:m,installJinjaCompat:y,configure:g,reset:function(){r=void 0},compile:function(t,e,n,i){return r||g(),new a(t,e,n,i)},render:function(t,e,n){return r||g(),r.render(t,e,n)},renderString:function(t,e,n){return r||g(),r.renderString(t,e,n)},precompile:l?l.precompile:void 0,precompileString:l?l.precompileString:void 0}},function(t,e,n){"use strict";var r=n(13),i=[],o=[],s=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function a(t){var e;(e=i.length?i.pop():new c).task=t,r(e)}function c(){this.task=null}t.exports=a,c.prototype.call=function(){try{this.task.call()}catch(t){a.onerror?a.onerror(t):(o.push(t),s())}finally{this.task=null,i[i.length]=this}}},function(t,e,n){"use strict";(function(e){function n(t){i.length||r(),i[i.length]=t}t.exports=n;var r,i=[],o=0;function s(){for(;o<i.length;){var t=o;if(o+=1,i[t].call(),o>1024){for(var e=0,n=i.length-o;e<n;e++)i[e]=i[e+o];i.length-=o,o=0}}i.length=0,o=0}var a,c,u,l=void 0!==e?e:self,h=l.MutationObserver||l.WebKitMutationObserver;function f(t){return function(){var e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}"function"==typeof h?(a=1,c=new h(s),u=document.createTextNode(""),c.observe(u,{characterData:!0}),r=function(){a=-a,u.data=a}):r=f(s),n.requestFlush=r,n.makeRequestCallFromTimer=f}).call(e,n(14))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r;!function(){"use strict";var n=function(){var t=Array.prototype.slice.call(arguments);"function"==typeof t[0]&&t[0].apply(null,t.splice(1))},i=function(t){"function"==typeof setImmediate?setImmediate(t):"undefined"!=typeof process&&process.nextTick?process.nextTick(t):setTimeout(t,0)},o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=function(t,e,r){var s=r?i:n;if(e=e||function(){},!o(t)){var a=new Error("First argument to waterfall must be an array of functions");return e(a)}if(!t.length)return e();var c=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var r=Array.prototype.slice.call(arguments,1),i=t.next();i?r.push(c(i)):r.push(e),s((function(){t.apply(null,r)}))}}};c(function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)}(t))()};void 0===(r=function(){return s}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s,a;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):y(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=y(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,p(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,p(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var r=n(3),i=n(0),o=0;function s(){return"hole_"+o++}function a(t,e){for(var n=null,r=0;r<t.length;r++){var i=e(t[r]);i!==t[r]&&(n||(n=t.slice()),n[r]=i)}return n||t}function c(t,e,n){if(!(t instanceof r.Node))return t;if(!n){var i=e(t);if(i&&i!==t)return i}if(t instanceof r.NodeList){var o=a(t.children,(function(t){return c(t,e,n)}));o!==t.children&&(t=new r[t.typename](t.lineno,t.colno,o))}else if(t instanceof r.CallExtension){var s=c(t.args,e,n),u=a(t.contentArgs,(function(t){return c(t,e,n)}));s===t.args&&u===t.contentArgs||(t=new r[t.typename](t.extName,t.prop,s,u))}else{var l=t.fields.map((function(e){return t[e]})),h=a(l,(function(t){return c(t,e,n)}));h!==l&&(t=new r[t.typename](t.lineno,t.colno),h.forEach((function(e,n){t[t.fields[n]]=e})))}return n&&e(t)||t}function u(t,e){return c(t,e,!0)}function l(t,e,n){var o=[],a=u(n?t[n]:t,(function(t){var n;return t instanceof r.Block?t:((t instanceof r.Filter&&-1!==i.indexOf(e,t.name.value)||t instanceof r.CallExtensionAsync)&&(n=new r.Symbol(t.lineno,t.colno,s()),o.push(new r.FilterAsync(t.lineno,t.colno,t.name,t.args,n))),n)}));return n?t[n]=a:t=a,o.length?(o.push(t),new r.NodeList(t.lineno,t.colno,o)):t}t.exports={transform:function(t,e){return function(t,e){return function(t){return u(t,(function(t){if(t instanceof r.If||t instanceof r.For){var e=!1;if(c(t,(function(t){if(t instanceof r.FilterAsync||t instanceof r.IfAsync||t instanceof r.AsyncEach||t instanceof r.AsyncAll||t instanceof r.CallExtensionAsync)return e=!0,t})),e){if(t instanceof r.If)return new r.IfAsync(t.lineno,t.colno,t.cond,t.body,t.else_);if(t instanceof r.For&&!(t instanceof r.AsyncAll))return new r.AsyncEach(t.lineno,t.colno,t.arr,t.name,t.body,t.else_)}}}))}(function(t){return c(t,(function(t){if(t instanceof r.Block){var e=!1,n=s();t.body=c(t.body,(function(t){if(t instanceof r.FunCall&&"super"===t.name.value)return e=!0,new r.Symbol(t.lineno,t.colno,n)})),e&&t.body.children.unshift(new r.Super(0,0,t.name,new r.Symbol(0,0,n)))}}))}(function(t,e){return u(t,(function(t){return t instanceof r.Output?l(t,e):t instanceof r.Set?l(t,e,"value"):t instanceof r.For?l(t,e,"arr"):t instanceof r.If?l(t,e,"cond"):t instanceof r.CallExtension?l(t,e,"args"):void 0}))}(t,e)))}(t,e||[])}}},function(t,e,n){"use strict";var r=n(0),i=n(2);function o(t,e){return null==t||!1===t?e:t}function s(t){return t!=t}function a(t){var e=(t=o(t,"")).toLowerCase();return i.copySafeness(t,e.charAt(0).toUpperCase()+e.slice(1))}function c(t){if(r.isString(t))return t.split("");if(r.isObject(t))return r._entries(t||{}).map((function(t){return{key:t[0],value:t[1]}}));if(r.isArray(t))return t;throw new r.TemplateError("list filter: type not iterable")}function u(t){return function(e,n,i){void 0===n&&(n="truthy");var o=this,s=o.env.getTest(n);return r.toArray(e).filter((function(e){return s.call(o,e,i)===t}))}}function l(t){return i.copySafeness(t,t.replace(/^\s*|\s*$/g,""))}(e=t.exports={}).abs=Math.abs,e.batch=function(t,e,n){var r,i=[],o=[];for(r=0;r<t.length;r++)r%e==0&&o.length&&(i.push(o),o=[]),o.push(t[r]);if(o.length){if(n)for(r=o.length;r<e;r++)o.push(n);i.push(o)}return i},e.capitalize=a,e.center=function(t,e){if(e=e||80,(t=o(t,"")).length>=e)return t;var n=e-t.length,s=r.repeat(" ",n/2-n%2),a=r.repeat(" ",n/2);return i.copySafeness(t,s+t+a)},e.default=function(t,e,n){return n?t||e:void 0!==t?t:e},e.dictsort=function(t,e,n){if(!r.isObject(t))throw new r.TemplateError("dictsort filter: val must be an object");var i,o=[];for(var s in t)o.push([s,t[s]]);if(void 0===n||"key"===n)i=0;else{if("value"!==n)throw new r.TemplateError("dictsort filter: You can only sort by either key or value");i=1}return o.sort((function(t,n){var o=t[i],s=n[i];return e||(r.isString(o)&&(o=o.toUpperCase()),r.isString(s)&&(s=s.toUpperCase())),o>s?1:o===s?0:-1})),o},e.dump=function(t,e){return JSON.stringify(t,null,e)},e.escape=function(t){return t instanceof i.SafeString?t:(t=null==t?"":t,i.markSafe(r.escape(t.toString())))},e.safe=function(t){return t instanceof i.SafeString?t:(t=null==t?"":t,i.markSafe(t.toString()))},e.first=function(t){return t[0]},e.forceescape=function(t){return t=null==t?"":t,i.markSafe(r.escape(t.toString()))},e.groupby=function(t,e){return r.groupBy(t,e,this.env.opts.throwOnUndefined)},e.indent=function(t,e,n){if(""===(t=o(t,"")))return"";e=e||4;var s=t.split("\n"),a=r.repeat(" ",e),c=s.map((function(t,e){return 0!==e||n?""+a+t:t})).join("\n");return i.copySafeness(t,c)},e.join=function(t,e,n){return e=e||"",n&&(t=r.map(t,(function(t){return t[n]}))),t.join(e)},e.last=function(t){return t[t.length-1]},e.length=function(t){var e=o(t,"");return void 0!==e?"function"==typeof Map&&e instanceof Map||"function"==typeof Set&&e instanceof Set?e.size:!r.isObject(e)||e instanceof i.SafeString?e.length:r.keys(e).length:0},e.list=c,e.lower=function(t){return(t=o(t,"")).toLowerCase()},e.nl2br=function(t){return null==t?"":i.copySafeness(t,t.replace(/\r\n|\n/g,"<br />\n"))},e.random=function(t){return t[Math.floor(Math.random()*t.length)]},e.reject=u(!1),e.rejectattr=function(t,e){return t.filter((function(t){return!t[e]}))},e.select=u(!0),e.selectattr=function(t,e){return t.filter((function(t){return!!t[e]}))},e.replace=function(t,e,n,r){var o=t;if(e instanceof RegExp)return t.replace(e,n);void 0===r&&(r=-1);var s="";if("number"==typeof e)e=""+e;else if("string"!=typeof e)return t;if("number"==typeof t&&(t=""+t),"string"!=typeof t&&!(t instanceof i.SafeString))return t;if(""===e)return s=n+t.split("").join(n)+n,i.copySafeness(t,s);var a=t.indexOf(e);if(0===r||-1===a)return t;for(var c=0,u=0;a>-1&&(-1===r||u<r);)s+=t.substring(c,a)+n,c=a+e.length,u++,a=t.indexOf(e,c);return c<t.length&&(s+=t.substring(c)),i.copySafeness(o,s)},e.reverse=function(t){var e;return(e=r.isString(t)?c(t):r.map(t,(function(t){return t}))).reverse(),r.isString(t)?i.copySafeness(t,e.join("")):e},e.round=function(t,e,n){e=e||0;var r=Math.pow(10,e);return("ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round)(t*r)/r},e.slice=function(t,e,n){for(var r=Math.floor(t.length/e),i=t.length%e,o=[],s=0,a=0;a<e;a++){var c=s+a*r;a<i&&s++;var u=s+(a+1)*r,l=t.slice(c,u);n&&a>=i&&l.push(n),o.push(l)}return o},e.sum=function(t,e,n){return void 0===n&&(n=0),e&&(t=r.map(t,(function(t){return t[e]}))),n+t.reduce((function(t,e){return t+e}),0)},e.sort=i.makeMacro(["value","reverse","case_sensitive","attribute"],[],(function(t,e,n,i){var o=this,s=r.map(t,(function(t){return t})),a=r.getAttrGetter(i);return s.sort((function(t,s){var c=i?a(t):t,u=i?a(s):s;if(o.env.opts.throwOnUndefined&&i&&(void 0===c||void 0===u))throw new TypeError('sort: attribute "'+i+'" resolved to undefined');return!n&&r.isString(c)&&r.isString(u)&&(c=c.toLowerCase(),u=u.toLowerCase()),c<u?e?1:-1:c>u?e?-1:1:0})),s})),e.string=function(t){return i.copySafeness(t,t)},e.striptags=function(t,e){var n,r=l((t=o(t,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,""));return n=e?r.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):r.replace(/\s+/gi," "),i.copySafeness(t,n)},e.title=function(t){var e=(t=o(t,"")).split(" ").map((function(t){return a(t)}));return i.copySafeness(t,e.join(" "))},e.trim=l,e.truncate=function(t,e,n,r){var s=t;if(e=e||255,(t=o(t,"")).length<=e)return t;if(n)t=t.substring(0,e);else{var a=t.lastIndexOf(" ",e);-1===a&&(a=e),t=t.substring(0,a)}return t+=null!=r?r:"...",i.copySafeness(s,t)},e.upper=function(t){return(t=o(t,"")).toUpperCase()},e.urlencode=function(t){var e=encodeURIComponent;return r.isString(t)?e(t):(r.isArray(t)?t:r._entries(t)).map((function(t){var n=t[0],r=t[1];return e(n)+"="+e(r)})).join("&")};var h=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,f=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,p=/^https?:\/\/.*$/,d=/^www\./,m=/\.(?:org|net|com)(?:\:|\/|$)/;e.urlize=function(t,e,n){s(e)&&(e=1/0);var r=!0===n?' rel="nofollow"':"";return t.split(/(\s+)/).filter((function(t){return t&&t.length})).map((function(t){var n=t.match(h),i=n?n[1]:t,o=i.substr(0,e);return p.test(i)?'<a href="'+i+'"'+r+">"+o+"</a>":d.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":f.test(i)?'<a href="mailto:'+i+'">'+i+"</a>":m.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":t})).join("")},e.wordcount=function(t){var e=(t=o(t,""))?t.match(/\w+/g):null;return e?e.length:null},e.float=function(t,e){var n=parseFloat(t);return s(n)?e:n};var y=i.makeMacro(["value","default","base"],[],(function(t,e,n){void 0===n&&(n=10);var r=parseInt(t,n);return s(r)?e:r}));e.int=y,e.d=e.default,e.e=e.escape},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=function(t){var e,n;function i(e){var n;return(n=t.call(this)||this).precompiled=e||{},n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.getSource=function(t){return this.precompiled[t]?{src:{type:"code",obj:this.precompiled[t]},path:t}:null},i}(n(6));t.exports={PrecompiledLoader:i}},function(t,e,n){"use strict";var r=n(2).SafeString;e.callable=function(t){return"function"==typeof t},e.defined=function(t){return void 0!==t},e.divisibleby=function(t,e){return t%e==0},e.escaped=function(t){return t instanceof r},e.equalto=function(t,e){return t===e},e.eq=e.equalto,e.sameas=e.equalto,e.even=function(t){return t%2==0},e.falsy=function(t){return!t},e.ge=function(t,e){return t>=e},e.greaterthan=function(t,e){return t>e},e.gt=e.greaterthan,e.le=function(t,e){return t<=e},e.lessthan=function(t,e){return t<e},e.lt=e.lessthan,e.lower=function(t){return t.toLowerCase()===t},e.ne=function(t,e){return t!==e},e.null=function(t){return null===t},e.number=function(t){return"number"==typeof t},e.odd=function(t){return t%2==1},e.string=function(t){return"string"==typeof t},e.truthy=function(t){return!!t},e.undefined=function(t){return void 0===t},e.upper=function(t){return t.toUpperCase()===t},e.iterable=function(t){return"undefined"!=typeof Symbol?!!t[Symbol.iterator]:Array.isArray(t)||"string"==typeof t},e.mapping=function(t){var e=null!=t&&"object"==typeof t&&!Array.isArray(t);return Set?e&&!(t instanceof Set):e}},function(t,e,n){"use strict";t.exports=function(){return{range:function(t,e,n){void 0===e?(e=t,t=0,n=1):n||(n=1);var r=[];if(n>0)for(var i=t;i<e;i+=n)r.push(i);else for(var o=t;o>e;o+=n)r.push(o);return r},cycler:function(){return t=Array.prototype.slice.call(arguments),e=-1,{current:null,reset:function(){e=-1,this.current=null},next:function(){return++e>=t.length&&(e=0),this.current=t[e],this.current}};var t,e},joiner:function(t){return function(t){t=t||",";var e=!0;return function(){var n=e?"":t;return e=!1,n}}(t)}}}},function(t,e,n){var r=n(4);t.exports=function(t,e){function n(t,e){if(this.name=t,this.path=t,this.defaultEngine=e.defaultEngine,this.ext=r.extname(t),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return n.prototype.render=function(e,n){t.render(this.name,e,n)},e.set("view",n),e.set("nunjucksEnv",t),t}},function(t,e,n){"use strict";var r=n(4),i=n(4),o=n(0)._prettifyError,s=n(5),a=n(7).Environment,c=n(24);function u(t,e){return!!Array.isArray(e)&&e.some((function(e){return t.match(e)}))}function l(t,e){(e=e||{}).isString=!0;var n=e.env||new a([]),r=e.wrapper||c;if(!e.name)throw new Error('the "name" option is required when compiling a string');return r([h(t,e.name,n)],e)}function h(t,e,n){var r,i=(n=n||new a([])).asyncFilters,c=n.extensionsList;e=e.replace(/\\/g,"/");try{r=s.compile(t,i,c,e,n.opts)}catch(t){throw o(e,!1,t)}return{name:e,template:r}}t.exports={precompile:function(t,e){var n=(e=e||{}).env||new a([]),o=e.wrapper||c;if(e.isString)return l(t,e);var s=r.existsSync(t)&&r.statSync(t),f=[],p=[];if(s.isFile())f.push(h(r.readFileSync(t,"utf-8"),e.name||t,n));else if(s.isDirectory()){!function n(o){r.readdirSync(o).forEach((function(s){var a=i.join(o,s),c=a.substr(i.join(t,"/").length),l=r.statSync(a);l&&l.isDirectory()?u(c+="/",e.exclude)||n(a):u(c,e.include)&&p.push(a)}))}(t);for(var d=0;d<p.length;d++){var m=p[d].replace(i.join(t,"/"),"");try{f.push(h(r.readFileSync(p[d],"utf-8"),m,n))}catch(t){if(!e.force)throw t;console.error(t)}}}return o(f,e)},precompileString:l}},function(t,e,n){"use strict";t.exports=function(t,e){var n="";e=e||{};for(var r=0;r<t.length;r++){var i=JSON.stringify(t[r].name);n+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+i+"] = (function() {\n"+t[r].template+"\n})();\n",e.asFunction&&(n+="return function(ctx, cb) { return nunjucks.render("+i+", ctx, cb); }\n"),n+="})();\n"}return n}},function(t,e,n){t.exports=function(){"use strict";var t,e,n=this.runtime,r=this.lib,i=this.compiler.Compiler,o=this.parser.Parser,s=this.nodes,a=this.lexer,c=n.contextOrFrameLookup,u=n.memberLookup;function l(t){return{index:t.index,lineno:t.lineno,colno:t.colno}}if(i&&(t=i.prototype.assertType),o&&(e=o.prototype.parseAggregate),n.contextOrFrameLookup=function(t,e,n){var r=c.apply(this,arguments);if(void 0!==r)return r;switch(n){case"True":return!0;case"False":return!1;case"None":return null;default:return}},s&&i&&o){var h=s.Node.extend("Slice",{fields:["start","stop","step"],init:function(t,e,n,r,i){n=n||new s.Literal(t,e,null),r=r||new s.Literal(t,e,null),i=i||new s.Literal(t,e,1),this.parent(t,e,n,r,i)}});i.prototype.assertType=function(e){e instanceof h||t.apply(this,arguments)},i.prototype.compileSlice=function(t,e){this._emit("("),this._compileExpression(t.start,e),this._emit("),("),this._compileExpression(t.stop,e),this._emit("),("),this._compileExpression(t.step,e),this._emit(")")},o.prototype.parseAggregate=function(){var t=this,n=l(this.tokens);n.colno--,n.index--;try{return e.apply(this)}catch(e){var i=l(this.tokens),o=function(){return r._assign(t.tokens,i),e};r._assign(this.tokens,n),this.peeked=!1;var c=this.peekToken();if(c.type!==a.TOKEN_LEFT_BRACKET)throw o();this.nextToken();for(var u=new h(c.lineno,c.colno),f=!1,p=0;p<=u.fields.length&&!this.skip(a.TOKEN_RIGHT_BRACKET);p++){if(p===u.fields.length){if(!f)break;this.fail("parseSlice: too many slice components",c.lineno,c.colno)}this.skip(a.TOKEN_COLON)?f=!0:(u[u.fields[p]]=this.parseExpression(),f=this.skip(a.TOKEN_COLON)||f)}if(!f)throw o();return new s.Array(c.lineno,c.colno,[u])}}}function f(t,e,r,i){t=t||[],null===e&&(e=i<0?t.length-1:0),null===r?r=i<0?-1:t.length:r<0&&(r+=t.length),e<0&&(e+=t.length);for(var o=[],s=e;!(s<0||s>t.length||i>0&&s>=r||i<0&&s<=r);s+=i)o.push(n.memberLookup(t,s));return o}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var d={pop:function(t){if(void 0===t)return this.pop();if(t>=this.length||t<0)throw new Error("KeyError");return this.splice(t,1)},append:function(t){return this.push(t)},remove:function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return this.splice(e,1);throw new Error("ValueError")},count:function(t){for(var e=0,n=0;n<this.length;n++)this[n]===t&&e++;return e},index:function(t){var e;if(-1===(e=this.indexOf(t)))throw new Error("ValueError");return e},find:function(t){return this.indexOf(t)},insert:function(t,e){return this.splice(t,0,e)}},m={items:function(){return r._entries(this)},values:function(){return r._values(this)},keys:function(){return r.keys(this)},get:function(t,e){var n=this[t];return void 0===n&&(n=e),n},has_key:function(t){return p(this,t)},pop:function(t,e){var n=this[t];if(void 0===n&&void 0!==e)n=e;else{if(void 0===n)throw new Error("KeyError");delete this[t]}return n},popitem:function(){var t=r.keys(this);if(!t.length)throw new Error("KeyError");var e=t[0],n=this[e];return delete this[e],[e,n]},setdefault:function(t,e){return void 0===e&&(e=null),t in this||(this[t]=e),this[t]},update:function(t){return r._assign(this,t),null}};return m.iteritems=m.items,m.itervalues=m.values,m.iterkeys=m.keys,n.memberLookup=function(t,e,n){return 4===arguments.length?f.apply(this,arguments):(t=t||{},r.isArray(t)&&p(d,e)?d[e].bind(t):r.isObject(t)&&p(m,e)?m[e].bind(t):u.apply(this,arguments))},function(){n.contextOrFrameLookup=c,n.memberLookup=u,i&&(i.prototype.assertType=t),o&&(o.prototype.parseAggregate=e)}}}])},t.exports=e()}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{"use strict";r.r(i),r.d(i,{Component:()=>S,ComponentAttribute:()=>h,ComponentAttributeDefinition:()=>P,ComponentDefinition:()=>A,ComponentDrawOption:()=>g,ComponentLink:()=>U,ComponentLinkDefinition:()=>V,ComponentRenderer:()=>FO,DefaultConfiguration:()=>GN,DefaultData:()=>UN,DefaultDrawer:()=>hN,DefaultMetadata:()=>mN,DefaultParser:()=>bN,DefaultPlugin:()=>ZN,DefaultRender:()=>kN,FileInformation:()=>m,FileInput:()=>$,LinkRenderer:()=>KO,ParserLog:()=>a,Tag:()=>QN,Variable:()=>sC});var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}r.r(t),r.d(t,{Adder:()=>xt,Delaunay:()=>Vc,FormatSpecifier:()=>sh,InternMap:()=>St,InternSet:()=>Et,Node:()=>Ly,Path:()=>ia,Voronoi:()=>Dc,ZoomTransform:()=>UE,active:()=>us,arc:()=>TT,area:()=>RT,areaRadial:()=>zT,ascending:()=>X,autoType:()=>wu,axisBottom:()=>pn,axisLeft:()=>dn,axisRight:()=>fn,axisTop:()=>hn,bin:()=>se,bisect:()=>ot,bisectCenter:()=>it,bisectLeft:()=>rt,bisectRight:()=>nt,bisector:()=>J,blob:()=>ll,blur:()=>st,blur2:()=>at,blurImage:()=>ct,brush:()=>Bs,brushSelection:()=>Ms,brushX:()=>Ds,brushY:()=>js,buffer:()=>fl,chord:()=>$s,chordDirected:()=>Zs,chordTranspose:()=>Xs,cluster:()=>Ty,color:()=>oi,contourDensity:()=>pc,contours:()=>oc,count:()=>pt,create:()=>Jk,creator:()=>_r,cross:()=>gt,csv:()=>gl,csvFormat:()=>cu,csvFormatBody:()=>uu,csvFormatRow:()=>hu,csvFormatRows:()=>lu,csvFormatValue:()=>fu,csvParse:()=>su,csvParseRows:()=>au,cubehelix:()=>$a,cumsum:()=>vt,curveBasis:()=>LS,curveBasisClosed:()=>PS,curveBasisOpen:()=>MS,curveBumpX:()=>qT,curveBumpY:()=>WT,curveBundle:()=>jS,curveCardinal:()=>US,curveCardinalClosed:()=>VS,curveCardinalOpen:()=>HS,curveCatmullRom:()=>GS,curveCatmullRomClosed:()=>$S,curveCatmullRomOpen:()=>ZS,curveLinear:()=>OT,curveLinearClosed:()=>QS,curveMonotoneX:()=>aE,curveMonotoneY:()=>cE,curveNatural:()=>hE,curveStep:()=>pE,curveStepAfter:()=>mE,curveStepBefore:()=>dE,descending:()=>Z,deviation:()=>_t,difference:()=>He,disjoint:()=>qe,dispatch:()=>_n,drag:()=>$c,dragDisable:()=>Fr,dragEnable:()=>Ur,dsv:()=>yl,dsvFormat:()=>iu,easeBack:()=>il,easeBackIn:()=>nl,easeBackInOut:()=>il,easeBackOut:()=>rl,easeBounce:()=>Qu,easeBounceIn:()=>Ju,easeBounceInOut:()=>tl,easeBounceOut:()=>Qu,easeCircle:()=>zu,easeCircleIn:()=>Fu,easeCircleInOut:()=>zu,easeCircleOut:()=>Uu,easeCubic:()=>os,easeCubicIn:()=>rs,easeCubicInOut:()=>os,easeCubicOut:()=>is,easeElastic:()=>al,easeElasticIn:()=>sl,easeElasticInOut:()=>cl,easeElasticOut:()=>al,easeExp:()=>Bu,easeExpIn:()=>Du,easeExpInOut:()=>Bu,easeExpOut:()=>ju,easeLinear:()=>ku,easePoly:()=>Nu,easePolyIn:()=>Au,easePolyInOut:()=>Nu,easePolyOut:()=>Ou,easeQuad:()=>Eu,easeQuadIn:()=>Tu,easeQuadInOut:()=>Eu,easeQuadOut:()=>Su,easeSin:()=>Iu,easeSinIn:()=>Ru,easeSinInOut:()=>Iu,easeSinOut:()=>Pu,every:()=>Be,extent:()=>wt,fcumsum:()=>Tt,filter:()=>Ue,flatGroup:()=>Mt,flatRollup:()=>Dt,forceCenter:()=>El,forceCollide:()=>Fl,forceLink:()=>Vl,forceManyBody:()=>Zl,forceRadial:()=>Jl,forceSimulation:()=>Xl,forceX:()=>Ql,forceY:()=>th,format:()=>hh,formatDefaultLocale:()=>yh,formatLocale:()=>mh,formatPrefix:()=>fh,formatSpecifier:()=>oh,fsum:()=>kt,geoAlbers:()=>Fm,geoAlbersUsa:()=>Um,geoArea:()=>wf,geoAzimuthalEqualArea:()=>Hm,geoAzimuthalEqualAreaRaw:()=>Km,geoAzimuthalEquidistant:()=>Wm,geoAzimuthalEquidistantRaw:()=>qm,geoBounds:()=>np,geoCentroid:()=>dp,geoCircle:()=>Sp,geoClipAntimeridian:()=>Dp,geoClipCircle:()=>jp,geoClipExtent:()=>qp,geoClipRectangle:()=>Hp,geoConicConformal:()=>Jm,geoConicConformalRaw:()=>Zm,geoConicEqualArea:()=>Bm,geoConicEqualAreaRaw:()=>jm,geoConicEquidistant:()=>ny,geoConicEquidistantRaw:()=>ey,geoContains:()=>cd,geoDistance:()=>Qp,geoEqualEarth:()=>uy,geoEqualEarthRaw:()=>cy,geoEquirectangular:()=>ty,geoEquirectangularRaw:()=>Qm,geoGnomonic:()=>hy,geoGnomonicRaw:()=>ly,geoGraticule:()=>hd,geoGraticule10:()=>fd,geoIdentity:()=>fy,geoInterpolate:()=>pd,geoLength:()=>Xp,geoMercator:()=>Ym,geoMercatorRaw:()=>Gm,geoNaturalEarth1:()=>dy,geoNaturalEarth1Raw:()=>py,geoOrthographic:()=>yy,geoOrthographicRaw:()=>my,geoPath:()=>_m,geoProjection:()=>Im,geoProjectionMutator:()=>Mm,geoRotation:()=>xp,geoStereographic:()=>vy,geoStereographicRaw:()=>gy,geoStream:()=>Xh,geoTransform:()=>wm,geoTransverseMercator:()=>_y,geoTransverseMercatorRaw:()=>by,gray:()=>Na,greatest:()=>pe,greatestIndex:()=>Ce,group:()=>Rt,groupSort:()=>Gt,groups:()=>Pt,hcl:()=>Ba,hierarchy:()=>Ey,histogram:()=>se,hsl:()=>vi,html:()=>Tl,image:()=>bl,index:()=>Ft,indexes:()=>Ut,interpolate:()=>Hi,interpolateArray:()=>Di,interpolateBasis:()=>Ti,interpolateBasisClosed:()=>Si,interpolateBlues:()=>Sk,interpolateBrBG:()=>jx,interpolateBuGn:()=>ek,interpolateBuPu:()=>rk,interpolateCividis:()=>Dk,interpolateCool:()=>Fk,interpolateCubehelix:()=>qg,interpolateCubehelixDefault:()=>jk,interpolateCubehelixLong:()=>Wg,interpolateDate:()=>Bi,interpolateDiscrete:()=>Rg,interpolateGnBu:()=>ok,interpolateGreens:()=>Ak,interpolateGreys:()=>Nk,interpolateHcl:()=>Vg,interpolateHclLong:()=>Kg,interpolateHsl:()=>Bg,interpolateHslLong:()=>Fg,interpolateHue:()=>Pg,interpolateInferno:()=>Xk,interpolateLab:()=>Ug,interpolateMagma:()=>$k,interpolateNumber:()=>Fi,interpolateNumberArray:()=>Ii,interpolateObject:()=>Ui,interpolateOrRd:()=>ak,interpolateOranges:()=>Mk,interpolatePRGn:()=>Fx,interpolatePiYG:()=>zx,interpolatePlasma:()=>Zk,interpolatePuBu:()=>hk,interpolatePuBuGn:()=>uk,interpolatePuOr:()=>Kx,interpolatePuRd:()=>pk,interpolatePurples:()=>Lk,interpolateRainbow:()=>zk,interpolateRdBu:()=>qx,interpolateRdGy:()=>Gx,interpolateRdPu:()=>mk,interpolateRdYlBu:()=>$x,interpolateRdYlGn:()=>Zx,interpolateReds:()=>Pk,interpolateRgb:()=>Ci,interpolateRgbBasis:()=>Ri,interpolateRgbBasisClosed:()=>Pi,interpolateRound:()=>Ig,interpolateSinebow:()=>qk,interpolateSpectral:()=>Qx,interpolateString:()=>Ki,interpolateTransformCss:()=>Ro,interpolateTransformSvg:()=>Po,interpolateTurbo:()=>Wk,interpolateViridis:()=>Yk,interpolateWarm:()=>Bk,interpolateYlGn:()=>bk,interpolateYlGnBu:()=>gk,interpolateYlOrBr:()=>wk,interpolateYlOrRd:()=>kk,interpolateZoom:()=>Dg,interrupt:()=>Eo,intersection:()=>We,interval:()=>jE,isoFormat:()=>IE,isoParse:()=>DE,json:()=>wl,lab:()=>Ca,lch:()=>ja,least:()=>Oe,leastIndex:()=>Ne,line:()=>LT,lineRadial:()=>UT,link:()=>XT,linkHorizontal:()=>ZT,linkRadial:()=>QT,linkVertical:()=>JT,local:()=>tT,map:()=>ze,matcher:()=>En,max:()=>ae,maxIndex:()=>ce,mean:()=>be,median:()=>_e,medianIndex:()=>we,merge:()=>xe,min:()=>ue,minIndex:()=>le,mode:()=>ke,namespace:()=>zn,namespaces:()=>Un,nice:()=>ie,now:()=>io,pack:()=>ng,packEnclose:()=>Uy,packSiblings:()=>tg,pairs:()=>Te,partition:()=>cg,path:()=>oa,pathRound:()=>sa,permute:()=>Kt,pie:()=>MT,piecewise:()=>Gg,pointRadial:()=>VT,pointer:()=>Wi,pointers:()=>nT,polygonArea:()=>$g,polygonCentroid:()=>Xg,polygonContains:()=>ev,polygonHull:()=>tv,polygonLength:()=>nv,precisionFixed:()=>gh,precisionPrefix:()=>vh,precisionRound:()=>bh,quadtree:()=>Ll,quantile:()=>de,quantileIndex:()=>ye,quantileSorted:()=>me,quantize:()=>Yg,quickselect:()=>he,radialArea:()=>zT,radialLine:()=>UT,randomBates:()=>uv,randomBernoulli:()=>fv,randomBeta:()=>mv,randomBinomial:()=>yv,randomCauchy:()=>vv,randomExponential:()=>lv,randomGamma:()=>dv,randomGeometric:()=>pv,randomInt:()=>ov,randomIrwinHall:()=>cv,randomLcg:()=>Tv,randomLogNormal:()=>av,randomLogistic:()=>bv,randomNormal:()=>sv,randomPareto:()=>hv,randomPoisson:()=>_v,randomUniform:()=>iv,randomWeibull:()=>gv,range:()=>Ee,rank:()=>Ae,reduce:()=>Ve,reverse:()=>Ke,rgb:()=>ui,ribbon:()=>ga,ribbonArrow:()=>va,rollup:()=>jt,rollups:()=>Bt,scaleBand:()=>Nv,scaleDiverging:()=>vx,scaleDivergingLog:()=>bx,scaleDivergingPow:()=>wx,scaleDivergingSqrt:()=>xx,scaleDivergingSymlog:()=>_x,scaleIdentity:()=>Hv,scaleImplicit:()=>Av,scaleLinear:()=>Kv,scaleLog:()=>Qv,scaleOrdinal:()=>Ov,scalePoint:()=>Lv,scalePow:()=>cb,scaleQuantile:()=>fb,scaleQuantize:()=>pb,scaleRadial:()=>hb,scaleSequential:()=>hx,scaleSequentialLog:()=>fx,scaleSequentialPow:()=>dx,scaleSequentialQuantile:()=>yx,scaleSequentialSqrt:()=>mx,scaleSequentialSymlog:()=>px,scaleSqrt:()=>ub,scaleSymlog:()=>rb,scaleThreshold:()=>db,scaleTime:()=>ax,scaleUtc:()=>cx,scan:()=>Le,schemeAccent:()=>Sx,schemeBlues:()=>Tk,schemeBrBG:()=>Dx,schemeBuGn:()=>tk,schemeBuPu:()=>nk,schemeCategory10:()=>Tx,schemeDark2:()=>Ex,schemeGnBu:()=>ik,schemeGreens:()=>Ek,schemeGreys:()=>Ok,schemeObservable10:()=>Ax,schemeOrRd:()=>sk,schemeOranges:()=>Ik,schemePRGn:()=>Bx,schemePaired:()=>Ox,schemePastel1:()=>Nx,schemePastel2:()=>Cx,schemePiYG:()=>Ux,schemePuBu:()=>lk,schemePuBuGn:()=>ck,schemePuOr:()=>Vx,schemePuRd:()=>fk,schemePurples:()=>Ck,schemeRdBu:()=>Hx,schemeRdGy:()=>Wx,schemeRdPu:()=>dk,schemeRdYlBu:()=>Yx,schemeRdYlGn:()=>Xx,schemeReds:()=>Rk,schemeSet1:()=>Lx,schemeSet2:()=>Rx,schemeSet3:()=>Px,schemeSpectral:()=>Jx,schemeTableau10:()=>Ix,schemeYlGn:()=>vk,schemeYlGnBu:()=>yk,schemeYlOrBr:()=>_k,schemeYlOrRd:()=>xk,select:()=>Ir,selectAll:()=>rT,selection:()=>Pr,selector:()=>xn,selectorAll:()=>Sn,shuffle:()=>Re,shuffler:()=>Pe,some:()=>Fe,sort:()=>Ht,stack:()=>_E,stackOffsetDiverging:()=>xE,stackOffsetExpand:()=>wE,stackOffsetNone:()=>yE,stackOffsetSilhouette:()=>kE,stackOffsetWiggle:()=>TE,stackOrderAppearance:()=>SE,stackOrderAscending:()=>AE,stackOrderDescending:()=>NE,stackOrderInsideOut:()=>CE,stackOrderNone:()=>gE,stackOrderReverse:()=>LE,stratify:()=>dg,style:()=>Jn,subset:()=>Xe,sum:()=>Ie,superset:()=>Ye,svg:()=>Sl,symbol:()=>AS,symbolAsterisk:()=>eS,symbolCircle:()=>nS,symbolCross:()=>rS,symbolDiamond:()=>sS,symbolDiamond2:()=>aS,symbolPlus:()=>cS,symbolSquare:()=>uS,symbolSquare2:()=>lS,symbolStar:()=>dS,symbolTimes:()=>TS,symbolTriangle:()=>yS,symbolTriangle2:()=>vS,symbolWye:()=>kS,symbolX:()=>TS,symbols:()=>SS,symbolsFill:()=>SS,symbolsStroke:()=>ES,text:()=>dl,thresholdFreedmanDiaconis:()=>ge,thresholdScott:()=>ve,thresholdSturges:()=>oe,tickFormat:()=>zv,tickIncrement:()=>ne,tickStep:()=>re,ticks:()=>ee,timeDay:()=>Db,timeDays:()=>jb,timeFormat:()=>D_,timeFormatDefaultLocale:()=>rx,timeFormatLocale:()=>I_,timeFriday:()=>Yb,timeFridays:()=>e_,timeHour:()=>Rb,timeHours:()=>Pb,timeInterval:()=>kb,timeMillisecond:()=>Tb,timeMilliseconds:()=>Sb,timeMinute:()=>Ob,timeMinutes:()=>Nb,timeMonday:()=>Hb,timeMondays:()=>Zb,timeMonth:()=>v_,timeMonths:()=>b_,timeParse:()=>j_,timeSaturday:()=>$b,timeSaturdays:()=>n_,timeSecond:()=>Eb,timeSeconds:()=>Ab,timeSunday:()=>Kb,timeSundays:()=>Xb,timeThursday:()=>Gb,timeThursdays:()=>t_,timeTickInterval:()=>C_,timeTicks:()=>N_,timeTuesday:()=>qb,timeTuesdays:()=>Jb,timeWednesday:()=>Wb,timeWednesdays:()=>Qb,timeWeek:()=>Kb,timeWeeks:()=>Xb,timeYear:()=>x_,timeYears:()=>k_,timeout:()=>fo,timer:()=>ao,timerFlush:()=>co,transition:()=>ts,transpose:()=>Me,tree:()=>kg,treemap:()=>Og,treemapBinary:()=>Ng,treemapDice:()=>ag,treemapResquarify:()=>Lg,treemapSlice:()=>Tg,treemapSliceDice:()=>Cg,treemapSquarify:()=>Ag,tsv:()=>vl,tsvFormat:()=>yu,tsvFormatBody:()=>gu,tsvFormatRow:()=>bu,tsvFormatRows:()=>vu,tsvFormatValue:()=>_u,tsvParse:()=>du,tsvParseRows:()=>mu,union:()=>Ze,unixDay:()=>Ub,unixDays:()=>zb,utcDay:()=>Bb,utcDays:()=>Fb,utcFormat:()=>B_,utcFriday:()=>u_,utcFridays:()=>y_,utcHour:()=>Ib,utcHours:()=>Mb,utcMillisecond:()=>Tb,utcMilliseconds:()=>Sb,utcMinute:()=>Cb,utcMinutes:()=>Lb,utcMonday:()=>o_,utcMondays:()=>f_,utcMonth:()=>__,utcMonths:()=>w_,utcParse:()=>F_,utcSaturday:()=>l_,utcSaturdays:()=>g_,utcSecond:()=>Eb,utcSeconds:()=>Ab,utcSunday:()=>i_,utcSundays:()=>h_,utcThursday:()=>c_,utcThursdays:()=>m_,utcTickInterval:()=>O_,utcTicks:()=>A_,utcTuesday:()=>s_,utcTuesdays:()=>p_,utcWednesday:()=>a_,utcWednesdays:()=>d_,utcWeek:()=>i_,utcWeeks:()=>h_,utcYear:()=>T_,utcYears:()=>S_,variance:()=>bt,window:()=>Yn,xml:()=>kl,zip:()=>je,zoom:()=>ZE,zoomIdentity:()=>zE,zoomTransform:()=>VE});var s=function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:null,severity:null,startLineNumber:null,startColumn:null,endLineNumber:null,endColumn:null,message:null,initialErrorMessage:null,componentId:null,attribute:null,extraData:""};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.path,r=e.severity,i=e.startLineNumber,o=e.startColumn,s=e.endLineNumber,a=e.endColumn,c=e.message,u=e.initialErrorMessage,l=e.componentId,h=e.attribute,f=e.extraData;this.path=null!=n?n:null,this.severity=null!=r?r:t.SEVERITY_HINT,this.startLineNumber=null!=i?i:null,this.startColumn=null!=o?o:null,this.endLineNumber=null!=s?s:null,this.endColumn=null!=a?a:null,this.message=null!=c?c:null,this.initialErrorMessage=null!=u?u:null,this.componentId=null!=l?l:null,this.attribute=null!=h?h:null,this.extraData=null!=f?f:""}));n(s,"SEVERITY_HINT",1),n(s,"SEVERITY_INFO",2),n(s,"SEVERITY_WARNING",4),n(s,"SEVERITY_ERROR",8);const a=s;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}var l=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,value:null,type:null,definition:null};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.name,r=e.value,i=e.type,o=e.definition;this.name=n||null,this.value=null!=r?r:null,this.type=i||null,this.definition=o||null},e=[{key:"isVariable",get:function(){return!1}},{key:"getErrors",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.validateDefinitionType(e,r),this.validateType(e,r),this.validateRuleMinMax(e,r),this.validateRuleValues(e,r),this.validateRuleRegex(e,r),this.validateRequiredAttributes(e,r),n&&"Object"===(null===(t=this.definition)||void 0===t?void 0:t.type)&&Array.isArray(this.value)&&this.value.forEach((function(t){return t.getErrors(e,!0,r)})),e}},{key:"validateDefinitionType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===this.definition?t:"Link"===this.definition.type&&"Array"!==this.type?(t.push(new a({componentId:e,severity:a.SEVERITY_ERROR,message:"parser.error.invalidLinkType",attribute:this.name})),t):"Reference"===this.definition.type&&"String"!==this.type?(t.push(new a({componentId:e,severity:a.SEVERITY_ERROR,message:"parser.error.invalidReferenceType",attribute:this.name})),t):("Reference"!==this.definition.type&&"Link"!==this.definition.type&&this.definition.type!==this.type&&t.push(new a({componentId:e,severity:a.SEVERITY_ERROR,message:"parser.error.not".concat(this.definition.type),attribute:this.name})),t)}},{key:"validateType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===this.value?t:"Boolean"===this.type?("boolean"!=typeof this.value&&t.push(new a({componentId:e,severity:a.SEVERITY_ERROR,message:"parser.error.notBoolean",attribute:this.name})),t):"String"===this.type?("string"!=typeof this.value&&t.push(new a({componentId:e,severity:a.SEVERITY_ERROR,message:"parser.error.notString",attribute:this.name})),t):"Number"===this.type?("number"!=typeof this.value&&t.push(new a({componentId:e,severity:a.SEVERITY_ERROR,message:"parser.error.notNumber",attribute:this.name})),t):(Array.isArray(this.value)||t.push(new a({componentId:e,severity:a.SEVERITY_ERROR,message:"parser.error.not".concat(this.type),attribute:this.name})),t)}},{key:"validateRuleMinMax",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("Boolean"===this.type||"Object"===this.type||null===(t=this.definition)||void 0===t||!t.rules)return n;var i="number"==typeof this.value?this.value:(null===(e=this.value)||void 0===e?void 0:e.length)||0;return null!==this.definition.rules.min&&i<this.definition.rules.min&&n.push(new a({componentId:r,severity:a.SEVERITY_ERROR,message:"parser.error.min".concat(this.definition.type),attribute:this.name,extraData:this.definition.rules.min})),null!==this.definition.rules.max&&i>this.definition.rules.max&&n.push(new a({componentId:r,severity:a.SEVERITY_ERROR,message:"parser.error.max".concat(this.definition.type),attribute:this.name,extraData:this.definition.rules.max})),n}},{key:"validateRuleValues",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.definition||0===this.definition.rules.values.length)return e;var r=Array.isArray(this.value);return(r&&this.value.some((function(e){return!t.definition.rules.values.includes(e)}))||!r&&!this.definition.rules.values.includes(this.value))&&e.push(new a({componentId:n,severity:a.SEVERITY_ERROR,message:"parser.error.invalidValue",attribute:this.name,extraData:this.definition.rules.values.join(", ")})),e}},{key:"validateRuleRegex",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==(t=this.definition)&&void 0!==t&&t.rules.regex&&null!==this.value?(new RegExp(this.definition.rules.regex).test(this.value)||e.push(new a({componentId:n,severity:a.SEVERITY_ERROR,message:this.definition.rules.regexMessage||"parser.error.regex",attribute:this.name})),e):e}},{key:"validateRequiredAttributes",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.definition&&"Object"===this.definition.type?(this.definition.definedAttributes.forEach((function(r){var i=t.value.find((function(t){return t.name===r.name}));!r.required||i&&null!==i.value||e.push(new a({componentId:n,severity:a.SEVERITY_ERROR,message:"parser.error.required",attribute:r.name}))})),e):e}}],e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const h=l;function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t){var e=function(t){if("object"!=f(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}var d=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:null};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.path;this.path=null!=n?n:null},(e=[{key:"fileName",get:function(){return this.path?this.path.replace(/^.*[\\/]/,""):null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const m=d;var y=function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:null,y:null,width:null,height:null,hide:!1};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.x,r=e.y,i=e.width,o=e.height,s=e.hide;this.x=n||null,this.y=r||null,this.width=i||null,this.height=o||null,this.hide=s||!1}));const g=y;function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}function _(t,e,n){return e=x(e),function(t,e){if(e&&("object"==v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,n||[],x(t).constructor):e.apply(t,n))}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(w=function(){return!!t})()}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}var T=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,externalId:null,name:null,definition:null,drawOption:null,attributes:[]};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=_(this,e,[n]);var r=n.id,i=n.externalId,o=n.name,s=n.definition,a=n.drawOption,c=n.attributes;return t.__class="Component",t.id=r||null,t.externalId=i||t.id,t.name=o||null,t.definition=s||null,t.drawOption=a||new g,t.attributes=c||[],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(e,t),n=e,r=[{key:"setExternalId",value:function(t){this.externalId=t}},{key:"getConfigurationKey",value:function(){return this.id}},{key:"setReferenceAttribute",value:function(t){var e=this.definition.definedAttributes.find((function(e){return e.containerRef===t.definition.type}));if(e){var n=this.attributes.filter((function(t){var n=t.definition;return(null==n?void 0:n.name)===e.name}));n.length>0?n.forEach((function(e){e.value=t.id})):this.attributes.push(this.createAttribute({name:e.name,value:t.id,type:"String",definition:e}))}}},{key:"__createNestedAttributes",value:function(t){var e=this,n=this.attributes;return t.slice().reverse().forEach((function(t){var r=n.find((function(e){return e.definition.name===t.name}));r||(r=e.createAttribute({name:t.name,definition:t,type:"Object",value:[]}),n.push(r)),n=r.value})),n}},{key:"createAttribute",value:function(t){return new h(t)}},{key:"removeAllReferenceAttributes",value:function(t){this.attributes=t?this.attributes.filter((function(e){return!("Reference"===e.definition.type&&e.definition.containerRef===t.definition.type&&e.value===t.id)})):this.attributes.filter((function(t){return"Reference"!==t.definition.type}))}},{key:"setLinkAttribute",value:function(t){var e=[],n=this.__getLinkAttribute(e,this.definition.definedAttributes,t),r=this.__createNestedAttributes(e),i=r.find((function(t){return t.definition.name===n.name}));i||(i=this.createAttribute({name:n.name,definition:n,type:"Array",value:[]}),r.push(i)),i.value.includes(t.target)||i.value.push(t.target)}},{key:"__getLinkAttribute",value:function(t,e,n){for(var r=0;r<e.length;r+=1){if("Object"===e[r].type){var i=this.__getLinkAttribute(t,e[r].definedAttributes,n);if(i)return t.push(e[r]),i}if("Link"===e[r].type&&e[r].name===n.definition.attributeRef)return e[r]}return null}},{key:"removeLinkAttribute",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.__removeLinkAttribute(this.attributes,t,e)}},{key:"__removeLinkAttribute",value:function(t,e,n){var r=this;t.forEach((function(t){var i;if("Object"===t.type&&r.__removeLinkAttribute(t.value,e,n),"Link"===(null===(i=t.definition)||void 0===i?void 0:i.type)&&(!n||t.name===n)){var o=t.value.findIndex((function(t){return t===e}));o>=0&&t.value.splice(o,1)}}))}},{key:"getAttributeByName",value:function(t){return this.__getAttributeByName(this.attributes,t)}},{key:"__getAttributeByName",value:function(t,e){for(var n=0;n<t.length;n+=1){if(t[n].name===e)return t[n];if("Object"===t[n].type){var r=this.__getAttributeByName(t[n].value,e);if(r)return r}}return null}},{key:"__setAttributesByField",value:function(t,e,n){for(var r=this,i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];e.forEach((function(e){"Object"===(null==e?void 0:e.type)&&r.__setAttributesByField.apply(r,[t,e.value,n].concat(o)),r.__compareAttributeField.apply(r,[e,n].concat(o))&&t.push(e)}))}},{key:"__compareAttributeField",value:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o;return"definitionType"===e?r.includes(null===(o=t.definition)||void 0===o?void 0:o.type):r.includes(t[e])}},{key:"getAttributesByType",value:function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.__setAttributesByField.apply(this,[t,this.attributes,"type"].concat(n)),t}},{key:"getContainerId",value:function(){var t=this.attributes.find((function(t){var e=t.definition;return e&&"Reference"===e.type}));return t?t.value:null}},{key:"getErrors",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.validateDefinition(e),this.validateRequiredAttributes(e),this.attributes.forEach((function(n){return n.getErrors(e,!0,t.id)})),e}},{key:"validateRequiredAttributes",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.definition?(this.definition.definedAttributes.forEach((function(n){var r=t.attributes.find((function(t){return t.name===n.name}));!n.required||r&&null!==r.value||e.push(new a({componentId:t.id,severity:a.SEVERITY_ERROR,message:"parser.error.required",attribute:n.name}))})),e):e}},{key:"validateDefinition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null===this.definition&&t.push(new a({componentId:this.id,severity:a.SEVERITY_WARNING,message:"parser.warning.noComponentDefinition"})),t}},{key:"getDefinedAttributesByType",value:function(t){var e=[];return this.__setDefinedAttributesByType(e,this.definition.definedAttributes,t),e}},{key:"__setDefinedAttributesByType",value:function(t,e,n){var r=this;e.forEach((function(e){"Object"===e.type&&r.__setDefinedAttributesByType(t,e.definedAttributes,n),e.type===n&&t.push(e)}))}},{key:"canContain",value:function(t){return this.definition.isContainer&&this.definition.childrenTypes.includes(t)}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(m);const S=T;var E=function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,icon:null,model:null,displayName:null,description:null,categories:[],tags:[],url:null,parentTypes:[],childrenTypes:[],definedAttributes:[],isContainer:!1,displayType:null,workflowDirection:null,linkModel:null,defaultWidth:0,defaultHeight:0,minWidth:0,minHeight:0,reservedWidth:0,reservedHeight:0,margin:10,gap:30};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.type,r=e.icon,i=e.model,o=e.displayName,s=e.description,a=e.categories,c=e.tags,u=e.url,l=e.parentTypes,h=e.childrenTypes,f=e.definedAttributes,p=e.isContainer,d=e.displayType,m=e.workflowDirection,y=e.linkModel,g=e.defaultWidth,v=e.defaultHeight,b=e.minWidth,_=e.minHeight,w=e.reservedWidth,x=e.reservedHeight,k=e.margin,T=e.gap;this.type=n||null,this.icon=r||null,this.model=i||null,this.displayName=o||null,this.description=s||null,this.categories=a||[],this.tags=c||[],this.url=u||null,this.parentTypes=l||[],this.childrenTypes=h||[],this.definedAttributes=f||[],this.isContainer=void 0!==p&&p,this.displayType=d||null,this.workflowDirection=m||"horizontal",this.linkModel=y||null,this.defaultWidth=g||0,this.defaultHeight=v||0,this.minWidth=b||0,this.minHeight=_||0,this.reservedWidth=w||0,this.reservedHeight=x||0,this.margin=k||10,this.gap=T||30}));const A=E;function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t,e,n){return(e=L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(t){var e=function(t){if("object"!=O(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==O(e)?e:e+""}var R=function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,type:null,displayName:null,description:null,tags:[],url:null,linkType:null,linkRef:[],linkModel:null,containerRef:null,required:!1,definedAttributes:[],rules:{values:[],min:null,max:null,regex:null,regexMessage:null}};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.name,r=e.type,i=e.displayName,o=e.description,s=e.tags,a=e.url,c=e.linkType,u=e.linkRef,l=e.linkModel,h=e.containerRef,f=e.definedAttributes,p=e.required,d=e.rules;this.name=n||null,this.type=r||null,this.displayName=i||null,this.description=o||null,this.tags=s||[],this.url=a||null,this.linkType=c||null,this.linkRef=u||[],this.linkModel=l||null,this.containerRef=h||null,this.definedAttributes=f||[],this.required=p||!1,this.rules=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({values:[],min:null,max:null,regex:null,regexMessage:null},d)}));const P=R;function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function M(t,e,n){return e=j(e),function(t,e){if(e&&("object"==I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,D()?Reflect.construct(e,n||[],j(t).constructor):e.apply(t,n))}function D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(D=function(){return!!t})()}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}var F=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{source:null,target:null,name:null,definition:null,isReverse:!1};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=M(this,e);var r=n.source,i=n.target,o=n.name,s=n.definition,a=n.isReverse;return t.__class="Link",t.source=r||null,t.target=i||null,t.name=o||null,t.definition=s||null,t.isReverse=!!a,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(m);const U=F;var z=function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attributeRef:null,sourceRef:null,targetRef:null,type:null,model:null,isTemporary:!1};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.attributeRef,r=e.sourceRef,i=e.targetRef,o=e.type,s=e.model,a=e.isTemporary;this.attributeRef=n||null,this.sourceRef=r||null,this.targetRef=i||null,this.type=o||null,this.model=s||null,this.isTemporary=!!a}));const V=z;function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function H(t,e,n){return e=W(e),function(t,e){if(e&&("object"==K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,q()?Reflect.construct(e,n||[],W(t).constructor):e.apply(t,n))}function q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(q=function(){return!!t})()}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function G(t,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},G(t,e)}var Y=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:null,name:null,content:null};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=H(this,e,[n]);var r=n.content;return t.content=r||null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(m);const $=Y;function X(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Z(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function J(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=X,n=(e,n)=>X(t(e),n),r=(e,n)=>t(e)-n):(e=t===X||t===Z?t:Q,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const s=i(t,e,n,o-1);return s>n&&r(t[s-1],e)>-r(t[s],e)?s-1:s},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function Q(){return 0}function tt(t){return null===t?NaN:+t}const et=J(X),nt=et.right,rt=et.left,it=J(tt).center,ot=nt;function st(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=ft(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const at=ut(ft),ct=ut((function(t){const e=ft(t);return(t,n,r,i,o)=>{e(t,n,0+(r<<=2),0+(i<<=2),o<<=2),e(t,n,r+1,i+1,o),e(t,n,r+2,i+2,o),e(t,n,r+3,i+3,o)}}));function ut(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!n&&!r)return e;const a=n&&t(n),c=r&&t(r),u=i.slice();return a&&c?(lt(a,u,i,o,s),lt(a,i,u,o,s),lt(a,u,i,o,s),ht(c,i,u,o,s),ht(c,u,i,o,s),ht(c,i,u,o,s)):a?(lt(a,i,u,o,s),lt(a,u,i,o,s),lt(a,i,u,o,s)):c&&(ht(c,i,u,o,s),ht(c,u,i,o,s),ht(c,i,u,o,s)),e}}function lt(t,e,n,r,i){for(let o=0,s=r*i;o<s;)t(e,n,o,o+=r,1)}function ht(t,e,n,r,i){for(let o=0,s=r*i;o<r;++o)t(e,n,o,o+s,r)}function ft(t){const e=Math.floor(t);if(e===t)return function(t){const e=2*t+1;return(n,r,i,o,s)=>{if(!((o-=s)>=i))return;let a=t*r[i];const c=s*t;for(let t=i,e=i+c;t<e;t+=s)a+=r[Math.min(o,t)];for(let t=i,u=o;t<=u;t+=s)a+=r[Math.min(o,t+c)],n[t]=a/e,a-=r[Math.max(i,t-c)]}}(t);const n=t-e,r=2*t+1;return(t,i,o,s,a)=>{if(!((s-=a)>=o))return;let c=e*i[o];const u=a*e,l=u+a;for(let t=o,e=o+u;t<e;t+=a)c+=i[Math.min(s,t)];for(let e=o,h=s;e<=h;e+=a)c+=i[Math.min(s,e+u)],t[e]=(c+n*(i[Math.max(o,e-l)]+i[Math.min(s,e+l)]))/r,c-=i[Math.max(o,e-u)]}}function pt(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function dt(t){return 0|t.length}function mt(t){return!(t>0)}function yt(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function gt(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(yt)).map(dt),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(mt))return o;for(;;){o.push(i.map(((e,n)=>t[n][e])));let s=r;for(;++i[s]===n[s];){if(0===s)return e?o.map(e):o;i[s--]=0}}}function vt(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:i=>n+=+e(i,r++,t)||0)}function bt(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,o+=n*(e-i));else{let s=-1;for(let a of t)null!=(a=e(a,++s,t))&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i))}if(r>1)return o/(r-1)}function _t(t,e){const n=bt(t,e);return n?Math.sqrt(n):n}function wt(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class xt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,s=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);s&&(e[n++]=s),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}function kt(t,e){const n=new xt;if(void 0===e)for(let e of t)(e=+e)&&n.add(e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function Tt(t,e){const n=new xt;let r=-1;return Float64Array.from(t,void 0===e?t=>n.add(+t||0):i=>n.add(+e(i,++r,t)||0))}class St extends Map{constructor(t,e=Ct){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(At(this,t))}has(t){return super.has(At(this,t))}set(t,e){return super.set(Ot(this,t),e)}delete(t){return super.delete(Nt(this,t))}}class Et extends Set{constructor(t,e=Ct){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(At(this,t))}add(t){return super.add(Ot(this,t))}delete(t){return super.delete(Nt(this,t))}}function At({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ot({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Nt({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ct(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Lt(t){return t}function Rt(t,...e){return Vt(t,Lt,Lt,e)}function Pt(t,...e){return Vt(t,Array.from,Lt,e)}function It(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap((t=>t.pop().map((([e,n])=>[...t,e,n]))));return t}function Mt(t,...e){return It(Pt(t,...e),e)}function Dt(t,e,...n){return It(Bt(t,e,...n),n)}function jt(t,e,...n){return Vt(t,Lt,e,n)}function Bt(t,e,...n){return Vt(t,Array.from,e,n)}function Ft(t,...e){return Vt(t,Lt,zt,e)}function Ut(t,...e){return Vt(t,Array.from,zt,e)}function zt(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function Vt(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const s=new St,a=r[o++];let c=-1;for(const t of i){const e=a(t,++c,i),n=s.get(e);n?n.push(t):s.set(e,[t])}for(const[e,n]of s)s.set(e,t(n,o));return e(s)}(t,0)}function Kt(t,e){return Array.from(e,(e=>t[e]))}function Ht(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=Wt(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>Wt(n[t],n[e])))),Kt(t,r)}return t.sort(qt(n))}function qt(t=X){if(t===X)return Wt;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function Wt(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function Gt(t,e,n){return(2!==e.length?Ht(jt(t,e,n),(([t,e],[n,r])=>X(e,r)||X(t,n))):Ht(Rt(t,n),(([t,n],[r,i])=>e(n,i)||X(t,r)))).map((([t])=>t))}var Yt=Array.prototype,$t=Yt.slice;function Xt(t){return()=>t}Yt.map;const Zt=Math.sqrt(50),Jt=Math.sqrt(10),Qt=Math.sqrt(2);function te(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Zt?10:o>=Jt?5:o>=Qt?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=n&&n<2?te(t,e,2*n):[a,c,u]}function ee(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,o,s]=r?te(e,t,n):te(t,e,n);if(!(o>=i))return[];const a=o-i+1,c=new Array(a);if(r)if(s<0)for(let t=0;t<a;++t)c[t]=(o-t)/-s;else for(let t=0;t<a;++t)c[t]=(o-t)*s;else if(s<0)for(let t=0;t<a;++t)c[t]=(i+t)/-s;else for(let t=0;t<a;++t)c[t]=(i+t)*s;return c}function ne(t,e,n){return te(t=+t,e=+e,n=+n)[2]}function re(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?ne(e,t,n):ne(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ie(t,e,n){let r;for(;;){const i=ne(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function oe(t){return Math.max(1,Math.ceil(Math.log(pt(t))/Math.LN2)+1)}function se(){var t=Lt,e=wt,n=oe;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,s,a=r.length,c=new Array(a);for(i=0;i<a;++i)c[i]=t(r[i],i,r);var u=e(c),l=u[0],h=u[1],f=n(c,l,h);if(!Array.isArray(f)){const t=h,n=+f;if(e===wt&&([l,h]=ie(l,h,n)),(f=ee(l,h,n))[0]<=l&&(s=ne(l,h,n)),f[f.length-1]>=h)if(t>=h&&e===wt){const t=ne(l,h,n);isFinite(t)&&(t>0?h=(Math.floor(h/t)+1)*t:t<0&&(h=(Math.ceil(h*-t)+1)/-t))}else f.pop()}for(var p=f.length,d=0,m=p;f[d]<=l;)++d;for(;f[m-1]>h;)--m;(d||m<p)&&(f=f.slice(d,m),p=m-d);var y,g=new Array(p+1);for(i=0;i<=p;++i)(y=g[i]=[]).x0=i>0?f[i-1]:l,y.x1=i<p?f[i]:h;if(isFinite(s)){if(s>0)for(i=0;i<a;++i)null!=(o=c[i])&&l<=o&&o<=h&&g[Math.min(p,Math.floor((o-l)/s))].push(r[i]);else if(s<0)for(i=0;i<a;++i)if(null!=(o=c[i])&&l<=o&&o<=h){const t=Math.floor((l-o)*s);g[Math.min(p,t+(f[t]<=o))].push(r[i])}}else for(i=0;i<a;++i)null!=(o=c[i])&&l<=o&&o<=h&&g[ot(f,o,0,p)].push(r[i]);return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:Xt(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:Xt([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Xt(Array.isArray(t)?$t.call(t):t),r):n},r}function ae(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function ce(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function ue(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function le(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function he(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=void 0===i?Wt:qt(i);r>n;){if(r-n>600){const o=r-n+1,s=e-n+1,a=Math.log(o),c=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*c*(o-c)/o)*(s-o/2<0?-1:1);he(t,e,Math.max(n,Math.floor(e-s*c/o+u)),Math.min(r,Math.floor(e+(o-s)*c/o+u)),i)}const o=t[e];let s=n,a=r;for(fe(t,n,e),i(t[r],o)>0&&fe(t,n,r);s<a;){for(fe(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}0===i(t[n],o)?fe(t,n,a):(++a,fe(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function fe(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pe(t,e=X){let n,r=!1;if(1===e.length){let i;for(const o of t){const t=e(o);(r?X(t,i)>0:0===X(t,t))&&(n=o,i=t,r=!0)}}else for(const i of t)(r?e(i,n)>0:0===e(i,i))&&(n=i,r=!0);return n}function de(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return ue(t);if(e>=1)return ae(t);var r,i=(r-1)*e,o=Math.floor(i),s=ae(he(t,o).subarray(0,o+1));return s+(ue(t.subarray(o+1))-s)*(i-o)}}function me(t,e,n=tt){if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(i-o)}}function ye(t,e,n=tt){if(!isNaN(e=+e)){if(r=Float64Array.from(t,((e,r)=>tt(n(t[r],r,t)))),e<=0)return le(r);if(e>=1)return ce(r);var r,i=Uint32Array.from(t,((t,e)=>e)),o=r.length-1,s=Math.floor(o*e);return he(i,s,0,o,((t,e)=>Wt(r[t],r[e]))),(s=pe(i.subarray(0,s+1),(t=>r[t])))>=0?s:-1}}function ge(t,e,n){const r=pt(t),i=de(t,.75)-de(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function ve(t,e,n){const r=pt(t),i=_t(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function be(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function _e(t,e){return de(t,.5,e)}function we(t,e){return ye(t,.5,e)}function xe(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function ke(t,e){const n=new St;if(void 0===e)for(let e of t)null!=e&&e>=e&&n.set(e,(n.get(e)||0)+1);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[t,e]of n)e>i&&(i=e,r=t);return r}function Te(t,e=Se){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function Se(t,e){return[t,e]}function Ee(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ae(t,e=X){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);2!==e.length&&(n=n.map(e),e=X);const i=(t,r)=>e(n[t],n[r]);let o,s;return t=Uint32Array.from(n,((t,e)=>e)),t.sort(e===X?(t,e)=>Wt(n[t],n[e]):qt(i)),t.forEach(((t,e)=>{const n=i(t,void 0===o?t:o);n>=0?((void 0===o||n>0)&&(o=t,s=e),r[t]=s):r[t]=NaN})),r}function Oe(t,e=X){let n,r=!1;if(1===e.length){let i;for(const o of t){const t=e(o);(r?X(t,i)<0:0===X(t,t))&&(n=o,i=t,r=!0)}}else for(const i of t)(r?e(i,n)<0:0===e(i,i))&&(n=i,r=!0);return n}function Ne(t,e=X){if(1===e.length)return le(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?0===e(o,o):e(o,n)<0)&&(n=o,r=i);return r}function Ce(t,e=X){if(1===e.length)return ce(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?0===e(o,o):e(o,n)>0)&&(n=o,r=i);return r}function Le(t,e){const n=Ne(t,e);return n<0?void 0:n}const Re=Pe(Math.random);function Pe(t){return function(e,n=0,r=e.length){let i=r-(n=+n);for(;i;){const r=t()*i--|0,o=e[i+n];e[i+n]=e[r+n],e[r+n]=o}return e}}function Ie(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Me(t){if(!(i=t.length))return[];for(var e=-1,n=ue(t,De),r=new Array(n);++e<n;)for(var i,o=-1,s=r[e]=new Array(i);++o<i;)s[o]=t[o][e];return r}function De(t){return t.length}function je(){return Me(arguments)}function Be(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function Fe(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function Ue(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function ze(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}function Ve(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,s=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++s}for(;({done:i,value:o}=r.next()),!i;)n=e(n,o,++s,t);return n}function Ke(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function He(t,...e){t=new Et(t);for(const n of e)for(const e of n)t.delete(e);return t}function qe(t,e){const n=e[Symbol.iterator](),r=new Et;for(const e of t){if(r.has(e))return!1;let t,i;for(;({value:t,done:i}=n.next())&&!i;){if(Object.is(e,t))return!1;r.add(t)}}return!0}function We(t,...e){t=new Et(t),e=e.map(Ge);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Ge(t){return t instanceof Et?t:new Et(t)}function Ye(t,e){const n=t[Symbol.iterator](),r=new Set;for(const t of e){const e=$e(t);if(r.has(e))continue;let i,o;for(;({value:i,done:o}=n.next());){if(o)return!1;const t=$e(i);if(r.add(t),Object.is(e,t))break}}return!0}function $e(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Xe(t,e){return Ye(e,t)}function Ze(...t){const e=new Et;for(const n of t)for(const t of n)e.add(t);return e}function Je(t){return t}var Qe=1,tn=2,en=3,nn=4,rn=1e-6;function on(t){return"translate("+t+",0)"}function sn(t){return"translate(0,"+t+")"}function an(t){return e=>+t(e)}function cn(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function un(){return!this.__axis}function ln(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=t===Qe||t===nn?-1:1,l=t===nn||t===tn?"x":"y",h=t===Qe||t===en?on:sn;function f(f){var p=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,d=null==i?e.tickFormat?e.tickFormat.apply(e,n):Je:i,m=Math.max(o,0)+a,y=e.range(),g=+y[0]+c,v=+y[y.length-1]+c,b=(e.bandwidth?cn:an)(e.copy(),c),_=f.selection?f.selection():f,w=_.selectAll(".domain").data([null]),x=_.selectAll(".tick").data(p,e).order(),k=x.exit(),T=x.enter().append("g").attr("class","tick"),S=x.select("line"),E=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(T),S=S.merge(T.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),E=E.merge(T.append("text").attr("fill","currentColor").attr(l,u*m).attr("dy",t===Qe?"0em":t===en?"0.71em":"0.32em")),f!==_&&(w=w.transition(f),x=x.transition(f),S=S.transition(f),E=E.transition(f),k=k.transition(f).attr("opacity",rn).attr("transform",(function(t){return isFinite(t=b(t))?h(t+c):this.getAttribute("transform")})),T.attr("opacity",rn).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:b(t))+c)}))),k.remove(),w.attr("d",t===nn||t===tn?s?"M"+u*s+","+g+"H"+c+"V"+v+"H"+u*s:"M"+c+","+g+"V"+v:s?"M"+g+","+u*s+"V"+c+"H"+v+"V"+u*s:"M"+g+","+c+"H"+v),x.attr("opacity",1).attr("transform",(function(t){return h(b(t)+c)})),S.attr(l+"2",u*o),E.attr(l,u*m).text(d),_.filter(un).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===tn?"start":t===nn?"end":"middle"),_.each((function(){this.__axis=b}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=s=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(s=+t,f):s},f.tickPadding=function(t){return arguments.length?(a=+t,f):a},f.offset=function(t){return arguments.length?(c=+t,f):c},f}function hn(t){return ln(Qe,t)}function fn(t){return ln(tn,t)}function pn(t){return ln(en,t)}function dn(t){return ln(nn,t)}var mn={value:()=>{}};function yn(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new gn(r)}function gn(t){this._=t}function vn(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function bn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=mn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}gn.prototype=yn.prototype={constructor:gn,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(t=o[s]).type)i[n]=bn(i[n],t.name,e);else if(null==e)for(n in i)i[n]=bn(i[n],t.name,null);return this}for(;++s<a;)if((n=(t=o[s]).type)&&(n=vn(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gn(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const _n=yn;function wn(){}function xn(t){return null==t?wn:function(){return this.querySelector(t)}}function kn(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Tn(){return[]}function Sn(t){return null==t?Tn:function(){return this.querySelectorAll(t)}}function En(t){return function(){return this.matches(t)}}function An(t){return function(e){return e.matches(t)}}var On=Array.prototype.find;function Nn(){return this.firstElementChild}var Cn=Array.prototype.filter;function Ln(){return Array.from(this.children)}function Rn(t){return new Array(t.length)}function Pn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function In(t,e,n,r,i,o){for(var s,a=0,c=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Pn(t,o[a]);for(;a<c;++a)(s=e[a])&&(i[a]=s)}function Mn(t,e,n,r,i,o,s){var a,c,u,l=new Map,h=e.length,f=o.length,p=new Array(h);for(a=0;a<h;++a)(c=e[a])&&(p[a]=u=s.call(c,c.__data__,a,e)+"",l.has(u)?i[a]=c:l.set(u,c));for(a=0;a<f;++a)u=s.call(t,o[a],a,o)+"",(c=l.get(u))?(r[a]=c,c.__data__=o[a],l.delete(u)):n[a]=new Pn(t,o[a]);for(a=0;a<h;++a)(c=e[a])&&l.get(p[a])===c&&(i[a]=c)}function Dn(t){return t.__data__}function jn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Bn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Pn.prototype={constructor:Pn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Fn="http://www.w3.org/1999/xhtml";const Un={svg:"http://www.w3.org/2000/svg",xhtml:Fn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zn(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Un.hasOwnProperty(e)?{space:Un[e],local:t}:t}function Vn(t){return function(){this.removeAttribute(t)}}function Kn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hn(t,e){return function(){this.setAttribute(t,e)}}function qn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Wn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Gn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Yn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $n(t){return function(){this.style.removeProperty(t)}}function Xn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zn(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Jn(t,e){return t.style.getPropertyValue(e)||Yn(t).getComputedStyle(t,null).getPropertyValue(e)}function Qn(t){return function(){delete this[t]}}function tr(t,e){return function(){this[t]=e}}function er(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function nr(t){return t.trim().split(/^|\s+/)}function rr(t){return t.classList||new ir(t)}function ir(t){this._node=t,this._names=nr(t.getAttribute("class")||"")}function or(t,e){for(var n=rr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function sr(t,e){for(var n=rr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ar(t){return function(){or(this,t)}}function cr(t){return function(){sr(this,t)}}function ur(t,e){return function(){(e.apply(this,arguments)?or:sr)(this,t)}}function lr(){this.textContent=""}function hr(t){return function(){this.textContent=t}}function fr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function pr(){this.innerHTML=""}function dr(t){return function(){this.innerHTML=t}}function mr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function yr(){this.nextSibling&&this.parentNode.appendChild(this)}function gr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Fn&&e.documentElement.namespaceURI===Fn?e.createElement(t):e.createElementNS(n,t)}}function br(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _r(t){var e=zn(t);return(e.local?br:vr)(e)}function wr(){return null}function xr(){var t=this.parentNode;t&&t.removeChild(this)}function kr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Tr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Sr(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Er(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Ar(t,e,n){var r=Yn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Or(t,e){return function(){return Ar(this,t,e)}}function Nr(t,e){return function(){return Ar(this,t,e.apply(this,arguments))}}ir.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Cr=[null];function Lr(t,e){this._groups=t,this._parents=e}function Rr(){return new Lr([[document.documentElement]],Cr)}Lr.prototype=Rr.prototype={constructor:Lr,select:function(t){"function"!=typeof t&&(t=xn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],c=a.length,u=r[i]=new Array(c),l=0;l<c;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),u[l]=s);return new Lr(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return kn(t.apply(this,arguments))}}(t):Sn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],c=a.length,u=0;u<c;++u)(s=a[u])&&(r.push(t.call(s,s.__data__,u,a)),i.push(s));return new Lr(r,i)},selectChild:function(t){return this.select(null==t?Nn:function(t){return function(){return On.call(this.children,t)}}("function"==typeof t?t:An(t)))},selectChildren:function(t){return this.selectAll(null==t?Ln:function(t){return function(){return Cn.call(this.children,t)}}("function"==typeof t?t:An(t)))},filter:function(t){"function"!=typeof t&&(t=En(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,c=r[i]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&c.push(o);return new Lr(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Dn);var n,r=e?Mn:In,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),c=new Array(s),u=new Array(s),l=0;l<s;++l){var h=i[l],f=o[l],p=f.length,d=jn(t.call(h,h&&h.__data__,l,i)),m=d.length,y=c[l]=new Array(m),g=a[l]=new Array(m);r(h,f,y,g,u[l]=new Array(p),d,e);for(var v,b,_=0,w=0;_<m;++_)if(v=y[_]){for(_>=w&&(w=_+1);!(b=g[w])&&++w<m;);v._next=b||null}}return(a=new Lr(a,i))._enter=c,a._exit=u,a},enter:function(){return new Lr(this._enter||this._groups.map(Rn),this._parents)},exit:function(){return new Lr(this._exit||this._groups.map(Rn),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u,l=n[c],h=r[c],f=l.length,p=a[c]=new Array(f),d=0;d<f;++d)(u=l[d]||h[d])&&(p[d]=u);for(;c<i;++c)a[c]=n[c];return new Lr(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Bn);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],c=a.length,u=i[o]=new Array(c),l=0;l<c;++l)(s=a[l])&&(u[l]=s);u.sort(e)}return new Lr(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=zn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Kn:Vn:"function"==typeof e?n.local?Gn:Wn:n.local?qn:Hn)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?$n:"function"==typeof e?Zn:Xn)(t,e,null==n?"":n)):Jn(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Qn:"function"==typeof e?er:tr)(t,e)):this.node()[t]},classed:function(t,e){var n=nr(t+"");if(arguments.length<2){for(var r=rr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ur:e?ar:cr)(n,e))},text:function(t){return arguments.length?this.each(null==t?lr:("function"==typeof t?fr:hr)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?pr:("function"==typeof t?mr:dr)(t)):this.node().innerHTML},raise:function(){return this.each(yr)},lower:function(){return this.each(gr)},append:function(t){var e="function"==typeof t?t:_r(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:_r(t),r=null==e?wr:"function"==typeof e?e:xn(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(xr)},clone:function(t){return this.select(t?Tr:kr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?Er:Sr,r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var c,u=0,l=a.length;u<l;++u)for(r=0,c=a[u];r<s;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Nr:Or)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const Pr=Rr;function Ir(t){return"string"==typeof t?new Lr([[document.querySelector(t)]],[document.documentElement]):new Lr([[t]],Cr)}const Mr={passive:!1},Dr={capture:!0,passive:!1};function jr(t){t.stopImmediatePropagation()}function Br(t){t.preventDefault(),t.stopImmediatePropagation()}function Fr(t){var e=t.document.documentElement,n=Ir(t).on("dragstart.drag",Br,Dr);"onselectstart"in e?n.on("selectstart.drag",Br,Dr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ur(t,e){var n=t.document.documentElement,r=Ir(t).on("dragstart.drag",null);e&&(r.on("click.drag",Br,Dr),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function zr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Kr(){}var Hr=.7,qr=1/Hr,Wr="\\s*([+-]?\\d+)\\s*",Gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$r=/^#([0-9a-f]{3,8})$/,Xr=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),Zr=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),Jr=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${Gr}\\)$`),Qr=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${Gr}\\)$`),ti=new RegExp(`^hsl\\(${Gr},${Yr},${Yr}\\)$`),ei=new RegExp(`^hsla\\(${Gr},${Yr},${Yr},${Gr}\\)$`),ni={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ri(){return this.rgb().formatHex()}function ii(){return this.rgb().formatRgb()}function oi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$r.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?si(e):3===n?new li(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ai(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ai(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Xr.exec(t))?new li(e[1],e[2],e[3],1):(e=Zr.exec(t))?new li(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Jr.exec(t))?ai(e[1],e[2],e[3],e[4]):(e=Qr.exec(t))?ai(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ti.exec(t))?yi(e[1],e[2]/100,e[3]/100,1):(e=ei.exec(t))?yi(e[1],e[2]/100,e[3]/100,e[4]):ni.hasOwnProperty(t)?si(ni[t]):"transparent"===t?new li(NaN,NaN,NaN,0):null}function si(t){return new li(t>>16&255,t>>8&255,255&t,1)}function ai(t,e,n,r){return r<=0&&(t=e=n=NaN),new li(t,e,n,r)}function ci(t){return t instanceof Kr||(t=oi(t)),t?new li((t=t.rgb()).r,t.g,t.b,t.opacity):new li}function ui(t,e,n,r){return 1===arguments.length?ci(t):new li(t,e,n,null==r?1:r)}function li(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function hi(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}`}function fi(){const t=pi(this.opacity);return`${1===t?"rgb(":"rgba("}${di(this.r)}, ${di(this.g)}, ${di(this.b)}${1===t?")":`, ${t})`}`}function pi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function di(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mi(t){return((t=di(t))<16?"0":"")+t.toString(16)}function yi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bi(t,e,n,r)}function gi(t){if(t instanceof bi)return new bi(t.h,t.s,t.l,t.opacity);if(t instanceof Kr||(t=oi(t)),!t)return new bi;if(t instanceof bi)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new bi(s,a,c,t.opacity)}function vi(t,e,n,r){return 1===arguments.length?gi(t):new bi(t,e,n,null==r?1:r)}function bi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function _i(t){return(t=(t||0)%360)<0?t+360:t}function wi(t){return Math.max(0,Math.min(1,t||0))}function xi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ki(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}function Ti(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return ki((n-r/e)*e,s,i,o,a)}}function Si(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return ki((n-r/e)*e,i,o,s,a)}}zr(Kr,oi,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ri,formatHex:ri,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return gi(this).formatHsl()},formatRgb:ii,toString:ii}),zr(li,ui,Vr(Kr,{brighter(t){return t=null==t?qr:Math.pow(qr,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Hr:Math.pow(Hr,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new li(di(this.r),di(this.g),di(this.b),pi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hi,formatHex:hi,formatHex8:function(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}${mi(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:fi,toString:fi})),zr(bi,vi,Vr(Kr,{brighter(t){return t=null==t?qr:Math.pow(qr,t),new bi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Hr:Math.pow(Hr,t),new bi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new li(xi(t>=240?t-240:t+120,i,r),xi(t,i,r),xi(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new bi(_i(this.h),wi(this.s),wi(this.l),pi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pi(this.opacity);return`${1===t?"hsl(":"hsla("}${_i(this.h)}, ${100*wi(this.s)}%, ${100*wi(this.l)}%${1===t?")":`, ${t})`}`}}));const Ei=t=>()=>t;function Ai(t,e){return function(n){return t+n*e}}function Oi(t,e){var n=e-t;return n?Ai(t,n>180||n<-180?n-360*Math.round(n/360):n):Ei(isNaN(t)?e:t)}function Ni(t,e){var n=e-t;return n?Ai(t,n):Ei(isNaN(t)?e:t)}const Ci=function t(e){var n=function(t){return 1==(t=+t)?Ni:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ei(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=ui(t)).r,(e=ui(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=Ni(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function Li(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=ui(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}var Ri=Li(Ti),Pi=Li(Si);function Ii(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Mi(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Di(t,e){return(Mi(e)?Ii:ji)(t,e)}function ji(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Hi(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=o[n](t);return s}}function Bi(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ui(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Hi(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var zi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vi=new RegExp(zi.source,"g");function Ki(t,e){var n,r,i,o=zi.lastIndex=Vi.lastIndex=0,s=-1,a=[],c=[];for(t+="",e+="";(n=zi.exec(t))&&(r=Vi.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,c.push({i:s,x:Fi(n,r)})),o=Vi.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)a[(n=c[r]).i]=n.x(t);return a.join("")})}function Hi(t,e){var n,r=typeof e;return null==e||"boolean"===r?Ei(e):("number"===r?Fi:"string"===r?(n=oi(e))?(e=n,Ci):Ki:e instanceof oi?Ci:e instanceof Date?Bi:Mi(e)?Ii:Array.isArray(e)?ji:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ui:Fi)(t,e)}function qi(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Wi(t,e){if(t=qi(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var Gi,Yi,$i=0,Xi=0,Zi=0,Ji=1e3,Qi=0,to=0,eo=0,no="object"==typeof performance&&performance.now?performance:Date,ro="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function io(){return to||(ro(oo),to=no.now()+eo)}function oo(){to=0}function so(){this._call=this._time=this._next=null}function ao(t,e,n){var r=new so;return r.restart(t,e,n),r}function co(){io(),++$i;for(var t,e=Gi;e;)(t=to-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$i}function uo(){to=(Qi=no.now())+eo,$i=Xi=0;try{co()}finally{$i=0,function(){for(var t,e,n=Gi,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Gi=e);Yi=t,ho(r)}(),to=0}}function lo(){var t=no.now(),e=t-Qi;e>Ji&&(eo-=e,Qi=t)}function ho(t){$i||(Xi&&(Xi=clearTimeout(Xi)),t-to>24?(t<1/0&&(Xi=setTimeout(uo,t-no.now()-eo)),Zi&&(Zi=clearInterval(Zi))):(Zi||(Qi=no.now(),Zi=setInterval(lo,Ji)),$i=1,ro(uo)))}function fo(t,e,n){var r=new so;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}so.prototype=ao.prototype={constructor:so,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?io():+n)+(null==e?0:+e),this._next||Yi===this||(Yi?Yi._next=this:Gi=this,Yi=this),this._call=t,this._time=n,ho()},stop:function(){this._call&&(this._call=null,this._time=1/0,ho())}};var po=_n("start","end","cancel","interrupt"),mo=[],yo=0,go=1,vo=2,bo=3,_o=5,wo=6;function xo(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(c){var u,l,h,f;if(n.state!==go)return a();for(u in i)if((f=i[u]).name===n.name){if(f.state===bo)return fo(o);4===f.state?(f.state=wo,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[u]):+u<e&&(f.state=wo,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[u])}if(fo((function(){n.state===bo&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(c))})),n.state=vo,n.on.call("start",t,t.__data__,n.index,n.group),n.state===vo){for(n.state=bo,r=new Array(h=n.tween.length),u=0,l=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=f);r.length=l+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=_o,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);n.state===_o&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=wo,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=ao((function(t){n.state=go,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:po,tween:mo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:yo})}function ko(t,e){var n=So(t,e);if(n.state>yo)throw new Error("too late; already scheduled");return n}function To(t,e){var n=So(t,e);if(n.state>bo)throw new Error("too late; already running");return n}function So(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Eo(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>vo&&n.state<_o,n.state=wo,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}}var Ao,Oo=180/Math.PI,No={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Co(t,e,n,r,i,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Oo,skewX:Math.atan(c)*Oo,scaleX:s,scaleY:a}}function Lo(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],c=[];return o=t(o),s=t(s),function(t,r,i,o,s,a){if(t!==i||r!==o){var c=s.push("translate(",null,e,null,n);a.push({i:c-4,x:Fi(t,i)},{i:c-2,x:Fi(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Fi(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,a,c),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Fi(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,a,c),function(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Fi(t,n)},{i:a-2,x:Fi(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,c),o=s=null,function(t){for(var e,n=-1,r=c.length;++n<r;)a[(e=c[n]).i]=e.x(t);return a.join("")}}}var Ro=Lo((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?No:Co(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Po=Lo((function(t){return null==t?No:(Ao||(Ao=document.createElementNS("http://www.w3.org/2000/svg","g")),Ao.setAttribute("transform",t),(t=Ao.transform.baseVal.consolidate())?Co((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):No)}),", ",")",")");function Io(t,e){var n,r;return function(){var i=To(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function Mo(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=To(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function Do(t,e,n){var r=t._id;return t.each((function(){var t=To(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return So(t,r).value[e]}}function jo(t,e){var n;return("number"==typeof e?Fi:e instanceof oi?Ci:(n=oi(e))?(e=n,Ci):Ki)(t,e)}function Bo(t){return function(){this.removeAttribute(t)}}function Fo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Uo(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function zo(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function Vo(t,e,n){var r,i,o;return function(){var s,a,c=n(this);if(null!=c)return(s=this.getAttribute(t))===(a=c+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,c));this.removeAttribute(t)}}function Ko(t,e,n){var r,i,o;return function(){var s,a,c=n(this);if(null!=c)return(s=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,c));this.removeAttributeNS(t.space,t.local)}}function Ho(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function qo(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Wo(t,e){return function(){ko(this,t).delay=+e.apply(this,arguments)}}function Go(t,e){return e=+e,function(){ko(this,t).delay=e}}function Yo(t,e){return function(){To(this,t).duration=+e.apply(this,arguments)}}function $o(t,e){return e=+e,function(){To(this,t).duration=e}}var Xo=Pr.prototype.constructor;function Zo(t){return function(){this.style.removeProperty(t)}}var Jo=0;function Qo(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ts(t){return Pr().transition(t)}function es(){return++Jo}var ns=Pr.prototype;function rs(t){return t*t*t}function is(t){return--t*t*t+1}function os(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Qo.prototype=ts.prototype={constructor:Qo,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=xn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,c,u=r[s],l=u.length,h=o[s]=new Array(l),f=0;f<l;++f)(a=u[f])&&(c=t.call(a,a.__data__,f,u))&&("__data__"in a&&(c.__data__=a.__data__),h[f]=c,xo(h[f],e,n,f,h,So(a,n)));return new Qo(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Sn(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c,u=r[a],l=u.length,h=0;h<l;++h)if(c=u[h]){for(var f,p=t.call(c,c.__data__,h,u),d=So(c,n),m=0,y=p.length;m<y;++m)(f=p[m])&&xo(f,e,n,m,p,d);o.push(p),s.push(c)}return new Qo(o,s,e,n)},selectChild:ns.selectChild,selectChildren:ns.selectChildren,filter:function(t){"function"!=typeof t&&(t=En(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,c=r[i]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&c.push(o);return new Qo(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c,u=e[a],l=n[a],h=u.length,f=s[a]=new Array(h),p=0;p<h;++p)(c=u[p]||l[p])&&(f[p]=c);for(;a<r;++a)s[a]=e[a];return new Qo(s,this._parents,this._name,this._id)},selection:function(){return new Xo(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=es(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],c=a.length,u=0;u<c;++u)if(s=a[u]){var l=So(s,e);xo(s,t,n,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Qo(r,this._parents,t,n)},call:ns.call,nodes:ns.nodes,node:ns.node,size:ns.size,empty:ns.empty,each:ns.each,on:function(t,e){var n=this._id;return arguments.length<2?So(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ko:To;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}(n,t,e))},attr:function(t,e){var n=zn(t),r="transform"===n?Po:jo;return this.attrTween(t,"function"==typeof e?(n.local?Ko:Vo)(n,r,Do(this,"attr."+t,e)):null==e?(n.local?Fo:Bo)(n):(n.local?zo:Uo)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=zn(t);return this.tween(n,(r.local?Ho:qo)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Ro:jo;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Jn(this,t),s=(this.style.removeProperty(t),Jn(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,Zo(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=Jn(this,t),a=n(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=Jn(this,t)),s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a))}}(t,r,Do(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,a="end."+s;return function(){var c=To(this,t),u=c.on,l=null==c.value[s]?o||(o=Zo(e)):void 0;u===n&&i===l||(r=(n=u).copy()).on(a,i=l),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=Jn(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Do(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=So(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Io:Mo)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Wo:Go)(e,t)):So(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Yo:$o)(e,t)):So(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){To(this,t).ease=e}}(e,t)):So(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;To(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},c={value:function(){0==--i&&o()}};n.each((function(){var n=To(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:ns[Symbol.iterator]};var ss={time:null,delay:0,duration:250,ease:os};function as(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Pr.prototype.interrupt=function(t){return this.each((function(){Eo(this,t)}))},Pr.prototype.transition=function(t){var e,n;t instanceof Qo?(e=t._id,t=t._name):(e=es(),(n=ss).time=io(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],c=a.length,u=0;u<c;++u)(s=a[u])&&xo(s,t,e,u,a,n||as(s,e));return new Qo(r,this._parents,t,e)};var cs=[null];function us(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>go&&n.name===e)return new Qo([[t]],cs,e,+r);return null}const ls=t=>()=>t;function hs(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function fs(t){t.preventDefault(),t.stopImmediatePropagation()}var ps={name:"drag"},ds={name:"space"},ms={name:"handle"},ys={name:"center"};const{abs:gs,max:vs,min:bs}=Math;function _s(t){return[+t[0],+t[1]]}function ws(t){return[_s(t[0]),_s(t[1])]}var xs={name:"x",handles:["w","e"].map(Cs),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ks={name:"y",handles:["n","s"].map(Cs),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ts={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Cs),input:function(t){return null==t?null:ws(t)},output:function(t){return t}},Ss={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Es={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},As={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Os={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ns={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Cs(t){return{type:t}}function Ls(t){return!t.ctrlKey&&!t.button}function Rs(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ps(){return navigator.maxTouchPoints||"ontouchstart"in this}function Is(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ms(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ds(){return Fs(xs)}function js(){return Fs(ks)}function Bs(){return Fs(Ts)}function Fs(t){var e,n=Rs,r=Ls,i=Ps,o=!0,s=_n("start","brush","end"),a=6;function c(e){var n=e.property("__brush",m).selectAll(".overlay").data([Cs("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ss.overlay).merge(n).each((function(){var t=Is(this).extent;Ir(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Cs("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ss.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Ss[t.type]})),e.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){var t=Ir(this),e=Is(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-a/2:e[0][0]-a/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-a/2:e[0][1]-a/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+a:a})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+a:a}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new h(t,e,n):r}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function f(n){if((!e||n.touches)&&r.apply(this,arguments)){var i,s,a,c,h,f,p,d,m,y,g,v=this,b=n.target.__data__.type,_="selection"===(o&&n.metaKey?b="overlay":b)?ps:o&&n.altKey?ys:ms,w=t===ks?null:Os[b],x=t===xs?null:Ns[b],k=Is(v),T=k.extent,S=k.selection,E=T[0][0],A=T[0][1],O=T[1][0],N=T[1][1],C=0,L=0,R=w&&x&&o&&n.shiftKey,P=Array.from(n.touches||[n],(t=>{const e=t.identifier;return(t=Wi(t,v)).point0=t.slice(),t.identifier=e,t}));Eo(v);var I=l(v,arguments,!0).beforestart();if("overlay"===b){S&&(m=!0);const e=[P[0],P[1]||P[0]];k.selection=S=[[i=t===ks?E:bs(e[0][0],e[1][0]),a=t===xs?A:bs(e[0][1],e[1][1])],[h=t===ks?O:vs(e[0][0],e[1][0]),p=t===xs?N:vs(e[0][1],e[1][1])]],P.length>1&&F(n)}else i=S[0][0],a=S[0][1],h=S[1][0],p=S[1][1];s=i,c=a,f=h,d=p;var M=Ir(v).attr("pointer-events","none"),D=M.selectAll(".overlay").attr("cursor",Ss[b]);if(n.touches)I.moved=B,I.ended=U;else{var j=Ir(n.view).on("mousemove.brush",B,!0).on("mouseup.brush",U,!0);o&&j.on("keydown.brush",(function(t){switch(t.keyCode){case 16:R=w&&x;break;case 18:_===ms&&(w&&(h=f-C*w,i=s+C*w),x&&(p=d-L*x,a=c+L*x),_=ys,F(t));break;case 32:_!==ms&&_!==ys||(w<0?h=f-C:w>0&&(i=s-C),x<0?p=d-L:x>0&&(a=c-L),_=ds,D.attr("cursor",Ss.selection),F(t));break;default:return}fs(t)}),!0).on("keyup.brush",(function(t){switch(t.keyCode){case 16:R&&(y=g=R=!1,F(t));break;case 18:_===ys&&(w<0?h=f:w>0&&(i=s),x<0?p=d:x>0&&(a=c),_=ms,F(t));break;case 32:_===ds&&(t.altKey?(w&&(h=f-C*w,i=s+C*w),x&&(p=d-L*x,a=c+L*x),_=ys):(w<0?h=f:w>0&&(i=s),x<0?p=d:x>0&&(a=c),_=ms),D.attr("cursor",Ss[b]),F(t));break;default:return}fs(t)}),!0),Fr(n.view)}u.call(v),I.start(n,_.name)}function B(t){for(const e of t.changedTouches||[t])for(const t of P)t.identifier===e.identifier&&(t.cur=Wi(e,v));if(R&&!y&&!g&&1===P.length){const t=P[0];gs(t.cur[0]-t[0])>gs(t.cur[1]-t[1])?g=!0:y=!0}for(const t of P)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);m=!0,fs(t),F(t)}function F(t){const e=P[0],n=e.point0;var r;switch(C=e[0]-n[0],L=e[1]-n[1],_){case ds:case ps:w&&(C=vs(E-i,bs(O-h,C)),s=i+C,f=h+C),x&&(L=vs(A-a,bs(N-p,L)),c=a+L,d=p+L);break;case ms:P[1]?(w&&(s=vs(E,bs(O,P[0][0])),f=vs(E,bs(O,P[1][0])),w=1),x&&(c=vs(A,bs(N,P[0][1])),d=vs(A,bs(N,P[1][1])),x=1)):(w<0?(C=vs(E-i,bs(O-i,C)),s=i+C,f=h):w>0&&(C=vs(E-h,bs(O-h,C)),s=i,f=h+C),x<0?(L=vs(A-a,bs(N-a,L)),c=a+L,d=p):x>0&&(L=vs(A-p,bs(N-p,L)),c=a,d=p+L));break;case ys:w&&(s=vs(E,bs(O,i-C*w)),f=vs(E,bs(O,h+C*w))),x&&(c=vs(A,bs(N,a-L*x)),d=vs(A,bs(N,p+L*x)))}f<s&&(w*=-1,r=i,i=h,h=r,r=s,s=f,f=r,b in Es&&D.attr("cursor",Ss[b=Es[b]])),d<c&&(x*=-1,r=a,a=p,p=r,r=c,c=d,d=r,b in As&&D.attr("cursor",Ss[b=As[b]])),k.selection&&(S=k.selection),y&&(s=S[0][0],f=S[1][0]),g&&(c=S[0][1],d=S[1][1]),S[0][0]===s&&S[0][1]===c&&S[1][0]===f&&S[1][1]===d||(k.selection=[[s,c],[f,d]],u.call(v),I.brush(t,_.name))}function U(t){if(function(t){t.stopImmediatePropagation()}(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Ur(t.view,m),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);M.attr("pointer-events","all"),D.attr("cursor",Ss.overlay),k.selection&&(S=k.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(S)&&(k.selection=null,u.call(v)),I.end(t,_.name)}}function p(t){l(this,arguments).moved(t)}function d(t){l(this,arguments).ended(t)}function m(){var e=this.__brush||{selection:null};return e.extent=ws(n.apply(this,arguments)),e.dim=t,e}return c.move=function(e,n,r){e.tween?e.on("start.brush",(function(t){l(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){l(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,i=l(e,arguments),o=r.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),a=Hi(o,s);function c(t){r.selection=1===t&&null===s?null:a(t),u.call(e),i.brush()}return null!==o&&null!==s?c:c(1)})):e.each((function(){var e=this,i=arguments,o=e.__brush,s=t.input("function"==typeof n?n.apply(e,i):n,o.extent),a=l(e,i).beforestart();Eo(e),o.selection=null===s?null:s,u.call(e),a.start(r).brush(r).end(r)}))},c.clear=function(t,e){c.move(t,null,e)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var i=Ir(this.that).datum();s.call(e,this.that,new hs(e,{sourceEvent:n,target:c,selection:t.output(this.state.selection),mode:r,dispatch:s}),i)}},c.extent=function(t){return arguments.length?(n="function"==typeof t?t:ls(ws(t)),c):n},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:ls(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"==typeof t?t:ls(!!t),c):i},c.handleSize=function(t){return arguments.length?(a=+t,c):a},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=s.on.apply(s,arguments);return t===s?c:t},c}var Us=Math.abs,zs=Math.cos,Vs=Math.sin,Ks=Math.PI,Hs=Ks/2,qs=2*Ks,Ws=Math.max,Gs=1e-12;function Ys(t,e){return Array.from({length:e-t},((e,n)=>t+n))}function $s(){return Js(!1,!1)}function Xs(){return Js(!1,!0)}function Zs(){return Js(!0,!1)}function Js(t,e){var n=0,r=null,i=null,o=null;function s(s){var a,c=s.length,u=new Array(c),l=Ys(0,c),h=new Array(c*c),f=new Array(c),p=0;s=Float64Array.from({length:c*c},e?(t,e)=>s[e%c][e/c|0]:(t,e)=>s[e/c|0][e%c]);for(let e=0;e<c;++e){let n=0;for(let r=0;r<c;++r)n+=s[e*c+r]+t*s[r*c+e];p+=u[e]=n}a=(p=Ws(0,qs-n*c)/p)?n:qs/c;{let e=0;r&&l.sort(((t,e)=>r(u[t],u[e])));for(const n of l){const r=e;if(t){const t=Ys(1+~c,c).filter((t=>t<0?s[~t*c+n]:s[n*c+t]));i&&t.sort(((t,e)=>i(t<0?-s[~t*c+n]:s[n*c+t],e<0?-s[~e*c+n]:s[n*c+e])));for(const r of t)r<0?(h[~r*c+n]||(h[~r*c+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=s[~r*c+n]*p,value:s[~r*c+n]}:(h[n*c+r]||(h[n*c+r]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=s[n*c+r]*p,value:s[n*c+r]};f[n]={index:n,startAngle:r,endAngle:e,value:u[n]}}else{const t=Ys(0,c).filter((t=>s[n*c+t]||s[t*c+n]));i&&t.sort(((t,e)=>i(s[n*c+t],s[n*c+e])));for(const r of t){let t;if(n<r?(t=h[n*c+r]||(h[n*c+r]={source:null,target:null}),t.source={index:n,startAngle:e,endAngle:e+=s[n*c+r]*p,value:s[n*c+r]}):(t=h[r*c+n]||(h[r*c+n]={source:null,target:null}),t.target={index:n,startAngle:e,endAngle:e+=s[n*c+r]*p,value:s[n*c+r]},n===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const e=t.source;t.source=t.target,t.target=e}}f[n]={index:n,startAngle:r,endAngle:e,value:u[n]}}e+=a}}return(h=Object.values(h)).groups=f,o?h.sort(o):h}return s.padAngle=function(t){return arguments.length?(n=Ws(0,t),s):n},s.sortGroups=function(t){return arguments.length?(r=t,s):r},s.sortSubgroups=function(t){return arguments.length?(i=t,s):i},s.sortChords=function(t){return arguments.length?(null==t?o=null:(e=t,o=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,s):o&&o._;var e},s}const Qs=Math.PI,ta=2*Qs,ea=1e-6,na=ta-ea;function ra(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class ia{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?ra:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ra;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,a=n-t,c=r-e,u=o-t,l=s-e,h=u*u+l*l;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>ea)if(Math.abs(l*a-c*u)>ea&&i){let f=n-o,p=r-s,d=a*a+c*c,m=f*f+p*p,y=Math.sqrt(d),g=Math.sqrt(h),v=i*Math.tan((Qs-Math.acos((d+h-m)/(2*y*g)))/2),b=v/g,_=v/y;Math.abs(b-1)>ea&&this._append`L${t+b*u},${e+b*l}`,this._append`A${i},${i},0,0,${+(l*f>u*p)},${this._x1=t+_*a},${this._y1=e+_*c}`}else this._append`L${this._x1=t},${this._y1=e}`}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),a=n*Math.sin(r),c=t+s,u=e+a,l=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ea||Math.abs(this._y1-u)>ea)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%ta+ta),h>na?this._append`A${n},${n},0,1,${l},${t-s},${e-a}A${n},${n},0,1,${l},${this._x1=c},${this._y1=u}`:h>ea&&this._append`A${n},${n},0,${+(h>=Qs)},${l},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function oa(){return new ia}function sa(t=3){return new ia(+t)}oa.prototype=ia.prototype;var aa=Array.prototype.slice;function ca(t){return function(){return t}}function ua(t){return t.source}function la(t){return t.target}function ha(t){return t.radius}function fa(t){return t.startAngle}function pa(t){return t.endAngle}function da(){return 0}function ma(){return 10}function ya(t){var e=ua,n=la,r=ha,i=ha,o=fa,s=pa,a=da,c=null;function u(){var u,l=e.apply(this,arguments),h=n.apply(this,arguments),f=a.apply(this,arguments)/2,p=aa.call(arguments),d=+r.apply(this,(p[0]=l,p)),m=o.apply(this,p)-Hs,y=s.apply(this,p)-Hs,g=+i.apply(this,(p[0]=h,p)),v=o.apply(this,p)-Hs,b=s.apply(this,p)-Hs;if(c||(c=u=oa()),f>Gs&&(Us(y-m)>2*f+Gs?y>m?(m+=f,y-=f):(m-=f,y+=f):m=y=(m+y)/2,Us(b-v)>2*f+Gs?b>v?(v+=f,b-=f):(v-=f,b+=f):v=b=(v+b)/2),c.moveTo(d*zs(m),d*Vs(m)),c.arc(0,0,d,m,y),m!==v||y!==b)if(t){var _=g-+t.apply(this,arguments),w=(v+b)/2;c.quadraticCurveTo(0,0,_*zs(v),_*Vs(v)),c.lineTo(g*zs(w),g*Vs(w)),c.lineTo(_*zs(b),_*Vs(b))}else c.quadraticCurveTo(0,0,g*zs(v),g*Vs(v)),c.arc(0,0,g,v,b);if(c.quadraticCurveTo(0,0,d*zs(m),d*Vs(m)),c.closePath(),u)return c=null,u+""||null}return t&&(u.headRadius=function(e){return arguments.length?(t="function"==typeof e?e:ca(+e),u):t}),u.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:ca(+t),u):r},u.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:ca(+t),u):r},u.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:ca(+t),u):i},u.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:ca(+t),u):o},u.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:ca(+t),u):s},u.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:ca(+t),u):a},u.source=function(t){return arguments.length?(e=t,u):e},u.target=function(t){return arguments.length?(n=t,u):n},u.context=function(t){return arguments.length?(c=null==t?null:t,u):c},u}function ga(){return ya()}function va(){return ya(ma)}const ba=Math.PI/180,_a=180/Math.PI,wa=.96422,xa=1,ka=.82521,Ta=4/29,Sa=6/29,Ea=3*Sa*Sa,Aa=Sa*Sa*Sa;function Oa(t){if(t instanceof La)return new La(t.l,t.a,t.b,t.opacity);if(t instanceof Fa)return Ua(t);t instanceof li||(t=ci(t));var e,n,r=Ma(t.r),i=Ma(t.g),o=Ma(t.b),s=Ra((.2225045*r+.7168786*i+.0606169*o)/xa);return r===i&&i===o?e=n=s:(e=Ra((.4360747*r+.3850649*i+.1430804*o)/wa),n=Ra((.0139322*r+.0971045*i+.7141733*o)/ka)),new La(116*s-16,500*(e-s),200*(s-n),t.opacity)}function Na(t,e){return new La(t,0,0,null==e?1:e)}function Ca(t,e,n,r){return 1===arguments.length?Oa(t):new La(t,e,n,null==r?1:r)}function La(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Ra(t){return t>Aa?Math.pow(t,1/3):t/Ea+Ta}function Pa(t){return t>Sa?t*t*t:Ea*(t-Ta)}function Ia(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ma(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Da(t){if(t instanceof Fa)return new Fa(t.h,t.c,t.l,t.opacity);if(t instanceof La||(t=Oa(t)),0===t.a&&0===t.b)return new Fa(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*_a;return new Fa(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ja(t,e,n,r){return 1===arguments.length?Da(t):new Fa(n,e,t,null==r?1:r)}function Ba(t,e,n,r){return 1===arguments.length?Da(t):new Fa(t,e,n,null==r?1:r)}function Fa(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Ua(t){if(isNaN(t.h))return new La(t.l,0,0,t.opacity);var e=t.h*ba;return new La(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}zr(La,Ca,Vr(Kr,{brighter(t){return new La(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new La(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new li(Ia(3.1338561*(e=wa*Pa(e))-1.6168667*(t=xa*Pa(t))-.4906146*(n=ka*Pa(n))),Ia(-.9787684*e+1.9161415*t+.033454*n),Ia(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),zr(Fa,Ba,Vr(Kr,{brighter(t){return new Fa(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Fa(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Ua(this).rgb()}}));var za=-.14861,Va=1.78277,Ka=-.29227,Ha=-.90649,qa=1.97294,Wa=qa*Ha,Ga=qa*Va,Ya=Va*Ka-Ha*za;function $a(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Xa)return new Xa(t.h,t.s,t.l,t.opacity);t instanceof li||(t=ci(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ya*r+Wa*e-Ga*n)/(Ya+Wa-Ga),o=r-i,s=(qa*(n-i)-Ka*o)/Ha,a=Math.sqrt(s*s+o*o)/(qa*i*(1-i)),c=a?Math.atan2(s,o)*_a-120:NaN;return new Xa(c<0?c+360:c,a,i,t.opacity)}(t):new Xa(t,e,n,null==r?1:r)}function Xa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}zr(Xa,$a,Vr(Kr,{brighter(t){return t=null==t?qr:Math.pow(qr,t),new Xa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Hr:Math.pow(Hr,t),new Xa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*ba,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new li(255*(e+n*(za*r+Va*i)),255*(e+n*(Ka*r+Ha*i)),255*(e+n*(qa*r)),this.opacity)}}));var Za=Array.prototype.slice;function Ja(t,e){return t-e}const Qa=t=>()=>t;function tc(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=ec(t,e[r]))return n;return 0}function ec(t,e){for(var n=e[0],r=e[1],i=-1,o=0,s=t.length,a=s-1;o<s;a=o++){var c=t[o],u=c[0],l=c[1],h=t[a],f=h[0],p=h[1];if(nc(c,h,e))return 0;l>r!=p>r&&n<(f-u)*(r-l)/(p-l)+u&&(i=-i)}return i}function nc(t,e,n){var r,i,o,s;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],s=e[r],i<=o&&o<=s||s<=o&&o<=i)}function rc(){}var ic=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function oc(){var t=1,e=1,n=oe,r=a;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Ja);else{const n=wt(t,sc);for(e=ee(...ie(n[0],n[1],e),e);e[e.length-1]>=n[1];)e.pop();for(;e[1]<n[0];)e.shift()}return e.map((e=>o(t,e)))}function o(n,i){const o=null==i?NaN:+i;if(isNaN(o))throw new Error(`invalid value: ${i}`);var a=[],c=[];return function(n,r,i){var o,a,c,u,l,h,f=new Array,p=new Array;for(o=a=-1,u=ac(n[0],r),ic[u<<1].forEach(d);++o<t-1;)c=u,u=ac(n[o+1],r),ic[c|u<<1].forEach(d);for(ic[0|u].forEach(d);++a<e-1;){for(o=-1,u=ac(n[a*t+t],r),l=ac(n[a*t],r),ic[u<<1|l<<2].forEach(d);++o<t-1;)c=u,u=ac(n[a*t+t+o+1],r),h=l,l=ac(n[a*t+o+1],r),ic[c|u<<1|l<<2|h<<3].forEach(d);ic[u|l<<3].forEach(d)}for(o=-1,l=n[a*t]>=r,ic[l<<2].forEach(d);++o<t-1;)h=l,l=ac(n[a*t+o+1],r),ic[l<<2|h<<3].forEach(d);function d(t){var e,n,r=[t[0][0]+o,t[0][1]+a],c=[t[1][0]+o,t[1][1]+a],u=s(r),l=s(c);(e=p[u])?(n=f[l])?(delete p[e.end],delete f[n.start],e===n?(e.ring.push(c),i(e.ring)):f[e.start]=p[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete p[e.end],e.ring.push(c),p[e.end=l]=e):(e=f[l])?(n=p[u])?(delete f[e.start],delete p[n.end],e===n?(e.ring.push(c),i(e.ring)):f[n.start]=p[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete f[e.start],e.ring.unshift(r),f[e.start=u]=e):f[u]=p[l]={start:u,end:l,ring:[r,c]}}ic[l<<3].forEach(d)}(n,o,(function(t){r(t,n,o),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?a.push([t]):c.push(t)})),c.forEach((function(t){for(var e,n=0,r=a.length;n<r;++n)if(-1!==tc((e=a[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:a}}function s(e){return 2*e[0]+e[1]*(t+1)*4}function a(n,r,i){n.forEach((function(n){var o=n[0],s=n[1],a=0|o,c=0|s,u=cc(r[c*t+a]);o>0&&o<t&&a===o&&(n[0]=uc(o,cc(r[c*t+a-1]),u,i)),s>0&&s<e&&c===s&&(n[1]=uc(s,cc(r[(c-1)*t+a]),u,i))}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.floor(n[0]),o=Math.floor(n[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Qa(Za.call(t)):Qa(t),i):n},i.smooth=function(t){return arguments.length?(r=t?a:rc,i):r===a},i}function sc(t){return isFinite(t)?t:NaN}function ac(t,e){return null!=t&&+t>=e}function cc(t){return null==t||isNaN(t=+t)?-1/0:t}function uc(t,e,n,r){const i=r-e,o=n-e,s=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(s)?t:t+s-.5}function lc(t){return t[0]}function hc(t){return t[1]}function fc(){return 1}function pc(){var t=lc,e=hc,n=fc,r=960,i=500,o=20,s=2,a=3*o,c=r+2*a>>s,u=i+2*a>>s,l=Qa(20);function h(r){var i=new Float32Array(c*u),l=Math.pow(2,-s),h=-1;for(const o of r){var f=(t(o,++h,r)+a)*l,p=(e(o,h,r)+a)*l,d=+n(o,h,r);if(d&&f>=0&&f<c&&p>=0&&p<u){var m=Math.floor(f),y=Math.floor(p),g=f-m-.5,v=p-y-.5;i[m+y*c]+=(1-g)*(1-v)*d,i[m+1+y*c]+=g*(1-v)*d,i[m+1+(y+1)*c]+=g*v*d,i[m+(y+1)*c]+=(1-g)*v*d}}return at({data:i,width:c,height:u},o*l),i}function f(t){var e=h(t),n=l(e),r=Math.pow(2,2*s);return Array.isArray(n)||(n=ee(Number.MIN_VALUE,ae(e)/r,n)),oc().size([c,u]).thresholds(n.map((t=>t*r)))(e).map(((t,e)=>(t.value=+n[e],p(t))))}function p(t){return t.coordinates.forEach(d),t}function d(t){t.forEach(m)}function m(t){t.forEach(y)}function y(t){t[0]=t[0]*Math.pow(2,s)-a,t[1]=t[1]*Math.pow(2,s)-a}function g(){return c=r+2*(a=3*o)>>s,u=i+2*a>>s,f}return f.contours=function(t){var e=h(t),n=oc().size([c,u]),r=Math.pow(2,2*s),i=t=>{t=+t;var i=p(n.contour(e,t*r));return i.value=t,i};return Object.defineProperty(i,"max",{get:()=>ae(e)/r}),i},f.x=function(e){return arguments.length?(t="function"==typeof e?e:Qa(+e),f):t},f.y=function(t){return arguments.length?(e="function"==typeof t?t:Qa(+t),f):e},f.weight=function(t){return arguments.length?(n="function"==typeof t?t:Qa(+t),f):n},f.size=function(t){if(!arguments.length)return[r,i];var e=+t[0],n=+t[1];if(!(e>=0&&n>=0))throw new Error("invalid size");return r=e,i=n,g()},f.cellSize=function(t){if(!arguments.length)return 1<<s;if(!((t=+t)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(t)/Math.LN2),g()},f.thresholds=function(t){return arguments.length?(l="function"==typeof t?t:Array.isArray(t)?Qa(Za.call(t)):Qa(t),f):l},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*t*t+1)-1)/2,g()},f}const dc=134217729;function mc(t,e,n,r,i){let o,s,a,c,u=e[0],l=r[0],h=0,f=0;l>u==l>-u?(o=u,u=e[++h]):(o=l,l=r[++f]);let p=0;if(h<t&&f<n)for(l>u==l>-u?(s=u+o,a=o-(s-u),u=e[++h]):(s=l+o,a=o-(s-l),l=r[++f]),o=s,0!==a&&(i[p++]=a);h<t&&f<n;)l>u==l>-u?(s=o+u,c=s-o,a=o-(s-c)+(u-c),u=e[++h]):(s=o+l,c=s-o,a=o-(s-c)+(l-c),l=r[++f]),o=s,0!==a&&(i[p++]=a);for(;h<t;)s=o+u,c=s-o,a=o-(s-c)+(u-c),u=e[++h],o=s,0!==a&&(i[p++]=a);for(;f<n;)s=o+l,c=s-o,a=o-(s-c)+(l-c),l=r[++f],o=s,0!==a&&(i[p++]=a);return 0===o&&0!==p||(i[p++]=o),p}function yc(t){return new Float64Array(t)}const gc=yc(4),vc=yc(8),bc=yc(12),_c=yc(16),wc=yc(4);function xc(t,e,n,r,i,o){const s=(e-o)*(n-i),a=(t-i)*(r-o),c=s-a,u=Math.abs(s+a);return Math.abs(c)>=33306690738754716e-32*u?c:-function(t,e,n,r,i,o,s){let a,c,u,l,h,f,p,d,m,y,g,v,b,_,w,x,k,T;const S=t-i,E=n-i,A=e-o,O=r-o;_=S*O,f=dc*S,p=f-(f-S),d=S-p,f=dc*O,m=f-(f-O),y=O-m,w=d*y-(_-p*m-d*m-p*y),x=A*E,f=dc*A,p=f-(f-A),d=A-p,f=dc*E,m=f-(f-E),y=E-m,k=d*y-(x-p*m-d*m-p*y),g=w-k,h=w-g,gc[0]=w-(g+h)+(h-k),v=_+g,h=v-_,b=_-(v-h)+(g-h),g=b-x,h=b-g,gc[1]=b-(g+h)+(h-x),T=v+g,h=T-v,gc[2]=v-(T-h)+(g-h),gc[3]=T;let N=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,gc),C=22204460492503146e-32*s;if(N>=C||-N>=C)return N;if(h=t-S,a=t-(S+h)+(h-i),h=n-E,u=n-(E+h)+(h-i),h=e-A,c=e-(A+h)+(h-o),h=r-O,l=r-(O+h)+(h-o),0===a&&0===c&&0===u&&0===l)return N;if(C=11093356479670487e-47*s+33306690738754706e-32*Math.abs(N),N+=S*l+O*a-(A*u+E*c),N>=C||-N>=C)return N;_=a*O,f=dc*a,p=f-(f-a),d=a-p,f=dc*O,m=f-(f-O),y=O-m,w=d*y-(_-p*m-d*m-p*y),x=c*E,f=dc*c,p=f-(f-c),d=c-p,f=dc*E,m=f-(f-E),y=E-m,k=d*y-(x-p*m-d*m-p*y),g=w-k,h=w-g,wc[0]=w-(g+h)+(h-k),v=_+g,h=v-_,b=_-(v-h)+(g-h),g=b-x,h=b-g,wc[1]=b-(g+h)+(h-x),T=v+g,h=T-v,wc[2]=v-(T-h)+(g-h),wc[3]=T;const L=mc(4,gc,4,wc,vc);_=S*l,f=dc*S,p=f-(f-S),d=S-p,f=dc*l,m=f-(f-l),y=l-m,w=d*y-(_-p*m-d*m-p*y),x=A*u,f=dc*A,p=f-(f-A),d=A-p,f=dc*u,m=f-(f-u),y=u-m,k=d*y-(x-p*m-d*m-p*y),g=w-k,h=w-g,wc[0]=w-(g+h)+(h-k),v=_+g,h=v-_,b=_-(v-h)+(g-h),g=b-x,h=b-g,wc[1]=b-(g+h)+(h-x),T=v+g,h=T-v,wc[2]=v-(T-h)+(g-h),wc[3]=T;const R=mc(L,vc,4,wc,bc);_=a*l,f=dc*a,p=f-(f-a),d=a-p,f=dc*l,m=f-(f-l),y=l-m,w=d*y-(_-p*m-d*m-p*y),x=c*u,f=dc*c,p=f-(f-c),d=c-p,f=dc*u,m=f-(f-u),y=u-m,k=d*y-(x-p*m-d*m-p*y),g=w-k,h=w-g,wc[0]=w-(g+h)+(h-k),v=_+g,h=v-_,b=_-(v-h)+(g-h),g=b-x,h=b-g,wc[1]=b-(g+h)+(h-x),T=v+g,h=T-v,wc[2]=v-(T-h)+(g-h),wc[3]=T;const P=mc(R,bc,4,wc,_c);return _c[P-1]}(t,e,n,r,i,o,u)}yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(8),yc(8),yc(8),yc(4),yc(8),yc(8),yc(8),yc(12),yc(192),yc(192),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(8),yc(8),yc(8),yc(8),yc(8),yc(8),yc(8),yc(8),yc(8),yc(4),yc(4),yc(4),yc(8),yc(16),yc(16),yc(16),yc(32),yc(32),yc(48),yc(64),yc(1152),yc(1152),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(4),yc(24),yc(24),yc(24),yc(24),yc(24),yc(24),yc(24),yc(24),yc(24),yc(24),yc(1152),yc(1152),yc(1152),yc(1152),yc(1152),yc(2304),yc(2304),yc(3456),yc(5760),yc(8),yc(8),yc(8),yc(16),yc(24),yc(48),yc(48),yc(96),yc(192),yc(384),yc(384),yc(384),yc(768),yc(96),yc(96),yc(96),yc(1152);const kc=Math.pow(2,-52),Tc=new Uint32Array(512);class Sc{static from(t,e=Lc,n=Rc){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new Sc(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let s=1/0,a=1/0,c=-1/0,u=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<s&&(s=n),r<a&&(a=r),n>c&&(c=n),r>u&&(u=r),this._ids[e]=e}const l=(s+c)/2,h=(a+u)/2;let f,p,d;for(let e=0,n=1/0;e<o;e++){const r=Ec(l,h,t[2*e],t[2*e+1]);r<n&&(f=e,n=r)}const m=t[2*f],y=t[2*f+1];for(let e=0,n=1/0;e<o;e++){if(e===f)continue;const r=Ec(m,y,t[2*e],t[2*e+1]);r<n&&r>0&&(p=e,n=r)}let g=t[2*p],v=t[2*p+1],b=1/0;for(let e=0;e<o;e++){if(e===f||e===p)continue;const n=Oc(m,y,g,v,t[2*e],t[2*e+1]);n<b&&(d=e,b=n)}let _=t[2*d],w=t[2*d+1];if(b===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];Nc(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t],o=this._dists[i];o>r&&(e[n++]=i,r=o)}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(xc(m,y,g,v,_,w)<0){const t=p,e=g,n=v;p=d,g=_,v=w,d=t,_=e,w=n}const x=function(t,e,n,r,i,o){const s=n-t,a=r-e,c=i-t,u=o-e,l=s*s+a*a,h=c*c+u*u,f=.5/(s*u-a*c);return{x:t+(u*l-a*h)*f,y:e+(s*h-c*l)*f}}(m,y,g,v,_,w);this._cx=x.x,this._cy=x.y;for(let e=0;e<o;e++)this._dists[e]=Ec(t[2*e],t[2*e+1],x.x,x.y);Nc(this._ids,this._dists,0,o-1),this._hullStart=f;let k=3;n[f]=e[d]=p,n[p]=e[f]=d,n[d]=e[p]=f,r[f]=0,r[p]=1,r[d]=2,i.fill(-1),i[this._hashKey(m,y)]=f,i[this._hashKey(g,v)]=p,i[this._hashKey(_,w)]=d,this.trianglesLen=0,this._addTriangle(f,p,d,-1,-1,-1);for(let o,s,a=0;a<this._ids.length;a++){const c=this._ids[a],u=t[2*c],l=t[2*c+1];if(a>0&&Math.abs(u-o)<=kc&&Math.abs(l-s)<=kc)continue;if(o=u,s=l,c===f||c===p||c===d)continue;let h=0;for(let t=0,e=this._hashKey(u,l);t<this._hashSize&&(h=i[(e+t)%this._hashSize],-1===h||h===n[h]);t++);h=e[h];let m,y=h;for(;m=n[y],xc(u,l,t[2*y],t[2*y+1],t[2*m],t[2*m+1])>=0;)if(y=m,y===h){y=-1;break}if(-1===y)continue;let g=this._addTriangle(y,c,n[y],-1,-1,r[y]);r[c]=this._legalize(g+2),r[y]=g,k++;let v=n[y];for(;m=n[v],xc(u,l,t[2*v],t[2*v+1],t[2*m],t[2*m+1])<0;)g=this._addTriangle(v,c,m,r[c],-1,r[v]),r[c]=this._legalize(g+2),n[v]=v,k--,v=m;if(y===h)for(;m=e[y],xc(u,l,t[2*m],t[2*m+1],t[2*y],t[2*y+1])<0;)g=this._addTriangle(m,c,y,-1,r[y],r[m]),this._legalize(g+2),r[m]=g,n[y]=y,k--,y=m;this._hullStart=e[c]=y,n[y]=e[v]=c,n[c]=v,i[this._hashKey(u,l)]=c,i[this._hashKey(t[2*y],t[2*y+1])]=y}this.hull=new Uint32Array(k);for(let t=0,e=this._hullStart;t<k;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const s=n[t],a=t-t%3;if(o=a+(t+2)%3,-1===s){if(0===i)break;t=Tc[--i];continue}const c=s-s%3,u=a+(t+1)%3,l=c+(s+2)%3,h=e[o],f=e[t],p=e[u],d=e[l];if(Ac(r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1],r[2*d],r[2*d+1])){e[t]=d,e[s]=h;const r=n[l];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===l){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(s,n[o]),this._link(o,l);const a=c+(s+1)%3;i<Tc.length&&(Tc[i++]=a)}else{if(0===i)break;t=Tc[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=e,this._triangles[s+2]=n,this._link(s,r),this._link(s+1,i),this._link(s+2,o),this.trianglesLen+=3,s}}function Ec(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function Ac(t,e,n,r,i,o,s,a){const c=t-s,u=e-a,l=n-s,h=r-a,f=i-s,p=o-a,d=l*l+h*h,m=f*f+p*p;return c*(h*m-d*p)-u*(l*m-d*f)+(c*c+u*u)*(l*p-h*f)<0}function Oc(t,e,n,r,i,o){const s=n-t,a=r-e,c=i-t,u=o-e,l=s*s+a*a,h=c*c+u*u,f=.5/(s*u-a*c),p=(u*l-a*h)*f,d=(s*h-c*l)*f;return p*p+d*d}function Nc(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let s=i-1;for(;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=r}else{let i=n+1,o=r;Cc(t,n+r>>1,i),e[t[n]]>e[t[r]]&&Cc(t,n,r),e[t[i]]>e[t[r]]&&Cc(t,i,r),e[t[n]]>e[t[i]]&&Cc(t,n,i);const s=t[i],a=e[s];for(;;){do{i++}while(e[t[i]]<a);do{o--}while(e[t[o]]>a);if(o<i)break;Cc(t,i,o)}t[n+1]=t[o],t[o]=s,r-i+1>=o-n?(Nc(t,e,i,r),Nc(t,e,n,o-1)):(Nc(t,e,n,o-1),Nc(t,e,i,r))}}function Cc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Lc(t){return t[0]}function Rc(t){return t[1]}const Pc=1e-6;class Ic{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Pc||Math.abs(this._y1-i)>Pc)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Mc{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Dc{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this;let i,o;const s=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let r,a,c=0,u=0,l=n.length;c<l;c+=3,u+=2){const l=2*n[c],h=2*n[c+1],f=2*n[c+2],p=t[l],d=t[l+1],m=t[h],y=t[h+1],g=t[f],v=t[f+1],b=m-p,_=y-d,w=g-p,x=v-d,k=2*(b*x-_*w);if(Math.abs(k)<1e-9){if(void 0===i){i=o=0;for(const n of e)i+=t[2*n],o+=t[2*n+1];i/=e.length,o/=e.length}const n=1e9*Math.sign((i-p)*x-(o-d)*w);r=(p+g)/2-n*x,a=(d+v)/2+n*w}else{const t=1/k,e=b*b+_*_,n=w*w+x*x;r=p+(x*e-_*n)*t,a=d+(b*n-w*e)*t}s[u]=r,s[u+1]=a}let a,c,u,l=e[e.length-1],h=4*l,f=t[2*l],p=t[2*l+1];r.fill(0);for(let n=0;n<e.length;++n)l=e[n],a=h,c=f,u=p,h=4*l,f=t[2*l],p=t[2*l+1],r[a+2]=r[h]=u-p,r[a+3]=r[h+1]=f-c}render(t){const e=null==t?t=new Ic:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:s}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),s=2*Math.floor(r/3),a=o[i],c=o[i+1],u=o[s],l=o[s+1];this._renderSegment(a,c,u,l,t)}let a,c=i[i.length-1];for(let e=0;e<i.length;++e){a=c,c=i[e];const n=2*Math.floor(r[c]/3),u=o[n],l=o[n+1],h=4*a,f=this._project(u,l,s[h+2],s[h+3]);f&&this._renderSegment(u,l,f[0],f[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Ic:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Ic:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new Mc;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const s=this._regioncode(t,e),a=this._regioncode(n,r);0===s&&0===a?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,s,a))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,s=t.length;o<s;o+=2)if(e[r]===t[o]&&e[r+1]===t[o+1]&&e[(r+2)%i]===t[(o+s-2)%s]&&e[(r+3)%i]===t[(o+s-1)%s]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const s=[];let a=o;do{const n=Math.floor(a/3);if(s.push(e[2*n],e[2*n+1]),a=a%3==2?a-2:a+1,i[a]!==t)break;a=r[a]}while(a!==o&&-1!==a);return s}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){const n=e.length;let r,i,o,s,a=null,c=e[n-2],u=e[n-1],l=this._regioncode(c,u),h=0;for(let f=0;f<n;f+=2)if(r=c,i=u,c=e[f],u=e[f+1],o=l,l=this._regioncode(c,u),0===o&&0===l)s=h,h=0,a?a.push(c,u):a=[c,u];else{let e,n,f,p,d;if(0===o){if(null===(e=this._clipSegment(r,i,c,u,o,l)))continue;[n,f,p,d]=e}else{if(null===(e=this._clipSegment(c,u,r,i,l,o)))continue;[p,d,n,f]=e,s=h,h=this._edgecode(n,f),s&&h&&this._edge(t,s,h,a,a.length),a?a.push(n,f):a=[n,f]}s=h,h=this._edgecode(p,d),s&&h&&this._edge(t,s,h,a,a.length),a?a.push(p,d):a=[p,d]}if(a)s=h,h=this._edgecode(a[0],a[1]),s&&h&&this._edge(t,s,h,a,a.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(t,e,n,r,i,o){const s=i<o;for(s&&([t,e,n,r,i,o]=[n,r,t,e,o,i]);;){if(0===i&&0===o)return s?[n,r,t,e]:[t,e,n,r];if(i&o)return null;let a,c,u=i||o;8&u?(a=t+(n-t)*(this.ymax-e)/(r-e),c=this.ymax):4&u?(a=t+(n-t)*(this.ymin-e)/(r-e),c=this.ymin):2&u?(c=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(c=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=c,i=this._regioncode(t,e)):(n=a,r=c,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let s,a=Array.from(e);if((s=this._project(a[0],a[1],n,r))&&a.unshift(s[0],s[1]),(s=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(s[0],s[1]),a=this._clipFinite(t,a))for(let e,n=0,r=a.length,i=this._edgecode(a[r-2],a[r-1]);n<r;n+=2)e=i,i=this._edgecode(a[n],a[n+1]),e&&i&&(n=this._edge(t,e,i,a,n),r=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}return i}_project(t,e,n,r){let i,o,s,a=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<a&&(s=this.ymin,o=t+(a=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<a&&(s=this.ymax,o=t+(a=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<a&&(o=this.xmax,s=e+(a=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<a&&(o=this.xmin,s=e+(a=i)*r)}return[o,s]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){const n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}const jc=2*Math.PI,Bc=Math.pow;function Fc(t){return t[0]}function Uc(t){return t[1]}function zc(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Vc{static from(t,e=Fc,n=Uc,r){return new Vc("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let s=0;s<i;++s){const i=t[s];o[2*s]=e.call(r,i,s,t),o[2*s+1]=n.call(r,i,s,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new Sc(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=zc(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new Sc(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)s[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Dc(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:s}=this;if(s){const e=s.indexOf(t);return e>0&&(yield s[e-1]),void(e<s.length-1&&(yield s[e+1]))}const a=e[t];if(-1===a)return;let c=a,u=-1;do{if(yield u=o[c],c=c%3==2?c-2:c+1,o[c]!==t)return;if(c=i[c],-1===c){const e=n[(r[t]+1)%n.length];return void(e!==u&&(yield e))}}while(c!==a)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:s,triangles:a,points:c}=this;if(-1===r[t]||!c.length)return(t+1)%(c.length>>1);let u=t,l=Bc(e-c[2*t],2)+Bc(n-c[2*t+1],2);const h=r[t];let f=h;do{let r=a[f];const h=Bc(e-c[2*r],2)+Bc(n-c[2*r+1],2);if(h<l&&(l=h,u=r),f=f%3==2?f-2:f+1,a[f]!==t)break;if(f=s[f],-1===f){if(f=i[(o[t]+1)%i.length],f!==r&&Bc(e-c[2*f],2)+Bc(n-c[2*f+1],2)<l)return f;break}}while(f!==h);return u}render(t){const e=null==t?t=new Ic:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const s=2*i[e],a=2*i[o];t.moveTo(n[s],n[s+1]),t.lineTo(n[a],n[a+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new Ic:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,jc)}return n&&n.value()}renderHull(t){const e=null==t?t=new Ic:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Mc;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Ic:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],s=2*i[t+1],a=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[s],r[s+1]),e.lineTo(r[a],r[a+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Mc;return this.renderTriangle(t,e),e.value()}}const Kc=t=>()=>t;function Hc(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:c,dy:u,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}function qc(t){return!t.ctrlKey&&!t.button}function Wc(){return this.parentNode}function Gc(t,e){return null==e?{x:t.x,y:t.y}:e}function Yc(){return navigator.maxTouchPoints||"ontouchstart"in this}function $c(){var t,e,n,r,i=qc,o=Wc,s=Gc,a=Yc,c={},u=_n("start","drag","end"),l=0,h=0;function f(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",y).on("touchmove.drag",g,Mr).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(s,a){if(!r&&i.call(this,s,a)){var c=b(this,o.call(this,s,a),s,a,"mouse");c&&(Ir(s.view).on("mousemove.drag",d,Dr).on("mouseup.drag",m,Dr),Fr(s.view),jr(s),n=!1,t=s.clientX,e=s.clientY,c("start",s))}}function d(r){if(Br(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>h}c.mouse("drag",r)}function m(t){Ir(t.view).on("mousemove.drag mouseup.drag",null),Ur(t.view,n),Br(t),c.mouse("end",t)}function y(t,e){if(i.call(this,t,e)){var n,r,s=t.changedTouches,a=o.call(this,t,e),c=s.length;for(n=0;n<c;++n)(r=b(this,a,t,e,s[n].identifier,s[n]))&&(jr(t),r("start",t,s[n]))}}function g(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=c[r[e].identifier])&&(Br(t),n("drag",t,r[e]))}function v(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=c[i[e].identifier])&&(jr(t),n("end",t,i[e]))}function b(t,e,n,r,i,o){var a,h,p,d=u.copy(),m=Wi(o||n,e);if(null!=(p=s.call(t,new Hc("beforestart",{sourceEvent:n,target:f,identifier:i,active:l,x:m[0],y:m[1],dx:0,dy:0,dispatch:d}),r)))return a=p.x-m[0]||0,h=p.y-m[1]||0,function n(o,s,u){var y,g=m;switch(o){case"start":c[i]=n,y=l++;break;case"end":delete c[i],--l;case"drag":m=Wi(u||s,e),y=l}d.call(o,t,new Hc(o,{sourceEvent:s,subject:p,target:f,identifier:i,active:y,x:m[0]+a,y:m[1]+h,dx:m[0]-g[0],dy:m[1]-g[1],dispatch:d}),r)}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:Kc(!!t),f):i},f.container=function(t){return arguments.length?(o="function"==typeof t?t:Kc(t),f):o},f.subject=function(t){return arguments.length?(s="function"==typeof t?t:Kc(t),f):s},f.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Kc(!!t),f):a},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}Hc.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Xc={},Zc={},Jc=34,Qc=10,tu=13;function eu(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function nu(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ru(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function iu(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,s=0,a=0,c=o<=0,u=!1;function l(){if(c)return Zc;if(u)return u=!1,Xc;var e,r,i=s;if(t.charCodeAt(i)===Jc){for(;s++<o&&t.charCodeAt(s)!==Jc||t.charCodeAt(++s)===Jc;);return(e=s)>=o?c=!0:(r=t.charCodeAt(s++))===Qc?u=!0:r===tu&&(u=!0,t.charCodeAt(s)===Qc&&++s),t.slice(i+1,e-1).replace(/""/g,'"')}for(;s<o;){if((r=t.charCodeAt(e=s++))===Qc)u=!0;else if(r===tu)u=!0,t.charCodeAt(s)===Qc&&++s;else if(r!==n)continue;return t.slice(i,e)}return c=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===Qc&&--o,t.charCodeAt(o-1)===tu&&--o;(r=l())!==Zc;){for(var h=[];r!==Xc&&r!==Zc;)h.push(r),r=l();e&&null==(h=e(h,a++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return s(e[t])})).join(t)}))}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?function(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ru(-e,6):e>9999?"+"+ru(e,6):ru(e,4))+"-"+ru(t.getUTCMonth()+1,2)+"-"+ru(t.getUTCDate(),2)+(o?"T"+ru(n,2)+":"+ru(r,2)+":"+ru(i,2)+"."+ru(o,3)+"Z":i?"T"+ru(n,2)+":"+ru(r,2)+":"+ru(i,2)+"Z":r||n?"T"+ru(n,2)+":"+ru(r,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=eu(t);return function(r,i){return e(n(r),i,t)}}(t,e):eu(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=nu(e)),[n.map(s).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=nu(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:s}}var ou=iu(","),su=ou.parse,au=ou.parseRows,cu=ou.format,uu=ou.formatBody,lu=ou.formatRows,hu=ou.formatRow,fu=ou.formatValue,pu=iu("\t"),du=pu.parse,mu=pu.parseRows,yu=pu.format,gu=pu.formatBody,vu=pu.formatRows,bu=pu.formatRow,_u=pu.formatValue;function wu(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;xu&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const xu=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),ku=t=>+t;function Tu(t){return t*t}function Su(t){return t*(2-t)}function Eu(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Au=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ou=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Nu=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Cu=Math.PI,Lu=Cu/2;function Ru(t){return 1==+t?1:1-Math.cos(t*Lu)}function Pu(t){return Math.sin(t*Lu)}function Iu(t){return(1-Math.cos(Cu*t))/2}function Mu(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Du(t){return Mu(1-+t)}function ju(t){return 1-Mu(t)}function Bu(t){return((t*=2)<=1?Mu(1-t):2-Mu(t-1))/2}function Fu(t){return 1-Math.sqrt(1-t*t)}function Uu(t){return Math.sqrt(1- --t*t)}function zu(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Vu=4/11,Ku=6/11,Hu=8/11,qu=3/4,Wu=9/11,Gu=10/11,Yu=15/16,$u=21/22,Xu=63/64,Zu=1/Vu/Vu;function Ju(t){return 1-Qu(1-t)}function Qu(t){return(t=+t)<Vu?Zu*t*t:t<Hu?Zu*(t-=Ku)*t+qu:t<Gu?Zu*(t-=Wu)*t+Yu:Zu*(t-=$u)*t+Xu}function tl(t){return((t*=2)<=1?1-Qu(1-t):Qu(t-1)+1)/2}var el=1.70158,nl=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(el),rl=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(el),il=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(el),ol=2*Math.PI,sl=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ol);function i(t){return e*Mu(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*ol)},i.period=function(n){return t(e,n)},i}(1,.3),al=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ol);function i(t){return 1-e*Mu(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*ol)},i.period=function(n){return t(e,n)},i}(1,.3),cl=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ol);function i(t){return((t=2*t-1)<0?e*Mu(-t)*Math.sin((r-t)/n):2-e*Mu(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*ol)},i.period=function(n){return t(e,n)},i}(1,.3);function ul(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ll(t,e){return fetch(t,e).then(ul)}function hl(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function fl(t,e){return fetch(t,e).then(hl)}function pl(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function dl(t,e){return fetch(t,e).then(pl)}function ml(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),dl(e,n).then((function(e){return t(e,r)}))}}function yl(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=iu(t);return dl(e,n).then((function(t){return i.parse(t,r)}))}var gl=ml(su),vl=ml(du);function bl(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function _l(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function wl(t,e){return fetch(t,e).then(_l)}function xl(t){return(e,n)=>dl(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}const kl=xl("application/xml");var Tl=xl("text/html"),Sl=xl("image/svg+xml");function El(t,e){var n,r=1;function i(){var i,o,s=n.length,a=0,c=0;for(i=0;i<s;++i)a+=(o=n[i]).x,c+=o.y;for(a=(a/s-t)*r,c=(c/s-e)*r,i=0;i<s;++i)(o=n[i]).x-=a,o.y-=c}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function Al(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,s,a,c,u,l,h,f,p=t._root,d={data:r},m=t._x0,y=t._y0,g=t._x1,v=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((u=e>=(o=(m+g)/2))?m=o:g=o,(l=n>=(s=(y+v)/2))?y=s:v=s,i=p,!(p=p[h=l<<1|u]))return i[h]=d,t;if(a=+t._x.call(null,p.data),c=+t._y.call(null,p.data),e===a&&n===c)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(m+g)/2))?m=o:g=o,(l=n>=(s=(y+v)/2))?y=s:v=s}while((h=l<<1|u)==(f=(c>=s)<<1|a>=o));return i[f]=p,i[h]=d,t}function Ol(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Nl(t){return t[0]}function Cl(t){return t[1]}function Ll(t,e,n){var r=new Rl(null==e?Nl:e,null==n?Cl:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Rl(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Pl(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Il=Ll.prototype=Rl.prototype;function Ml(t){return function(){return t}}function Dl(t){return 1e-6*(t()-.5)}function jl(t){return t.x+t.vx}function Bl(t){return t.y+t.vy}function Fl(t){var e,n,r,i=1,o=1;function s(){for(var t,s,c,u,l,h,f,p=e.length,d=0;d<o;++d)for(s=Ll(e,jl,Bl).visitAfter(a),t=0;t<p;++t)c=e[t],h=n[c.index],f=h*h,u=c.x+c.vx,l=c.y+c.vy,s.visit(m);function m(t,e,n,o,s){var a=t.data,p=t.r,d=h+p;if(!a)return e>u+d||o<u-d||n>l+d||s<l-d;if(a.index>c.index){var m=u-a.x-a.vx,y=l-a.y-a.vy,g=m*m+y*y;g<d*d&&(0===m&&(g+=(m=Dl(r))*m),0===y&&(g+=(y=Dl(r))*y),g=(d-(g=Math.sqrt(g)))/g*i,c.vx+=(m*=g)*(d=(p*=p)/(f+p)),c.vy+=(y*=g)*d,a.vx-=m*(d=1-d),a.vy-=y*d)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function c(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Ml(null==t?1:+t)),s.initialize=function(t,n){e=t,r=n,c()},s.iterations=function(t){return arguments.length?(o=+t,s):o},s.strength=function(t){return arguments.length?(i=+t,s):i},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ml(+e),c(),s):t},s}function Ul(t){return t.index}function zl(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Vl(t){var e,n,r,i,o,s,a=Ul,c=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=Ml(30),l=1;function h(r){for(var i=0,a=t.length;i<l;++i)for(var c,u,h,f,p,d,m,y=0;y<a;++y)u=(c=t[y]).source,f=(h=c.target).x+h.vx-u.x-u.vx||Dl(s),p=h.y+h.vy-u.y-u.vy||Dl(s),f*=d=((d=Math.sqrt(f*f+p*p))-n[y])/d*r*e[y],p*=d,h.vx-=f*(m=o[y]),h.vy-=p*m,u.vx+=f*(m=1-m),u.vy+=p*m}function f(){if(r){var s,c,u=r.length,l=t.length,h=new Map(r.map(((t,e)=>[a(t,e,r),t])));for(s=0,i=new Array(u);s<l;++s)(c=t[s]).index=s,"object"!=typeof c.source&&(c.source=zl(h,c.source)),"object"!=typeof c.target&&(c.target=zl(h,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(s=0,o=new Array(l);s<l;++s)c=t[s],o[s]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);e=new Array(l),p(),n=new Array(l),d()}}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){r=t,s=e,f()},h.links=function(e){return arguments.length?(t=e,f(),h):t},h.id=function(t){return arguments.length?(a=t,h):a},h.iterations=function(t){return arguments.length?(l=+t,h):l},h.strength=function(t){return arguments.length?(c="function"==typeof t?t:Ml(+t),p(),h):c},h.distance=function(t){return arguments.length?(u="function"==typeof t?t:Ml(+t),d(),h):u},h}Il.copy=function(){var t,e,n=new Rl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Pl(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Pl(e));return n},Il.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Al(this.cover(e,n),e,n,t)},Il.addAll=function(t){var e,n,r,i,o=t.length,s=new Array(o),a=new Array(o),c=1/0,u=1/0,l=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(s[n]=r,a[n]=i,r<c&&(c=r),r>l&&(l=r),i<u&&(u=i),i>h&&(h=i));if(c>l||u>h)return this;for(this.cover(c,u).cover(l,h),n=0;n<o;++n)Al(this,s[n],a[n],t[n]);return this},Il.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s,a,c=i-n||1,u=this._root;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,(s=new Array(4))[a]=u,u=s,c*=2,a){case 0:i=n+c,o=r+c;break;case 1:n=i-c,o=r+c;break;case 2:i=n+c,r=o-c;break;case 3:n=i-c,r=o-c}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Il.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Il.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Il.find=function(t,e,n){var r,i,o,s,a,c,u,l=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new Ol(m,l,h,f,p)),null==n?n=1/0:(l=t-n,h=e-n,f=t+n,p=e+n,n*=n);c=d.pop();)if(!(!(m=c.node)||(i=c.x0)>f||(o=c.y0)>p||(s=c.x1)<l||(a=c.y1)<h))if(m.length){var y=(i+s)/2,g=(o+a)/2;d.push(new Ol(m[3],y,g,s,a),new Ol(m[2],i,g,y,a),new Ol(m[1],y,o,s,g),new Ol(m[0],i,o,y,g)),(u=(e>=g)<<1|t>=y)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-u],d[d.length-1-u]=c)}else{var v=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),_=v*v+b*b;if(_<n){var w=Math.sqrt(n=_);l=t-w,h=e-w,f=t+w,p=e+w,r=m.data}}return r},Il.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,i,o,s,a,c,u,l,h,f,p=this._root,d=this._x0,m=this._y0,y=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((u=o>=(a=(d+y)/2))?d=a:y=a,(l=s>=(c=(m+g)/2))?m=c:g=c,e=p,!(p=p[h=l<<1|u]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},Il.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Il.root=function(){return this._root},Il.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Il.visit=function(t){var e,n,r,i,o,s,a=[],c=this._root;for(c&&a.push(new Ol(c,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(c=e.node,r=e.x0,i=e.y0,o=e.x1,s=e.y1)&&c.length){var u=(r+o)/2,l=(i+s)/2;(n=c[3])&&a.push(new Ol(n,u,l,o,s)),(n=c[2])&&a.push(new Ol(n,r,l,u,s)),(n=c[1])&&a.push(new Ol(n,u,i,o,l)),(n=c[0])&&a.push(new Ol(n,r,i,u,l))}return this},Il.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Ol(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,s=e.x0,a=e.y0,c=e.x1,u=e.y1,l=(s+c)/2,h=(a+u)/2;(o=i[0])&&n.push(new Ol(o,s,a,l,h)),(o=i[1])&&n.push(new Ol(o,l,a,c,h)),(o=i[2])&&n.push(new Ol(o,s,h,l,u)),(o=i[3])&&n.push(new Ol(o,l,h,c,u))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Il.x=function(t){return arguments.length?(this._x=t,this):this._x},Il.y=function(t){return arguments.length?(this._y=t,this):this._y};const Kl=1664525,Hl=1013904223,ql=4294967296;function Wl(t){return t.x}function Gl(t){return t.y}var Yl=10,$l=Math.PI*(3-Math.sqrt(5));function Xl(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,c=ao(h),u=_n("tick","end"),l=function(){let t=1;return()=>(t=(Kl*t+Hl)%ql)/ql}();function h(){f(),u.call("tick",e),n<r&&(c.stop(),u.call("end",e))}function f(r){var c,u,l=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,a.forEach((function(t){t(n)})),c=0;c<l;++c)null==(u=t[c]).fx?u.x+=u.vx*=s:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=s:(u.y=u.fy,u.vy=0);return e}function p(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=Yl*Math.sqrt(.5+n),o=n*$l;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t,l),e}return null==t&&(t=[]),p(),e={tick:f,restart:function(){return c.restart(h),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),a.forEach(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(l=t,a.forEach(d),e):l},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,d(n)),e):a.get(t)},find:function(e,n,r){var i,o,s,a,c,u=0,l=t.length;for(null==r?r=1/0:r*=r,u=0;u<l;++u)(s=(i=e-(a=t[u]).x)*i+(o=n-a.y)*o)<r&&(c=a,r=s);return c},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}function Zl(){var t,e,n,r,i,o=Ml(-30),s=1,a=1/0,c=.81;function u(n){var i,o=t.length,s=Ll(t,Wl,Gl).visitAfter(h);for(r=n,i=0;i<o;++i)e=t[i],s.visit(f)}function l(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function h(t){var e,n,r,o,s,a=0,c=0;if(t.length){for(r=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,c+=n,r+=n*e.x,o+=n*e.y);t.x=r/c,t.y=o/c}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=i[e.data.index]}while(e=e.next)}t.value=a}function f(t,o,u,l){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,p=l-o,d=h*h+f*f;if(p*p/c<d)return d<a&&(0===h&&(d+=(h=Dl(n))*h),0===f&&(d+=(f=Dl(n))*f),d<s&&(d=Math.sqrt(s*d)),e.vx+=h*t.value*r/d,e.vy+=f*t.value*r/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===h&&(d+=(h=Dl(n))*h),0===f&&(d+=(f=Dl(n))*f),d<s&&(d=Math.sqrt(s*d)));do{t.data!==e&&(p=i[t.data.index]*r/d,e.vx+=h*p,e.vy+=f*p)}while(t=t.next)}}return u.initialize=function(e,r){t=e,n=r,l()},u.strength=function(t){return arguments.length?(o="function"==typeof t?t:Ml(+t),l(),u):o},u.distanceMin=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u.distanceMax=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.theta=function(t){return arguments.length?(c=t*t,u):Math.sqrt(c)},u}function Jl(t,e,n){var r,i,o,s=Ml(.1);function a(t){for(var s=0,a=r.length;s<a;++s){var c=r[s],u=c.x-e||1e-6,l=c.y-n||1e-6,h=Math.sqrt(u*u+l*l),f=(o[s]-h)*i[s]*t/h;c.vx+=u*f,c.vy+=l*f}}function c(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+s(r[e],e,r)}}return"function"!=typeof t&&(t=Ml(+t)),null==e&&(e=0),null==n&&(n=0),a.initialize=function(t){r=t,c()},a.strength=function(t){return arguments.length?(s="function"==typeof t?t:Ml(+t),c(),a):s},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ml(+e),c(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(n=+t,a):n},a}function Ql(t){var e,n,r,i=Ml(.1);function o(t){for(var i,o=0,s=e.length;o<s;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Ml(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Ml(+t),s(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:Ml(+e),s(),o):t},o}function th(t){var e,n,r,i=Ml(.1);function o(t){for(var i,o=0,s=e.length;o<s;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Ml(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Ml(+t),s(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Ml(+e),s(),o):t},o}function eh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nh(t){return(t=eh(Math.abs(t)))?t[1]:NaN}var rh,ih=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oh(t){if(!(e=ih.exec(t)))throw new Error("invalid format: "+t);var e;return new sh({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function sh(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ah(t,e){var n=eh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}oh.prototype=sh.prototype,sh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ch={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ah(100*t,e),r:ah,s:function(t,e){var n=eh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(rh=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+eh(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uh(t){return t}var lh,hh,fh,ph=Array.prototype.map,dh=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mh(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?uh:(e=ph.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],s=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?uh:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(ph.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=oh(t)).fill,n=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,m=t.comma,y=t.precision,g=t.trim,v=t.type;"n"===v?(m=!0,v="g"):ch[v]||(void 0===y&&(y=12),g=!0,v="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===f?o:/[%p]/.test(v)?c:"",w=ch[v],x=/[defgprs%]/.test(v);function k(t){var i,o,c,f=b,k=_;if("c"===v)k=w(t)+k,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),y),g&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),T&&0==+t&&"+"!==h&&(T=!1),f=(T?"("===h?h:u:"-"===h||"("===h?"":h)+f,k=("s"===v?dh[8+rh/3]:"")+k+(T&&"("===h?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){k=(46===c?s+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}m&&!p&&(t=r(t,1/0));var S=f.length+t.length+k.length,E=S<d?new Array(d-S+1).join(e):"";switch(m&&p&&(t=r(E+t,E.length?d-k.length:1/0),E=""),n){case"<":t=f+t+k+E;break;case"=":t=f+E+t+k;break;case"^":t=E.slice(0,S=E.length>>1)+f+t+k+E.slice(S);break;default:t=E+f+t+k}return a(t)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=oh(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(nh(e)/3))),i=Math.pow(10,-r),o=dh[8+r/3];return function(t){return n(i*t)+o}}}}function yh(t){return lh=mh(t),hh=lh.format,fh=lh.formatPrefix,lh}function gh(t){return Math.max(0,-nh(Math.abs(t)))}function vh(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nh(e)/3)))-nh(Math.abs(t)))}function bh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nh(e)-nh(t))+1}yh({thousands:",",grouping:[3],currency:["$",""]});var _h=1e-6,wh=1e-12,xh=Math.PI,kh=xh/2,Th=xh/4,Sh=2*xh,Eh=180/xh,Ah=xh/180,Oh=Math.abs,Nh=Math.atan,Ch=Math.atan2,Lh=Math.cos,Rh=Math.ceil,Ph=Math.exp,Ih=(Math.floor,Math.hypot),Mh=Math.log,Dh=Math.pow,jh=Math.sin,Bh=Math.sign||function(t){return t>0?1:t<0?-1:0},Fh=Math.sqrt,Uh=Math.tan;function zh(t){return t>1?0:t<-1?xh:Math.acos(t)}function Vh(t){return t>1?kh:t<-1?-kh:Math.asin(t)}function Kh(t){return(t=jh(t/2))*t}function Hh(){}function qh(t,e){t&&Gh.hasOwnProperty(t.type)&&Gh[t.type](t,e)}var Wh={Feature:function(t,e){qh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)qh(n[r].geometry,e)}},Gh={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Yh(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Yh(n[r],e,0)},Polygon:function(t,e){$h(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)$h(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)qh(n[r],e)}};function Yh(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function $h(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Yh(t[n],e,1);e.polygonEnd()}function Xh(t,e){t&&Wh.hasOwnProperty(t.type)?Wh[t.type](t,e):qh(t,e)}var Zh,Jh,Qh,tf,ef,nf,rf,of,sf,af,cf,uf,lf,hf,ff,pf,df=new xt,mf=new xt,yf={point:Hh,lineStart:Hh,lineEnd:Hh,polygonStart:function(){df=new xt,yf.lineStart=gf,yf.lineEnd=vf},polygonEnd:function(){var t=+df;mf.add(t<0?Sh+t:t),this.lineStart=this.lineEnd=this.point=Hh},sphere:function(){mf.add(Sh)}};function gf(){yf.point=bf}function vf(){_f(Zh,Jh)}function bf(t,e){yf.point=_f,Zh=t,Jh=e,Qh=t*=Ah,tf=Lh(e=(e*=Ah)/2+Th),ef=jh(e)}function _f(t,e){var n=(t*=Ah)-Qh,r=n>=0?1:-1,i=r*n,o=Lh(e=(e*=Ah)/2+Th),s=jh(e),a=ef*s,c=tf*o+a*Lh(i),u=a*r*jh(i);df.add(Ch(u,c)),Qh=t,tf=o,ef=s}function wf(t){return mf=new xt,Xh(t,yf),2*mf}function xf(t){return[Ch(t[1],t[0]),Vh(t[2])]}function kf(t){var e=t[0],n=t[1],r=Lh(n);return[r*Lh(e),r*jh(e),jh(n)]}function Tf(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Sf(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ef(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Af(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Of(t){var e=Fh(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Nf,Cf,Lf,Rf,Pf,If,Mf,Df,jf,Bf,Ff,Uf,zf,Vf,Kf,Hf,qf={point:Wf,lineStart:Yf,lineEnd:$f,polygonStart:function(){qf.point=Xf,qf.lineStart=Zf,qf.lineEnd=Jf,hf=new xt,yf.polygonStart()},polygonEnd:function(){yf.polygonEnd(),qf.point=Wf,qf.lineStart=Yf,qf.lineEnd=$f,df<0?(nf=-(of=180),rf=-(sf=90)):hf>_h?sf=90:hf<-_h&&(rf=-90),pf[0]=nf,pf[1]=of},sphere:function(){nf=-(of=180),rf=-(sf=90)}};function Wf(t,e){ff.push(pf=[nf=t,of=t]),e<rf&&(rf=e),e>sf&&(sf=e)}function Gf(t,e){var n=kf([t*Ah,e*Ah]);if(lf){var r=Sf(lf,n),i=Sf([r[1],-r[0],0],r);Of(i),i=xf(i);var o,s=t-af,a=s>0?1:-1,c=i[0]*Eh*a,u=Oh(s)>180;u^(a*af<c&&c<a*t)?(o=i[1]*Eh)>sf&&(sf=o):u^(a*af<(c=(c+360)%360-180)&&c<a*t)?(o=-i[1]*Eh)<rf&&(rf=o):(e<rf&&(rf=e),e>sf&&(sf=e)),u?t<af?Qf(nf,t)>Qf(nf,of)&&(of=t):Qf(t,of)>Qf(nf,of)&&(nf=t):of>=nf?(t<nf&&(nf=t),t>of&&(of=t)):t>af?Qf(nf,t)>Qf(nf,of)&&(of=t):Qf(t,of)>Qf(nf,of)&&(nf=t)}else ff.push(pf=[nf=t,of=t]);e<rf&&(rf=e),e>sf&&(sf=e),lf=n,af=t}function Yf(){qf.point=Gf}function $f(){pf[0]=nf,pf[1]=of,qf.point=Wf,lf=null}function Xf(t,e){if(lf){var n=t-af;hf.add(Oh(n)>180?n+(n>0?360:-360):n)}else cf=t,uf=e;yf.point(t,e),Gf(t,e)}function Zf(){yf.lineStart()}function Jf(){Xf(cf,uf),yf.lineEnd(),Oh(hf)>_h&&(nf=-(of=180)),pf[0]=nf,pf[1]=of,lf=null}function Qf(t,e){return(e-=t)<0?e+360:e}function tp(t,e){return t[0]-e[0]}function ep(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function np(t){var e,n,r,i,o,s,a;if(sf=of=-(nf=rf=1/0),ff=[],Xh(t,qf),n=ff.length){for(ff.sort(tp),e=1,o=[r=ff[0]];e<n;++e)ep(r,(i=ff[e])[0])||ep(r,i[1])?(Qf(r[0],i[1])>Qf(r[0],r[1])&&(r[1]=i[1]),Qf(i[0],r[1])>Qf(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(a=Qf(r[1],i[0]))>s&&(s=a,nf=i[0],of=r[1])}return ff=pf=null,nf===1/0||rf===1/0?[[NaN,NaN],[NaN,NaN]]:[[nf,rf],[of,sf]]}var rp={sphere:Hh,point:ip,lineStart:sp,lineEnd:up,polygonStart:function(){rp.lineStart=lp,rp.lineEnd=hp},polygonEnd:function(){rp.lineStart=sp,rp.lineEnd=up}};function ip(t,e){t*=Ah;var n=Lh(e*=Ah);op(n*Lh(t),n*jh(t),jh(e))}function op(t,e,n){++Nf,Lf+=(t-Lf)/Nf,Rf+=(e-Rf)/Nf,Pf+=(n-Pf)/Nf}function sp(){rp.point=ap}function ap(t,e){t*=Ah;var n=Lh(e*=Ah);Vf=n*Lh(t),Kf=n*jh(t),Hf=jh(e),rp.point=cp,op(Vf,Kf,Hf)}function cp(t,e){t*=Ah;var n=Lh(e*=Ah),r=n*Lh(t),i=n*jh(t),o=jh(e),s=Ch(Fh((s=Kf*o-Hf*i)*s+(s=Hf*r-Vf*o)*s+(s=Vf*i-Kf*r)*s),Vf*r+Kf*i+Hf*o);Cf+=s,If+=s*(Vf+(Vf=r)),Mf+=s*(Kf+(Kf=i)),Df+=s*(Hf+(Hf=o)),op(Vf,Kf,Hf)}function up(){rp.point=ip}function lp(){rp.point=fp}function hp(){pp(Uf,zf),rp.point=ip}function fp(t,e){Uf=t,zf=e,t*=Ah,e*=Ah,rp.point=pp;var n=Lh(e);Vf=n*Lh(t),Kf=n*jh(t),Hf=jh(e),op(Vf,Kf,Hf)}function pp(t,e){t*=Ah;var n=Lh(e*=Ah),r=n*Lh(t),i=n*jh(t),o=jh(e),s=Kf*o-Hf*i,a=Hf*r-Vf*o,c=Vf*i-Kf*r,u=Ih(s,a,c),l=Vh(u),h=u&&-l/u;jf.add(h*s),Bf.add(h*a),Ff.add(h*c),Cf+=l,If+=l*(Vf+(Vf=r)),Mf+=l*(Kf+(Kf=i)),Df+=l*(Hf+(Hf=o)),op(Vf,Kf,Hf)}function dp(t){Nf=Cf=Lf=Rf=Pf=If=Mf=Df=0,jf=new xt,Bf=new xt,Ff=new xt,Xh(t,rp);var e=+jf,n=+Bf,r=+Ff,i=Ih(e,n,r);return i<wh&&(e=If,n=Mf,r=Df,Cf<_h&&(e=Lf,n=Rf,r=Pf),(i=Ih(e,n,r))<wh)?[NaN,NaN]:[Ch(n,e)*Eh,Vh(r/i)*Eh]}function mp(t){return function(){return t}}function yp(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function gp(t,e){return Oh(t)>xh&&(t-=Math.round(t/Sh)*Sh),[t,e]}function vp(t,e,n){return(t%=Sh)?e||n?yp(_p(t),wp(e,n)):_p(t):e||n?wp(e,n):gp}function bp(t){return function(e,n){return Oh(e+=t)>xh&&(e-=Math.round(e/Sh)*Sh),[e,n]}}function _p(t){var e=bp(t);return e.invert=bp(-t),e}function wp(t,e){var n=Lh(t),r=jh(t),i=Lh(e),o=jh(e);function s(t,e){var s=Lh(e),a=Lh(t)*s,c=jh(t)*s,u=jh(e),l=u*n+a*r;return[Ch(c*i-l*o,a*n-u*r),Vh(l*i+c*o)]}return s.invert=function(t,e){var s=Lh(e),a=Lh(t)*s,c=jh(t)*s,u=jh(e),l=u*i-c*o;return[Ch(c*i+u*o,a*n+l*r),Vh(l*n-a*r)]},s}function xp(t){function e(e){return(e=t(e[0]*Ah,e[1]*Ah))[0]*=Eh,e[1]*=Eh,e}return t=vp(t[0]*Ah,t[1]*Ah,t.length>2?t[2]*Ah:0),e.invert=function(e){return(e=t.invert(e[0]*Ah,e[1]*Ah))[0]*=Eh,e[1]*=Eh,e},e}function kp(t,e,n,r,i,o){if(n){var s=Lh(e),a=jh(e),c=r*n;null==i?(i=e+r*Sh,o=e-c/2):(i=Tp(s,i),o=Tp(s,o),(r>0?i<o:i>o)&&(i+=r*Sh));for(var u,l=i;r>0?l>o:l<o;l-=c)u=xf([s,-a*Lh(l),-a*jh(l)]),t.point(u[0],u[1])}}function Tp(t,e){(e=kf(e))[0]-=t,Of(e);var n=zh(-e[1]);return((-e[2]<0?-n:n)+Sh-_h)%Sh}function Sp(){var t,e,n=mp([0,0]),r=mp(90),i=mp(2),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=Eh,n[1]*=Eh}};function s(){var s=n.apply(this,arguments),a=r.apply(this,arguments)*Ah,c=i.apply(this,arguments)*Ah;return t=[],e=vp(-s[0]*Ah,-s[1]*Ah,0).invert,kp(o,a,c,1),s={type:"Polygon",coordinates:[t]},t=e=null,s}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:mp([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(r="function"==typeof t?t:mp(+t),s):r},s.precision=function(t){return arguments.length?(i="function"==typeof t?t:mp(+t),s):i},s}function Ep(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Hh,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ap(t,e){return Oh(t[0]-e[0])<_h&&Oh(t[1]-e[1])<_h}function Op(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Np(t,e,n,r,i){var o,s,a=[],c=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(Ap(r,s)){if(!r[2]&&!s[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}s[0]+=2*_h}a.push(n=new Op(r,t,null,!0)),c.push(n.o=new Op(r,null,n,!1)),a.push(n=new Op(s,t,null,!1)),c.push(n.o=new Op(s,null,n,!0))}})),a.length){for(c.sort(e),Cp(a),Cp(c),o=0,s=c.length;o<s;++o)c[o].e=n=!n;for(var u,l,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=u.length;o<s;++o)i.point((l=u[o])[0],l[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(u=f.p.z,o=u.length-1;o>=0;--o)i.point((l=u[o])[0],l[1]);else r(f.x,f.p.x,-1,i);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function Cp(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Lp(t){return Oh(t[0])<=xh?t[0]:Bh(t[0])*((Oh(t[0])+xh)%Sh-xh)}function Rp(t,e){var n=Lp(e),r=e[1],i=jh(r),o=[jh(n),-Lh(n),0],s=0,a=0,c=new xt;1===i?r=kh+_h:-1===i&&(r=-kh-_h);for(var u=0,l=t.length;u<l;++u)if(f=(h=t[u]).length)for(var h,f,p=h[f-1],d=Lp(p),m=p[1]/2+Th,y=jh(m),g=Lh(m),v=0;v<f;++v,d=_,y=x,g=k,p=b){var b=h[v],_=Lp(b),w=b[1]/2+Th,x=jh(w),k=Lh(w),T=_-d,S=T>=0?1:-1,E=S*T,A=E>xh,O=y*x;if(c.add(Ch(O*S*jh(E),g*k+O*Lh(E))),s+=A?T+S*Sh:T,A^d>=n^_>=n){var N=Sf(kf(p),kf(b));Of(N);var C=Sf(o,N);Of(C);var L=(A^T>=0?-1:1)*Vh(C[2]);(r>L||r===L&&(N[0]||N[1]))&&(a+=A^T>=0?1:-1)}}return(s<-_h||s<_h&&c<-wh)^1&a}function Pp(t,e,n,r){return function(i){var o,s,a,c=e(i),u=Ep(),l=e(u),h=!1,f={point:p,lineStart:m,lineEnd:y,polygonStart:function(){f.point=g,f.lineStart=v,f.lineEnd=b,s=[],o=[]},polygonEnd:function(){f.point=p,f.lineStart=m,f.lineEnd=y,s=xe(s);var t=Rp(o,r);s.length?(h||(i.polygonStart(),h=!0),Np(s,Mp,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),s=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(e,n){t(e,n)&&i.point(e,n)}function d(t,e){c.point(t,e)}function m(){f.point=d,c.lineStart()}function y(){f.point=p,c.lineEnd()}function g(t,e){a.push([t,e]),l.point(t,e)}function v(){l.lineStart(),a=[]}function b(){g(a[0][0],a[0][1]),l.lineEnd();var t,e,n,r,c=l.clean(),f=u.result(),p=f.length;if(a.pop(),o.push(a),a=null,p)if(1&c){if((e=(n=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else p>1&&2&c&&f.push(f.pop().concat(f.shift())),s.push(f.filter(Ip))}return f}}function Ip(t){return t.length>1}function Mp(t,e){return((t=t.x)[0]<0?t[1]-kh-_h:kh-t[1])-((e=e.x)[0]<0?e[1]-kh-_h:kh-e[1])}gp.invert=gp;const Dp=Pp((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?xh:-xh,c=Oh(o-n);Oh(c-xh)<_h?(t.point(n,r=(r+s)/2>0?kh:-kh),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&c>=xh&&(Oh(n-i)<_h&&(n-=i*_h),Oh(o-a)<_h&&(o-=a*_h),r=function(t,e,n,r){var i,o,s=jh(t-n);return Oh(s)>_h?Nh((jh(e)*(o=Lh(r))*jh(n)-jh(r)*(i=Lh(e))*jh(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*kh,r.point(-xh,i),r.point(0,i),r.point(xh,i),r.point(xh,0),r.point(xh,-i),r.point(0,-i),r.point(-xh,-i),r.point(-xh,0),r.point(-xh,i);else if(Oh(t[0]-e[0])>_h){var o=t[0]<e[0]?xh:-xh;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-xh,-kh]);function jp(t){var e=Lh(t),n=2*Ah,r=e>0,i=Oh(e)>_h;function o(t,n){return Lh(t)*Lh(n)>e}function s(t,n,r){var i=[1,0,0],o=Sf(kf(t),kf(n)),s=Tf(o,o),a=o[0],c=s-a*a;if(!c)return!r&&t;var u=e*s/c,l=-e*a/c,h=Sf(i,o),f=Af(i,u);Ef(f,Af(o,l));var p=h,d=Tf(f,p),m=Tf(p,p),y=d*d-m*(Tf(f,f)-1);if(!(y<0)){var g=Fh(y),v=Af(p,(-d-g)/m);if(Ef(v,f),v=xf(v),!r)return v;var b,_=t[0],w=n[0],x=t[1],k=n[1];w<_&&(b=_,_=w,w=b);var T=w-_,S=Oh(T-xh)<_h;if(!S&&k<x&&(b=x,x=k,k=b),S||T<_h?S?x+k>0^v[1]<(Oh(v[0]-_)<_h?x:k):x<=v[1]&&v[1]<=k:T>xh^(_<=v[0]&&v[0]<=w)){var E=Af(p,(-d+g)/m);return Ef(E,f),[v,xf(E)]}}}function a(e,n){var i=r?t:xh-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Pp(o,(function(t){var e,n,c,u,l;return{lineStart:function(){u=c=!1,l=1},point:function(h,f){var p,d=[h,f],m=o(h,f),y=r?m?0:a(h,f):m?a(h+(h<0?xh:-xh),f):0;if(!e&&(u=c=m)&&t.lineStart(),m!==c&&(!(p=s(e,d))||Ap(e,p)||Ap(d,p))&&(d[2]=1),m!==c)l=0,m?(t.lineStart(),p=s(d,e),t.point(p[0],p[1])):(p=s(e,d),t.point(p[0],p[1],2),t.lineEnd()),e=p;else if(i&&e&&r^m){var g;y&n||!(g=s(d,e,!0))||(l=0,r?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1],3)))}!m||e&&Ap(e,d)||t.point(d[0],d[1]),e=d,c=m,n=y},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return l|(u&&c)<<1}}}),(function(e,r,i,o){kp(o,t,n,i,e,r)}),r?[0,-t]:[-xh,t-xh])}var Bp,Fp,Up,zp,Vp=1e9,Kp=-Vp;function Hp(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,u){var l=0,h=0;if(null==i||(l=s(i,a))!==(h=s(o,a))||c(i,o)<0^a>0)do{u.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+a+4)%4)!==h);else u.point(o[0],o[1])}function s(r,i){return Oh(r[0]-t)<_h?i>0?0:3:Oh(r[0]-n)<_h?i>0?2:1:Oh(r[1]-e)<_h?i>0?1:0:i>0?3:2}function a(t,e){return c(t.x,e.x)}function c(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var c,u,l,h,f,p,d,m,y,g,v,b=s,_=Ep(),w={point:x,lineStart:function(){w.point=k,u&&u.push(l=[]),g=!0,y=!1,d=m=NaN},lineEnd:function(){c&&(k(h,f),p&&y&&_.rejoin(),c.push(_.result())),w.point=x,y&&b.lineEnd()},polygonStart:function(){b=_,c=[],u=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=u.length;n<i;++n)for(var o,s,a=u[n],c=1,l=a.length,h=a[0],f=h[0],p=h[1];c<l;++c)o=f,s=p,f=(h=a[c])[0],p=h[1],s<=r?p>r&&(f-o)*(r-s)>(p-s)*(t-o)&&++e:p<=r&&(f-o)*(r-s)<(p-s)*(t-o)&&--e;return e}(),n=v&&e,i=(c=xe(c)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&Np(c,a,e,o,s),s.polygonEnd()),b=s,c=u=l=null}};function x(t,e){i(t,e)&&b.point(t,e)}function k(o,s){var a=i(o,s);if(u&&l.push([o,s]),g)h=o,f=s,p=a,g=!1,a&&(b.lineStart(),b.point(o,s));else if(a&&y)b.point(o,s);else{var c=[d=Math.max(Kp,Math.min(Vp,d)),m=Math.max(Kp,Math.min(Vp,m))],_=[o=Math.max(Kp,Math.min(Vp,o)),s=Math.max(Kp,Math.min(Vp,s))];!function(t,e,n,r,i,o){var s,a=t[0],c=t[1],u=0,l=1,h=e[0]-a,f=e[1]-c;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<u)return;s<l&&(l=s)}else if(h>0){if(s>l)return;s>u&&(u=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>l)return;s>u&&(u=s)}else if(h>0){if(s<u)return;s<l&&(l=s)}if(s=r-c,f||!(s>0)){if(s/=f,f<0){if(s<u)return;s<l&&(l=s)}else if(f>0){if(s>l)return;s>u&&(u=s)}if(s=o-c,f||!(s<0)){if(s/=f,f<0){if(s>l)return;s>u&&(u=s)}else if(f>0){if(s<u)return;s<l&&(l=s)}return u>0&&(t[0]=a+u*h,t[1]=c+u*f),l<1&&(e[0]=a+l*h,e[1]=c+l*f),!0}}}}}(c,_,t,e,n,r)?a&&(b.lineStart(),b.point(o,s),v=!1):(y||(b.lineStart(),b.point(c[0],c[1])),b.point(_[0],_[1]),a||b.lineEnd(),v=!1)}d=o,m=s,y=a}return w}}function qp(){var t,e,n,r=0,i=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=Hp(r,i,o,s)(e=n)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[r,i],[o,s]]}}}var Wp={sphere:Hh,point:Hh,lineStart:function(){Wp.point=Yp,Wp.lineEnd=Gp},lineEnd:Hh,polygonStart:Hh,polygonEnd:Hh};function Gp(){Wp.point=Wp.lineEnd=Hh}function Yp(t,e){Fp=t*=Ah,Up=jh(e*=Ah),zp=Lh(e),Wp.point=$p}function $p(t,e){t*=Ah;var n=jh(e*=Ah),r=Lh(e),i=Oh(t-Fp),o=Lh(i),s=r*jh(i),a=zp*n-Up*r*o,c=Up*n+zp*r*o;Bp.add(Ch(Fh(s*s+a*a),c)),Fp=t,Up=n,zp=r}function Xp(t){return Bp=new xt,Xh(t,Wp),+Bp}var Zp=[null,null],Jp={type:"LineString",coordinates:Zp};function Qp(t,e){return Zp[0]=t,Zp[1]=e,Xp(Jp)}var td={Feature:function(t,e){return nd(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(nd(n[r].geometry,e))return!0;return!1}},ed={Sphere:function(){return!0},Point:function(t,e){return rd(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(rd(n[r],e))return!0;return!1},LineString:function(t,e){return id(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(id(n[r],e))return!0;return!1},Polygon:function(t,e){return od(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(od(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(nd(n[r],e))return!0;return!1}};function nd(t,e){return!(!t||!ed.hasOwnProperty(t.type))&&ed[t.type](t,e)}function rd(t,e){return 0===Qp(t,e)}function id(t,e){for(var n,r,i,o=0,s=t.length;o<s;o++){if(0===(r=Qp(t[o],e)))return!0;if(o>0&&(i=Qp(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<wh*i)return!0;n=r}return!1}function od(t,e){return!!Rp(t.map(sd),ad(e))}function sd(t){return(t=t.map(ad)).pop(),t}function ad(t){return[t[0]*Ah,t[1]*Ah]}function cd(t,e){return(t&&td.hasOwnProperty(t.type)?td[t.type]:nd)(t,e)}function ud(t,e,n){var r=Ee(t,e-_h,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function ld(t,e,n){var r=Ee(t,e-_h,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function hd(){var t,e,n,r,i,o,s,a,c,u,l,h,f=10,p=f,d=90,m=360,y=2.5;function g(){return{type:"MultiLineString",coordinates:v()}}function v(){return Ee(Rh(r/d)*d,n,d).map(l).concat(Ee(Rh(a/m)*m,s,m).map(h)).concat(Ee(Rh(e/f)*f,t,f).filter((function(t){return Oh(t%d)>_h})).map(c)).concat(Ee(Rh(o/p)*p,i,p).filter((function(t){return Oh(t%m)>_h})).map(u))}return g.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},g.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(h(s).slice(1),l(n).reverse().slice(1),h(a).reverse().slice(1))]}},g.extent=function(t){return arguments.length?g.extentMajor(t).extentMinor(t):g.extentMinor()},g.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],a=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),a>s&&(t=a,a=s,s=t),g.precision(y)):[[r,a],[n,s]]},g.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),g.precision(y)):[[e,o],[t,i]]},g.step=function(t){return arguments.length?g.stepMajor(t).stepMinor(t):g.stepMinor()},g.stepMajor=function(t){return arguments.length?(d=+t[0],m=+t[1],g):[d,m]},g.stepMinor=function(t){return arguments.length?(f=+t[0],p=+t[1],g):[f,p]},g.precision=function(f){return arguments.length?(y=+f,c=ud(o,i,90),u=ld(e,t,y),l=ud(a,s,90),h=ld(r,n,y),g):y},g.extentMajor([[-180,-90+_h],[180,90-_h]]).extentMinor([[-180,-80-_h],[180,80+_h]])}function fd(){return hd()()}function pd(t,e){var n=t[0]*Ah,r=t[1]*Ah,i=e[0]*Ah,o=e[1]*Ah,s=Lh(r),a=jh(r),c=Lh(o),u=jh(o),l=s*Lh(n),h=s*jh(n),f=c*Lh(i),p=c*jh(i),d=2*Vh(Fh(Kh(o-r)+s*c*Kh(i-n))),m=jh(d),y=d?function(t){var e=jh(t*=d)/m,n=jh(d-t)/m,r=n*l+e*f,i=n*h+e*p,o=n*a+e*u;return[Ch(i,r)*Eh,Ch(o,Fh(r*r+i*i))*Eh]}:function(){return[n*Eh,r*Eh]};return y.distance=d,y}const dd=t=>t;var md,yd,gd,vd,bd=new xt,_d=new xt,wd={point:Hh,lineStart:Hh,lineEnd:Hh,polygonStart:function(){wd.lineStart=xd,wd.lineEnd=Sd},polygonEnd:function(){wd.lineStart=wd.lineEnd=wd.point=Hh,bd.add(Oh(_d)),_d=new xt},result:function(){var t=bd/2;return bd=new xt,t}};function xd(){wd.point=kd}function kd(t,e){wd.point=Td,md=gd=t,yd=vd=e}function Td(t,e){_d.add(vd*t-gd*e),gd=t,vd=e}function Sd(){Td(md,yd)}const Ed=wd;var Ad=1/0,Od=Ad,Nd=-Ad,Cd=Nd,Ld={point:function(t,e){t<Ad&&(Ad=t),t>Nd&&(Nd=t),e<Od&&(Od=e),e>Cd&&(Cd=e)},lineStart:Hh,lineEnd:Hh,polygonStart:Hh,polygonEnd:Hh,result:function(){var t=[[Ad,Od],[Nd,Cd]];return Nd=Cd=-(Od=Ad=1/0),t}};const Rd=Ld;var Pd,Id,Md,Dd,jd=0,Bd=0,Fd=0,Ud=0,zd=0,Vd=0,Kd=0,Hd=0,qd=0,Wd={point:Gd,lineStart:Yd,lineEnd:Zd,polygonStart:function(){Wd.lineStart=Jd,Wd.lineEnd=Qd},polygonEnd:function(){Wd.point=Gd,Wd.lineStart=Yd,Wd.lineEnd=Zd},result:function(){var t=qd?[Kd/qd,Hd/qd]:Vd?[Ud/Vd,zd/Vd]:Fd?[jd/Fd,Bd/Fd]:[NaN,NaN];return jd=Bd=Fd=Ud=zd=Vd=Kd=Hd=qd=0,t}};function Gd(t,e){jd+=t,Bd+=e,++Fd}function Yd(){Wd.point=$d}function $d(t,e){Wd.point=Xd,Gd(Md=t,Dd=e)}function Xd(t,e){var n=t-Md,r=e-Dd,i=Fh(n*n+r*r);Ud+=i*(Md+t)/2,zd+=i*(Dd+e)/2,Vd+=i,Gd(Md=t,Dd=e)}function Zd(){Wd.point=Gd}function Jd(){Wd.point=tm}function Qd(){em(Pd,Id)}function tm(t,e){Wd.point=em,Gd(Pd=Md=t,Id=Dd=e)}function em(t,e){var n=t-Md,r=e-Dd,i=Fh(n*n+r*r);Ud+=i*(Md+t)/2,zd+=i*(Dd+e)/2,Vd+=i,Kd+=(i=Dd*t-Md*e)*(Md+t),Hd+=i*(Dd+e),qd+=3*i,Gd(Md=t,Dd=e)}const nm=Wd;function rm(t){this._context=t}rm.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Sh)}},result:Hh};var im,om,sm,am,cm,um=new xt,lm={point:Hh,lineStart:function(){lm.point=hm},lineEnd:function(){im&&fm(om,sm),lm.point=Hh},polygonStart:function(){im=!0},polygonEnd:function(){im=null},result:function(){var t=+um;return um=new xt,t}};function hm(t,e){lm.point=fm,om=am=t,sm=cm=e}function fm(t,e){am-=t,cm-=e,um.add(Fh(am*am+cm*cm)),am=t,cm=e}const pm=lm;let dm,mm,ym,gm;class vm{constructor(t){this._append=null==t?bm:function(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return bm;if(e!==dm){const t=10**e;dm=e,mm=function(e){let n=1;this._+=e[0];for(const r=e.length;n<r;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return mm}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==ym||this._append!==mm){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,ym=t,mm=this._append,gm=this._,this._=e}this._+=gm}}result(){const t=this._;return this._="",t.length?t:null}}function bm(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _m(t,e){let n,r,i=3,o=4.5;function s(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Xh(t,n(r))),r.result()}return s.area=function(t){return Xh(t,n(Ed)),Ed.result()},s.measure=function(t){return Xh(t,n(pm)),pm.result()},s.bounds=function(t){return Xh(t,n(Rd)),Rd.result()},s.centroid=function(t){return Xh(t,n(nm)),nm.result()},s.projection=function(e){return arguments.length?(n=null==e?(t=null,dd):(t=e).stream,s):t},s.context=function(t){return arguments.length?(r=null==t?(e=null,new vm(i)):new rm(e=t),"function"!=typeof o&&r.pointRadius(o),s):e},s.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),s):o},s.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);i=e}return null===e&&(r=new vm(i)),s},s.projection(t).digits(i).context(e)}function wm(t){return{stream:xm(t)}}function xm(t){return function(e){var n=new km;for(var r in t)n[r]=t[r];return n.stream=e,n}}function km(){}function Tm(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Xh(n,t.stream(Rd)),e(Rd.result()),null!=r&&t.clipExtent(r),t}function Sm(t,e,n){return Tm(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])}),n)}function Em(t,e,n){return Sm(t,[[0,0],e],n)}function Am(t,e,n){return Tm(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];t.scale(150*i).translate([o,s])}),n)}function Om(t,e,n){return Tm(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],s=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,s])}),n)}km.prototype={constructor:km,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Nm=16,Cm=Lh(30*Ah);function Lm(t,e){return+e?function(t,e){function n(r,i,o,s,a,c,u,l,h,f,p,d,m,y){var g=u-r,v=l-i,b=g*g+v*v;if(b>4*e&&m--){var _=s+f,w=a+p,x=c+d,k=Fh(_*_+w*w+x*x),T=Vh(x/=k),S=Oh(Oh(x)-1)<_h||Oh(o-h)<_h?(o+h)/2:Ch(w,_),E=t(S,T),A=E[0],O=E[1],N=A-r,C=O-i,L=v*N-g*C;(L*L/b>e||Oh((g*N+v*C)/b-.5)>.3||s*f+a*p+c*d<Cm)&&(n(r,i,o,s,a,c,A,O,S,_/=k,w/=k,x,m,y),y.point(A,O),n(A,O,S,_,w,x,u,l,h,f,p,d,m,y))}}return function(e){var r,i,o,s,a,c,u,l,h,f,p,d,m={point:y,lineStart:g,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=_},polygonEnd:function(){e.polygonEnd(),m.lineStart=g}};function y(n,r){n=t(n,r),e.point(n[0],n[1])}function g(){l=NaN,m.point=v,e.lineStart()}function v(r,i){var o=kf([r,i]),s=t(r,i);n(l,h,u,f,p,d,l=s[0],h=s[1],u=r,f=o[0],p=o[1],d=o[2],Nm,e),e.point(l,h)}function b(){m.point=y,e.lineEnd()}function _(){g(),m.point=w,m.lineEnd=x}function w(t,e){v(r=t,e),i=l,o=h,s=f,a=p,c=d,m.point=v}function x(){n(l,h,u,f,p,d,i,o,r,s,a,c,Nm,e),m.lineEnd=b,b()}return m}}(t,e):function(t){return xm({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Rm=xm({point:function(t,e){this.stream.point(t*Ah,e*Ah)}});function Pm(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,s){return[e+t*(o*=r),n-t*(s*=i)]}return o.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},o}(t,e,n,r,i);var s=Lh(o),a=jh(o),c=s*t,u=a*t,l=s/t,h=a/t,f=(a*n-s*e)/t,p=(a*e+s*n)/t;function d(t,o){return[c*(t*=r)-u*(o*=i)+e,n-u*t-c*o]}return d.invert=function(t,e){return[r*(l*t-h*e+f),i*(p-h*t-l*e)]},d}function Im(t){return Mm((function(){return t}))()}function Mm(t){var e,n,r,i,o,s,a,c,u,l,h=150,f=480,p=250,d=0,m=0,y=0,g=0,v=0,b=0,_=1,w=1,x=null,k=Dp,T=null,S=dd,E=.5;function A(t){return c(t[0]*Ah,t[1]*Ah)}function O(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Eh,t[1]*Eh]}function N(){var t=Pm(h,0,0,_,w,b).apply(null,e(d,m)),r=Pm(h,f-t[0],p-t[1],_,w,b);return n=vp(y,g,v),a=yp(e,r),c=yp(n,a),s=Lm(a,E),C()}function C(){return u=l=null,A}return A.stream=function(t){return u&&l===t?u:u=Rm(function(t){return xm({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(k(s(S(l=t)))))},A.preclip=function(t){return arguments.length?(k=t,x=void 0,C()):k},A.postclip=function(t){return arguments.length?(S=t,T=r=i=o=null,C()):S},A.clipAngle=function(t){return arguments.length?(k=+t?jp(x=t*Ah):(x=null,Dp),C()):x*Eh},A.clipExtent=function(t){return arguments.length?(S=null==t?(T=r=i=o=null,dd):Hp(T=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==T?null:[[T,r],[i,o]]},A.scale=function(t){return arguments.length?(h=+t,N()):h},A.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],N()):[f,p]},A.center=function(t){return arguments.length?(d=t[0]%360*Ah,m=t[1]%360*Ah,N()):[d*Eh,m*Eh]},A.rotate=function(t){return arguments.length?(y=t[0]%360*Ah,g=t[1]%360*Ah,v=t.length>2?t[2]%360*Ah:0,N()):[y*Eh,g*Eh,v*Eh]},A.angle=function(t){return arguments.length?(b=t%360*Ah,N()):b*Eh},A.reflectX=function(t){return arguments.length?(_=t?-1:1,N()):_<0},A.reflectY=function(t){return arguments.length?(w=t?-1:1,N()):w<0},A.precision=function(t){return arguments.length?(s=Lm(a,E=t*t),C()):Fh(E)},A.fitExtent=function(t,e){return Sm(A,t,e)},A.fitSize=function(t,e){return Em(A,t,e)},A.fitWidth=function(t,e){return Am(A,t,e)},A.fitHeight=function(t,e){return Om(A,t,e)},function(){return e=t.apply(this,arguments),A.invert=e.invert&&O,N()}}function Dm(t){var e=0,n=xh/3,r=Mm(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ah,n=t[1]*Ah):[e*Eh,n*Eh]},i}function jm(t,e){var n=jh(t),r=(n+jh(e))/2;if(Oh(r)<_h)return function(t){var e=Lh(t);function n(t,n){return[t*e,jh(n)/e]}return n.invert=function(t,n){return[t/e,Vh(n*e)]},n}(t);var i=1+n*(2*r-n),o=Fh(i)/r;function s(t,e){var n=Fh(i-2*r*jh(e))/r;return[n*jh(t*=r),o-n*Lh(t)]}return s.invert=function(t,e){var n=o-e,s=Ch(t,Oh(n))*Bh(n);return n*r<0&&(s-=xh*Bh(t)*Bh(n)),[s/r,Vh((i-(t*t+n*n)*r*r)/(2*r))]},s}function Bm(){return Dm(jm).scale(155.424).center([0,33.6442])}function Fm(){return Bm().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Um(){var t,e,n,r,i,o,s=Fm(),a=Bm().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Bm().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],s=t[1];return o=null,n.point(e,s),o||(r.point(e,s),o)||(i.point(e,s),o)}function h(){return t=e=null,l}return l.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:s).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[s.stream(e=n),a.stream(n),c.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(s.precision(t),a.precision(t),c.precision(t),h()):s.precision()},l.scale=function(t){return arguments.length?(s.scale(t),a.scale(.35*t),c.scale(t),l.translate(s.translate())):s.scale()},l.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),o=+t[0],l=+t[1];return n=s.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(u),r=a.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+_h,l+.12*e+_h],[o-.214*e-_h,l+.234*e-_h]]).stream(u),i=c.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+_h,l+.166*e+_h],[o-.115*e-_h,l+.234*e-_h]]).stream(u),h()},l.fitExtent=function(t,e){return Sm(l,t,e)},l.fitSize=function(t,e){return Em(l,t,e)},l.fitWidth=function(t,e){return Am(l,t,e)},l.fitHeight=function(t,e){return Om(l,t,e)},l.scale(1070)}function zm(t){return function(e,n){var r=Lh(e),i=Lh(n),o=t(r*i);return o===1/0?[2,0]:[o*i*jh(e),o*jh(n)]}}function Vm(t){return function(e,n){var r=Fh(e*e+n*n),i=t(r),o=jh(i),s=Lh(i);return[Ch(e*o,r*s),Vh(r&&n*o/r)]}}var Km=zm((function(t){return Fh(2/(1+t))}));function Hm(){return Im(Km).scale(124.75).clipAngle(179.999)}Km.invert=Vm((function(t){return 2*Vh(t/2)}));var qm=zm((function(t){return(t=zh(t))&&t/jh(t)}));function Wm(){return Im(qm).scale(79.4188).clipAngle(179.999)}function Gm(t,e){return[t,Mh(Uh((kh+e)/2))]}function Ym(){return $m(Gm).scale(961/Sh)}function $m(t){var e,n,r,i=Im(t),o=i.center,s=i.scale,a=i.translate,c=i.clipExtent,u=null;function l(){var o=xh*s(),a=i(xp(i.rotate()).invert([0,0]));return c(null==u?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===Gm?[[Math.max(a[0]-o,u),e],[Math.min(a[0]+o,n),r]]:[[u,Math.max(a[1]-o,e)],[n,Math.min(a[1]+o,r)]])}return i.scale=function(t){return arguments.length?(s(t),l()):s()},i.translate=function(t){return arguments.length?(a(t),l()):a()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?u=e=n=r=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==u?null:[[u,e],[n,r]]},l()}function Xm(t){return Uh((kh+t)/2)}function Zm(t,e){var n=Lh(t),r=t===e?jh(t):Mh(n/Lh(e))/Mh(Xm(e)/Xm(t)),i=n*Dh(Xm(t),r)/r;if(!r)return Gm;function o(t,e){i>0?e<-kh+_h&&(e=-kh+_h):e>kh-_h&&(e=kh-_h);var n=i/Dh(Xm(e),r);return[n*jh(r*t),i-n*Lh(r*t)]}return o.invert=function(t,e){var n=i-e,o=Bh(r)*Fh(t*t+n*n),s=Ch(t,Oh(n))*Bh(n);return n*r<0&&(s-=xh*Bh(t)*Bh(n)),[s/r,2*Nh(Dh(i/o,1/r))-kh]},o}function Jm(){return Dm(Zm).scale(109.5).parallels([30,30])}function Qm(t,e){return[t,e]}function ty(){return Im(Qm).scale(152.63)}function ey(t,e){var n=Lh(t),r=t===e?jh(t):(n-Lh(e))/(e-t),i=n/r+t;if(Oh(r)<_h)return Qm;function o(t,e){var n=i-e,o=r*t;return[n*jh(o),i-n*Lh(o)]}return o.invert=function(t,e){var n=i-e,o=Ch(t,Oh(n))*Bh(n);return n*r<0&&(o-=xh*Bh(t)*Bh(n)),[o/r,i-Bh(r)*Fh(t*t+n*n)]},o}function ny(){return Dm(ey).scale(131.154).center([0,13.9389])}qm.invert=Vm((function(t){return t})),Gm.invert=function(t,e){return[t,2*Nh(Ph(e))-kh]},Qm.invert=Qm;var ry=1.340264,iy=-.081106,oy=893e-6,sy=.003796,ay=Fh(3)/2;function cy(t,e){var n=Vh(ay*jh(e)),r=n*n,i=r*r*r;return[t*Lh(n)/(ay*(ry+3*iy*r+i*(7*oy+9*sy*r))),n*(ry+iy*r+i*(oy+sy*r))]}function uy(){return Im(cy).scale(177.158)}function ly(t,e){var n=Lh(e),r=Lh(t)*n;return[n*jh(t)/r,jh(e)/r]}function hy(){return Im(ly).scale(144.049).clipAngle(60)}function fy(){var t,e,n,r,i,o,s,a=1,c=0,u=0,l=1,h=1,f=0,p=null,d=1,m=1,y=xm({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),g=dd;function v(){return d=a*l,m=a*h,o=s=null,b}function b(n){var r=n[0]*d,i=n[1]*m;if(f){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+c,i+u]}return b.invert=function(n){var r=n[0]-c,i=n[1]-u;if(f){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/d,i/m]},b.stream=function(t){return o&&s===t?o:o=y(g(s=t))},b.postclip=function(t){return arguments.length?(g=t,p=n=r=i=null,v()):g},b.clipExtent=function(t){return arguments.length?(g=null==t?(p=n=r=i=null,dd):Hp(p=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),v()):null==p?null:[[p,n],[r,i]]},b.scale=function(t){return arguments.length?(a=+t,v()):a},b.translate=function(t){return arguments.length?(c=+t[0],u=+t[1],v()):[c,u]},b.angle=function(n){return arguments.length?(e=jh(f=n%360*Ah),t=Lh(f),v()):f*Eh},b.reflectX=function(t){return arguments.length?(l=t?-1:1,v()):l<0},b.reflectY=function(t){return arguments.length?(h=t?-1:1,v()):h<0},b.fitExtent=function(t,e){return Sm(b,t,e)},b.fitSize=function(t,e){return Em(b,t,e)},b.fitWidth=function(t,e){return Am(b,t,e)},b.fitHeight=function(t,e){return Om(b,t,e)},b}function py(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function dy(){return Im(py).scale(175.295)}function my(t,e){return[Lh(e)*jh(t),jh(e)]}function yy(){return Im(my).scale(249.5).clipAngle(90+_h)}function gy(t,e){var n=Lh(e),r=1+Lh(t)*n;return[n*jh(t)/r,jh(e)/r]}function vy(){return Im(gy).scale(250).clipAngle(142)}function by(t,e){return[Mh(Uh((kh+e)/2)),-t]}function _y(){var t=$m(by),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function wy(t,e){return t.parent===e.parent?1:2}function xy(t,e){return t+e.x}function ky(t,e){return Math.max(t,e.y)}function Ty(){var t=wy,e=1,n=1,r=!1;function i(i){var o,s=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(xy,0)/t.length}(n),e.y=function(t){return 1+t.reduce(ky,0)}(n)):(e.x=o?s+=t(e,o):0,e.y=0,o=e)}));var a=function(t){for(var e;e=t.children;)t=e[0];return t}(i),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),u=a.x-t(a,c)/2,l=c.x+t(c,a)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-u)/(l-u)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Sy(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Ey(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Oy)):void 0===e&&(e=Ay);for(var n,r,i,o,s,a=new Ly(t),c=[a];n=c.pop();)if((i=e(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,o=s-1;o>=0;--o)c.push(r=i[o]=new Ly(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(Cy)}function Ay(t){return t.children}function Oy(t){return Array.isArray(t)?t[1]:null}function Ny(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Cy(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Ly(t){this.data=t,this.depth=this.height=0,this.parent=null}function Ry(t){return null==t?null:Py(t)}function Py(t){if("function"!=typeof t)throw new Error;return t}function Iy(){return 0}function My(t){return function(){return t}}cy.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,s=0;s<12&&(o=(i=(r-=n=(r*(ry+iy*i+o*(oy+sy*i))-e)/(ry+3*iy*i+o*(7*oy+9*sy*i)))*r)*i*i,!(Oh(n)<wh));++s);return[ay*t*(ry+3*iy*i+o*(7*oy+9*sy*i))/Lh(r),Vh(jh(r)/ay)]},ly.invert=Vm(Nh),py.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(Oh(n)>_h&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},my.invert=Vm(Vh),gy.invert=Vm((function(t){return 2*Nh(t)})),by.invert=function(t,e){return[-e,2*Nh(Ph(t))-kh]},Ly.prototype=Ey.prototype={constructor:Ly,count:function(){return this.eachAfter(Sy)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,s=[o],a=[],c=-1;o=s.pop();)if(a.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;o=a.pop();)t.call(e,o,++c,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],s=-1;i=o.pop();)if(t.call(e,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Ey(this).eachBefore(Ny)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};const Dy=1664525,jy=1013904223,By=4294967296;function Fy(){let t=1;return()=>(t=(Dy*t+jy)%By)/By}function Uy(t){return zy(t,Fy())}function zy(t,e){for(var n,r,i=0,o=(t=function(t,e){let n,r,i=t.length;for(;i;)r=e()*i--|0,n=t[i],t[i]=t[r],t[r]=n;return t}(Array.from(t),e)).length,s=[];i<o;)n=t[i],r&&Hy(r,n)?++i:(r=Wy(s=Vy(s,n)),i=0);return r}function Vy(t,e){var n,r;if(qy(e,t))return[e];for(n=0;n<t.length;++n)if(Ky(e,t[n])&&qy(Gy(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Ky(Gy(t[n],t[r]),e)&&Ky(Gy(t[n],e),t[r])&&Ky(Gy(t[r],e),t[n])&&qy(Yy(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Ky(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Hy(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function qy(t,e){for(var n=0;n<e.length;++n)if(!Hy(t,e[n]))return!1;return!0}function Wy(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Gy(t[0],t[1]);case 3:return Yy(t[0],t[1],t[2])}}function Gy(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,s=e.y,a=e.r,c=o-n,u=s-r,l=a-i,h=Math.sqrt(c*c+u*u);return{x:(n+o+c/h*l)/2,y:(r+s+u/h*l)/2,r:(h+i+a)/2}}function Yy(t,e,n){var r=t.x,i=t.y,o=t.r,s=e.x,a=e.y,c=e.r,u=n.x,l=n.y,h=n.r,f=r-s,p=r-u,d=i-a,m=i-l,y=c-o,g=h-o,v=r*r+i*i-o*o,b=v-s*s-a*a+c*c,_=v-u*u-l*l+h*h,w=p*d-f*m,x=(d*_-m*b)/(2*w)-r,k=(m*y-d*g)/w,T=(p*b-f*_)/(2*w)-i,S=(f*g-p*y)/w,E=k*k+S*S-1,A=2*(o+x*k+T*S),O=x*x+T*T-o*o,N=-(Math.abs(E)>1e-6?(A+Math.sqrt(A*A-4*E*O))/(2*E):O/A);return{x:r+x+k*N,y:i+T+S*N,r:N}}function $y(t,e,n){var r,i,o,s,a=t.x-e.x,c=t.y-e.y,u=a*a+c*c;u?(i=e.r+n.r,i*=i,s=t.r+n.r,i>(s*=s)?(r=(u+s-i)/(2*u),o=Math.sqrt(Math.max(0,s/u-r*r)),n.x=t.x-r*a-o*c,n.y=t.y-r*c+o*a):(r=(u+i-s)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*a-o*c,n.y=e.y+r*c+o*a)):(n.x=e.x+n.r,n.y=e.y)}function Xy(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Zy(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Jy(t){this._=t,this.next=null,this.previous=null}function Qy(t,e){if(!(s=(n=t,t="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,r,i,o,s,a,c,u,l,h,f,p;if((r=t[0]).x=0,r.y=0,!(s>1))return r.r;if(i=t[1],r.x=-i.r,i.x=r.r,i.y=0,!(s>2))return r.r+i.r;$y(i,r,o=t[2]),r=new Jy(r),i=new Jy(i),o=new Jy(o),r.next=o.previous=i,i.next=r.previous=o,o.next=i.previous=r;t:for(u=3;u<s;++u){$y(r._,i._,o=t[u]),o=new Jy(o),l=i.next,h=r.previous,f=i._.r,p=r._.r;do{if(f<=p){if(Xy(l._,o._)){i=l,r.next=i,i.previous=r,--u;continue t}f+=l._.r,l=l.next}else{if(Xy(h._,o._)){(r=h).next=i,i.previous=r,--u;continue t}p+=h._.r,h=h.previous}}while(l!==h.next);for(o.previous=r,o.next=i,r.next=i.previous=i=o,a=Zy(r);(o=o.next)!==i;)(c=Zy(o))<a&&(r=o,a=c);i=r.next}for(r=[i._],o=i;(o=o.next)!==i;)r.push(o._);for(o=zy(r,e),u=0;u<s;++u)(r=t[u]).x-=o.x,r.y-=o.y;return o.r}function tg(t){return Qy(t,Fy()),t}function eg(t){return Math.sqrt(t.value)}function ng(){var t=null,e=1,n=1,r=Iy;function i(i){const o=Fy();return i.x=e/2,i.y=n/2,t?i.eachBefore(rg(t)).eachAfter(ig(r,.5,o)).eachBefore(og(1)):i.eachBefore(rg(eg)).eachAfter(ig(Iy,1,o)).eachAfter(ig(r,i.r/Math.min(e,n),o)).eachBefore(og(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=Ry(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:My(+t),i):r},i}function rg(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function ig(t,e,n){return function(r){if(i=r.children){var i,o,s,a=i.length,c=t(r)*e||0;if(c)for(o=0;o<a;++o)i[o].r+=c;if(s=Qy(i,n),c)for(o=0;o<a;++o)i[o].r-=c;r.r=s+c}}}function og(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function sg(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ag(t,e,n,r,i){for(var o,s=t.children,a=-1,c=s.length,u=t.value&&(r-e)/t.value;++a<c;)(o=s[a]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}function cg(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&ag(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,s=r.x1-n,a=r.y1-n;s<i&&(i=s=(i+s)/2),a<o&&(o=a=(o+a)/2),r.x0=i,r.y0=o,r.x1=s,r.y1=a}}(e,o)),r&&i.eachBefore(sg),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}var ug={depth:-1},lg={},hg={};function fg(t){return t.id}function pg(t){return t.parentId}function dg(){var t,e=fg,n=pg;function r(r){var i,o,s,a,c,u,l,h,f=Array.from(r),p=e,d=n,m=new Map;if(null!=t){const e=f.map(((e,n)=>function(t){let e=(t=`${t}`).length;return yg(t,e-1)&&!yg(t,e-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:`/${t}`}(t(e,n,r)))),n=e.map(mg),i=new Set(e).add("");for(const t of n)i.has(t)||(i.add(t),e.push(t),n.push(mg(t)),f.push(hg));p=(t,n)=>e[n],d=(t,e)=>n[e]}for(s=0,i=f.length;s<i;++s)o=f[s],u=f[s]=new Ly(o),null!=(l=p(o,s,r))&&(l+="")&&(h=u.id=l,m.set(h,m.has(h)?lg:u)),null!=(l=d(o,s,r))&&(l+="")&&(u.parent=l);for(s=0;s<i;++s)if(l=(u=f[s]).parent){if(!(c=m.get(l)))throw new Error("missing: "+l);if(c===lg)throw new Error("ambiguous: "+l);c.children?c.children.push(u):c.children=[u],u.parent=c}else{if(a)throw new Error("multiple roots");a=u}if(!a)throw new Error("no root");if(null!=t){for(;a.data===hg&&1===a.children.length;)a=a.children[0],--i;for(let t=f.length-1;t>=0&&(u=f[t]).data===hg;--t)u.data=null}if(a.parent=ug,a.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(Cy),a.parent=null,i>0)throw new Error("cycle");return a}return r.id=function(t){return arguments.length?(e=Ry(t),r):e},r.parentId=function(t){return arguments.length?(n=Ry(t),r):n},r.path=function(e){return arguments.length?(t=Ry(e),r):t},r}function mg(t){let e=t.length;if(e<2)return"";for(;--e>1&&!yg(t,e););return t.slice(0,e)}function yg(t,e){if("/"===t[e]){let n=0;for(;e>0&&"\\"===t[--e];)++n;if(!(1&n))return!0}return!1}function gg(t,e){return t.parent===e.parent?1:2}function vg(t){var e=t.children;return e?e[0]:t.t}function bg(t){var e=t.children;return e?e[e.length-1]:t.t}function _g(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function wg(t,e,n){return t.a.parent===e.parent?t.a:n}function xg(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function kg(){var t=gg,e=1,n=1,r=null;function i(i){var c=function(t){for(var e,n,r,i,o,s=new xg(t,0),a=[s];e=a.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(n=e.children[i]=new xg(r[i],i)),n.parent=e;return(s.parent=new xg(null,0)).children=[s],s}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)i.eachBefore(a);else{var u=i,l=i,h=i;i.eachBefore((function(t){t.x<u.x&&(u=t),t.x>l.x&&(l=t),t.depth>h.depth&&(h=t)}));var f=u===l?1:t(u,l)/2,p=f-u.x,d=e/(l.x+f+p),m=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+p)*d,t.y=t.depth*m}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,s=e,a=n,c=o.parent.children[0],u=o.m,l=s.m,h=a.m,f=c.m;a=bg(a),o=vg(o),a&&o;)c=vg(c),(s=bg(s)).a=e,(i=a.z+h-o.z-u+t(a._,o._))>0&&(_g(wg(a,e,r),e,i),u+=i,l+=i),h+=a.m,u+=o.m,f+=c.m,l+=s.m;a&&!bg(s)&&(s.t=a,s.m+=h-l),o&&!vg(c)&&(c.t=o,c.m+=u-f,r=e)}return r}(e,i,e.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Tg(t,e,n,r,i){for(var o,s=t.children,a=-1,c=s.length,u=t.value&&(i-n)/t.value;++a<c;)(o=s[a]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}xg.prototype=Object.create(Ly.prototype);var Sg=(1+Math.sqrt(5))/2;function Eg(t,e,n,r,i,o){for(var s,a,c,u,l,h,f,p,d,m,y,g=[],v=e.children,b=0,_=0,w=v.length,x=e.value;b<w;){c=i-n,u=o-r;do{l=v[_++].value}while(!l&&_<w);for(h=f=l,y=l*l*(m=Math.max(u/c,c/u)/(x*t)),d=Math.max(f/y,y/h);_<w;++_){if(l+=a=v[_].value,a<h&&(h=a),a>f&&(f=a),y=l*l*m,(p=Math.max(f/y,y/h))>d){l-=a;break}d=p}g.push(s={value:l,dice:c<u,children:v.slice(b,_)}),s.dice?ag(s,n,r,i,x?r+=u*l/x:o):Tg(s,n,r,x?n+=c*l/x:i,o),x-=l,b=_}return g}const Ag=function t(e){function n(t,n,r,i,o){Eg(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Sg);function Og(){var t=Ag,e=!1,n=1,r=1,i=[0],o=Iy,s=Iy,a=Iy,c=Iy,u=Iy;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(sg),t}function h(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<l&&(l=f=(l+f)/2),e.x0=r,e.y0=l,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=u(e)-n,l+=s(e)-n,(h-=a(e)-n)<r&&(r=h=(r+h)/2),(f-=c(e)-n)<l&&(l=f=(l+f)/2),t(e,r,l,h,f))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=Py(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:My(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(s="function"==typeof t?t:My(+t),l):s},l.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:My(+t),l):a},l.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:My(+t),l):c},l.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:My(+t),l):u},l}function Ng(t,e,n,r,i){var o,s,a=t.children,c=a.length,u=new Array(c+1);for(u[0]=s=o=0;o<c;++o)u[o+1]=s+=a[o].value;!function t(e,n,r,i,o,s,c){if(e>=n-1){var l=a[e];return l.x0=i,l.y0=o,l.x1=s,void(l.y1=c)}for(var h=u[e],f=r/2+h,p=e+1,d=n-1;p<d;){var m=p+d>>>1;u[m]<f?p=m+1:d=m}f-u[p-1]<u[p]-f&&e+1<p&&--p;var y=u[p]-h,g=r-y;if(s-i>c-o){var v=r?(i*g+s*y)/r:s;t(e,p,y,i,o,v,c),t(p,n,g,v,o,s,c)}else{var b=r?(o*g+c*y)/r:c;t(e,p,y,i,o,s,b),t(p,n,g,i,b,s,c)}}(0,c,t.value,e,n,r,i)}function Cg(t,e,n,r,i){(1&t.depth?Tg:ag)(t,e,n,r,i)}const Lg=function t(e){function n(t,n,r,i,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,c,u,l,h=-1,f=s.length,p=t.value;++h<f;){for(c=(a=s[h]).children,u=a.value=0,l=c.length;u<l;++u)a.value+=c[u].value;a.dice?ag(a,n,r,i,p?r+=(o-r)*a.value/p:o):Tg(a,n,r,p?n+=(i-n)*a.value/p:i,o),p-=a.value}else t._squarify=s=Eg(e,t,n,r,i,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Sg);function Rg(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Pg(t,e){var n=Oi(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function Ig(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Mg(t){return((t=Math.exp(t))+1/t)/2}const Dg=function t(e,n,r){function i(t,i){var o,s,a=t[0],c=t[1],u=t[2],l=i[0],h=i[1],f=i[2],p=l-a,d=h-c,m=p*p+d*d;if(m<1e-12)s=Math.log(f/u)/e,o=function(t){return[a+t*p,c+t*d,u*Math.exp(e*t*s)]};else{var y=Math.sqrt(m),g=(f*f-u*u+r*m)/(2*u*n*y),v=(f*f-u*u-r*m)/(2*f*n*y),b=Math.log(Math.sqrt(g*g+1)-g),_=Math.log(Math.sqrt(v*v+1)-v);s=(_-b)/e,o=function(t){var r,i=t*s,o=Mg(b),l=u/(n*y)*(o*(r=e*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[a+l*p,c+l*d,u*o/Mg(e*i+b)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function jg(t){return function(e,n){var r=t((e=vi(e)).h,(n=vi(n)).h),i=Ni(e.s,n.s),o=Ni(e.l,n.l),s=Ni(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=s(t),e+""}}}const Bg=jg(Oi);var Fg=jg(Ni);function Ug(t,e){var n=Ni((t=Ca(t)).l,(e=Ca(e)).l),r=Ni(t.a,e.a),i=Ni(t.b,e.b),o=Ni(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function zg(t){return function(e,n){var r=t((e=Ba(e)).h,(n=Ba(n)).h),i=Ni(e.c,n.c),o=Ni(e.l,n.l),s=Ni(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=s(t),e+""}}}const Vg=zg(Oi);var Kg=zg(Ni);function Hg(t){return function e(n){function r(e,r){var i=t((e=$a(e)).h,(r=$a(r)).h),o=Ni(e.s,r.s),s=Ni(e.l,r.l),a=Ni(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,r.gamma=e,r}(1)}const qg=Hg(Oi);var Wg=Hg(Ni);function Gg(t,e){void 0===e&&(e=t,t=Hi);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function Yg(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function $g(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}function Xg(t){for(var e,n,r=-1,i=t.length,o=0,s=0,a=t[i-1],c=0;++r<i;)e=a,a=t[r],c+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o/(c*=3),s/c]}function Zg(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Jg(t,e){return t[0]-e[0]||t[1]-e[1]}function Qg(t){const e=t.length,n=[0,1];let r,i=2;for(r=2;r<e;++r){for(;i>1&&Zg(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function tv(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Jg),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Qg(r),s=Qg(i),a=s[0]===o[0],c=s[s.length-1]===o[o.length-1],u=[];for(e=o.length-1;e>=0;--e)u.push(t[r[o[e]][2]]);for(e=+a;e<s.length-c;++e)u.push(t[r[s[e]][2]]);return u}function ev(t,e){for(var n,r,i=t.length,o=t[i-1],s=e[0],a=e[1],c=o[0],u=o[1],l=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>a!=u>a&&s<(c-n)*(a-r)/(u-r)+n&&(l=!l),c=n,u=r;return l}function nv(t){for(var e,n,r=-1,i=t.length,o=t[i-1],s=o[0],a=o[1],c=0;++r<i;)e=s,n=a,e-=s=(o=t[r])[0],n-=a=o[1],c+=Math.hypot(e,n);return c}const rv=Math.random,iv=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(rv),ov=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(rv),sv=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(rv),av=function t(e){var n=sv.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(rv),cv=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,r=t;r>1;--r)n+=e();return n+r*e()}}return n.source=t,n}(rv),uv=function t(e){var n=cv.source(e);function r(t){if(0==(t=+t))return e;var r=n(t);return function(){return r()/t}}return r.source=t,r}(rv),lv=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(rv),hv=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(rv),fv=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(rv),pv=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(rv),dv=function t(e){var n=sv.source(e)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-e())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),s=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),a=1+o*t}while(a<=0);a*=a*a;var c=1-e()}while(c>=1-.0331*t*t*t*t&&Math.log(c)>=.5*t*t+i*(1-a+Math.log(a)));return i*a*s()*r}}return r.source=t,r}(rv),mv=function t(e){var n=dv.source(e);function r(t,e){var r=n(t),i=n(e);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(rv),yv=function t(e){var n=pv.source(e),r=mv.source(e);function i(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var i=0,o=t,s=e;o*s>16&&o*(1-s)>16;){var a=Math.floor((o+1)*s),c=r(a,o-a+1)();c<=s?(i+=a,o-=a,s=(s-c)/(1-c)):(o=a-1,s/=c)}for(var u=s<.5,l=n(u?s:1-s),h=l(),f=0;h<=o;++f)h+=l();return i+(u?f:o-f)}}return i.source=t,i}(rv),gv=function t(e){function n(t,n,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=e=>Math.pow(e,t)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-e()))}}return n.source=t,n}(rv),vv=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(rv),bv=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var r=e();return t+n*Math.log(r/(1-r))}}return n.source=t,n}(rv),_v=function t(e){var n=dv.source(e),r=yv.source(e);function i(t){return function(){for(var i=0,o=t;o>16;){var s=Math.floor(.875*o),a=n(s)();if(a>o)return i+r(s-1,o/a)();i+=s,o-=a}for(var c=-Math.log1p(-e()),u=0;c<=o;++u)c-=Math.log1p(-e());return i+u}}return i.source=t,i}(rv),wv=1664525,xv=1013904223,kv=1/4294967296;function Tv(t=Math.random()){let e=0|(0<=t&&t<1?t/kv:Math.abs(t));return()=>(e=wv*e+xv|0,kv*(e>>>0))}function Sv(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ev(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Av=Symbol("implicit");function Ov(){var t=new St,e=[],n=[],r=Av;function i(i){let o=t.get(i);if(void 0===o){if(r!==Av)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new St;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ov(e,n).unknown(r)},Sv.apply(i,arguments),i}function Nv(){var t,e,n=Ov().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,a=!1,c=0,u=0,l=.5;function h(){var n=r().length,h=s<o,f=h?s:o,p=h?o:s;t=(p-f)/Math.max(1,n-c+2*u),a&&(t=Math.floor(t)),f+=(p-f-t*(n-c))*l,e=t*(1-c),a&&(f=Math.round(f),e=Math.round(e));var d=Ee(n).map((function(e){return f+t*e}));return i(h?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([o,s]=t,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(t){return[o,s]=t,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(c=Math.min(1,u=+t),h()):c},n.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),h()):c},n.paddingOuter=function(t){return arguments.length?(u=+t,h()):u},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},n.copy=function(){return Nv(r(),[o,s]).round(a).paddingInner(c).paddingOuter(u).align(l)},Sv.apply(h(),arguments)}function Cv(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Cv(e())},t}function Lv(){return Cv(Nv.apply(null,arguments).paddingInner(1))}function Rv(t){return+t}var Pv=[0,1];function Iv(t){return t}function Mv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Dv(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Mv(i,r),o=n(s,o)):(r=Mv(r,i),o=n(o,s)),function(t){return o(r(t))}}function jv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Mv(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=ot(t,e,1,r)-1;return o[n](i[n](e))}}function Bv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fv(){var t,e,n,r,i,o,s=Pv,a=Pv,c=Hi,u=Iv;function l(){var t=Math.min(s.length,a.length);return u!==Iv&&(u=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),r=t>2?jv:Dv,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(s.map(t),a,c)))(t(u(e)))}return h.invert=function(n){return u(e((o||(o=r(a,s.map(t),Fi)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,Rv),l()):s.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),l()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),c=Ig,l()},h.clamp=function(t){return arguments.length?(u=!!t||Iv,l()):u!==Iv},h.interpolate=function(t){return arguments.length?(c=t,l()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}function Uv(){return Fv()(Iv,Iv)}function zv(t,e,n,r){var i,o=re(t,e,n);switch((r=oh(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=vh(o,s))||(r.precision=i),fh(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=bh(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=gh(o))||(r.precision=i-2*("%"===r.type))}return hh(r)}function Vv(t){var e=t.domain;return t.ticks=function(t){var n=e();return ee(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return zv(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),s=0,a=o.length-1,c=o[s],u=o[a],l=10;for(u<c&&(i=c,c=u,u=i,i=s,s=a,a=i);l-- >0;){if((i=ne(c,u,n))===r)return o[s]=c,o[a]=u,e(o);if(i>0)c=Math.floor(c/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function Kv(){var t=Uv();return t.copy=function(){return Bv(t,Kv())},Sv.apply(t,arguments),Vv(t)}function Hv(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Rv),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Hv(t).unknown(e)},t=arguments.length?Array.from(t,Rv):[0,1],Vv(n)}function qv(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],s=t[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),t[r]=e.floor(o),t[i]=e.ceil(s),t}function Wv(t){return Math.log(t)}function Gv(t){return Math.exp(t)}function Yv(t){return-Math.log(-t)}function $v(t){return-Math.exp(-t)}function Xv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zv(t){return(e,n)=>-t(-e,n)}function Jv(t){const e=t(Wv,Gv),n=e.domain;let r,i,o=10;function s(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?Xv:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=Zv(r),i=Zv(i),t(Yv,$v)):t(Wv,Gv),e}return e.base=function(t){return arguments.length?(o=+t,s()):o},e.domain=function(t){return arguments.length?(n(t),s()):n()},e.ticks=t=>{const e=n();let s=e[0],a=e[e.length-1];const c=a<s;c&&([s,a]=[a,s]);let u,l,h=r(s),f=r(a);const p=null==t?10:+t;let d=[];if(!(o%1)&&f-h<p){if(h=Math.floor(h),f=Math.ceil(f),s>0){for(;h<=f;++h)for(u=1;u<o;++u)if(l=h<0?u/i(-h):u*i(h),!(l<s)){if(l>a)break;d.push(l)}}else for(;h<=f;++h)for(u=o-1;u>=1;--u)if(l=h>0?u/i(-h):u*i(h),!(l<s)){if(l>a)break;d.push(l)}2*d.length<p&&(d=ee(s,a,p))}else d=ee(h,f,Math.min(f-h,p)).map(i);return c?d.reverse():d},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=oh(n)).precision||(n.trim=!0),n=hh(n)),t===1/0)return n;const s=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=s?n(t):""}},e.nice=()=>n(qv(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function Qv(){const t=Jv(Fv()).domain([1,10]);return t.copy=()=>Bv(t,Qv()).base(t.base()),Sv.apply(t,arguments),t}function tb(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function eb(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nb(t){var e=1,n=t(tb(e),eb(e));return n.constant=function(n){return arguments.length?t(tb(e=+n),eb(e)):e},Vv(n)}function rb(){var t=nb(Fv());return t.copy=function(){return Bv(t,rb()).constant(t.constant())},Sv.apply(t,arguments)}function ib(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ob(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sb(t){return t<0?-t*t:t*t}function ab(t){var e=t(Iv,Iv),n=1;return e.exponent=function(e){return arguments.length?1==(n=+e)?t(Iv,Iv):.5===n?t(ob,sb):t(ib(n),ib(1/n)):n},Vv(e)}function cb(){var t=ab(Fv());return t.copy=function(){return Bv(t,cb()).exponent(t.exponent())},Sv.apply(t,arguments),t}function ub(){return cb.apply(null,arguments).exponent(.5)}function lb(t){return Math.sign(t)*t*t}function hb(){var t,e=Uv(),n=[0,1],r=!1;function i(n){var i=function(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(e(n));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return e.invert(lb(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,Rv)).map(lb)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return hb(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},Sv.apply(i,arguments),Vv(i)}function fb(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=me(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[ot(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(X),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return fb().domain(e).range(n).unknown(t)},Sv.apply(o,arguments)}function pb(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function s(e){return null!=e&&e<=e?o[ot(i,e,0,r)]:t}function a(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return s}return s.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,a()):[e,n]},s.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,a()):o.slice()},s.invertExtent=function(t){var s=o.indexOf(t);return s<0?[NaN,NaN]:s<1?[e,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return pb().domain([e,n]).range(o).unknown(t)},Sv.apply(Vv(s),arguments)}function db(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[ot(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return db().domain(e).range(n).unknown(t)},Sv.apply(i,arguments)}const mb=1e3,yb=6e4,gb=36e5,vb=864e5,bb=6048e5,_b=31536e6,wb=new Date,xb=new Date;function kb(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;let a;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=n=>kb((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(wb.setTime(+e),xb.setTime(+r),t(wb),t(xb),Math.floor(n(wb,xb))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const Tb=kb((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));Tb.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?kb((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):Tb:null);const Sb=Tb.range,Eb=kb((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*mb)}),((t,e)=>(e-t)/mb),(t=>t.getUTCSeconds())),Ab=Eb.range,Ob=kb((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mb)}),((t,e)=>{t.setTime(+t+e*yb)}),((t,e)=>(e-t)/yb),(t=>t.getMinutes())),Nb=Ob.range,Cb=kb((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*yb)}),((t,e)=>(e-t)/yb),(t=>t.getUTCMinutes())),Lb=Cb.range,Rb=kb((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mb-t.getMinutes()*yb)}),((t,e)=>{t.setTime(+t+e*gb)}),((t,e)=>(e-t)/gb),(t=>t.getHours())),Pb=Rb.range,Ib=kb((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*gb)}),((t,e)=>(e-t)/gb),(t=>t.getUTCHours())),Mb=Ib.range,Db=kb((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yb)/vb),(t=>t.getDate()-1)),jb=Db.range,Bb=kb((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/vb),(t=>t.getUTCDate()-1)),Fb=Bb.range,Ub=kb((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/vb),(t=>Math.floor(t/vb))),zb=Ub.range;function Vb(t){return kb((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yb)/bb))}const Kb=Vb(0),Hb=Vb(1),qb=Vb(2),Wb=Vb(3),Gb=Vb(4),Yb=Vb(5),$b=Vb(6),Xb=Kb.range,Zb=Hb.range,Jb=qb.range,Qb=Wb.range,t_=Gb.range,e_=Yb.range,n_=$b.range;function r_(t){return kb((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/bb))}const i_=r_(0),o_=r_(1),s_=r_(2),a_=r_(3),c_=r_(4),u_=r_(5),l_=r_(6),h_=i_.range,f_=o_.range,p_=s_.range,d_=a_.range,m_=c_.range,y_=u_.range,g_=l_.range,v_=kb((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth())),b_=v_.range,__=kb((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth())),w_=__.range,x_=kb((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));x_.every=t=>isFinite(t=Math.floor(t))&&t>0?kb((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null;const k_=x_.range,T_=kb((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));T_.every=t=>isFinite(t=Math.floor(t))&&t>0?kb((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null;const S_=T_.range;function E_(t,e,n,r,i,o){const s=[[Eb,1,mb],[Eb,5,5e3],[Eb,15,15e3],[Eb,30,3e4],[o,1,yb],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,gb],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,vb],[r,2,1728e5],[n,1,bb],[e,1,2592e6],[e,3,7776e6],[t,1,_b]];function a(e,n,r){const i=Math.abs(n-e)/r,o=J((([,,t])=>t)).right(s,i);if(o===s.length)return t.every(re(e/_b,n/_b,r));if(0===o)return Tb.every(Math.max(re(e,n,r),1));const[a,c]=s[i/s[o-1][2]<s[o][2]/i?o-1:o];return a.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:a(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},a]}const[A_,O_]=E_(T_,__,i_,Ub,Ib,Cb),[N_,C_]=E_(x_,v_,Kb,Db,Rb,Ob);function L_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function R_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function P_(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function I_(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,c=t.shortMonths,u=W_(i),l=G_(i),h=W_(o),f=G_(o),p=W_(s),d=G_(s),m=W_(a),y=G_(a),g=W_(c),v=G_(c),b={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:dw,e:dw,f:bw,g:Cw,G:Rw,H:mw,I:yw,j:gw,L:vw,m:_w,M:ww,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ex,s:nx,S:xw,u:kw,U:Tw,V:Ew,w:Aw,W:Ow,x:null,X:null,y:Nw,Y:Lw,Z:Pw,"%":tx},_={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Iw,e:Iw,f:Fw,g:Xw,G:Jw,H:Mw,I:Dw,j:jw,L:Bw,m:Uw,M:zw,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ex,s:nx,S:Vw,u:Kw,U:Hw,V:Ww,w:Gw,W:Yw,x:null,X:null,y:$w,Y:Zw,Z:Qw,"%":tx},w={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return T(t,e,n,r)},d:iw,e:iw,f:lw,g:tw,G:Q_,H:sw,I:sw,j:ow,L:uw,m:rw,M:aw,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:nw,Q:fw,s:pw,S:cw,u:$_,U:X_,V:Z_,w:Y_,W:J_,x:function(t,e,r){return T(t,n,e,r)},X:function(t,e,n){return T(t,r,e,n)},y:tw,Y:Q_,Z:ew,"%":hw};function x(t,e){return function(n){var r,i,o,s=[],a=-1,c=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===t.charCodeAt(a)&&(s.push(t.slice(c,a)),null!=(i=U_[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),s.push(r),c=a+1);return s.push(t.slice(c,a)),s.join("")}}function k(t,e){return function(n){var r,i,o=P_(1900,void 0,1);if(T(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=R_(P_(o.y,0,1))).getUTCDay(),r=i>4||0===i?o_.ceil(r):o_(r),r=Bb.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=L_(P_(o.y,0,1))).getDay(),r=i>4||0===i?Hb.ceil(r):Hb(r),r=Db.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?R_(P_(o.y,0,1)).getUTCDay():L_(P_(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,R_(o)):L_(o)}}function T(t,e,n,r){for(var i,o,s=0,a=e.length,c=n.length;s<a;){if(r>=c)return-1;if(37===(i=e.charCodeAt(s++))){if(i=e.charAt(s++),!(o=w[i in U_?e.charAt(s++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var M_,D_,j_,B_,F_,U_={"-":"",_:" ",0:"0"},z_=/^\s*\d+/,V_=/^%/,K_=/[\\^$*+?|[\]().{}]/g;function H_(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function q_(t){return t.replace(K_,"\\$&")}function W_(t){return new RegExp("^(?:"+t.map(q_).join("|")+")","i")}function G_(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Y_(t,e,n){var r=z_.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $_(t,e,n){var r=z_.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function X_(t,e,n){var r=z_.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Z_(t,e,n){var r=z_.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function J_(t,e,n){var r=z_.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Q_(t,e,n){var r=z_.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tw(t,e,n){var r=z_.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ew(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nw(t,e,n){var r=z_.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function rw(t,e,n){var r=z_.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function iw(t,e,n){var r=z_.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ow(t,e,n){var r=z_.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sw(t,e,n){var r=z_.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function aw(t,e,n){var r=z_.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function cw(t,e,n){var r=z_.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function uw(t,e,n){var r=z_.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lw(t,e,n){var r=z_.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hw(t,e,n){var r=V_.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fw(t,e,n){var r=z_.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pw(t,e,n){var r=z_.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function dw(t,e){return H_(t.getDate(),e,2)}function mw(t,e){return H_(t.getHours(),e,2)}function yw(t,e){return H_(t.getHours()%12||12,e,2)}function gw(t,e){return H_(1+Db.count(x_(t),t),e,3)}function vw(t,e){return H_(t.getMilliseconds(),e,3)}function bw(t,e){return vw(t,e)+"000"}function _w(t,e){return H_(t.getMonth()+1,e,2)}function ww(t,e){return H_(t.getMinutes(),e,2)}function xw(t,e){return H_(t.getSeconds(),e,2)}function kw(t){var e=t.getDay();return 0===e?7:e}function Tw(t,e){return H_(Kb.count(x_(t)-1,t),e,2)}function Sw(t){var e=t.getDay();return e>=4||0===e?Gb(t):Gb.ceil(t)}function Ew(t,e){return t=Sw(t),H_(Gb.count(x_(t),t)+(4===x_(t).getDay()),e,2)}function Aw(t){return t.getDay()}function Ow(t,e){return H_(Hb.count(x_(t)-1,t),e,2)}function Nw(t,e){return H_(t.getFullYear()%100,e,2)}function Cw(t,e){return H_((t=Sw(t)).getFullYear()%100,e,2)}function Lw(t,e){return H_(t.getFullYear()%1e4,e,4)}function Rw(t,e){var n=t.getDay();return H_((t=n>=4||0===n?Gb(t):Gb.ceil(t)).getFullYear()%1e4,e,4)}function Pw(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+H_(e/60|0,"0",2)+H_(e%60,"0",2)}function Iw(t,e){return H_(t.getUTCDate(),e,2)}function Mw(t,e){return H_(t.getUTCHours(),e,2)}function Dw(t,e){return H_(t.getUTCHours()%12||12,e,2)}function jw(t,e){return H_(1+Bb.count(T_(t),t),e,3)}function Bw(t,e){return H_(t.getUTCMilliseconds(),e,3)}function Fw(t,e){return Bw(t,e)+"000"}function Uw(t,e){return H_(t.getUTCMonth()+1,e,2)}function zw(t,e){return H_(t.getUTCMinutes(),e,2)}function Vw(t,e){return H_(t.getUTCSeconds(),e,2)}function Kw(t){var e=t.getUTCDay();return 0===e?7:e}function Hw(t,e){return H_(i_.count(T_(t)-1,t),e,2)}function qw(t){var e=t.getUTCDay();return e>=4||0===e?c_(t):c_.ceil(t)}function Ww(t,e){return t=qw(t),H_(c_.count(T_(t),t)+(4===T_(t).getUTCDay()),e,2)}function Gw(t){return t.getUTCDay()}function Yw(t,e){return H_(o_.count(T_(t)-1,t),e,2)}function $w(t,e){return H_(t.getUTCFullYear()%100,e,2)}function Xw(t,e){return H_((t=qw(t)).getUTCFullYear()%100,e,2)}function Zw(t,e){return H_(t.getUTCFullYear()%1e4,e,4)}function Jw(t,e){var n=t.getUTCDay();return H_((t=n>=4||0===n?c_(t):c_.ceil(t)).getUTCFullYear()%1e4,e,4)}function Qw(){return"+0000"}function tx(){return"%"}function ex(t){return+t}function nx(t){return Math.floor(+t/1e3)}function rx(t){return M_=I_(t),D_=M_.format,j_=M_.parse,B_=M_.utcFormat,F_=M_.utcParse,M_}function ix(t){return new Date(t)}function ox(t){return t instanceof Date?+t:+new Date(+t)}function sx(t,e,n,r,i,o,s,a,c,u){var l=Uv(),h=l.invert,f=l.domain,p=u(".%L"),d=u(":%S"),m=u("%I:%M"),y=u("%I %p"),g=u("%a %d"),v=u("%b %d"),b=u("%B"),_=u("%Y");function w(t){return(c(t)<t?p:a(t)<t?d:s(t)<t?m:o(t)<t?y:r(t)<t?i(t)<t?g:v:n(t)<t?b:_)(t)}return l.invert=function(t){return new Date(h(t))},l.domain=function(t){return arguments.length?f(Array.from(t,ox)):f().map(ix)},l.ticks=function(e){var n=f();return t(n[0],n[n.length-1],null==e?10:e)},l.tickFormat=function(t,e){return null==e?w:u(e)},l.nice=function(t){var n=f();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?f(qv(n,t)):l},l.copy=function(){return Bv(l,sx(t,e,n,r,i,o,s,a,c,u))},l}function ax(){return Sv.apply(sx(N_,C_,x_,v_,Kb,Db,Rb,Ob,Eb,D_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cx(){return Sv.apply(sx(A_,O_,T_,__,i_,Bb,Ib,Cb,Eb,B_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ux(){var t,e,n,r,i,o=0,s=1,a=Iv,c=!1;function u(e){return null==e||isNaN(e=+e)?i:a(0===n?.5:(e=(r(e)-t)*n,c?Math.max(0,Math.min(1,e)):e))}function l(t){return function(e){var n,r;return arguments.length?([n,r]=e,a=t(n,r),u):[a(0),a(1)]}}return u.domain=function(i){return arguments.length?([o,s]=i,t=r(o=+o),e=r(s=+s),n=t===e?0:1/(e-t),u):[o,s]},u.clamp=function(t){return arguments.length?(c=!!t,u):c},u.interpolator=function(t){return arguments.length?(a=t,u):a},u.range=l(Hi),u.rangeRound=l(Ig),u.unknown=function(t){return arguments.length?(i=t,u):i},function(i){return r=i,t=i(o),e=i(s),n=t===e?0:1/(e-t),u}}function lx(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function hx(){var t=Vv(ux()(Iv));return t.copy=function(){return lx(t,hx())},Ev.apply(t,arguments)}function fx(){var t=Jv(ux()).domain([1,10]);return t.copy=function(){return lx(t,fx()).base(t.base())},Ev.apply(t,arguments)}function px(){var t=nb(ux());return t.copy=function(){return lx(t,px()).constant(t.constant())},Ev.apply(t,arguments)}function dx(){var t=ab(ux());return t.copy=function(){return lx(t,dx()).exponent(t.exponent())},Ev.apply(t,arguments)}function mx(){return dx.apply(null,arguments).exponent(.5)}function yx(){var t=[],e=Iv;function n(n){if(null!=n&&!isNaN(n=+n))return e((ot(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(X),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>de(t,r/e)))},n.copy=function(){return yx(e).domain(t)},Ev.apply(n,arguments)}function gx(){var t,e,n,r,i,o,s,a=0,c=.5,u=1,l=1,h=Iv,f=!1;function p(t){return isNaN(t=+t)?s:(t=.5+((t=+o(t))-e)*(l*t<l*e?r:i),h(f?Math.max(0,Math.min(1,t)):t))}function d(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,h=Gg(t,[n,r,i]),p):[h(0),h(.5),h(1)]}}return p.domain=function(s){return arguments.length?([a,c,u]=s,t=o(a=+a),e=o(c=+c),n=o(u=+u),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,p):[a,c,u]},p.clamp=function(t){return arguments.length?(f=!!t,p):f},p.interpolator=function(t){return arguments.length?(h=t,p):h},p.range=d(Hi),p.rangeRound=d(Ig),p.unknown=function(t){return arguments.length?(s=t,p):s},function(s){return o=s,t=s(a),e=s(c),n=s(u),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,p}}function vx(){var t=Vv(gx()(Iv));return t.copy=function(){return lx(t,vx())},Ev.apply(t,arguments)}function bx(){var t=Jv(gx()).domain([.1,1,10]);return t.copy=function(){return lx(t,bx()).base(t.base())},Ev.apply(t,arguments)}function _x(){var t=nb(gx());return t.copy=function(){return lx(t,_x()).constant(t.constant())},Ev.apply(t,arguments)}function wx(){var t=ab(gx());return t.copy=function(){return lx(t,wx()).exponent(t.exponent())},Ev.apply(t,arguments)}function xx(){return wx.apply(null,arguments).exponent(.5)}function kx(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}rx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Tx=kx("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Sx=kx("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Ex=kx("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ax=kx("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Ox=kx("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Nx=kx("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Cx=kx("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Lx=kx("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Rx=kx("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Px=kx("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Ix=kx("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Mx=t=>Ri(t[t.length-1]);var Dx=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(kx);const jx=Mx(Dx);var Bx=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(kx);const Fx=Mx(Bx);var Ux=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(kx);const zx=Mx(Ux);var Vx=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(kx);const Kx=Mx(Vx);var Hx=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(kx);const qx=Mx(Hx);var Wx=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(kx);const Gx=Mx(Wx);var Yx=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(kx);const $x=Mx(Yx);var Xx=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(kx);const Zx=Mx(Xx);var Jx=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(kx);const Qx=Mx(Jx);var tk=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(kx);const ek=Mx(tk);var nk=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(kx);const rk=Mx(nk);var ik=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(kx);const ok=Mx(ik);var sk=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(kx);const ak=Mx(sk);var ck=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(kx);const uk=Mx(ck);var lk=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(kx);const hk=Mx(lk);var fk=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(kx);const pk=Mx(fk);var dk=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(kx);const mk=Mx(dk);var yk=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(kx);const gk=Mx(yk);var vk=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(kx);const bk=Mx(vk);var _k=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(kx);const wk=Mx(_k);var xk=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(kx);const kk=Mx(xk);var Tk=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(kx);const Sk=Mx(Tk);var Ek=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(kx);const Ak=Mx(Ek);var Ok=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(kx);const Nk=Mx(Ok);var Ck=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(kx);const Lk=Mx(Ck);var Rk=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(kx);const Pk=Mx(Rk);var Ik=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(kx);const Mk=Mx(Ik);function Dk(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const jk=Wg($a(300,.5,0),$a(-240,.5,1));var Bk=Wg($a(-100,.75,.35),$a(80,1.5,.8)),Fk=Wg($a(260,.75,.35),$a(80,1.5,.8)),Uk=$a();function zk(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Uk.h=360*t-100,Uk.s=1.5-1.5*e,Uk.l=.8-.9*e,Uk+""}var Vk=ui(),Kk=Math.PI/3,Hk=2*Math.PI/3;function qk(t){var e;return t=(.5-t)*Math.PI,Vk.r=255*(e=Math.sin(t))*e,Vk.g=255*(e=Math.sin(t+Kk))*e,Vk.b=255*(e=Math.sin(t+Hk))*e,Vk+""}function Wk(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Gk(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Yk=Gk(kx("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var $k=Gk(kx("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Xk=Gk(kx("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Zk=Gk(kx("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Jk(t){return Ir(_r(t).call(document.documentElement))}var Qk=0;function tT(){return new eT}function eT(){this._="@"+(++Qk).toString(36)}function nT(t,e){return t.target&&(t=qi(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>Wi(t,e)))}function rT(t){return"string"==typeof t?new Lr([document.querySelectorAll(t)],[document.documentElement]):new Lr([kn(t)],Cr)}function iT(t){return function(){return t}}eT.prototype=tT.prototype={constructor:eT,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};const oT=Math.abs,sT=Math.atan2,aT=Math.cos,cT=Math.max,uT=Math.min,lT=Math.sin,hT=Math.sqrt,fT=1e-12,pT=Math.PI,dT=pT/2,mT=2*pT;function yT(t){return t>=1?dT:t<=-1?-dT:Math.asin(t)}function gT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new ia(e)}function vT(t){return t.innerRadius}function bT(t){return t.outerRadius}function _T(t){return t.startAngle}function wT(t){return t.endAngle}function xT(t){return t&&t.padAngle}function kT(t,e,n,r,i,o,s){var a=t-n,c=e-r,u=(s?o:-o)/hT(a*a+c*c),l=u*c,h=-u*a,f=t+l,p=e+h,d=n+l,m=r+h,y=(f+d)/2,g=(p+m)/2,v=d-f,b=m-p,_=v*v+b*b,w=i-o,x=f*m-d*p,k=(b<0?-1:1)*hT(cT(0,w*w*_-x*x)),T=(x*b-v*k)/_,S=(-x*v-b*k)/_,E=(x*b+v*k)/_,A=(-x*v+b*k)/_,O=T-y,N=S-g,C=E-y,L=A-g;return O*O+N*N>C*C+L*L&&(T=E,S=A),{cx:T,cy:S,x01:-l,y01:-h,x11:T*(i/w-1),y11:S*(i/w-1)}}function TT(){var t=vT,e=bT,n=iT(0),r=null,i=_T,o=wT,s=xT,a=null,c=gT(u);function u(){var u,l,h,f=+t.apply(this,arguments),p=+e.apply(this,arguments),d=i.apply(this,arguments)-dT,m=o.apply(this,arguments)-dT,y=oT(m-d),g=m>d;if(a||(a=u=c()),p<f&&(l=p,p=f,f=l),p>fT)if(y>mT-fT)a.moveTo(p*aT(d),p*lT(d)),a.arc(0,0,p,d,m,!g),f>fT&&(a.moveTo(f*aT(m),f*lT(m)),a.arc(0,0,f,m,d,g));else{var v,b,_=d,w=m,x=d,k=m,T=y,S=y,E=s.apply(this,arguments)/2,A=E>fT&&(r?+r.apply(this,arguments):hT(f*f+p*p)),O=uT(oT(p-f)/2,+n.apply(this,arguments)),N=O,C=O;if(A>fT){var L=yT(A/f*lT(E)),R=yT(A/p*lT(E));(T-=2*L)>fT?(x+=L*=g?1:-1,k-=L):(T=0,x=k=(d+m)/2),(S-=2*R)>fT?(_+=R*=g?1:-1,w-=R):(S=0,_=w=(d+m)/2)}var P=p*aT(_),I=p*lT(_),M=f*aT(k),D=f*lT(k);if(O>fT){var j,B=p*aT(w),F=p*lT(w),U=f*aT(x),z=f*lT(x);if(y<pT)if(j=function(t,e,n,r,i,o,s,a){var c=n-t,u=r-e,l=s-i,h=a-o,f=h*c-l*u;if(!(f*f<fT))return[t+(f=(l*(e-o)-h*(t-i))/f)*c,e+f*u]}(P,I,U,z,B,F,M,D)){var V=P-j[0],K=I-j[1],H=B-j[0],q=F-j[1],W=1/lT(((h=(V*H+K*q)/(hT(V*V+K*K)*hT(H*H+q*q)))>1?0:h<-1?pT:Math.acos(h))/2),G=hT(j[0]*j[0]+j[1]*j[1]);N=uT(O,(f-G)/(W-1)),C=uT(O,(p-G)/(W+1))}else N=C=0}S>fT?C>fT?(v=kT(U,z,P,I,p,C,g),b=kT(B,F,M,D,p,C,g),a.moveTo(v.cx+v.x01,v.cy+v.y01),C<O?a.arc(v.cx,v.cy,C,sT(v.y01,v.x01),sT(b.y01,b.x01),!g):(a.arc(v.cx,v.cy,C,sT(v.y01,v.x01),sT(v.y11,v.x11),!g),a.arc(0,0,p,sT(v.cy+v.y11,v.cx+v.x11),sT(b.cy+b.y11,b.cx+b.x11),!g),a.arc(b.cx,b.cy,C,sT(b.y11,b.x11),sT(b.y01,b.x01),!g))):(a.moveTo(P,I),a.arc(0,0,p,_,w,!g)):a.moveTo(P,I),f>fT&&T>fT?N>fT?(v=kT(M,D,B,F,f,-N,g),b=kT(P,I,U,z,f,-N,g),a.lineTo(v.cx+v.x01,v.cy+v.y01),N<O?a.arc(v.cx,v.cy,N,sT(v.y01,v.x01),sT(b.y01,b.x01),!g):(a.arc(v.cx,v.cy,N,sT(v.y01,v.x01),sT(v.y11,v.x11),!g),a.arc(0,0,f,sT(v.cy+v.y11,v.cx+v.x11),sT(b.cy+b.y11,b.cx+b.x11),g),a.arc(b.cx,b.cy,N,sT(b.y11,b.x11),sT(b.y01,b.x01),!g))):a.arc(0,0,f,k,x,g):a.lineTo(M,D)}else a.moveTo(0,0);if(a.closePath(),u)return a=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-pT/2;return[aT(r)*n,lT(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:iT(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:iT(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:iT(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:iT(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:iT(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:iT(+t),u):o},u.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:iT(+t),u):s},u.context=function(t){return arguments.length?(a=null==t?null:t,u):a},u}var ST=Array.prototype.slice;function ET(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function AT(t){this._context=t}function OT(t){return new AT(t)}function NT(t){return t[0]}function CT(t){return t[1]}function LT(t,e){var n=iT(!0),r=null,i=OT,o=null,s=gT(a);function a(a){var c,u,l,h=(a=ET(a)).length,f=!1;for(null==r&&(o=i(l=s())),c=0;c<=h;++c)!(c<h&&n(u=a[c],c,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,c,a),+e(u,c,a));if(l)return o=null,l+""||null}return t="function"==typeof t?t:void 0===t?NT:iT(t),e="function"==typeof e?e:void 0===e?CT:iT(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:iT(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:iT(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:iT(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function RT(t,e,n){var r=null,i=iT(!0),o=null,s=OT,a=null,c=gT(u);function u(u){var l,h,f,p,d,m=(u=ET(u)).length,y=!1,g=new Array(m),v=new Array(m);for(null==o&&(a=s(d=c())),l=0;l<=m;++l){if(!(l<m&&i(p=u[l],l,u))===y)if(y=!y)h=l,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),f=l-1;f>=h;--f)a.point(g[f],v[f]);a.lineEnd(),a.areaEnd()}y&&(g[l]=+t(p,l,u),v[l]=+e(p,l,u),a.point(r?+r(p,l,u):g[l],n?+n(p,l,u):v[l]))}if(d)return a=null,d+""||null}function l(){return LT().defined(i).curve(s).context(o)}return t="function"==typeof t?t:void 0===t?NT:iT(+t),e="function"==typeof e?e:iT(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?CT:iT(+n),u.x=function(e){return arguments.length?(t="function"==typeof e?e:iT(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:iT(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:iT(+t),u):r},u.y=function(t){return arguments.length?(e="function"==typeof t?t:iT(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"==typeof t?t:iT(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:iT(+t),u):n},u.lineX0=u.lineY0=function(){return l().x(t).y(e)},u.lineY1=function(){return l().x(t).y(n)},u.lineX1=function(){return l().x(r).y(e)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:iT(!!t),u):i},u.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),u):s},u.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),u):o},u}function PT(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function IT(t){return t}function MT(){var t=IT,e=PT,n=null,r=iT(0),i=iT(mT),o=iT(0);function s(s){var a,c,u,l,h,f=(s=ET(s)).length,p=0,d=new Array(f),m=new Array(f),y=+r.apply(this,arguments),g=Math.min(mT,Math.max(-mT,i.apply(this,arguments)-y)),v=Math.min(Math.abs(g)/f,o.apply(this,arguments)),b=v*(g<0?-1:1);for(a=0;a<f;++a)(h=m[d[a]=a]=+t(s[a],a,s))>0&&(p+=h);for(null!=e?d.sort((function(t,n){return e(m[t],m[n])})):null!=n&&d.sort((function(t,e){return n(s[t],s[e])})),a=0,u=p?(g-f*b)/p:0;a<f;++a,y=l)c=d[a],l=y+((h=m[c])>0?h*u:0)+b,m[c]={data:s[c],index:a,value:h,startAngle:y,endAngle:l,padAngle:v};return m}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:iT(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:iT(+t),s):r},s.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:iT(+t),s):i},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:iT(+t),s):o},s}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var DT=BT(OT);function jT(t){this._curve=t}function BT(t){function e(e){return new jT(t(e))}return e._curve=t,e}function FT(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(BT(t)):e()._curve},t}function UT(){return FT(LT().curve(DT))}function zT(){var t=RT().curve(DT),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return FT(n())},delete t.lineX0,t.lineEndAngle=function(){return FT(r())},delete t.lineX1,t.lineInnerRadius=function(){return FT(i())},delete t.lineY0,t.lineOuterRadius=function(){return FT(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(BT(t)):e()._curve},t}function VT(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}jT.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};class KT{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}class HT{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0===this._point)this._point=1;else{const n=VT(this._x0,this._y0),r=VT(this._x0,this._y0=(this._y0+e)/2),i=VT(t,this._y0),o=VT(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...o)}this._x0=t,this._y0=e}}function qT(t){return new KT(t,!0)}function WT(t){return new KT(t,!1)}function GT(t){return new HT(t)}function YT(t){return t.source}function $T(t){return t.target}function XT(t){let e=YT,n=$T,r=NT,i=CT,o=null,s=null,a=gT(c);function c(){let c;const u=ST.call(arguments),l=e.apply(this,u),h=n.apply(this,u);if(null==o&&(s=t(c=a())),s.lineStart(),u[0]=l,s.point(+r.apply(this,u),+i.apply(this,u)),u[0]=h,s.point(+r.apply(this,u),+i.apply(this,u)),s.lineEnd(),c)return s=null,c+""||null}return c.source=function(t){return arguments.length?(e=t,c):e},c.target=function(t){return arguments.length?(n=t,c):n},c.x=function(t){return arguments.length?(r="function"==typeof t?t:iT(+t),c):r},c.y=function(t){return arguments.length?(i="function"==typeof t?t:iT(+t),c):i},c.context=function(e){return arguments.length?(null==e?o=s=null:s=t(o=e),c):o},c}function ZT(){return XT(qT)}function JT(){return XT(WT)}function QT(){const t=XT(GT);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const tS=hT(3),eS={draw(t,e){const n=.59436*hT(e+uT(e/28,.75)),r=n/2,i=r*tS;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},nS={draw(t,e){const n=hT(e/pT);t.moveTo(n,0),t.arc(0,0,n,0,mT)}},rS={draw(t,e){const n=hT(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},iS=hT(1/3),oS=2*iS,sS={draw(t,e){const n=hT(e/oS),r=n*iS;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},aS={draw(t,e){const n=.62625*hT(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},cS={draw(t,e){const n=.87559*hT(e-uT(e/7,2));t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},uS={draw(t,e){const n=hT(e),r=-n/2;t.rect(r,r,n,n)}},lS={draw(t,e){const n=.4431*hT(e);t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},hS=lT(pT/10)/lT(7*pT/10),fS=lT(mT/10)*hS,pS=-aT(mT/10)*hS,dS={draw(t,e){const n=hT(.8908130915292852*e),r=fS*n,i=pS*n;t.moveTo(0,-n),t.lineTo(r,i);for(let e=1;e<5;++e){const o=mT*e/5,s=aT(o),a=lT(o);t.lineTo(a*n,-s*n),t.lineTo(s*r-a*i,a*r+s*i)}t.closePath()}},mS=hT(3),yS={draw(t,e){const n=-hT(e/(3*mS));t.moveTo(0,2*n),t.lineTo(-mS*n,-n),t.lineTo(mS*n,-n),t.closePath()}},gS=hT(3),vS={draw(t,e){const n=.6824*hT(e),r=n/2,i=n*gS/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},bS=-.5,_S=hT(3)/2,wS=1/hT(12),xS=3*(wS/2+1),kS={draw(t,e){const n=hT(e/xS),r=n/2,i=n*wS,o=r,s=n*wS+n,a=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,c),t.lineTo(bS*r-_S*i,_S*r+bS*i),t.lineTo(bS*o-_S*s,_S*o+bS*s),t.lineTo(bS*a-_S*c,_S*a+bS*c),t.lineTo(bS*r+_S*i,bS*i-_S*r),t.lineTo(bS*o+_S*s,bS*s-_S*o),t.lineTo(bS*a+_S*c,bS*c-_S*a),t.closePath()}},TS={draw(t,e){const n=.6189*hT(e-uT(e/6,1.7));t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},SS=[nS,rS,sS,uS,dS,yS,kS],ES=[nS,cS,TS,vS,eS,lS,aS];function AS(t,e){let n=null,r=gT(i);function i(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"==typeof t?t:iT(t||nS),e="function"==typeof e?e:iT(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"==typeof e?e:iT(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:iT(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}function OS(){}function NS(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function CS(t){this._context=t}function LS(t){return new CS(t)}function RS(t){this._context=t}function PS(t){return new RS(t)}function IS(t){this._context=t}function MS(t){return new IS(t)}function DS(t,e){this._basis=new CS(t),this._beta=e}CS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:NS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:NS(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},RS.prototype={areaStart:OS,areaEnd:OS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:NS(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},IS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:NS(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},DS.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],s=t[n]-i,a=e[n]-o,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*s),this._beta*e[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const jS=function t(e){function n(t){return 1===e?new CS(t):new DS(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function BS(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function FS(t,e){this._context=t,this._k=(1-e)/6}FS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:BS(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:BS(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const US=function t(e){function n(t){return new FS(t,e)}return n.tension=function(e){return t(+e)},n}(0);function zS(t,e){this._context=t,this._k=(1-e)/6}zS.prototype={areaStart:OS,areaEnd:OS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:BS(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const VS=function t(e){function n(t){return new zS(t,e)}return n.tension=function(e){return t(+e)},n}(0);function KS(t,e){this._context=t,this._k=(1-e)/6}KS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:BS(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const HS=function t(e){function n(t){return new KS(t,e)}return n.tension=function(e){return t(+e)},n}(0);function qS(t,e,n){var r=t._x1,i=t._y1,o=t._x2,s=t._y2;if(t._l01_a>fT){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>fT){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*u+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,s,t._x2,t._y2)}function WS(t,e){this._context=t,this._alpha=e}WS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:qS(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const GS=function t(e){function n(t){return e?new WS(t,e):new FS(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function YS(t,e){this._context=t,this._alpha=e}YS.prototype={areaStart:OS,areaEnd:OS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:qS(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const $S=function t(e){function n(t){return e?new YS(t,e):new zS(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function XS(t,e){this._context=t,this._alpha=e}XS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qS(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ZS=function t(e){function n(t){return e?new XS(t,e):new KS(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function JS(t){this._context=t}function QS(t){return new JS(t)}function tE(t){return t<0?-1:1}function eE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(tE(o)+tE(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function nE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function rE(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function iE(t){this._context=t}function oE(t){this._context=new sE(t)}function sE(t){this._context=t}function aE(t){return new iE(t)}function cE(t){return new oE(t)}function uE(t){this._context=t}function lE(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function hE(t){return new uE(t)}function fE(t,e){this._context=t,this._t=e}function pE(t){return new fE(t,.5)}function dE(t){return new fE(t,0)}function mE(t){return new fE(t,1)}function yE(t,e){if((i=t.length)>1)for(var n,r,i,o=1,s=t[e[0]],a=s.length;o<i;++o)for(r=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function gE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vE(t,e){return t[e]}function bE(t){const e=[];return e.key=t,e}function _E(){var t=iT([]),e=gE,n=yE,r=vE;function i(i){var o,s,a=Array.from(t.apply(this,arguments),bE),c=a.length,u=-1;for(const t of i)for(o=0,++u;o<c;++o)(a[o][u]=[0,+r(t,a[o].key,u,i)]).data=t;for(o=0,s=ET(e(a));o<c;++o)a[s[o]].index=o;return n(a,s),a}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:iT(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:iT(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?gE:"function"==typeof t?t:iT(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?yE:t,i):n},i}function wE(t,e){if((r=t.length)>0){for(var n,r,i,o=0,s=t[0].length;o<s;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}yE(t,e)}}function xE(t,e){if((a=t.length)>0)for(var n,r,i,o,s,a,c=0,u=t[e[0]].length;c<u;++c)for(o=s=0,n=0;n<a;++n)(i=(r=t[e[n]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=s,r[0]=s+=i):(r[0]=0,r[1]=i)}function kE(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var s=0,a=0;s<n;++s)a+=t[s][r][1]||0;i[r][1]+=i[r][0]=-a/2}yE(t,e)}}function TE(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,s=1;s<r;++s){for(var a=0,c=0,u=0;a<i;++a){for(var l=t[e[a]],h=l[s][1]||0,f=(h-(l[s-1][1]||0))/2,p=0;p<a;++p){var d=t[e[p]];f+=(d[s][1]||0)-(d[s-1][1]||0)}c+=h,u+=f*h}n[s-1][1]+=n[s-1][0]=o,c&&(o-=u/c)}n[s-1][1]+=n[s-1][0]=o,yE(t,e)}}function SE(t){var e=t.map(EE);return gE(t).sort((function(t,n){return e[t]-e[n]}))}function EE(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function AE(t){var e=t.map(OE);return gE(t).sort((function(t,n){return e[t]-e[n]}))}function OE(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function NE(t){return AE(t).reverse()}function CE(t){var e,n,r=t.length,i=t.map(OE),o=SE(t),s=0,a=0,c=[],u=[];for(e=0;e<r;++e)n=o[e],s<a?(s+=i[n],c.push(n)):(a+=i[n],u.push(n));return u.reverse().concat(c)}function LE(t){return gE(t).reverse()}JS.prototype={areaStart:OS,areaEnd:OS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},iE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rE(this,this._t0,nE(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,rE(this,nE(this,n=eE(this,t,e)),n);break;default:rE(this,this._t0,n=eE(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(oE.prototype=Object.create(iE.prototype)).point=function(t,e){iE.prototype.point.call(this,e,t)},sE.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},uE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=lE(t),i=lE(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},fE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var RE="%Y-%m-%dT%H:%M:%S.%LZ",PE=Date.prototype.toISOString?function(t){return t.toISOString()}:B_(RE);const IE=PE;var ME=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:F_(RE);const DE=ME;function jE(t,e,n){var r=new so,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?io():+n,r._restart((function o(s){s+=i,r._restart(o,i+=e,n),t(s)}),e,n)},r.restart(t,e,n),r)}const BE=t=>()=>t;function FE(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function UE(t,e,n){this.k=t,this.x=e,this.y=n}UE.prototype={constructor:UE,scale:function(t){return 1===t?this:new UE(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new UE(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zE=new UE(1,0,0);function VE(t){for(;!t.__zoom;)if(!(t=t.parentNode))return zE;return t.__zoom}function KE(t){t.stopImmediatePropagation()}function HE(t){t.preventDefault(),t.stopImmediatePropagation()}function qE(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function WE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function GE(){return this.__zoom||zE}function YE(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function $E(){return navigator.maxTouchPoints||"ontouchstart"in this}function XE(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ZE(){var t,e,n,r=qE,i=WE,o=XE,s=YE,a=$E,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],l=250,h=Dg,f=_n("start","zoom","end"),p=500,d=150,m=0,y=10;function g(t){t.property("__zoom",GE).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",E).filter(a).on("touchstart.zoom",A).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(c[0],Math.min(c[1],e)))===t.k?t:new UE(e,t.x,t.y)}function b(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new UE(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,e,n,r){t.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,s=x(t,o).event(r),a=i.apply(t,o),c=null==n?_(a):"function"==typeof n?n.apply(t,o):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,f="function"==typeof e?e.apply(t,o):e,p=h(l.invert(c).concat(u/l.k),f.invert(c).concat(u/f.k));return function(t){if(1===t)t=f;else{var e=p(t),n=u/e[2];t=new UE(n,c[0]-e[0]*n,c[1]-e[1]*n)}s.zoom(null,t)}}))}function x(t,e,n){return!n&&t.__zooming||new k(t,e)}function k(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function T(t,...e){if(r.apply(this,arguments)){var n=x(this,e).event(t),i=this.__zoom,a=Math.max(c[0],Math.min(c[1],i.k*Math.pow(2,s.apply(this,arguments)))),l=Wi(t);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=i.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[l,i.invert(l)],Eo(this),n.start()}HE(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),d),n.zoom("mouse",o(b(v(i,a),n.mouse[0],n.mouse[1]),n.extent,u))}}function S(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,s=x(this,e,!0).event(t),a=Ir(t.view).on("mousemove.zoom",(function(t){if(HE(t),!s.moved){var e=t.clientX-l,n=t.clientY-h;s.moved=e*e+n*n>m}s.event(t).zoom("mouse",o(b(s.that.__zoom,s.mouse[0]=Wi(t,i),s.mouse[1]),s.extent,u))}),!0).on("mouseup.zoom",(function(t){a.on("mousemove.zoom mouseup.zoom",null),Ur(t.view,s.moved),HE(t),s.event(t).end()}),!0),c=Wi(t,i),l=t.clientX,h=t.clientY;Fr(t.view),KE(t),s.mouse=[c,this.__zoom.invert(c)],Eo(this),s.start()}}function E(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,s=Wi(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(s),c=n.k*(t.shiftKey?.5:2),h=o(b(v(n,c),s,a),i.apply(this,e),u);HE(t),l>0?Ir(this).transition().duration(l).call(w,h,s,t):Ir(this).call(g.transform,h,s,t)}}function A(n,...i){if(r.apply(this,arguments)){var o,s,a,c,u=n.touches,l=u.length,h=x(this,i,n.changedTouches.length===l).event(n);for(KE(n),s=0;s<l;++s)c=[c=Wi(a=u[s],this),this.__zoom.invert(c),a.identifier],h.touch0?h.touch1||h.touch0[2]===c[2]||(h.touch1=c,h.taps=0):(h.touch0=c,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=c[0],t=setTimeout((function(){t=null}),p)),Eo(this),h.start())}}function O(t,...e){if(this.__zooming){var n,r,i,s,a=x(this,e).event(t),c=t.changedTouches,l=c.length;for(HE(t),n=0;n<l;++n)i=Wi(r=c[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],f=a.touch0[1],p=a.touch1[0],d=a.touch1[1],m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m,y=(y=d[0]-f[0])*y+(y=d[1]-f[1])*y;r=v(r,Math.sqrt(m/y)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],s=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(b(r,i,s),a.extent,u))}}function N(t,...r){if(this.__zooming){var i,o,s=x(this,r).event(t),a=t.changedTouches,c=a.length;for(KE(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<c;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=Wi(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<y)){var u=Ir(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",GE),t!==i?w(t,e,n,r):i.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,r){g.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,s=null==n?_(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),c="function"==typeof e?e.apply(this,arguments):e;return o(b(v(r,c),s,a),t,u)}),n,r)},g.translateBy=function(t,e,n,r){g.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)}),null,r)},g.translateTo=function(t,e,n,r,s){g.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,a=null==r?_(t):"function"==typeof r?r.apply(this,arguments):r;return o(zE.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),r,s)},k.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Ir(this.that).datum();f.call(t,this.that,new FE(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:f}),e)}},g.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:BE(+t),g):s},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:BE(!!t),g):r},g.touchable=function(t){return arguments.length?(a="function"==typeof t?t:BE(!!t),g):a},g.extent=function(t){return arguments.length?(i="function"==typeof t?t:BE([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],g):[c[0],c[1]]},g.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(t){return arguments.length?(o=t,g):o},g.duration=function(t){return arguments.length?(l=+t,g):l},g.interpolate=function(t){return arguments.length?(h=t,g):h},g.on=function(){var t=f.on.apply(f,arguments);return t===f?g:t},g.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,g):Math.sqrt(m)},g.tapDistance=function(t){return arguments.length?(y=+t,g):y},g}function JE(t){return JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JE(t)}function QE(t){var e=function(t){if("object"!=JE(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=JE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==JE(e)?e:e+""}VE.prototype=UE.prototype;var tA=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pluginData=e,this.viewport=n,this.layout=r},e=[{key:"execute",value:function(t){return!1}},{key:"finalize",value:function(t){return!1}},{key:"applySceneTransform",value:function(){var t=this.pluginData.scene,e=t.x,n=t.y,r=t.zoom,i="translate(".concat(e," ").concat(n,")"),o="scale(".concat(r,")");this.viewport.selectAll(".scene > g").attr("transform","".concat(i," ").concat(o))}},{key:"getSourcesId",value:function(t){return this.pluginData.scene.selection.includes(t.subject.datum().data.id)?this.pluginData.scene.selection:[t.subject.datum().data.id]}},{key:"getSourcePosition",value:function(t){var e=this.viewport.select(".".concat(t," .model"));return{x:parseFloat(e.attr("x")),y:parseFloat(e.attr("y"))}}},{key:"getTargetsByDepth",value:function(t){var e=this,n=t.subject.datum().data.id,r=t.sourceEvent,i=r.clientX,o=r.clientY,s=[];return this.viewport.selectAll("g.component.container:not(.".concat(n,")")).each((function(t){var n=e.viewport.select(".".concat(t.data.id," .background")).node().getBoundingClientRect(),r=n.x,a=n.y,c=n.width,u=n.height;if(i>=r&&i<=r+c&&o>=a&&o<=a+u){for(var l=parseInt(e.viewport.select(".".concat(t.data.id)).attr("depth"),10)-1;s.length<=l;)s.push([]);s[l].push(t.data.id)}})),s}},{key:"getTargetsId",value:function(t){return this.getTargetsByDepth(t).flat().reverse()}},{key:"getTargetId",value:function(t){return this.getTargetsId(t)[0]}},{key:"getTransform",value:function(t,e){var n=this.viewport.select(t).node().getBoundingClientRect(),r=n.x,i=n.y,o=this.viewport.select(e).node().getBoundingClientRect();return{dx:r-o.x,dy:i-o.y}}}],e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QE(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const eA=tA;function nA(t){return nA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nA(t)}function rA(t){var e=function(t){if("object"!=nA(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=nA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==nA(e)?e:e+""}function iA(t,e,n){return e=sA(e),function(t,e){if(e&&("object"==nA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,oA()?Reflect.construct(e,n||[],sA(t).constructor):e.apply(t,n))}function oA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(oA=function(){return!!t})()}function sA(t){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sA(t)}function aA(t,e){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},aA(t,e)}var cA=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),iA(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aA(t,e)}(e,t),n=e,r=[{key:"finalize",value:function(){var t=this;return 0!==this.pluginData.scene.selection.length&&(this.pluginData.scene.selection.forEach((function(e){t.pluginData.removeComponentById(e)})),this.pluginData.emitEvent({components:this.pluginData.scene.selection,type:"Drawer",action:"delete",status:"success"}),this.pluginData.scene.selection=[],!0)}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(eA);const uA=cA;function lA(t){return lA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lA(t)}function hA(t){var e=function(t){if("object"!=lA(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=lA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==lA(e)?e:e+""}function fA(t,e,n){return e=dA(e),function(t,e){if(e&&("object"==lA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pA()?Reflect.construct(e,n||[],dA(t).constructor):e.apply(t,n))}function pA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pA=function(){return!!t})()}function dA(t){return dA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dA(t)}function mA(t,e){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mA(t,e)}var yA=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=fA(this,e,[t,n,r])).isInit=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mA(t,e)}(e,t),n=e,r=[{key:"execute",value:function(t){var e=this,n=this.getSourcesId(t);if(!this.isInit){this.isInit=!0;var r=this.getParentTypes(n);this.pluginData.components.filter((function(t){var e=t.id,i=t.definition;return!r.includes(i.type)&&!n.includes(e)})).forEach((function(t){e.viewport.select(".".concat(t.id,".component .canBeHidden")).classed("hide",!0)}))}return n.forEach((function(n){var r=e.viewport.select(".".concat(n," .model"));r.attr("x",(parseFloat(r.attr("x"))||0)+t.dx/e.pluginData.scene.zoom).attr("y",(parseFloat(r.attr("y"))||0)+t.dy/e.pluginData.scene.zoom)})),!1}},{key:"finalize",value:function(t){var e=this;this.isInit=!1;var n=this.getSourcesId(t),r=this.getTargetsId(t)[0]||null,i=n.map((function(t){return e.pluginData.getComponentById(t)}));return null===r?(this.dropOnScene(t,i),!0):this.dropOnTarget(t,i,this.pluginData.getComponentById(r))}},{key:"dropOnScene",value:function(t,e){var n,r=this,i=e[0].getContainerId(),o=null!==i,s=this.pluginData.getComponentById(i);return e.forEach((function(t){var e=r.getSourcePosition(t.id),a=e.x,c=e.y;if(o){t.removeAllReferenceAttributes(s);var u=r.getTransform(".".concat(i," .components-background"),".scene"),l=u.dx,h=u.dy;t.drawOption.x=a+(l-r.pluginData.scene.x)/r.pluginData.scene.zoom,t.drawOption.y=c+(h-r.pluginData.scene.y)/r.pluginData.scene.zoom,n="update"}else t.drawOption.x=a,t.drawOption.y=c,n="move"})),s&&"workflow"===s.definition.displayType&&this.layout.generateComponentsLayout(i),this.pluginData.emitEvent({components:e.map((function(t){return t.id})),type:"Drawer",action:n,status:"success"}),o}},{key:"dropOnTarget",value:function(t,e,n){var r=this;if(!e.every((function(t){return n.canContain(t.definition.type)})))return e.forEach((function(e){var n=r.viewport.select(".".concat(e.id," .model"));n.attr("x",parseFloat(n.attr("x"))+t.dx/r.pluginData.scene.zoom).attr("y",parseFloat(n.attr("y"))+t.dy/r.pluginData.scene.zoom)})),!1;if("workflow"===n.definition.displayType)return this.dropInWorkflow(t,e,n);var i=e[0].getContainerId()!==n.id;return e.forEach((function(t){i&&t.setReferenceAttribute(n);var e=r.getTransform(".".concat(t.id," .background"),".".concat(n.id," .components-background")),o=e.dx,s=e.dy;t.drawOption.x=o<1?1:o/r.pluginData.scene.zoom,t.drawOption.y=s<1?1:s/r.pluginData.scene.zoom})),this.pluginData.emitEvent({components:e.map((function(t){return t.id})),type:"Drawer",action:i?"update":"move",status:"success"}),!0}},{key:"dropInWorkflow",value:function(t,e,n){var r,i=this,o=e[0].getContainerId(),s=this.pluginData.getComponentById(n.id),a=this.pluginData.getChildren(n.id),c="vertical"===n.definition.workflowDirection,u=this.pluginData.components.filter((function(t){var n=t.id;return e.some((function(t){var e=t.id;return n===e}))})).map((function(t){return t.id}));return a.filter((function(t){var e=t.id;return!u.includes(e)})).forEach((function(e){var n=i.viewport.select(".".concat(e.id," .model")).node().getBoundingClientRect(),o=n.x,s=n.y,a=n.width,u=n.height;c&&s+u/2<t.sourceEvent.clientY&&(r=e.id),!c&&o+a/2<t.sourceEvent.clientX&&(r=e.id)})),u.forEach((function(t){i.pluginData.getComponentById(t).setReferenceAttribute(s),r?i.pluginData.insertComponentAfter(t,r):t!==(r=i.pluginData.components.find((function(t){return t.getContainerId()===n.id})).id)&&i.pluginData.insertComponentBefore(t,r),r=t})),o!==n.id&&o&&this.layout.generateComponentsLayout(o,!1),this.layout.generateComponentsLayout(n.id,!1),this.pluginData.emitEvent({components:u,type:"Drawer",action:"update",status:"success"}),!0}},{key:"getParentTypes",value:function(t){var e=this,n=new Map;t.map((function(t){return e.pluginData.getComponentById(t)})).forEach((function(t){var e=t.id;t.definition.parentTypes.forEach((function(t){n.has(t)||n.set(t,[]),n.get(t).push(e)}))}));var r=[];return n.forEach((function(e,n){e.length===t.length&&r.push(n)})),r}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(eA);const gA=yA;function vA(t){return vA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vA(t)}function bA(t){var e=function(t){if("object"!=vA(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=vA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==vA(e)?e:e+""}function _A(t,e,n){return e=xA(e),function(t,e){if(e&&("object"==vA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wA()?Reflect.construct(e,n||[],xA(t).constructor):e.apply(t,n))}function wA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wA=function(){return!!t})()}function xA(t){return xA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xA(t)}function kA(t,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kA(t,e)}var TA=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_A(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kA(t,e)}(e,t),n=e,(r=[{key:"execute",value:function(t){return this.pluginData.scene.x+=t.dx,this.pluginData.scene.y+=t.dy,this.applySceneTransform(),!1}},{key:"finalize",value:function(){return this.pluginData.emitEvent({components:[],type:"Drawer",action:"move",status:"success"}),!1}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(eA);const SA=TA;function EA(t){return EA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EA(t)}function AA(t){var e=function(t){if("object"!=EA(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=EA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==EA(e)?e:e+""}function OA(t,e,n){return e=CA(e),function(t,e){if(e&&("object"==EA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,NA()?Reflect.construct(e,n||[],CA(t).constructor):e.apply(t,n))}function NA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(NA=function(){return!!t})()}function CA(t){return CA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},CA(t)}function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},LA(t,e)}var RA=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=OA(this,e,[t,n,r])).isInit=!1,i.link=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LA(t,e)}(e,t),n=e,(r=[{key:"execute",value:function(t){var e=this;if(!this.isInit){this.isInit=!0;var n=t.subject.datum().data.id,r=this.pluginData.getComponentById(n);this.viewport.style("cursor","grabbing");var i=t.sourceEvent.target.closest(".anchor").attributes.name.value;this.pluginData.components.filter((function(t){var n=t.definition;return!e.pluginData.canBeLinked(r.definition.type,n.type)})).forEach((function(t){e.viewport.select(".".concat(t.id,".component .canBeHidden")).classed("hide",!0)})),this.pluginData.createTemporaryLink(n,i),this.link=new U({source:n})}return this.pluginData.temporaryLink.endX=t.sourceEvent.clientX,this.pluginData.temporaryLink.endY=t.sourceEvent.clientY,!1}},{key:"finalize",value:function(t){this.isInit=!1,this.pluginData.temporaryLink=null,this.viewport.style("cursor",null);var e=this.pluginData.getComponentById(t.subject.datum().data.id),n=this.pluginData.getComponentById(this.getTargetId(t)),r=this.pluginData.definitions.links.find((function(t){var r=t.sourceRef,i=t.targetRef;return e.definition.type===r&&(null==n?void 0:n.definition.type)===i}));return n&&r&&(e.setLinkAttribute(new U({source:e.id,target:n.id,definition:r})),this.pluginData.emitEvent({components:[e.id],type:"Drawer",action:"update",status:"success"})),!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(eA);const PA=RA;function IA(t){return IA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IA(t)}function MA(t){var e=function(t){if("object"!=IA(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=IA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==IA(e)?e:e+""}function DA(t,e,n){return e=BA(e),function(t,e){if(e&&("object"==IA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jA()?Reflect.construct(e,n||[],BA(t).constructor):e.apply(t,n))}function jA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jA=function(){return!!t})()}function BA(t){return BA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},BA(t)}function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},FA(t,e)}var UA=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),DA(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}(e,t),n=e,(r=[{key:"finalize",value:function(t){return this.pluginData.emitEvent({components:[t.subject.datum().data.id],type:"Drawer",action:"openMenu",data:t.sourceEvent,status:"success"}),!1}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(eA);const zA=UA;function VA(t){return VA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VA(t)}function KA(t){var e=function(t){if("object"!=VA(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=VA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==VA(e)?e:e+""}function HA(t,e,n){return e=WA(e),function(t,e){if(e&&("object"==VA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,qA()?Reflect.construct(e,n||[],WA(t).constructor):e.apply(t,n))}function qA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qA=function(){return!!t})()}function WA(t){return WA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},WA(t)}function GA(t,e){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},GA(t,e)}var YA=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),HA(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GA(t,e)}(e,t),n=e,r=[{key:"execute",value:function(t){var e=t.subject.datum(),n=this.pluginData.scene.zoom,r=this.viewport.select(".".concat(e.data.id," .model")),i=r.node().getBoundingClientRect(),o=this.getMaxPosition(e.data.id),s=o.x,a=o.y,c=t.sourceEvent,u=c.clientX,l=c.clientY,h=Math.max((s-i.x)/n,e.data.definition.minWidth),f=Math.max((a-i.y)/n,e.data.definition.minHeight),p=(u-i.x)/n,d=(l-i.y)/n;r.attr("width",p>h?p:h),r.attr("height",d>f?d:f);var m=this.viewport.select(".".concat(e.data.id," .components-background")),y=m.node().getBoundingClientRect();return h=Math.max((s-y.x)/n,e.data.definition.minWidth-e.data.definition.reservedWidth),f=Math.max((a-y.y)/n,e.data.definition.minHeight-e.data.definition.reservedHeight),p=(u-y.x)/n,d=(l-y.y)/n,m.attr("width",p>h?p:h),m.attr("height",d>f?d:f),!1}},{key:"finalize",value:function(t){var e=t.subject.datum().data.id,n=this.viewport.select(".".concat(e," .model")),r=this.pluginData.getComponentById(e);return r.drawOption.width=parseFloat(n.attr("width")),r.drawOption.height=parseFloat(n.attr("height")),this.pluginData.emitEvent({components:[e],type:"Drawer",action:"resize",status:"success"}),!0}},{key:"getMaxPosition",value:function(t){var e=this,n=this.pluginData.getComponentById(t),r=0,i=0;return this.pluginData.getChildren(t).forEach((function(t){var o=e.viewport.select(".".concat(t.id," .model")).node().getBoundingClientRect(),s=o.x,a=o.y,c=o.width,u=o.height;r=Math.max(r,s+c+n.definition.margin),i=Math.max(i,a+u+n.definition.margin)})),{x:r,y:i}}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(eA);const $A=YA;function XA(t){return XA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XA(t)}function ZA(t){return function(t){if(Array.isArray(t))return JA(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return JA(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JA(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function QA(t){var e=function(t){if("object"!=XA(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=XA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==XA(e)?e:e+""}function tO(t,e,n){return e=nO(e),function(t,e){if(e&&("object"==XA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,eO()?Reflect.construct(e,n||[],nO(t).constructor):e.apply(t,n))}function eO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(eO=function(){return!!t})()}function nO(t){return nO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nO(t)}function rO(t,e){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rO(t,e)}var iO=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),tO(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rO(t,e)}(e,t),n=e,r=[{key:"finalize",value:function(t){var e=t.subject.datum().data,n=e.getContainerId();return this.pluginData.scene.selection.includes(e.id)?this.pluginData.scene.selection=this.pluginData.scene.selection.filter((function(t){return t!==e.id})):(0===this.pluginData.scene.selection.length&&(this.pluginData.scene.selectionRef=n),n===this.pluginData.scene.selectionRef?this.pluginData.scene.selection.push(e.id):(this.pluginData.scene.selectionRef=n,this.pluginData.scene.selection=[e.id])),this.pluginData.emitEvent({components:ZA(this.pluginData.scene.selection),type:"Drawer",action:"select",status:"success"}),!0}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(eA);const oO=iO;function sO(t){return sO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sO(t)}function aO(t){var e=function(t){if("object"!=sO(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=sO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==sO(e)?e:e+""}function cO(t,e,n){return e=lO(e),function(t,e){if(e&&("object"==sO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,uO()?Reflect.construct(e,n||[],lO(t).constructor):e.apply(t,n))}function uO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uO=function(){return!!t})()}function lO(t){return lO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lO(t)}function hO(t,e){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hO(t,e)}var fO=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),cO(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hO(t,e)}(e,t),n=e,(r=[{key:"execute",value:function(){return this.pluginData.scene.selection=[],this.pluginData.emitEvent({components:[],type:"Drawer",action:"select",status:"success"}),!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aO(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(eA);const pO=fO;function dO(t){return dO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dO(t)}function mO(t){return function(t){if(Array.isArray(t))return yO(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return yO(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yO(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function gO(t){var e=function(t){if("object"!=dO(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=dO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==dO(e)?e:e+""}function vO(t,e,n){return e=_O(e),function(t,e){if(e&&("object"==dO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bO()?Reflect.construct(e,n||[],_O(t).constructor):e.apply(t,n))}function bO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bO=function(){return!!t})()}function _O(t){return _O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_O(t)}function wO(t,e){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wO(t,e)}var xO=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),vO(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wO(t,e)}(e,t),n=e,(r=[{key:"execute",value:function(){return this.pluginData.scene.selection=this.pluginData.components.filter((function(t){return null===t.getContainerId()})).map((function(t){return t.id})),this.pluginData.emitEvent({components:mO(this.pluginData.scene.selection),type:"Drawer",action:"select",status:"success"}),!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gO(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(eA);const kO=xO;function TO(t){return TO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TO(t)}function SO(t){var e=function(t){if("object"!=TO(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=TO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==TO(e)?e:e+""}function EO(t,e,n){return e=OO(e),function(t,e){if(e&&("object"==TO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,AO()?Reflect.construct(e,n||[],OO(t).constructor):e.apply(t,n))}function AO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(AO=function(){return!!t})()}function OO(t){return OO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},OO(t)}function NO(t,e){return NO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},NO(t,e)}var CO=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),EO(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NO(t,e)}(e,t),n=e,(r=[{key:"execute",value:function(t){var e=t.deltaY<0?1.1:.9,n=this.viewport.node().getBoundingClientRect(),r=n.x,i=n.y,o=t.clientX-r,s=t.clientY-i,a=this.pluginData.scene.x,c=this.pluginData.scene.y;this.pluginData.scene.zoom*=e;var u=o-(o-a)*e,l=s-(s-c)*e;return this.pluginData.scene.x=u,this.pluginData.scene.y=l,this.applySceneTransform(),this.pluginData.emitEvent({type:"Drawer",action:"zoom",status:"success"}),!1}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SO(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(eA);const LO=CO;var RO=r(326);function PO(t){return PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PO(t)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IO(Object(n),!0).forEach((function(e){DO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function DO(t,e,n){return(e=jO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jO(t){var e=function(t){if("object"!=PO(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=PO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==PO(e)?e:e+""}var BO=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pluginData=e||null,this.viewport=n||null,this.readOnly=!!r},e=[{key:"renderModel",value:function(t){return(0,RO.renderString)(this.pluginData.resources.models[t.definition.model],this.getTemplateData(t))}},{key:"render",value:function(t){var e=this,n=this.viewport.select(".".concat(t));n.select(".components").selectAll('.component[depth="'.concat(n.datum().depth+1,'"]')).data((function(t){return t.children||[]})).join("g").attr("class",(function(t){var e=t.data;return"".concat(e.id," component ").concat(e.definition.isContainer?"container":"")})).attr("depth",(function(t){var n=t.data;return e.pluginData.getComponentDepth(n.id)+1})).html((function(t){var n=t.data;return e.renderModel(n)})).filter((function(t){var e=t.data,n=t.children;return e.definition.isContainer&&!!n})).each((function(t){var n=t.data;return e.render(n.id)}))}},{key:"getTemplateData",value:function(t){var e=this,n=0,r=0;return t.getErrors().forEach((function(t){var e=t.severity;e===a.SEVERITY_WARNING?r+=1:e===a.SEVERITY_ERROR&&(n+=1)})),MO(MO({},t),{},{drawOption:MO(MO({},t.drawOption),{},{x:t.drawOption.x||0,y:t.drawOption.y||0,width:t.drawOption.width||t.definition.width,height:t.drawOption.height||t.definition.height}),isReadOnly:this.readOnly,icon:this.pluginData.resources.icons[t.definition.icon],hasError:n>0,hasWarning:r>0,numberOfErrors:n,numberOfWarnings:r,hasX:!!t.drawOption.x,hasY:!!t.drawOption.y,isSelected:this.pluginData.scene.selection.includes(t.id),getIcon:function(t){return e.pluginData.resources.icons[t]},canHaveLink:this.pluginData.canHaveLink(t.definition.type),getAttribute:function(e){return t.attributes.find((function(t){return t.name===e}))}})}}],e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jO(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const FO=BO;function UO(t){return UO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UO(t)}function zO(t){var e=function(t){if("object"!=UO(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=UO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==UO(e)?e:e+""}var VO=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pluginData=e||null,this.viewport=n||null,this.readOnly=!!r,this.scenePosition=null},e=[{key:"render",value:function(){var t=this;this.scenePosition=this.viewport.select(".scene").node().getBoundingClientRect(),this.viewport.select(".scene .links").selectAll(".link").data((function(){return t.pluginData.getLinks()})).join("g").attr("class",(function(t){return"".concat(t.source,"_to_").concat(t.target," link")})).attr("from",(function(t){return t.source})).attr("to",(function(t){return t.target})).html((function(e){return(0,RO.renderString)(t.pluginData.resources.links[e.definition.model]||"",t.getTemplateData(e))}))}},{key:"getLinkPoints",value:function(t,e){var n=this.getReducedPointPositionOnSegment(t.x,t.y,e.x,e.y,10),r=this.getReducedPointPositionOnSegment(t.x,t.y,e.x,e.y,5),i=(t.x-this.scenePosition.x-this.pluginData.scene.x)/this.pluginData.scene.zoom,o=(t.y-this.scenePosition.y-this.pluginData.scene.y)/this.pluginData.scene.zoom,s=(n.x-this.scenePosition.x-this.pluginData.scene.x)/this.pluginData.scene.zoom,a=(n.y-this.scenePosition.y-this.pluginData.scene.y)/this.pluginData.scene.zoom,c=(r.x-this.scenePosition.x-this.pluginData.scene.x)/this.pluginData.scene.zoom,u=(r.y-this.scenePosition.y-this.pluginData.scene.y)/this.pluginData.scene.zoom;return LT().curve(LS)([[i,o],[i+.2*(s-i),o+.8*(a-o)],[s,a],[c,u]])}},{key:"getClosestAnchor",value:function(t,e){var n=this.viewport.select(".".concat(e," .background")).node().getBoundingClientRect(),r=n.x+n.width/2,i=n.y+n.height/2,o=null,s=null;return this.viewport.selectAll(".".concat(t,".anchors .anchor")).each((function(t,e,n){var a=n[e],c=a.attributes.name.value,u=a.getBoundingClientRect(),l=r-u.x,h=i-u.y,f=Math.sqrt(l*l+h*h);(null===s||f<o)&&(o=f,s={name:c,x:u.x+u.width/2,y:u.y+u.height/2,width:u.width})})),s}},{key:"getReducedPointPositionOnSegment",value:function(t,e,n,r,i){if(t===n&&e===r)return{x:0,y:0};var o=n-t,s=r-e,a=Math.sqrt(o*o+s*s),c=(a-i)/a;return{x:t+o*c,y:e+s*c}}},{key:"getTemplateData",value:function(t){var e,n;if(t.isTemporary)e=this.viewport.select(".".concat(t.source,' .anchors .anchor[name="').concat(t.anchorName,'"]')).node().getBoundingClientRect(),e={name:t.anchorName,x:e.x+e.width/2,y:e.y+e.height/2,width:e.width},n={x:t.endX,y:t.endY};else{var r=t.isReverse?t.target:t.source,i=t.isReverse?t.source:t.target;e=this.getClosestAnchor(r,i),n=this.getClosestAnchor(i,r)}return{d:this.getLinkPoints(e,n)}}}],e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zO(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const KO=VO;function HO(t){return HO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HO(t)}function qO(t){var e=function(t){if("object"!=HO(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=HO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==HO(e)?e:e+""}var WO=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pluginData=e||null,this.viewport=n||null},(e=[{key:"generateComponentsLayout",value:function(t,e){return!0}},{key:"resize",value:function(t){return!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qO(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function GO(t){return GO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GO(t)}function YO(t){var e=function(t){if("object"!=GO(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=GO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==GO(e)?e:e+""}function $O(t,e,n){return e=ZO(e),function(t,e){if(e&&("object"==GO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,XO()?Reflect.construct(e,n||[],ZO(t).constructor):e.apply(t,n))}function XO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(XO=function(){return!!t})()}function ZO(t){return ZO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ZO(t)}function JO(t,e){return JO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},JO(t,e)}var QO=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),$O(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JO(t,e)}(e,t),n=e,r=[{key:"generateComponentsLayout",value:function(t,e){var n=this,r=this.getNodes(),i=r.get(t||"root"),o=[],s=[];return this.generateLayout(r,i,e),r.forEach((function(e){if("root"!==e.id&&(null===t||t===e.parent.id||t===e.id)){var r=n.pluginData.getComponentById(e.id),i=r.drawOption.x!==e.x||r.drawOption.y!==e.y,a=r.drawOption.width!==e.width||r.drawOption.height!==e.height;r.drawOption.x=e.x,r.drawOption.y=e.y,r.drawOption.width=e.width,r.drawOption.height=e.height,i?o.push(r.id):a&&s.push(r.id)}})),o.length>0&&this.pluginData.emitEvent({components:o,type:"Drawer",action:"move",status:"success"}),s.length>0&&this.pluginData.emitEvent({components:s,type:"Drawer",action:"resize",status:"success"}),!0}},{key:"getNodes",value:function(){var t=this,e={id:"root",parent:null,children:[],depth:0,type:"default",isContainer:!0,margin:this.pluginData.configuration.rootContainer.margin,gap:this.pluginData.configuration.rootContainer.gap},n=new Map(this.pluginData.components.map((function(e){return[e.id,t.createNode(e)]})));return n.set("root",e),n.forEach((function(t){if(t.parent){var e=n.get(t.parent);t.parent=e,e.children.push(t)}})),n}},{key:"createNode",value:function(t){return{id:t.id,parent:t.getContainerId()||"root",type:t.definition.displayType||"default",direction:t.definition.workflowDirection,children:[],depth:this.pluginData.getComponentDepth(t.id)+1,isContainer:t.definition.isContainer,width:t.definition.defaultWidth,height:t.definition.defaultHeight,minWidth:t.definition.minWidth,minHeight:t.definition.minHeight,reservedWidth:t.definition.reservedWidth,reservedHeight:t.definition.reservedHeight,margin:t.definition.margin,gap:t.definition.gap,x:t.drawOption.x,y:t.drawOption.y}}},{key:"generateLayout",value:function(t,e,n){var r=this;e.children.forEach((function(e){r.generateLayout(t,e,n)})),e.isContainer&&"default"===e.type?this.generateDefaultLayout(e,n):e.isContainer&&this.generateWorkflowLayout(t,e)}},{key:"generateDefaultLayout",value:function(t,e){this.text=0;var n=[],r=[],i=t.margin,o=t.gap,s=t.minWidth,a=t.minHeight,c=t.reservedWidth,u=t.reservedHeight,l=0,h=0;t.children.forEach((function(t){t.x&&t.y&&e?(n.push(t),l=Math.max(t.x+t.width,l),h=Math.max(t.y+t.height,h)):r.push(t)}));for(var f,p=0,d=0,m=this.getPoints(p,i,o);r.length>0;)f||(f=r[0]),0===m.length&&(d=0,p+=1,m=this.getPoints(p,i,o)),m.length>0&&this.canBePlaced(n,f,m[d])&&(f.x=m[d].x,f.y=m[d].y,l=Math.max(f.x+f.width,l),h=Math.max(f.y+f.height,h),n.push(f),r.shift(),f=null),(d+=1)>=m.length&&(d=0,p+=1,m=this.getPoints(p,i,o));t.width=Math.max(l+i+c,s),t.height=Math.max(h+i+u,a)}},{key:"canBePlaced",value:function(t,e,n){return t.every((function(t){var r=t.x,i=t.y,o=t.width,s=t.height,a=n.x+e.width<r,c=n.x>r+o,u=n.y+e.height<i,l=n.y>i+s;return a||c||u||l}))}},{key:"getPoints",value:function(t,e,n){if(0===t)return[{x:e,y:e}];for(var r=e+n*t,i=e+n*t,o=[],s=e,a=e;a<=r&&(a!==r||i!==s);)o.push({x:a,y:i}),a+=n,o.push({x:r,y:s}),s+=n;return o.push({x:r,y:i}),o}},{key:"generateWorkflowLayout",value:function(t,e){"vertical"===e.direction?this.generateVerticalWorkflowLayout(t,e):this.generateHorizontalWorkflowLayout(t,e)}},{key:"generateHorizontalWorkflowLayout",value:function(t,e){var n=e.margin,r=e.gap,i=e.minWidth,o=e.minHeight,s=e.reservedWidth,a=e.reservedHeight,c=n,u=0;e.children.forEach((function(t){t.x=c,t.y=n,c=t.x+t.width+r,t.height>u&&(u=t.height)})),e.width=Math.max(c-r+n+s,i),e.height=Math.max(u+2*n+a,o)}},{key:"generateVerticalWorkflowLayout",value:function(t,e){var n=e.margin,r=e.gap,i=e.minWidth,o=e.minHeight,s=e.reservedWidth,a=e.reservedHeight,c=n,u=0;e.children.forEach((function(t){t.x=n,t.y=c,c=t.y+t.height+r,t.width>u&&(u=t.width)})),e.width=Math.max(u+2*n+s,i),e.height=Math.max(c-r+n+a,o)}},{key:"resize",value:function(t){var e=this.pluginData.getComponentById(t);if(!e.definition.isContainer)return!1;var n=0,r=0;this.pluginData.getChildren(t).forEach((function(t){var e=t.drawOption.x+t.drawOption.width,i=t.drawOption.y+t.drawOption.height;e>n&&(n=e),i>r&&(r=i)}));var i=e.definition,o=i.minWidth,s=i.minHeight,a=i.reservedWidth,c=i.reservedHeight,u=i.margin,l=Math.max(n+2*u+a,o),h=Math.max(r+2*u+c,s);return l===e.drawOption.width&&h===e.drawOption.height||(e.drawOption.width=l,e.drawOption.height=h,this.pluginData.emitEvent({components:[t],type:"Drawer",action:"resize",status:"success"})),!0}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YO(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(WO);const tN=QO;function eN(t){return eN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eN(t)}function nN(t){return function(t){if(Array.isArray(t))return rN(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return rN(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rN(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iN(Object(n),!0).forEach((function(e){sN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sN(t,e,n){return(e=uN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aN(){aN=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,s=Object.create(o.prototype),a=new C(r||[]);return i(s,"_invoke",{value:E(t,n,a)}),s}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",m="completed",y={};function g(){}function v(){}function b(){}var _={};u(_,s,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(L([])));x&&x!==n&&r.call(x,s)&&(_=x);var k=b.prototype=g.prototype=Object.create(_);function T(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,s,a){var c=h(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==eN(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(l).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=f;return function(o,s){if(i===d)throw Error("Generator is already running");if(i===m){if("throw"===o)throw s;return{value:t,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=A(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=d;var u=h(e,n,r);if("normal"===u.type){if(i=r.done?m:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(eN(e)+" is not iterable")}return v.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},T(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new S(l(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},T(k),u(k,c,"Generator"),u(k,s,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function cN(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function uN(t){var e=function(t){if("object"!=eN(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=eN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==eN(e)?e:e+""}var lN=function(){return e=function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.pluginData=n,this.componentRenderer=null,this.linkRenderer=null,this.layout=null,this.viewport=null,this.scene=null,this.d3=t,this.actions={deleteAction:null,dragComponent:null,dragScene:null,linkAction:null,menuAction:null,resizeComponent:null,toggleSelection:null,selectionAll:null,deselectionAll:null,zoom:null},this.states={linking:!1,menuOpening:!1,moving:!1,resizing:!1,selection:!1},this.readOnly=!1},n=[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.d3.select("#".concat(t)).selectAll(null).remove(),this.d3.select("#".concat(t)).html(""),this.viewport=this.d3.select("#".concat(t)),this.componentRenderer=this.initComponentRenderer(e),this.linkRenderer=this.initLinkRenderer(e),this.layout=new tN(this.pluginData,this.viewport),this.readOnly=e,this.clearActions(),this.readOnly&&(this.pluginData.scene.x=0,this.pluginData.scene.y=0,this.pluginData.scene.zoom=1),this.initActions(),this.initScene()}},{key:"initComponentRenderer",value:function(t){return new FO(this.pluginData,this.viewport,t)}},{key:"initLinkRenderer",value:function(t){return new KO(this.pluginData,this.viewport,t)}},{key:"clearActions",value:function(){this.actions.deleteAction=null,this.actions.dragComponent=null,this.actions.dragScene=null,this.actions.menuAction=null,this.actions.resizeComponent=null,this.actions.toggleSelection=null,this.actions.selectionAll=null,this.actions.deselectionAll=null,this.actions.zoom=null,this.viewport.on("wheel",null),this.d3.select("body").on("keydown",null).on("keyup",null),this.viewport.on(".drag",null)}},{key:"initActions",value:function(){var t=this;this.actions.selectionAll=new kO(this.pluginData,this.viewport,this.layout),this.actions.deleteAction=new uA(this.pluginData,this.viewport,this.layout),this.actions.dragScene=new SA(this.pluginData,this.viewport,this.layout),this.actions.menuAction=new zA(this.pluginData,this.viewport,this.layout),this.actions.link=new PA(this.pluginData,this.viewport,this.layout),this.actions.zoom=new LO(this.pluginData,this.viewport,this.layout),this.actions.dragComponent=new gA(this.pluginData,this.viewport,this.layout),this.actions.resizeComponent=new $A(this.pluginData,this.viewport,this.layout),this.actions.toggleSelection=new oO(this.pluginData,this.viewport,this.layout),this.actions.deselectionAll=new pO(this.pluginData,this.viewport,this.layout),this.viewport.on("wheel",(function(e){t.actions.zoom.execute(e)&&t.draw()})),this.readOnly||this.d3.select("body").on("keydown",(function(e){var n=!1;t.pluginData.configuration.keysBinding.selection.includes(e.key)&&(t.states.selection=!0),t.pluginData.configuration.keysBinding.deleteObject.includes(e.key)&&(n=t.actions.deleteAction.execute(e)),t.pluginData.configuration.keysBinding.selectAll.includes(e.key)&&(n=t.actions.selectionAll.execute(e)),t.pluginData.configuration.keysBinding.deselectAll.includes(e.key)&&(n=t.actions.deselectionAll.execute(e)),n&&t.draw()})).on("keyup",(function(e){var n=!1;t.pluginData.configuration.keysBinding.selection.includes(e.key)&&(t.states.selection=!1),t.pluginData.configuration.keysBinding.deleteObject.includes(e.key)&&(n=t.actions.deleteAction.finalize(e)),t.pluginData.configuration.keysBinding.selectAll.includes(e.key)&&(n=t.actions.selectionAll.finalize(e)),t.pluginData.configuration.keysBinding.deselectAll.includes(e.key)&&(n=t.actions.deselectionAll.finalize(e)),n&&t.draw()}));var e=this.d3.drag().subject((function(e){var n=e.sourceEvent.target.closest(".component");if(t.states.resizing=!!e.sourceEvent.target.closest(".resize-button"),t.states.menuOpening=!!e.sourceEvent.target.closest(".menu-button"),!n)return t.scene;var r=t.viewport.select(Array.from(n.classList).map((function(t){return".".concat(t)})).join(""));return t.states.linking=!!e.sourceEvent.target.closest(".anchor")&&t.pluginData.canHaveLink(r.datum().data.definition.type),r})).on("drag",(function(e){t.states.moving=!0;var n="scene"===e.subject.datum().data.id,r=!1;t.readOnly?t.actions.dragScene.execute(e):(n?r=t.actions.dragScene.execute(e):t.states.linking?(r=t.actions.link.execute(e),t.linkRenderer.render()):t.states.resizing?(r=t.actions.resizeComponent.execute(e),t.linkRenderer.render()):(r=t.actions.dragComponent.execute(e),t.linkRenderer.render()),r&&t.draw())})).on("end",function(){var e,n=(e=aN().mark((function e(n){var r,i,o,s,a,c,u;return aN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.states.moving,i=t.states.selection,o=t.states.menuOpening,s=t.states.resizing,a=t.states.linking,c="scene"===n.subject.datum().data.id,u=!1,!t.readOnly){e.next=10;break}return c&&r&&t.actions.dragScene.finalize(n),e.abrupt("return");case 10:a?u=t.actions.link.finalize(n):r&&c?u=t.actions.dragScene.finalize(n):s?u=t.actions.resizeComponent.finalize(n):r&&!c?u=t.actions.dragComponent.finalize(n):!r&&o?u=t.actions.menuAction.finalize(n):r||c||!i||(u=t.actions.toggleSelection.finalize(n)),u&&t.draw(),t.states.moving=!1;case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(t){cN(o,r,i,s,a,"next",t)}function a(t){cN(o,r,i,s,a,"throw",t)}s(void 0)}))});return function(t){return n.apply(this,arguments)}}());this.viewport.call(e)}},{key:"getScene",value:function(){return this.viewport.selectAll(".scene").data(this.getSceneData()).join("svg").attr("class","scene").attr("width","100%").attr("height","100%")}},{key:"initScene",value:function(){var t=this;this.viewport.append("style").text(this.pluginData.resources.style),this.scene=this.getScene(),this.scene.attr("version","1.1"),this.scene.attr("xmlns","http://www.w3.org/2000/svg"),this.scene.append("defs").html(Object.keys(this.pluginData.resources.markers).map((function(e){return t.pluginData.resources.markers[e]})).join(""));var e=this.pluginData.scene,n=e.x,r=e.y,i=e.zoom,o="translate(".concat(n," ").concat(r,") scale(").concat(i,")");this.scene.append("g").attr("class","components").attr("transform",o),this.scene.append("g").attr("class","links").attr("transform",o)}},{key:"draw",value:function(){if(this.scene=this.getScene(),this.componentRenderer.render("scene"),this.linkRenderer.render("scene"),this.readOnly){for(var t=this.viewport.node().getBoundingClientRect(),e=t.width,n=t.height,r=this.viewport.select(".scene .components").node().getBBox(),i=r.width,o=r.height,s=r.x,a=r.y,c=e/i<n/o?e/i:n/o,u=1;u>c;)u*=.9;this.scene.attr("viewBox","".concat(s-15," ").concat(a-15," ").concat(i+s+15," ").concat(o+a+15)),this.pluginData.scene.zoom=u}}},{key:"arrangeComponentsPosition",value:function(t,e){this.layout.generateComponentsLayout(t,e)}},{key:"resize",value:function(t){this.layout.resize(t)}},{key:"getSceneData",value:function(){var t=this;return[this.d3.hierarchy(oN({id:"scene",name:"",children:nN(this.pluginData.components.filter((function(t){return null===t.getContainerId()})))},this.pluginData.scene),(function(e){return"scene"===e.id?e.children:t.pluginData.getChildren(e.id)}))]}},{key:"dropComponent",value:function(t,e){var n=e.target.closest(".component");if(t.drawOption.width=t.definition.width,t.drawOption.height=t.definition.height,!n){var r=this.viewport.select(".scene").node().getBoundingClientRect(),i=r.x,o=r.y;return t.drawOption.x=(e.clientX-i-this.pluginData.scene.x)/this.pluginData.scene.zoom-t.definition.defaultWidth/2,void(t.drawOption.y=(e.clientY-o-this.pluginData.scene.y)/this.pluginData.scene.zoom-t.definition.defaultHeight/2)}if(n.canContain(t.definition.type)){var s=this.viewport.select(".".concat(t.id,".container")).node().getBoundingClientRect(),a=s.x,c=s.y;t.drawOption.x=(e.clientX-a-this.pluginData.scene.x)/this.pluginData.scene.zoom-t.definition.defaultWidth/2,t.drawOption.y=(e.clientY-c-this.pluginData.scene.y)/this.pluginData.scene.zoom-t.definition.defaultHeight/2}}},{key:"exportSvg",value:function(t){return this.viewport.selectAll(".scene > g").attr("transform",""),document.querySelector("#".concat(t," .scene")).outerHTML}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uN(r.key),r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();const hN=lN;function fN(t){return fN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fN(t)}function pN(t){var e=function(t){if("object"!=fN(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=fN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fN(e)?e:e+""}var dN=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pluginData=e||null},(e=[{key:"validate",value:function(){return!0}},{key:"parse",value:function(t){this.pluginData.definitions={components:[],links:[]}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pN(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const mN=dN;function yN(t){return yN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yN(t)}function gN(t){var e=function(t){if("object"!=yN(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=yN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==yN(e)?e:e+""}var vN=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pluginData=e||null},e=[{key:"parse",value:function(t){this.pluginData.components=[],this.pluginData.parseErrors=[]}},{key:"getModels",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){return t.path}))}},{key:"parseConfiguration",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.pluginData.emitEvent({parent:r,type:"Parser",action:"read",status:"running",files:[e.path],data:{global:!1}});if(null!=e.content){var o=JSON.parse(e.content);o[t.path]?o[t.path][this.pluginData.name]?(Object.keys(o[t.path][this.pluginData.name]).forEach((function(e){var r=n.pluginData.getComponentByConfigurationKey(e);r&&o[t.path][n.pluginData.name][e]&&(r.drawOption=new g(o[t.path][n.pluginData.name][e]))})),this.pluginData.emitEvent({id:i,status:"success"})):this.pluginData.emitEvent({id:i,status:"warning",data:{code:"no_plugin_content",global:!1}}):this.pluginData.emitEvent({id:i,status:"warning",data:{code:"no_diagram_content",global:!1}})}else this.pluginData.emitEvent({id:i,status:"warning",data:{code:"no_content",global:!1}})}},{key:"isParsable",value:function(t){return null!=t}}],e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gN(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const bN=vN;function _N(t){return _N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_N(t)}function wN(t){var e=function(t){if("object"!=_N(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=_N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_N(e)?e:e+""}var xN=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pluginData=e||null},e=[{key:"render",value:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,e){return t[e.path]="",t}),{});return this.renderFiles(t).forEach((function(t){e[t.path]=t.content})),Object.keys(e).map((function(t){return new $({path:t,content:e[t]})}))}},{key:"renderFiles",value:function(){return[]}},{key:"renderConfiguration",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.pluginData.emitEvent({parent:r,type:"Render",action:"write",status:"running",files:[e.path],data:{global:!1}}),o=JSON.parse(e.content)||{};o[t.path]||(o[t.path]={}),o[t.path][this.pluginData.name]={},this.pluginData.components.filter((function(t){return t.drawOption})).forEach((function(e){var r=e.getConfigurationKey();o[t.path][n.pluginData.name][r]=e.drawOption})),e.content=JSON.stringify(o,(function(t,e){return null===e?void 0:e}),2),this.pluginData.emitEvent({id:i,status:"success"})}}],e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wN(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const kN=xN;var TN=function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,parentId:null,files:null,components:null,links:null,type:null,action:null,status:null,data:null};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.id,r=e.parentId,i=e.files,o=e.components,s=e.links,a=e.type,c=e.action,u=e.status,l=e.data;this.id=n||null,this.parentId=r||null,this.startDate=null,this.endDate=null,this.files=i||null,this.components=o||null,this.links=s||null,this.type=a||null,this.action=c||null,this.status=u||null,this.data=l||null}));const SN=TN;function EN(t){return EN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EN(t)}function AN(t,e,n){return e=NN(e),function(t,e){if(e&&("object"==EN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ON()?Reflect.construct(e,n||[],NN(t).constructor):e.apply(t,n))}function ON(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ON=function(){return!!t})()}function NN(t){return NN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},NN(t)}function CN(t,e){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},CN(t,e)}var LN=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{anchorName:null};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=AN(this,e,[n])).anchorName=n.anchorName||null,t.endX=null,t.endY=null,t.isTemporary=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CN(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(U);const RN=LN;function PN(t){return PN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PN(t)}function IN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function DN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?MN(Object(n),!0).forEach((function(e){jN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jN(t,e,n){return(e=BN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BN(t){var e=function(t){if("object"!=PN(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=PN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==PN(e)?e:e+""}var FN=function(){return t=function t(e){var n,r,i,o,s,a,c,u,l,h,f,p,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:null,version:null,components:[],variables:[],definitions:{components:[],links:[]},parseLogs:[],resources:{},scene:{x:0,y:0,zoom:1,selection:[],selectionRef:null}},m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=d.name||null,this.version=d.version||null,this.components=d.components||[],this.scene={x:(null===(n=d.scene)||void 0===n?void 0:n.x)||0,y:(null===(r=d.scene)||void 0===r?void 0:r.y)||0,zoom:(null===(i=d.scene)||void 0===i?void 0:i.zoom)||1,selection:(null===(o=d.scene)||void 0===o?void 0:o.selection)||[],selectionRef:(null===(s=d.scene)||void 0===s?void 0:s.selectionRef)||null},this.variables=d.variables||[],this.definitions={components:(null===(a=d.definitions)||void 0===a?void 0:a.components)||[],links:(null===(c=d.definitions)||void 0===c?void 0:c.links)||[]},this.parseLogs=d.parseLogs||[],this.__eventIndex=0,this.eventManager=m,this.eventLogs=[],this.configuration=e,this.resources={icons:DN({},null===(u=d.resources)||void 0===u?void 0:u.icons),markers:DN({},null===(l=d.resources)||void 0===l?void 0:l.markers),links:DN({},null===(h=d.resources)||void 0===h?void 0:h.links),models:DN({},null===(f=d.resources)||void 0===f?void 0:f.models),style:(null===(p=d.resources)||void 0===p?void 0:p.style)||""},this.temporaryLink=null},e=[{key:"coreVersion",get:function(){return"0.28.0"}},{key:"getComponentById",value:function(t){return this.components.find((function(e){return e.id===t}))||null}},{key:"getComponentDepth",value:function(t){var e=this.getComponentById(t).getContainerId();return e?this.getComponentDepth(e)+1:0}},{key:"getComponentByConfigurationKey",value:function(t){return this.getComponentById(t)}},{key:"renameComponentExternalId",value:function(t,e){this.getComponentById(t).setExternalId(e)}},{key:"getComponentsByType",value:function(t){return this.components.filter((function(e){var n=e.definition;return n&&n.type===t}))}},{key:"addComponent",value:function(t,e){var n=this.generateComponentId();return this.components.push(new S({id:n,name:n,definition:t,path:e})),n}},{key:"generateComponentId",value:function(){var t=this.components.map((function(t){return t.id})).filter((function(t){return new RegExp("".concat("id_","\\d+")).test(t)})).map((function(t){return parseInt(t.substring(3),10)})),e=0===t.length?1:Math.max.apply(Math,function(t){return function(t){if(Array.isArray(t))return IN(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return IN(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IN(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t))+1;return"".concat("id_").concat(e)}},{key:"removeComponentById",value:function(t){var e=this;this.getChildren(t).forEach((function(t){return e.removeComponentById(t.id)})),this.components=this.components.filter((function(e){return e.id!==t})),this.components.forEach((function(e){e.removeLinkAttribute(t)}))}},{key:"removeLink",value:function(t){var e=t.source,n=t.target,r=t.definition.attributeRef;this.getComponentById(e).removeLinkAttribute(n,r)}},{key:"getLinks",value:function(){var t=this,e=[];return this.definitions.links.forEach((function(n){t.getComponentsByType(n.sourceRef).forEach((function(r){var i=r.getAttributeByName(n.attributeRef);i&&t.getLinkedComponentsIds(i).forEach((function(t){return e.push(new U({definition:n,source:r.id,target:t,isReverse:"Reverse"===i.definition.linkType}))}))}))})),this.temporaryLink&&e.push(this.temporaryLink),e.concat(this.getWorkflowLinks())}},{key:"getAttributeValue",value:function(t){return t.isVariable?this.getVariableValue(t.value):t.value}},{key:"getLinkedComponentsIds",value:function(t){var e=this.getAttributeValue(t);return null===e?[]:Array.isArray(e)?e:[e]}},{key:"getVariableValue",value:function(t){var e;return(null===(e=this.variables.find((function(e){return e.name===t})))||void 0===e?void 0:e.value)||null}},{key:"setVariableValue",value:function(t,e){var n=this.variables.find((function(e){return e.name===t}));n&&(n.value=e)}},{key:"getComponentIdFromValue",value:function(t){return t}},{key:"canHaveLink",value:function(t){return this.definitions.links.some((function(e){return e.sourceRef===t}))}},{key:"canBeLinked",value:function(t,e){return this.definitions.links.some((function(n){var r=n.sourceRef,i=n.targetRef;return r===t&&i===e}))}},{key:"createTemporaryLink",value:function(t,e){this.temporaryLink=new RN({anchorName:e,source:t,definition:this.definitions.links.find((function(t){return t.isTemporary}))})}},{key:"getWorkflowLinks",value:function(){var t=this;return this.components.filter((function(t){var e;return null===(e=t.definition.displayType)||void 0===e?void 0:e.match("workflow")})).reduce((function(e,n){var r=t.getChildren(n.id);if(r.length>1)for(var i=0;i<r.length-1;i+=1)e.push(new U({definition:new V({sourceRef:"__workflow",attributeRef:"__next",model:n.definition.linkModel}),source:r[i].id,target:r[i+1].id}));return e}),[])}},{key:"getUsedLinkDefinitions",value:function(){return this.getLinks().map((function(t){return t.definition})).reduce((function(t,e){return t.some((function(t){return t.attributeRef===e.attributeRef&&t.sourceRef===e.sourceRef&&t.targetRef===e.targetRef}))||t.push(e),t}),[])}},{key:"initLinkDefinitions",value:function(t){var e=this,n=this.emitEvent({parent:t,type:"Data",action:"init",status:"running"});this.definitions.links=[],this.definitions.components.forEach((function(t){var n=t.type,r=t.definedAttributes;e.__setLinkDefinitions(n,r)})),this.definitions.links.push(new V({isTemporary:!0,model:"temporaryLink"})),this.emitEvent({id:n,status:"success"})}},{key:"__setLinkDefinitions",value:function(t,e){var n=this;e.forEach((function(e){if("Link"===e.type){var r=new V({type:e.linkType,attributeRef:e.name,sourceRef:t,targetRef:e.linkRef,model:e.linkModel});n.definitions.links.push(r)}else"Object"===e.type&&n.__setLinkDefinitions(t,e.definedAttributes)}))}},{key:"getChildren",value:function(t){return this.components.filter((function(e){return e.getContainerId()===t}))}},{key:"__moveComponentToIndex",value:function(t,e){var n=this.components.findIndex((function(e){return e.id===t}));if(n!==e){var r=this.getComponentById(t),i=Math.max(0,e);i+=i>n,this.components.splice(i,0,r),this.components.splice(n+(i<n),1)}}},{key:"insertComponentBefore",value:function(t,e){var n=this.components.findIndex((function(t){return t.id===e}));-1!==n&&this.__moveComponentToIndex(t,Math.max(0,n-1))}},{key:"insertComponentAfter",value:function(t,e){var n=this.components.findIndex((function(e){return e.id===t})),r=this.components.findIndex((function(t){return t.id===e}));-1!==r&&this.__moveComponentToIndex(t,Math.min(this.components.length-1,r+(r<n)))}},{key:"getEventLogById",value:function(t){return this.eventLogs.findLast((function(e){return t===e.id}))}},{key:"deleteAllEventLogsBefore",value:function(t){this.eventLogs=this.eventLogs.filter((function(e){return e.endDate>t}))}},{key:"emitEvent",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.id;return r?(e=this.getEventLogById(r),Object.keys(n).forEach((function(t){e[t]=n[t]}))):(this.__eventIndex+=1,r=this.__eventIndex,(e=new SN(DN(DN({},n),{},{id:r}))).startDate=Date.now(),this.eventLogs.push(e)),["success","warning","error"].includes(e.status)&&(e.endDate=Date.now()),null!==(t=this.eventManager)&&void 0!==t&&t.next&&this.eventManager.next({plugin:this.name,event:DN({},e)}),r}}],e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BN(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const UN=FN;function zN(t){return zN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zN(t)}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function KN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VN(Object(n),!0).forEach((function(e){HN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function HN(t,e,n){return(e=qN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qN(t){var e=function(t){if("object"!=zN(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=zN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==zN(e)?e:e+""}var WN=function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e,n,r,i,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editor:{syntax:null},restrictiveFolder:null,defaultFileName:null,defaultFileExtension:null,tags:[],isFolderTypeDiagram:!0,extraResources:[],rootContainer:{margin:30,gap:50},container:{margin:30,gap:50},keysBinding:{},i18n:{}};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=KN({syntax:null},s.editor),this.restrictiveFolder=s.restrictiveFolder||null,this.defaultFileName=s.defaultFileName||null,this.defaultFileExtension=s.defaultFileExtension||null,this.tags=s.tags||[],this.isFolderTypeDiagram=null===(e=s.isFolderTypeDiagram)||void 0===e||e,this.extraResources=s.extraResources||[],this.rootContainer={margin:(null===(n=s.rootContainer)||void 0===n?void 0:n.margin)||30,gap:(null===(r=s.rootContainer)||void 0===r?void 0:r.gap)||50},this.container={margin:(null===(i=s.container)||void 0===i?void 0:i.margin)||30,gap:(null===(o=s.container)||void 0===o?void 0:o.gap)||50},this.keysBinding=KN({moveSceneUp:["ArrowUp"],moveSceneDown:["ArrowDown"],moveSceneLeft:["ArrowLeft"],moveSceneRight:["ArrowRight"],moveComponentUp:[],moveComponentDown:[],moveComponentLeft:[],moveComponentRight:[],zoomIn:["+"],zoomOut:["-"],deleteObject:["Delete"],editComponent:[",","?"],selection:["Shift"],selectAll:["A"],deselectAll:["D"]},s.keysBinding),this.i18n=s.i18n||{}}));const GN=WN;function YN(t){return YN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YN(t)}function $N(t){var e=function(t){if("object"!=YN(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=YN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==YN(e)?e:e+""}var XN=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{event:null,configuration:null,pluginData:null,pluginDrawer:null,pluginMetadata:null,pluginParser:null,pluginRenderer:null};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.configuration=e.configuration||new GN,this.data=e.pluginData||new UN(this.configuration,{},e.event),this.__drawer=e.pluginDrawer||new hN(this.data),this.__metadata=e.pluginMetadata||new mN(this.data),this.__parser=e.pluginParser||new bN(this.data),this.__renderer=e.pluginRenderer||new kN(this.data)},e=[{key:"init",value:function(){var t=this.data.emitEvent({type:"Plugin",action:"init",status:"running"});this.__metadata.parse(t),this.data.initLinkDefinitions(t),this.data.emitEvent({id:t,status:"success"})}},{key:"initResources",value:function(t){this.data.resources=t}},{key:"initDrawer",value:function(t,e){this.__drawer.init(t,e)}},{key:"draw",value:function(){this.__drawer.draw()}},{key:"parse",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.data.emitEvent({type:"Parser",action:"read",status:"running",files:n.map((function(t){return t.path})).concat(null==e?void 0:e.path),data:{global:!0}});this.__parser.parse(t,n,r),this.__parser.parseConfiguration(t,e,r),this.data.emitEvent({id:r,status:"success"})}},{key:"isParsable",value:function(t){return this.__parser.isParsable(t)}},{key:"getModels",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.__parser.getModels(e.filter((function(e){return t.isParsable(e)})))}},{key:"render",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.data.emitEvent({type:"Render",action:"write",status:"running",files:n.map((function(t){return t.path})).concat(e.path),data:{global:!0}});this.__renderer.renderConfiguration(t,e,r);var i=this.__renderer.render(n,r).concat(e);return this.data.emitEvent({id:r,status:"success"}),i}},{key:"arrangeComponentsPosition",value:function(t,e){this.__drawer.arrangeComponentsPosition(t,e)}},{key:"resize",value:function(t){this.__drawer.resize(t)}},{key:"exportSvg",value:function(t){this.__drawer.init(t,!0),this.draw();var e=this.__drawer.exportSvg(t);return this.__drawer.init(t,!1),this.draw(),e}},{key:"getComponentPosition",value:function(t,e){var n=e.x,r=e.y,i=this.__drawer.actions.zoom,o=i.scale,s=i.translate,a=document.querySelector("#".concat(t)).getBoundingClientRect(),c=a.left,u=a.top;return{x:(n-c-s.x)/o,y:(r-u-s.y)/o}}},{key:"addComponent",value:function(t,e,n,r){var i=this.data.addComponent(e,n),o=this.data.getComponentById(i);if(t){var s=this.data.getComponentById(t);o.setReferenceAttribute(s)}return r&&this.__drawer.dropComponent(o,r),i}}],e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$N(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const ZN=XN;var JN=function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,value:null};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.type,r=e.value;this.type=n||null,this.value=r||null}));const QN=JN;function tC(t){return tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tC(t)}function eC(t,e,n){return e=rC(e),function(t,e){if(e&&("object"==tC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,nC()?Reflect.construct(e,n||[],rC(t).constructor):e.apply(t,n))}function nC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nC=function(){return!!t})()}function rC(t){return rC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rC(t)}function iC(t,e){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iC(t,e)}var oC=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,type:null,value:null,category:null};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=eC(this,e,[n]);var r=n.name,i=n.type,o=n.value,s=n.category;return t.__class="Variable",t.name=r||null,t.type=i||null,t.value=o||null,t.category=s||null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iC(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(m);const sC=oC})();var o=e;for(var s in i)o[s]=i[s];i.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})()},326:function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){"use strict";var r=Array.prototype,i=Object.prototype,o={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},s=/[&"'<>\\]/g;function a(t,e){return i.hasOwnProperty.call(t,e)}function c(t){return o[t]}function u(t,e,n){var r,i,o;if(t instanceof Error&&(t=(i=t).name+": "+i.message),Object.setPrototypeOf?(r=new Error(t),Object.setPrototypeOf(r,u.prototype)):(r=this,Object.defineProperty(r,"message",{enumerable:!1,writable:!0,value:t})),Object.defineProperty(r,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(r,this.constructor),i){var s=Object.getOwnPropertyDescriptor(i,"stack");(o=s&&(s.get||function(){return s.value}))||(o=function(){return i.stack})}else{var a=new Error(t).stack;o=function(){return a}}return Object.defineProperty(r,"stack",{get:function(){return o.call(r)}}),Object.defineProperty(r,"cause",{value:i}),r.lineno=e,r.colno=n,r.firstUpdate=!0,r.Update=function(t){var e="("+(t||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?e+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(e+=" [Line "+this.lineno+"]")),e+="\n ",this.firstUpdate&&(e+=" "),this.message=e+(this.message||""),this.firstUpdate=!1,this},r}function l(t){return"[object Function]"===i.toString.call(t)}function h(t){return"[object Array]"===i.toString.call(t)}function f(t){return"[object String]"===i.toString.call(t)}function p(t){return"[object Object]"===i.toString.call(t)}function d(t){var e,n=(e=t)?"string"==typeof e?e.split("."):[e]:[];return function(t){for(var e=t,r=0;r<n.length;r++){var i=n[r];if(!a(e,i))return;e=e[i]}return e}}function m(t){return Array.prototype.slice.call(t)}function y(t,e,n){return Array.prototype.indexOf.call(t||[],e,n)}function g(t){var e=[];for(var n in t)a(t,n)&&e.push(n);return e}(e=t.exports={}).hasOwnProp=a,e._prettifyError=function(t,n,r){if(r.Update||(r=new e.TemplateError(r)),r.Update(t),!n){var i=r;(r=new Error(i.message)).name=i.name}return r},Object.setPrototypeOf?Object.setPrototypeOf(u.prototype,Error.prototype):u.prototype=Object.create(Error.prototype,{constructor:{value:u}}),e.TemplateError=u,e.escape=function(t){return t.replace(s,c)},e.isFunction=l,e.isArray=h,e.isString=f,e.isObject=p,e.getAttrGetter=d,e.groupBy=function(t,e,n){for(var r={},i=l(e)?e:d(e),o=0;o<t.length;o++){var s=t[o],a=i(s,o);if(void 0===a&&!0===n)throw new TypeError('groupby: attribute "'+e+'" resolved to undefined');(r[a]||(r[a]=[])).push(s)}return r},e.toArray=m,e.without=function(t){var e=[];if(!t)return e;for(var n=t.length,r=m(arguments).slice(1),i=-1;++i<n;)-1===y(r,t[i])&&e.push(t[i]);return e},e.repeat=function(t,e){for(var n="",r=0;r<e;r++)n+=t;return n},e.each=function(t,e,n){if(null!=t)if(r.forEach&&t.forEach===r.forEach)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)},e.map=function(t,e){var n=[];if(null==t)return n;if(r.map&&t.map===r.map)return t.map(e);for(var i=0;i<t.length;i++)n[n.length]=e(t[i],i);return t.length===+t.length&&(n.length=t.length),n},e.asyncIter=function(t,e,n){var r=-1;!function i(){++r<t.length?e(t[r],r,i,n):n()}()},e.asyncFor=function(t,e,n){var r=g(t||{}),i=r.length,o=-1;!function s(){o++;var a=r[o];o<i?e(a,t[a],o,i,s):n()}()},e.indexOf=y,e.keys=g,e._entries=function(t){return g(t).map((function(e){return[e,t[e]]}))},e._values=function(t){return g(t).map((function(e){return t[e]}))},e._assign=e.extend=function(t,e){return t=t||{},g(e).forEach((function(n){t[n]=e[n]})),t},e.inOperator=function(t,e){if(h(e)||f(e))return-1!==e.indexOf(t);if(p(e))return t in e;throw new Error('Cannot use "in" operator to search for "'+t+'" in unexpected types.')}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,"symbol"==typeof(i=function(t){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key))?i:String(i)),r)}var i}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var a=n(16),c=n(0);function u(t,e,n){n=n||{},c.keys(n).forEach((function(e){var r,i;n[e]=(r=t.prototype[e],i=n[e],"function"!=typeof r||"function"!=typeof i?i:function(){var t=this.parent;this.parent=r;var e=i.apply(this,arguments);return this.parent=t,e})}));var r=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),i(n,[{key:"typename",get:function(){return e}}]),n}(t);return c._assign(r.prototype,n),r}var l=function(){function t(){this.init.apply(this,arguments)}return t.prototype.init=function(){},t.extend=function(t,e){return"object"==typeof t&&(e=t,t="anonymous"),u(this,t,e)},i(t,[{key:"typename",get:function(){return this.constructor.name}}]),t}(),h=function(t){function e(){var e,n;return(e=n=t.call(this)||this).init.apply(e,arguments),n}return o(e,t),e.prototype.init=function(){},e.extend=function(t,e){return"object"==typeof t&&(e=t,t="anonymous"),u(this,t,e)},i(e,[{key:"typename",get:function(){return this.constructor.name}}]),e}(a);t.exports={Obj:l,EmitterObj:h}},function(t,e,n){"use strict";var r=n(0),i=Array.from,o="function"==typeof Symbol&&Symbol.iterator&&"function"==typeof i,s=function(){function t(t,e){this.variables=Object.create(null),this.parent=t,this.topLevel=!1,this.isolateWrites=e}var e=t.prototype;return e.set=function(t,e,n){var r=t.split("."),i=this.variables,o=this;if(n&&(o=this.resolve(r[0],!0)))o.set(t,e);else{for(var s=0;s<r.length-1;s++){var a=r[s];i[a]||(i[a]={}),i=i[a]}i[r[r.length-1]]=e}},e.get=function(t){var e=this.variables[t];return void 0!==e?e:null},e.lookup=function(t){var e=this.parent,n=this.variables[t];return void 0!==n?n:e&&e.lookup(t)},e.resolve=function(t,e){var n=e&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[t]?this:n&&n.resolve(t)},e.push=function(e){return new t(this,e)},e.pop=function(){return this.parent},t}();function a(t){return t&&Object.prototype.hasOwnProperty.call(t,"__keywords")}function c(t){var e=t.length;return 0===e?0:a(t[e-1])?e-1:e}function u(t){if("string"!=typeof t)return t;this.val=t,this.length=t.length}u.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),u.prototype.valueOf=function(){return this.val},u.prototype.toString=function(){return this.val},t.exports={Frame:s,makeMacro:function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s,u=c(i),l=function(t){var e=t.length;if(e){var n=t[e-1];if(a(n))return n}return{}}(i);if(u>t.length)s=i.slice(0,t.length),i.slice(s.length,u).forEach((function(t,n){n<e.length&&(l[e[n]]=t)})),s.push(l);else if(u<t.length){s=i.slice(0,u);for(var h=u;h<t.length;h++){var f=t[h];s.push(l[f]),delete l[f]}s.push(l)}else s=i;return n.apply(this,s)}},makeKeywordArgs:function(t){return t.__keywords=!0,t},numArgs:c,suppressValue:function(t,e){return t=null!=t?t:"",!e||t instanceof u||(t=r.escape(t.toString())),t},ensureDefined:function(t,e,n){if(null==t)throw new r.TemplateError("attempted to output null or undefined value",e+1,n+1);return t},memberLookup:function(t,e){if(null!=t)return"function"==typeof t[e]?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t[e].apply(t,r)}:t[e]},contextOrFrameLookup:function(t,e,n){var r=e.lookup(n);return void 0!==r?r:t.lookup(n)},callWrap:function(t,e,n,r){if(!t)throw new Error("Unable to call `"+e+"`, which is undefined or falsey");if("function"!=typeof t)throw new Error("Unable to call `"+e+"`, which is not a function");return t.apply(n,r)},handleError:function(t,e,n){return t.lineno?t:new r.TemplateError(t,e,n)},isArray:r.isArray,keys:r.keys,SafeString:u,copySafeness:function(t,e){return t instanceof u?new u(e):e.toString()},markSafe:function(t){var e=typeof t;return"string"===e?new u(t):"function"!==e?t:function(e){var n=t.apply(this,arguments);return"string"==typeof n?new u(n):n}},asyncEach:function(t,e,n,i){if(r.isArray(t)){var o=t.length;r.asyncIter(t,(function(t,r,i){switch(e){case 1:n(t,r,o,i);break;case 2:n(t[0],t[1],r,o,i);break;case 3:n(t[0],t[1],t[2],r,o,i);break;default:t.push(r,o,i),n.apply(this,t)}}),i)}else r.asyncFor(t,(function(t,e,r,i,o){n(t,e,r,i,o)}),i)},asyncAll:function(t,e,n,i){var o,s,a=0;function c(t,e){a++,s[t]=e,a===o&&i(null,s.join(""))}if(r.isArray(t))if(o=t.length,s=new Array(o),0===o)i(null,"");else for(var u=0;u<t.length;u++){var l=t[u];switch(e){case 1:n(l,u,o,c);break;case 2:n(l[0],l[1],u,o,c);break;case 3:n(l[0],l[1],l[2],u,o,c);break;default:l.push(u,o,c),n.apply(this,l)}}else{var h=r.keys(t||{});if(o=h.length,s=new Array(o),0===o)i(null,"");else for(var f=0;f<h.length;f++){var p=h[f];n(p,t[p],f,o,c)}}},inOperator:r.inOperator,fromIterator:function(t){return"object"!=typeof t||null===t||r.isArray(t)?t:o&&Symbol.iterator in t?i(t):t}}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,"symbol"==typeof(i=function(t){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key))?i:String(i)),r)}var i}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(t,e,n){t instanceof e&&n.push(t),t instanceof c&&t.findAll(e,n)}var c=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.init=function(t,e){for(var n=arguments,r=this,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];this.lineno=t,this.colno=e,this.fields.forEach((function(t,e){var i=n[e+2];void 0===i&&(i=null),r[t]=i}))},n.findAll=function(t,e){var n=this;return e=e||[],this instanceof l?this.children.forEach((function(n){return a(n,t,e)})):this.fields.forEach((function(r){return a(n[r],t,e)})),e},n.iterFields=function(t){var e=this;this.fields.forEach((function(n){t(e[n],n)}))},e}(n(1).Obj),u=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),i(e,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),e}(c),l=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.init=function(e,n,r){t.prototype.init.call(this,e,n,r||[])},n.addChild=function(t){this.children.push(t)},i(e,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),e}(c),h=l.extend("Root"),f=u.extend("Literal"),p=u.extend("Symbol"),d=l.extend("Group"),m=l.extend("Array"),y=c.extend("Pair",{fields:["key","value"]}),g=l.extend("Dict"),v=c.extend("LookupVal",{fields:["target","val"]}),b=c.extend("If",{fields:["cond","body","else_"]}),_=b.extend("IfAsync"),w=c.extend("InlineIf",{fields:["cond","body","else_"]}),x=c.extend("For",{fields:["arr","name","body","else_"]}),k=x.extend("AsyncEach"),T=x.extend("AsyncAll"),S=c.extend("Macro",{fields:["name","args","body"]}),E=S.extend("Caller"),A=c.extend("Import",{fields:["template","target","withContext"]}),O=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(e,n,r,i,o){t.prototype.init.call(this,e,n,r,i||new l,o)},i(e,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),e}(c),N=c.extend("FunCall",{fields:["name","args"]}),C=N.extend("Filter"),L=C.extend("FilterAsync",{fields:["name","args","symbol"]}),R=g.extend("KeywordArgs"),P=c.extend("Block",{fields:["name","body"]}),I=c.extend("Super",{fields:["blockName","symbol"]}),M=c.extend("TemplateRef",{fields:["template"]}).extend("Extends"),D=c.extend("Include",{fields:["template","ignoreMissing"]}),j=c.extend("Set",{fields:["targets","value"]}),B=c.extend("Switch",{fields:["expr","cases","default"]}),F=c.extend("Case",{fields:["cond","body"]}),U=l.extend("Output"),z=c.extend("Capture",{fields:["body"]}),V=f.extend("TemplateData"),K=c.extend("UnaryOp",{fields:["target"]}),H=c.extend("BinOp",{fields:["left","right"]}),q=H.extend("In"),W=H.extend("Is"),G=H.extend("Or"),Y=H.extend("And"),$=K.extend("Not"),X=H.extend("Add"),Z=H.extend("Concat"),J=H.extend("Sub"),Q=H.extend("Mul"),tt=H.extend("Div"),et=H.extend("FloorDiv"),nt=H.extend("Mod"),rt=H.extend("Pow"),it=K.extend("Neg"),ot=K.extend("Pos"),st=c.extend("Compare",{fields:["expr","ops"]}),at=c.extend("CompareOperand",{fields:["expr","type"]}),ct=c.extend("CallExtension",{init:function(t,e,n,r){this.parent(),this.extName=t.__name||t,this.prop=e,this.args=n||new l,this.contentArgs=r||[],this.autoescape=t.autoescape},fields:["extName","prop","args","contentArgs"]}),ut=ct.extend("CallExtensionAsync");function lt(t,e,n){var r=t.split("\n");r.forEach((function(t,i){t&&(n&&i>0||!n)&&process.stdout.write(" ".repeat(e));var o=i===r.length-1?"":"\n";process.stdout.write(""+t+o)}))}t.exports={Node:c,Root:h,NodeList:l,Value:u,Literal:f,Symbol:p,Group:d,Array:m,Pair:y,Dict:g,Output:U,Capture:z,TemplateData:V,If:b,IfAsync:_,InlineIf:w,For:x,AsyncEach:k,AsyncAll:T,Macro:S,Caller:E,Import:A,FromImport:O,FunCall:N,Filter:C,FilterAsync:L,KeywordArgs:R,Block:P,Super:I,Extends:M,Include:D,Set:j,Switch:B,Case:F,LookupVal:v,BinOp:H,In:q,Is:W,Or:G,And:Y,Not:$,Add:X,Concat:Z,Sub:J,Mul:Q,Div:tt,FloorDiv:et,Mod:nt,Pow:rt,Neg:it,Pos:ot,Compare:st,CompareOperand:at,CallExtension:ct,CallExtensionAsync:ut,printNodes:function t(e,n){if(n=n||0,lt(e.typename+": ",n),e instanceof l)lt("\n"),e.children.forEach((function(e){t(e,n+2)}));else if(e instanceof ct)lt(e.extName+"."+e.prop+"\n"),e.args&&t(e.args,n+2),e.contentArgs&&e.contentArgs.forEach((function(e){t(e,n+2)}));else{var r=[],i=null;e.iterFields((function(t,e){t instanceof c?r.push([e,t]):(i=i||{})[e]=t})),i?lt(JSON.stringify(i,null,2)+"\n",null,!0):lt("\n"),r.forEach((function(e){var r=e[0],i=e[1];lt("["+r+"] =>",n+2),t(i,n+4)}))}}}},function(t,e){},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(8),o=n(17),s=n(3),a=n(0).TemplateError,c=n(2).Frame,u=n(1).Obj,l={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},h=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var o=i.prototype;return o.init=function(t,e){this.templateName=t,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=e},o.fail=function(t,e,n){throw void 0!==e&&(e+=1),void 0!==n&&(n+=1),new a(t,e,n)},o._pushBuffer=function(){var t=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=t,this._emit("var "+this.buffer+' = "";'),t},o._popBuffer=function(){this.buffer=this.bufferStack.pop()},o._emit=function(t){this.codebuf.push(t)},o._emitLine=function(t){this._emit(t+"\n")},o._emitLines=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e){return t._emitLine(e)}))},o._emitFuncBegin=function(t,e){this.buffer="output",this._scopeClosers="",this._emitLine("function "+e+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+t.lineno+";"),this._emitLine("var colno = "+t.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},o._emitFuncEnd=function(t){t||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},o._addScopeLevel=function(){this._scopeClosers+="})"},o._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},o._withScopedSyntax=function(t){var e=this._scopeClosers;this._scopeClosers="",t.call(this),this._closeScopeLevels(),this._scopeClosers=e},o._makeCallback=function(t){var e=this._tmpid();return"function("+e+(t?","+t:"")+") {\nif("+e+") { cb("+e+"); return; }"},o._tmpid=function(){return this.lastId++,"t_"+this.lastId},o._templateName=function(){return null==this.templateName?"undefined":JSON.stringify(this.templateName)},o._compileChildren=function(t,e){var n=this;t.children.forEach((function(t){n.compile(t,e)}))},o._compileAggregate=function(t,e,n,r){var i=this;n&&this._emit(n),t.children.forEach((function(t,n){n>0&&i._emit(","),i.compile(t,e)})),r&&this._emit(r)},o._compileExpression=function(t,e){this.assertType(t,s.Literal,s.Symbol,s.Group,s.Array,s.Dict,s.FunCall,s.Caller,s.Filter,s.LookupVal,s.Compare,s.InlineIf,s.In,s.Is,s.And,s.Or,s.Not,s.Add,s.Concat,s.Sub,s.Mul,s.Div,s.FloorDiv,s.Mod,s.Pow,s.Neg,s.Pos,s.Compare,s.NodeList),this.compile(t,e)},o.assertType=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.some((function(e){return t instanceof e}))||this.fail("assertType: invalid type: "+t.typename,t.lineno,t.colno)},o.compileCallExtension=function(t,e,n){var r=this,i=t.args,o=t.contentArgs,a="boolean"!=typeof t.autoescape||t.autoescape;if(n||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+t.extName+'")["'+t.prop+'"]('),this._emit("context"),(i||o)&&this._emit(","),i&&(i instanceof s.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),i.children.forEach((function(t,n){r._compileExpression(t,e),(n!==i.children.length-1||o.length)&&r._emit(",")}))),o.length&&o.forEach((function(t,n){if(n>0&&r._emit(","),t){r._emitLine("function(cb) {"),r._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var i=r._pushBuffer();r._withScopedSyntax((function(){r.compile(t,e),r._emitLine("cb(null, "+i+");")})),r._popBuffer(),r._emitLine("return "+i+";"),r._emitLine("}")}else r._emit("null")})),n){var c=this._tmpid();this._emitLine(", "+this._makeCallback(c)),this._emitLine(this.buffer+" += runtime.suppressValue("+c+", "+a+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+a+" && env.opts.autoescape);\n")},o.compileCallExtensionAsync=function(t,e){this.compileCallExtension(t,e,!0)},o.compileNodeList=function(t,e){this._compileChildren(t,e)},o.compileLiteral=function(t){if("string"==typeof t.value){var e=t.value.replace(/\\/g,"\\\\");e=(e=(e=(e=(e=e.replace(/"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t")).replace(/\u2028/g,"\\u2028"),this._emit('"'+e+'"')}else null===t.value?this._emit("null"):this._emit(t.value.toString())},o.compileSymbol=function(t,e){var n=t.value,r=e.lookup(n);r?this._emit(r):this._emit('runtime.contextOrFrameLookup(context, frame, "'+n+'")')},o.compileGroup=function(t,e){this._compileAggregate(t,e,"(",")")},o.compileArray=function(t,e){this._compileAggregate(t,e,"[","]")},o.compileDict=function(t,e){this._compileAggregate(t,e,"{","}")},o.compilePair=function(t,e){var n=t.key,r=t.value;n instanceof s.Symbol?n=new s.Literal(n.lineno,n.colno,n.value):n instanceof s.Literal&&"string"==typeof n.value||this.fail("compilePair: Dict keys must be strings or names",n.lineno,n.colno),this.compile(n,e),this._emit(": "),this._compileExpression(r,e)},o.compileInlineIf=function(t,e){this._emit("("),this.compile(t.cond,e),this._emit("?"),this.compile(t.body,e),this._emit(":"),null!==t.else_?this.compile(t.else_,e):this._emit('""'),this._emit(")")},o.compileIn=function(t,e){this._emit("runtime.inOperator("),this.compile(t.left,e),this._emit(","),this.compile(t.right,e),this._emit(")")},o.compileIs=function(t,e){var n=t.right.name?t.right.name.value:t.right.value;this._emit('env.getTest("'+n+'").call(context, '),this.compile(t.left,e),t.right.args&&(this._emit(","),this.compile(t.right.args,e)),this._emit(") === true")},o._binOpEmitter=function(t,e,n){this.compile(t.left,e),this._emit(n),this.compile(t.right,e)},o.compileOr=function(t,e){return this._binOpEmitter(t,e," || ")},o.compileAnd=function(t,e){return this._binOpEmitter(t,e," && ")},o.compileAdd=function(t,e){return this._binOpEmitter(t,e," + ")},o.compileConcat=function(t,e){return this._binOpEmitter(t,e,' + "" + ')},o.compileSub=function(t,e){return this._binOpEmitter(t,e," - ")},o.compileMul=function(t,e){return this._binOpEmitter(t,e," * ")},o.compileDiv=function(t,e){return this._binOpEmitter(t,e," / ")},o.compileMod=function(t,e){return this._binOpEmitter(t,e," % ")},o.compileNot=function(t,e){this._emit("!"),this.compile(t.target,e)},o.compileFloorDiv=function(t,e){this._emit("Math.floor("),this.compile(t.left,e),this._emit(" / "),this.compile(t.right,e),this._emit(")")},o.compilePow=function(t,e){this._emit("Math.pow("),this.compile(t.left,e),this._emit(", "),this.compile(t.right,e),this._emit(")")},o.compileNeg=function(t,e){this._emit("-"),this.compile(t.target,e)},o.compilePos=function(t,e){this._emit("+"),this.compile(t.target,e)},o.compileCompare=function(t,e){var n=this;this.compile(t.expr,e),t.ops.forEach((function(t){n._emit(" "+l[t.type]+" "),n.compile(t.expr,e)}))},o.compileLookupVal=function(t,e){this._emit("runtime.memberLookup(("),this._compileExpression(t.target,e),this._emit("),"),this._compileExpression(t.val,e),this._emit(")")},o._getNodeName=function(t){switch(t.typename){case"Symbol":return t.value;case"FunCall":return"the return value of ("+this._getNodeName(t.name)+")";case"LookupVal":return this._getNodeName(t.target)+'["'+this._getNodeName(t.val)+'"]';case"Literal":return t.value.toString();default:return"--expression--"}},o.compileFunCall=function(t,e){this._emit("(lineno = "+t.lineno+", colno = "+t.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(t.name,e),this._emit(', "'+this._getNodeName(t.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(t.args,e,"[","])"),this._emit(")")},o.compileFilter=function(t,e){var n=t.name;this.assertType(n,s.Symbol),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(t.args,e),this._emit(")")},o.compileFilterAsync=function(t,e){var n=t.name,r=t.symbol.value;this.assertType(n,s.Symbol),e.set(r,r),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(t.args,e),this._emitLine(", "+this._makeCallback(r)),this._addScopeLevel()},o.compileKeywordArgs=function(t,e){this._emit("runtime.makeKeywordArgs("),this.compileDict(t,e),this._emit(")")},o.compileSet=function(t,e){var n=this,r=[];t.targets.forEach((function(t){var i=t.value,o=e.lookup(i);null==o&&(o=n._tmpid(),n._emitLine("var "+o+";")),r.push(o)})),t.value?(this._emit(r.join(" = ")+" = "),this._compileExpression(t.value,e),this._emitLine(";")):(this._emit(r.join(" = ")+" = "),this.compile(t.body,e),this._emitLine(";")),t.targets.forEach((function(t,e){var i=r[e],o=t.value;n._emitLine('frame.set("'+o+'", '+i+", true);"),n._emitLine("if(frame.topLevel) {"),n._emitLine('context.setVariable("'+o+'", '+i+");"),n._emitLine("}"),"_"!==o.charAt(0)&&(n._emitLine("if(frame.topLevel) {"),n._emitLine('context.addExport("'+o+'", '+i+");"),n._emitLine("}"))}))},o.compileSwitch=function(t,e){var n=this;this._emit("switch ("),this.compile(t.expr,e),this._emit(") {"),t.cases.forEach((function(t,r){n._emit("case "),n.compile(t.cond,e),n._emit(": "),n.compile(t.body,e),t.body.children.length&&n._emitLine("break;")})),t.default&&(this._emit("default:"),this.compile(t.default,e)),this._emit("}")},o.compileIf=function(t,e,n){var r=this;this._emit("if("),this._compileExpression(t.cond,e),this._emitLine(") {"),this._withScopedSyntax((function(){r.compile(t.body,e),n&&r._emit("cb()")})),t.else_?(this._emitLine("}\nelse {"),this._withScopedSyntax((function(){r.compile(t.else_,e),n&&r._emit("cb()")}))):n&&(this._emitLine("}\nelse {"),this._emit("cb()")),this._emitLine("}")},o.compileIfAsync=function(t,e){this._emit("(function(cb) {"),this.compileIf(t,e,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},o._emitLoopBindings=function(t,e,n,r){var i=this;[{name:"index",val:n+" + 1"},{name:"index0",val:n},{name:"revindex",val:r+" - "+n},{name:"revindex0",val:r+" - "+n+" - 1"},{name:"first",val:n+" === 0"},{name:"last",val:n+" === "+r+" - 1"},{name:"length",val:r}].forEach((function(t){i._emitLine('frame.set("loop.'+t.name+'", '+t.val+");")}))},o.compileFor=function(t,e){var n=this,r=this._tmpid(),i=this._tmpid(),o=this._tmpid();if(e=e.push(),this._emitLine("frame = frame.push();"),this._emit("var "+o+" = "),this._compileExpression(t.arr,e),this._emitLine(";"),this._emit("if("+o+") {"),this._emitLine(o+" = runtime.fromIterator("+o+");"),t.name instanceof s.Array){this._emitLine("var "+r+";"),this._emitLine("if(runtime.isArray("+o+")) {"),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for("+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),t.name.children.forEach((function(i,s){var a=n._tmpid();n._emitLine("var "+a+" = "+o+"["+r+"]["+s+"];"),n._emitLine('frame.set("'+i+'", '+o+"["+r+"]["+s+"]);"),e.set(t.name.children[s].value,a)})),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}"),this._emitLine("} else {");var a=t.name.children,c=a[0],u=a[1],l=this._tmpid(),h=this._tmpid();e.set(c.value,l),e.set(u.value,h),this._emitLine(r+" = -1;"),this._emitLine("var "+i+" = runtime.keys("+o+").length;"),this._emitLine("for(var "+l+" in "+o+") {"),this._emitLine(r+"++;"),this._emitLine("var "+h+" = "+o+"["+l+"];"),this._emitLine('frame.set("'+c.value+'", '+l+");"),this._emitLine('frame.set("'+u.value+'", '+h+");"),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}"),this._emitLine("}")}else{var f=this._tmpid();e.set(t.name.value,f),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for(var "+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),this._emitLine("var "+f+" = "+o+"["+r+"];"),this._emitLine('frame.set("'+t.name.value+'", '+f+");"),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}")}this._emitLine("}"),t.else_&&(this._emitLine("if (!"+i+") {"),this.compile(t.else_,e),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o._compileAsyncLoop=function(t,e,n){var r=this,i=this._tmpid(),o=this._tmpid(),a=this._tmpid(),c=n?"asyncAll":"asyncEach";if(e=e.push(),this._emitLine("frame = frame.push();"),this._emit("var "+a+" = runtime.fromIterator("),this._compileExpression(t.arr,e),this._emitLine(");"),t.name instanceof s.Array){var u=t.name.children.length;this._emit("runtime."+c+"("+a+", "+u+", function("),t.name.children.forEach((function(t){r._emit(t.value+",")})),this._emit(i+","+o+",next) {"),t.name.children.forEach((function(t){var n=t.value;e.set(n,n),r._emitLine('frame.set("'+n+'", '+n+");")}))}else{var l=t.name.value;this._emitLine("runtime."+c+"("+a+", 1, function("+l+", "+i+", "+o+",next) {"),this._emitLine('frame.set("'+l+'", '+l+");"),e.set(l,l)}this._emitLoopBindings(t,a,i,o),this._withScopedSyntax((function(){var o;n&&(o=r._pushBuffer()),r.compile(t.body,e),r._emitLine("next("+i+(o?","+o:"")+");"),n&&r._popBuffer()}));var h=this._tmpid();this._emitLine("}, "+this._makeCallback(h)),this._addScopeLevel(),n&&this._emitLine(this.buffer+" += "+h+";"),t.else_&&(this._emitLine("if (!"+a+".length) {"),this.compile(t.else_,e),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o.compileAsyncEach=function(t,e){this._compileAsyncLoop(t,e)},o.compileAsyncAll=function(t,e){this._compileAsyncLoop(t,e,!0)},o._compileMacro=function(t,e){var n=this,r=[],i=null,o="macro_"+this._tmpid(),a=void 0!==e;t.args.children.forEach((function(e,o){o===t.args.children.length-1&&e instanceof s.Dict?i=e:(n.assertType(e,s.Symbol),r.push(e))}));var u,l=[].concat(r.map((function(t){return"l_"+t.value})),["kwargs"]),h=r.map((function(t){return'"'+t.value+'"'})),f=(i&&i.children||[]).map((function(t){return'"'+t.key.value+'"'}));u=a?e.push(!0):new c,this._emitLines("var "+o+" = runtime.makeMacro(","["+h.join(", ")+"], ","["+f.join(", ")+"], ","function ("+l.join(", ")+") {","var callerFrame = frame;","frame = "+(a?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),r.forEach((function(t){n._emitLine('frame.set("'+t.value+'", l_'+t.value+");"),u.set(t.value,"l_"+t.value)})),i&&i.children.forEach((function(t){var e=t.key.value;n._emit('frame.set("'+e+'", '),n._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+e+'")'),n._emit(' ? kwargs["'+e+'"] : '),n._compileExpression(t.value,u),n._emit(");")}));var p=this._pushBuffer();return this._withScopedSyntax((function(){n.compile(t.body,u)})),this._emitLine("frame = "+(a?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+p+");"),this._emitLine("});"),this._popBuffer(),o},o.compileMacro=function(t,e){var n=this._compileMacro(t),r=t.name.value;e.set(r,n),e.parent?this._emitLine('frame.set("'+r+'", '+n+");"):("_"!==t.name.value.charAt(0)&&this._emitLine('context.addExport("'+r+'");'),this._emitLine('context.setVariable("'+r+'", '+n+");"))},o.compileCaller=function(t,e){this._emit("(function (){");var n=this._compileMacro(t,e);this._emit("return "+n+";})()")},o._compileGetTemplate=function(t,e,n,r){var i=this._tmpid(),o=this._templateName(),s=this._makeCallback(i),a=n?"true":"false",c=r?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(t.template,e),this._emitLine(", "+a+", "+o+", "+c+", "+s),i},o.compileImport=function(t,e){var n=t.target.value,r=this._compileGetTemplate(t,e,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),e.set(n,r),e.parent?this._emitLine('frame.set("'+n+'", '+r+");"):this._emitLine('context.setVariable("'+n+'", '+r+");")},o.compileFromImport=function(t,e){var n=this,r=this._compileGetTemplate(t,e,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),t.names.children.forEach((function(t){var i,o,a=n._tmpid();t instanceof s.Pair?(i=t.key.value,o=t.value.value):o=i=t.value,n._emitLine("if(Object.prototype.hasOwnProperty.call("+r+', "'+i+'")) {'),n._emitLine("var "+a+" = "+r+"."+i+";"),n._emitLine("} else {"),n._emitLine("cb(new Error(\"cannot import '"+i+"'\")); return;"),n._emitLine("}"),e.set(o,a),e.parent?n._emitLine('frame.set("'+o+'", '+a+");"):n._emitLine('context.setVariable("'+o+'", '+a+");")}))},o.compileBlock=function(t){var e=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+t.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(e)),this._emitLine(this.buffer+" += "+e+";"),this._addScopeLevel()},o.compileSuper=function(t,e){var n=t.blockName.value,r=t.symbol.value,i=this._makeCallback(r);this._emitLine('context.getSuper(env, "'+n+'", b_'+n+", frame, runtime, "+i),this._emitLine(r+" = runtime.markSafe("+r+");"),this._addScopeLevel(),e.set(r,r)},o.compileExtends=function(t,e){var n=this._tmpid(),r=this._compileGetTemplate(t,e,!0,!1);this._emitLine("parentTemplate = "+r),this._emitLine("for(var "+n+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+n+", parentTemplate.blocks["+n+"]);"),this._emitLine("}"),this._addScopeLevel()},o.compileInclude=function(t,e){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var n=this._compileGetTemplate(t,e,!1,t.ignoreMissing);this._emitLine("callback(null,"+n+");});"),this._emitLine("});");var r=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(r)),this._emitLine("callback(null,"+r+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},o.compileTemplateData=function(t,e){this.compileLiteral(t,e)},o.compileCapture=function(t,e){var n=this,r=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=r},o.compileOutput=function(t,e){var n=this;t.children.forEach((function(r){r instanceof s.TemplateData?r.value&&(n._emit(n.buffer+" += "),n.compileLiteral(r,e),n._emitLine(";")):(n._emit(n.buffer+" += runtime.suppressValue("),n.throwOnUndefined&&n._emit("runtime.ensureDefined("),n.compile(r,e),n.throwOnUndefined&&n._emit(","+t.lineno+","+t.colno+")"),n._emit(", env.opts.autoescape);\n"))}))},o.compileRoot=function(t,e){var n=this;e&&this.fail("compileRoot: root node can't have frame"),e=new c,this._emitFuncBegin(t,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(t,e),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var r=[],i=t.findAll(s.Block);i.forEach((function(t,e){var i=t.name.value;if(-1!==r.indexOf(i))throw new Error('Block "'+i+'" defined more than once.');r.push(i),n._emitFuncBegin(t,"b_"+i);var o=new c;n._emitLine("var frame = frame.push(true);"),n.compile(t.body,o),n._emitFuncEnd()})),this._emitLine("return {"),i.forEach((function(t,e){var r="b_"+t.name.value;n._emitLine(r+": "+r+",")})),this._emitLine("root: root\n};")},o.compile=function(t,e){var n=this["compile"+t.typename];n?n.call(this,t,e):this.fail("compile: Cannot compile node: "+t.typename,t.lineno,t.colno)},o.getCode=function(){return this.codebuf.join("")},i}(u);t.exports={compile:function(t,e,n,r,s){void 0===s&&(s={});var a=new h(r,s.throwOnUndefined),c=(n||[]).map((function(t){return t.preprocess})).filter((function(t){return!!t})).reduce((function(t,e){return e(t)}),t);return a.compile(o.transform(i.parse(c,n,s),e,r)),a.getCode()},Compiler:h}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(4),o=n(1).EmitterObj;t.exports=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var s=o.prototype;return s.resolve=function(t,e){return i.resolve(i.dirname(t),e)},s.isRelative=function(t){return 0===t.indexOf("./")||0===t.indexOf("../")},o}(o)},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}var o=n(12),s=n(15),a=n(0),c=n(5),u=n(18),l=n(10),h=l.FileSystemLoader,f=l.WebLoader,p=l.PrecompiledLoader,d=n(20),m=n(21),y=n(1),g=y.Obj,v=y.EmitterObj,b=n(2),_=b.handleError,w=b.Frame,x=n(22);function k(t,e,n){o((function(){t(e,n)}))}var T={type:"code",obj:{root:function(t,e,n,r,i){try{i(null,"")}catch(t){i(_(t,null,null))}}}},S=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e){var n=this;e=this.opts=e||{},this.opts.dev=!!e.dev,this.opts.autoescape=null==e.autoescape||e.autoescape,this.opts.throwOnUndefined=!!e.throwOnUndefined,this.opts.trimBlocks=!!e.trimBlocks,this.opts.lstripBlocks=!!e.lstripBlocks,this.loaders=[],t?this.loaders=a.isArray(t)?t:[t]:h?this.loaders=[new h("views")]:f&&(this.loaders=[new f("/views")]),"undefined"!=typeof window&&window.nunjucksPrecompiled&&this.loaders.unshift(new p(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=m(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],a._entries(u).forEach((function(t){var e=t[0],r=t[1];return n.addFilter(e,r)})),a._entries(d).forEach((function(t){var e=t[0],r=t[1];return n.addTest(e,r)}))},n._initLoaders=function(){var t=this;this.loaders.forEach((function(e){e.cache={},"function"==typeof e.on&&(e.on("update",(function(n,r){e.cache[n]=null,t.emit("update",n,r,e)})),e.on("load",(function(n,r){t.emit("load",n,r,e)})))}))},n.invalidateCache=function(){this.loaders.forEach((function(t){t.cache={}}))},n.addExtension=function(t,e){return e.__name=t,this.extensions[t]=e,this.extensionsList.push(e),this},n.removeExtension=function(t){var e=this.getExtension(t);e&&(this.extensionsList=a.without(this.extensionsList,e),delete this.extensions[t])},n.getExtension=function(t){return this.extensions[t]},n.hasExtension=function(t){return!!this.extensions[t]},n.addGlobal=function(t,e){return this.globals[t]=e,this},n.getGlobal=function(t){if(void 0===this.globals[t])throw new Error("global not found: "+t);return this.globals[t]},n.addFilter=function(t,e,n){var r=e;return n&&this.asyncFilters.push(t),this.filters[t]=r,this},n.getFilter=function(t){if(!this.filters[t])throw new Error("filter not found: "+t);return this.filters[t]},n.addTest=function(t,e){return this.tests[t]=e,this},n.getTest=function(t){if(!this.tests[t])throw new Error("test not found: "+t);return this.tests[t]},n.resolveTemplate=function(t,e,n){return t.isRelative&&e&&t.isRelative(n)&&t.resolve?t.resolve(e,n):n},n.getTemplate=function(t,e,n,r,i){var o,s=this,c=this,u=null;if(t&&t.raw&&(t=t.raw),a.isFunction(n)&&(i=n,n=null,e=e||!1),a.isFunction(e)&&(i=e,e=!1),t instanceof A)u=t;else{if("string"!=typeof t)throw new Error("template names must be a string: "+t);for(var l=0;l<this.loaders.length;l++){var h=this.loaders[l];if(u=h.cache[this.resolveTemplate(h,n,t)])break}}return u?(e&&u.compile(),i?void i(null,u):u):(a.asyncIter(this.loaders,(function(e,r,i,o){function s(t,n){t?o(t):n?(n.loader=e,o(null,n)):i()}t=c.resolveTemplate(e,n,t),e.async?e.getSource(t,s):s(null,e.getSource(t))}),(function(n,a){if(a||n||r||(n=new Error("template not found: "+t)),n){if(i)return void i(n);throw n}var c;a?(c=new A(a.src,s,a.path,e),a.noCache||(a.loader.cache[t]=c)):c=new A(T,s,"",e),i?i(null,c):o=c})),o)},n.express=function(t){return x(this,t)},n.render=function(t,e,n){a.isFunction(e)&&(n=e,e=null);var r=null;return this.getTemplate(t,(function(t,i){if(t&&n)k(n,t);else{if(t)throw t;r=i.render(e,n)}})),r},n.renderString=function(t,e,n,r){return a.isFunction(n)&&(r=n,n={}),new A(t,this,(n=n||{}).path).render(e,r)},n.waterfall=function(t,e,n){return s(t,e,n)},e}(v),E=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e,n){var r=this;this.env=n||new S,this.ctx=a.extend({},t),this.blocks={},this.exported=[],a.keys(e).forEach((function(t){r.addBlock(t,e[t])}))},n.lookup=function(t){return t in this.env.globals&&!(t in this.ctx)?this.env.globals[t]:this.ctx[t]},n.setVariable=function(t,e){this.ctx[t]=e},n.getVariables=function(){return this.ctx},n.addBlock=function(t,e){return this.blocks[t]=this.blocks[t]||[],this.blocks[t].push(e),this},n.getBlock=function(t){if(!this.blocks[t])throw new Error('unknown block "'+t+'"');return this.blocks[t][0]},n.getSuper=function(t,e,n,r,i,o){var s=a.indexOf(this.blocks[e]||[],n),c=this.blocks[e][s+1];if(-1===s||!c)throw new Error('no super block available for "'+e+'"');c(t,this,r,i,o)},n.addExport=function(t){this.exported.push(t)},n.getExported=function(){var t=this,e={};return this.exported.forEach((function(n){e[n]=t.ctx[n]})),e},e}(g),A=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e,n,r){if(this.env=e||new S,a.isObject(t))switch(t.type){case"code":this.tmplProps=t.obj;break;case"string":this.tmplStr=t.obj;break;default:throw new Error("Unexpected template object type "+t.type+"; expected 'code', or 'string'")}else{if(!a.isString(t))throw new Error("src must be a string or an object describing the source");this.tmplStr=t}if(this.path=n,r)try{this._compile()}catch(t){throw a._prettifyError(this.path,this.env.opts.dev,t)}else this.compiled=!1},n.render=function(t,e,n){var r=this;"function"==typeof t?(n=t,t={}):"function"==typeof e&&(n=e,e=null);var i=!e;try{this.compile()}catch(t){var o=a._prettifyError(this.path,this.env.opts.dev,t);if(n)return k(n,o);throw o}var s=new E(t||{},this.blocks,this.env),c=e?e.push(!0):new w;c.topLevel=!0;var u=null,l=!1;return this.rootRenderFunc(this.env,s,c,b,(function(t,e){if(!l||!n||void 0===e)if(t&&(t=a._prettifyError(r.path,r.env.opts.dev,t),l=!0),n)i?k(n,t,e):n(t,e);else{if(t)throw t;u=e}})),u},n.getExported=function(t,e,n){"function"==typeof t&&(n=t,t={}),"function"==typeof e&&(n=e,e=null);try{this.compile()}catch(t){if(n)return n(t);throw t}var r=e?e.push():new w;r.topLevel=!0;var i=new E(t||{},this.blocks,this.env);this.rootRenderFunc(this.env,i,r,b,(function(t){t?n(t,null):n(null,i.getExported())}))},n.compile=function(){this.compiled||this._compile()},n._compile=function(){var t;if(this.tmplProps)t=this.tmplProps;else{var e=c.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);t=new Function(e)()}this.blocks=this._getBlocks(t),this.rootRenderFunc=t.root,this.compiled=!0},n._getBlocks=function(t){var e={};return a.keys(t).forEach((function(n){"b_"===n.slice(0,2)&&(e[n.slice(2)]=t[n])})),e},e}(g);t.exports={Environment:S,Template:A}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(9),o=n(3),s=n(1).Obj,a=n(0),c=function(t){var e,n;function s(){return t.apply(this,arguments)||this}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var c=s.prototype;return c.init=function(t){this.tokens=t,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},c.nextToken=function(t){var e;if(this.peeked){if(t||this.peeked.type!==i.TOKEN_WHITESPACE)return e=this.peeked,this.peeked=null,e;this.peeked=null}if(e=this.tokens.nextToken(),!t)for(;e&&e.type===i.TOKEN_WHITESPACE;)e=this.tokens.nextToken();return e},c.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},c.pushToken=function(t){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=t},c.error=function(t,e,n){if(void 0===e||void 0===n){var r=this.peekToken()||{};e=r.lineno,n=r.colno}return void 0!==e&&(e+=1),void 0!==n&&(n+=1),new a.TemplateError(t,e,n)},c.fail=function(t,e,n){throw this.error(t,e,n)},c.skip=function(t){var e=this.nextToken();return!(!e||e.type!==t)||(this.pushToken(e),!1)},c.expect=function(t){var e=this.nextToken();return e.type!==t&&this.fail("expected "+t+", got "+e.type,e.lineno,e.colno),e},c.skipValue=function(t,e){var n=this.nextToken();return!(!n||n.type!==t||n.value!==e)||(this.pushToken(n),!1)},c.skipSymbol=function(t){return this.skipValue(i.TOKEN_SYMBOL,t)},c.advanceAfterBlockEnd=function(t){var e;return t||((e=this.peekToken())||this.fail("unexpected end of file"),e.type!==i.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),t=this.nextToken().value),(e=this.nextToken())&&e.type===i.TOKEN_BLOCK_END?"-"===e.value.charAt(0)&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+t+" statement"),e},c.advanceAfterVariableEnd=function(){var t=this.nextToken();t&&t.type===i.TOKEN_VARIABLE_END?this.dropLeadingWhitespace="-"===t.value.charAt(t.value.length-this.tokens.tags.VARIABLE_END.length-1):(this.pushToken(t),this.fail("expected variable end"))},c.parseFor=function(){var t,e,n=this.peekToken();if(this.skipSymbol("for")?(t=new o.For(n.lineno,n.colno),e="endfor"):this.skipSymbol("asyncEach")?(t=new o.AsyncEach(n.lineno,n.colno),e="endeach"):this.skipSymbol("asyncAll")?(t=new o.AsyncAll(n.lineno,n.colno),e="endall"):this.fail("parseFor: expected for{Async}",n.lineno,n.colno),t.name=this.parsePrimary(),t.name instanceof o.Symbol||this.fail("parseFor: variable name expected for loop"),this.peekToken().type===i.TOKEN_COMMA){var r=t.name;for(t.name=new o.Array(r.lineno,r.colno),t.name.addChild(r);this.skip(i.TOKEN_COMMA);){var s=this.parsePrimary();t.name.addChild(s)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',n.lineno,n.colno),t.arr=this.parseExpression(),this.advanceAfterBlockEnd(n.value),t.body=this.parseUntilBlocks(e,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),t.else_=this.parseUntilBlocks(e)),this.advanceAfterBlockEnd(),t},c.parseMacro=function(){var t=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var e=this.parsePrimary(!0),n=this.parseSignature(),r=new o.Macro(t.lineno,t.colno,e,n);return this.advanceAfterBlockEnd(t.value),r.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),r},c.parseCall=function(){var t=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var e=this.parseSignature(!0)||new o.NodeList,n=this.parsePrimary();this.advanceAfterBlockEnd(t.value);var r=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var i=new o.Symbol(t.lineno,t.colno,"caller"),s=new o.Caller(t.lineno,t.colno,i,e,r),a=n.args.children;return a[a.length-1]instanceof o.KeywordArgs||a.push(new o.KeywordArgs),a[a.length-1].addChild(new o.Pair(t.lineno,t.colno,i,s)),new o.Output(t.lineno,t.colno,[n])},c.parseWithContext=function(){var t=this.peekToken(),e=null;return this.skipSymbol("with")?e=!0:this.skipSymbol("without")&&(e=!1),null!==e&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",t.lineno,t.colno)),e},c.parseImport=function(){var t=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",t.lineno,t.colno);var e=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',t.lineno,t.colno);var n=this.parseExpression(),r=this.parseWithContext(),i=new o.Import(t.lineno,t.colno,e,n,r);return this.advanceAfterBlockEnd(t.value),i},c.parseFrom=function(){var t=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var e=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",t.lineno,t.colno);for(var n,r=new o.NodeList;;){var s=this.peekToken();if(s.type===i.TOKEN_BLOCK_END){r.children.length||this.fail("parseFrom: Expected at least one import name",t.lineno,t.colno),"-"===s.value.charAt(0)&&(this.dropLeadingWhitespace=!0),this.nextToken();break}r.children.length>0&&!this.skip(i.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",t.lineno,t.colno);var a=this.parsePrimary();if("_"===a.value.charAt(0)&&this.fail("parseFrom: names starting with an underscore cannot be imported",a.lineno,a.colno),this.skipSymbol("as")){var c=this.parsePrimary();r.addChild(new o.Pair(a.lineno,a.colno,a,c))}else r.addChild(a);n=this.parseWithContext()}return new o.FromImport(t.lineno,t.colno,e,r,n)},c.parseBlock=function(){var t=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",t.lineno,t.colno);var e=new o.Block(t.lineno,t.colno);e.name=this.parsePrimary(),e.name instanceof o.Symbol||this.fail("parseBlock: variable name expected",t.lineno,t.colno),this.advanceAfterBlockEnd(t.value),e.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(e.name.value);var n=this.peekToken();return n||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(n.value),e},c.parseExtends=function(){var t="extends",e=this.peekToken();this.skipSymbol(t)||this.fail("parseTemplateRef: expected "+t);var n=new o.Extends(e.lineno,e.colno);return n.template=this.parseExpression(),this.advanceAfterBlockEnd(e.value),n},c.parseInclude=function(){var t="include",e=this.peekToken();this.skipSymbol(t)||this.fail("parseInclude: expected "+t);var n=new o.Include(e.lineno,e.colno);return n.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(n.ignoreMissing=!0),this.advanceAfterBlockEnd(e.value),n},c.parseIf=function(){var t,e=this.peekToken();this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?t=new o.If(e.lineno,e.colno):this.skipSymbol("ifAsync")?t=new o.IfAsync(e.lineno,e.colno):this.fail("parseIf: expected if, elif, or elseif",e.lineno,e.colno),t.cond=this.parseExpression(),this.advanceAfterBlockEnd(e.value),t.body=this.parseUntilBlocks("elif","elseif","else","endif");var n=this.peekToken();switch(n&&n.value){case"elseif":case"elif":t.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),t.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":t.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return t},c.parseSet=function(){var t=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",t.lineno,t.colno);for(var e,n=new o.Set(t.lineno,t.colno,[]);(e=this.parsePrimary())&&(n.targets.push(e),this.skip(i.TOKEN_COMMA)););return this.skipValue(i.TOKEN_OPERATOR,"=")?(n.value=this.parseExpression(),this.advanceAfterBlockEnd(t.value)):this.skip(i.TOKEN_BLOCK_END)?(n.body=new o.Capture(t.lineno,t.colno,this.parseUntilBlocks("endset")),n.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",t.lineno,t.colno),n},c.parseSwitch=function(){var t="switch",e="endswitch",n="case",r="default",i=this.peekToken();this.skipSymbol(t)||this.skipSymbol(n)||this.skipSymbol(r)||this.fail('parseSwitch: expected "switch," "case" or "default"',i.lineno,i.colno);var s=this.parseExpression();this.advanceAfterBlockEnd(t),this.parseUntilBlocks(n,r,e);var a,c=this.peekToken(),u=[];do{this.skipSymbol(n);var l=this.parseExpression();this.advanceAfterBlockEnd(t);var h=this.parseUntilBlocks(n,r,e);u.push(new o.Case(c.line,c.col,l,h)),c=this.peekToken()}while(c&&c.value===n);switch(c.value){case r:this.advanceAfterBlockEnd(),a=this.parseUntilBlocks(e),this.advanceAfterBlockEnd();break;case e:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new o.Switch(i.lineno,i.colno,s,u,a)},c.parseStatement=function(){var t=this.peekToken();if(t.type!==i.TOKEN_SYMBOL&&this.fail("tag name expected",t.lineno,t.colno),this.breakOnBlocks&&-1!==a.indexOf(this.breakOnBlocks,t.value))return null;switch(t.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var e=0;e<this.extensions.length;e++){var n=this.extensions[e];if(-1!==a.indexOf(n.tags||[],t.value))return n.parse(this,o,i)}this.fail("unknown block tag: "+t.value,t.lineno,t.colno)}},c.parseRaw=function(t){for(var e="end"+(t=t||"raw"),n=new RegExp("([\\s\\S]*?){%\\s*("+t+"|"+e+")\\s*(?=%})%}"),r=1,i="",s=null,a=this.advanceAfterBlockEnd();(s=this.tokens._extractRegex(n))&&r>0;){var c=s[0],u=s[1],l=s[2];l===t?r+=1:l===e&&(r-=1),0===r?(i+=u,this.tokens.backN(c.length-u.length)):i+=c}return new o.Output(a.lineno,a.colno,[new o.TemplateData(a.lineno,a.colno,i)])},c.parsePostfix=function(t){for(var e,n=this.peekToken();n;){if(n.type===i.TOKEN_LEFT_PAREN)t=new o.FunCall(n.lineno,n.colno,t,this.parseSignature());else if(n.type===i.TOKEN_LEFT_BRACKET)(e=this.parseAggregate()).children.length>1&&this.fail("invalid index"),t=new o.LookupVal(n.lineno,n.colno,t,e.children[0]);else{if(n.type!==i.TOKEN_OPERATOR||"."!==n.value)break;this.nextToken();var r=this.nextToken();r.type!==i.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+r.value,r.lineno,r.colno),e=new o.Literal(r.lineno,r.colno,r.value),t=new o.LookupVal(n.lineno,n.colno,t,e)}n=this.peekToken()}return t},c.parseExpression=function(){return this.parseInlineIf()},c.parseInlineIf=function(){var t=this.parseOr();if(this.skipSymbol("if")){var e=this.parseOr(),n=t;(t=new o.InlineIf(t.lineno,t.colno)).body=n,t.cond=e,this.skipSymbol("else")?t.else_=this.parseOr():t.else_=null}return t},c.parseOr=function(){for(var t=this.parseAnd();this.skipSymbol("or");){var e=this.parseAnd();t=new o.Or(t.lineno,t.colno,t,e)}return t},c.parseAnd=function(){for(var t=this.parseNot();this.skipSymbol("and");){var e=this.parseNot();t=new o.And(t.lineno,t.colno,t,e)}return t},c.parseNot=function(){var t=this.peekToken();return this.skipSymbol("not")?new o.Not(t.lineno,t.colno,this.parseNot()):this.parseIn()},c.parseIn=function(){for(var t=this.parseIs();;){var e=this.nextToken();if(!e)break;var n=e.type===i.TOKEN_SYMBOL&&"not"===e.value;if(n||this.pushToken(e),!this.skipSymbol("in")){n&&this.pushToken(e);break}var r=this.parseIs();t=new o.In(t.lineno,t.colno,t,r),n&&(t=new o.Not(t.lineno,t.colno,t))}return t},c.parseIs=function(){var t=this.parseCompare();if(this.skipSymbol("is")){var e=this.skipSymbol("not"),n=this.parseCompare();t=new o.Is(t.lineno,t.colno,t,n),e&&(t=new o.Not(t.lineno,t.colno,t))}return t},c.parseCompare=function(){for(var t=["==","===","!=","!==","<",">","<=",">="],e=this.parseConcat(),n=[];;){var r=this.nextToken();if(!r)break;if(-1===t.indexOf(r.value)){this.pushToken(r);break}n.push(new o.CompareOperand(r.lineno,r.colno,this.parseConcat(),r.value))}return n.length?new o.Compare(n[0].lineno,n[0].colno,e,n):e},c.parseConcat=function(){for(var t=this.parseAdd();this.skipValue(i.TOKEN_TILDE,"~");){var e=this.parseAdd();t=new o.Concat(t.lineno,t.colno,t,e)}return t},c.parseAdd=function(){for(var t=this.parseSub();this.skipValue(i.TOKEN_OPERATOR,"+");){var e=this.parseSub();t=new o.Add(t.lineno,t.colno,t,e)}return t},c.parseSub=function(){for(var t=this.parseMul();this.skipValue(i.TOKEN_OPERATOR,"-");){var e=this.parseMul();t=new o.Sub(t.lineno,t.colno,t,e)}return t},c.parseMul=function(){for(var t=this.parseDiv();this.skipValue(i.TOKEN_OPERATOR,"*");){var e=this.parseDiv();t=new o.Mul(t.lineno,t.colno,t,e)}return t},c.parseDiv=function(){for(var t=this.parseFloorDiv();this.skipValue(i.TOKEN_OPERATOR,"/");){var e=this.parseFloorDiv();t=new o.Div(t.lineno,t.colno,t,e)}return t},c.parseFloorDiv=function(){for(var t=this.parseMod();this.skipValue(i.TOKEN_OPERATOR,"//");){var e=this.parseMod();t=new o.FloorDiv(t.lineno,t.colno,t,e)}return t},c.parseMod=function(){for(var t=this.parsePow();this.skipValue(i.TOKEN_OPERATOR,"%");){var e=this.parsePow();t=new o.Mod(t.lineno,t.colno,t,e)}return t},c.parsePow=function(){for(var t=this.parseUnary();this.skipValue(i.TOKEN_OPERATOR,"**");){var e=this.parseUnary();t=new o.Pow(t.lineno,t.colno,t,e)}return t},c.parseUnary=function(t){var e,n=this.peekToken();return e=this.skipValue(i.TOKEN_OPERATOR,"-")?new o.Neg(n.lineno,n.colno,this.parseUnary(!0)):this.skipValue(i.TOKEN_OPERATOR,"+")?new o.Pos(n.lineno,n.colno,this.parseUnary(!0)):this.parsePrimary(),t||(e=this.parseFilter(e)),e},c.parsePrimary=function(t){var e,n=this.nextToken(),r=null;if(n?n.type===i.TOKEN_STRING?e=n.value:n.type===i.TOKEN_INT?e=parseInt(n.value,10):n.type===i.TOKEN_FLOAT?e=parseFloat(n.value):n.type===i.TOKEN_BOOLEAN?"true"===n.value?e=!0:"false"===n.value?e=!1:this.fail("invalid boolean: "+n.value,n.lineno,n.colno):n.type===i.TOKEN_NONE?e=null:n.type===i.TOKEN_REGEX&&(e=new RegExp(n.value.body,n.value.flags)):this.fail("expected expression, got end of file"),void 0!==e?r=new o.Literal(n.lineno,n.colno,e):n.type===i.TOKEN_SYMBOL?r=new o.Symbol(n.lineno,n.colno,n.value):(this.pushToken(n),r=this.parseAggregate()),t||(r=this.parsePostfix(r)),r)return r;throw this.error("unexpected token: "+n.value,n.lineno,n.colno)},c.parseFilterName=function(){for(var t=this.expect(i.TOKEN_SYMBOL),e=t.value;this.skipValue(i.TOKEN_OPERATOR,".");)e+="."+this.expect(i.TOKEN_SYMBOL).value;return new o.Symbol(t.lineno,t.colno,e)},c.parseFilterArgs=function(t){return this.peekToken().type===i.TOKEN_LEFT_PAREN?this.parsePostfix(t).args.children:[]},c.parseFilter=function(t){for(;this.skip(i.TOKEN_PIPE);){var e=this.parseFilterName();t=new o.Filter(e.lineno,e.colno,e,new o.NodeList(e.lineno,e.colno,[t].concat(this.parseFilterArgs(t))))}return t},c.parseFilterStatement=function(){var t=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var e=this.parseFilterName(),n=this.parseFilterArgs(e);this.advanceAfterBlockEnd(t.value);var r=new o.Capture(e.lineno,e.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var i=new o.Filter(e.lineno,e.colno,e,new o.NodeList(e.lineno,e.colno,[r].concat(n)));return new o.Output(e.lineno,e.colno,[i])},c.parseAggregate=function(){var t,e=this.nextToken();switch(e.type){case i.TOKEN_LEFT_PAREN:t=new o.Group(e.lineno,e.colno);break;case i.TOKEN_LEFT_BRACKET:t=new o.Array(e.lineno,e.colno);break;case i.TOKEN_LEFT_CURLY:t=new o.Dict(e.lineno,e.colno);break;default:return null}for(;;){var n=this.peekToken().type;if(n===i.TOKEN_RIGHT_PAREN||n===i.TOKEN_RIGHT_BRACKET||n===i.TOKEN_RIGHT_CURLY){this.nextToken();break}if(t.children.length>0&&(this.skip(i.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",e.lineno,e.colno)),t instanceof o.Dict){var r=this.parsePrimary();this.skip(i.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",e.lineno,e.colno);var s=this.parseExpression();t.addChild(new o.Pair(r.lineno,r.colno,r,s))}else{var a=this.parseExpression();t.addChild(a)}}return t},c.parseSignature=function(t,e){var n=this.peekToken();if(!e&&n.type!==i.TOKEN_LEFT_PAREN){if(t)return null;this.fail("expected arguments",n.lineno,n.colno)}n.type===i.TOKEN_LEFT_PAREN&&(n=this.nextToken());for(var r=new o.NodeList(n.lineno,n.colno),s=new o.KeywordArgs(n.lineno,n.colno),a=!1;;){if(n=this.peekToken(),!e&&n.type===i.TOKEN_RIGHT_PAREN){this.nextToken();break}if(e&&n.type===i.TOKEN_BLOCK_END)break;if(a&&!this.skip(i.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",n.lineno,n.colno);else{var c=this.parseExpression();this.skipValue(i.TOKEN_OPERATOR,"=")?s.addChild(new o.Pair(c.lineno,c.colno,c,this.parseExpression())):r.addChild(c)}a=!0}return s.children.length&&r.addChild(s),r},c.parseUntilBlocks=function(){for(var t=this.breakOnBlocks,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.breakOnBlocks=n;var i=this.parse();return this.breakOnBlocks=t,i},c.parseNodes=function(){for(var t,e=[];t=this.nextToken();)if(t.type===i.TOKEN_DATA){var n=t.value,r=this.peekToken(),s=r&&r.value;this.dropLeadingWhitespace&&(n=n.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),r&&(r.type===i.TOKEN_BLOCK_START&&"-"===s.charAt(s.length-1)||r.type===i.TOKEN_VARIABLE_START&&"-"===s.charAt(this.tokens.tags.VARIABLE_START.length)||r.type===i.TOKEN_COMMENT&&"-"===s.charAt(this.tokens.tags.COMMENT_START.length))&&(n=n.replace(/\s*$/,"")),e.push(new o.Output(t.lineno,t.colno,[new o.TemplateData(t.lineno,t.colno,n)]))}else if(t.type===i.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var a=this.parseStatement();if(!a)break;e.push(a)}else if(t.type===i.TOKEN_VARIABLE_START){var c=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),e.push(new o.Output(t.lineno,t.colno,[c]))}else t.type===i.TOKEN_COMMENT?this.dropLeadingWhitespace="-"===t.value.charAt(t.value.length-this.tokens.tags.COMMENT_END.length-1):this.fail("Unexpected token at top-level: "+t.type,t.lineno,t.colno);return e},c.parse=function(){return new o.NodeList(0,0,this.parseNodes())},c.parseAsRoot=function(){return new o.Root(0,0,this.parseNodes())},s}(s);t.exports={parse:function(t,e,n){var r=new c(i.lex(t,n));return void 0!==e&&(r.extensions=e),r.parseAsRoot()},Parser:c}},function(t,e,n){"use strict";var r=n(0),i=" \n\t\r",o="()[]{}%*-+~/#,:|.<>=!",s="string",a="whitespace",c="data",u="block-start",l="block-end",h="variable-start",f="variable-end",p="comment",d="left-paren",m="right-paren",y="left-bracket",g="right-bracket",v="left-curly",b="right-curly",_="operator",w="comma",x="colon",k="tilde",T="pipe",S="float",E="boolean",A="none",O="symbol",N="regex";function C(t,e,n,r){return{type:t,value:e,lineno:n,colno:r}}var L=function(){function t(t,e){this.str=t,this.index=0,this.len=t.length,this.lineno=0,this.colno=0,this.in_code=!1;var n=(e=e||{}).tags||{};this.tags={BLOCK_START:n.blockStart||"{%",BLOCK_END:n.blockEnd||"%}",VARIABLE_START:n.variableStart||"{{",VARIABLE_END:n.variableEnd||"}}",COMMENT_START:n.commentStart||"{#",COMMENT_END:n.commentEnd||"#}"},this.trimBlocks=!!e.trimBlocks,this.lstripBlocks=!!e.lstripBlocks}var e=t.prototype;return e.nextToken=function(){var t,e=this.lineno,n=this.colno;if(this.in_code){var L=this.current();if(this.isFinished())return null;if('"'===L||"'"===L)return C(s,this._parseString(L),e,n);if(t=this._extract(i))return C(a,t,e,n);if((t=this._extractString(this.tags.BLOCK_END))||(t=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&("\n"===(L=this.current())?this.forward():"\r"===L&&(this.forward(),"\n"===(L=this.current())?this.forward():this.back())),C(l,t,e,n);if((t=this._extractString(this.tags.VARIABLE_END))||(t=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,C(f,t,e,n);if("r"===L&&"/"===this.str.charAt(this.index+1)){this.forwardN(2);for(var R="";!this.isFinished();){if("/"===this.current()&&"\\"!==this.previous()){this.forward();break}R+=this.current(),this.forward()}for(var P=["g","i","m","y"],I="";!this.isFinished()&&-1!==P.indexOf(this.current());)I+=this.current(),this.forward();return C(N,{body:R,flags:I},e,n)}if(-1!==o.indexOf(L)){this.forward();var M,D=["==","===","!=","!==","<=",">=","//","**"],j=L+this.current();switch(-1!==r.indexOf(D,j)&&(this.forward(),L=j,-1!==r.indexOf(D,j+this.current())&&(L=j+this.current(),this.forward())),L){case"(":M=d;break;case")":M=m;break;case"[":M=y;break;case"]":M=g;break;case"{":M=v;break;case"}":M=b;break;case",":M=w;break;case":":M=x;break;case"~":M=k;break;case"|":M=T;break;default:M=_}return C(M,L,e,n)}if((t=this._extractUntil(i+o)).match(/^[-+]?[0-9]+$/)){if("."===this.current()){this.forward();var B=this._extract("0123456789");return C(S,t+"."+B,e,n)}return C("int",t,e,n)}if(t.match(/^(true|false)$/))return C(E,t,e,n);if("none"===t)return C(A,t,e,n);if("null"===t)return C(A,t,e,n);if(t)return C(O,t,e,n);throw new Error("Unexpected value while parsing: "+t)}var F,U=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((t=this._extractString(this.tags.BLOCK_START+"-"))||(t=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,C(u,t,e,n);if((t=this._extractString(this.tags.VARIABLE_START+"-"))||(t=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,C(h,t,e,n);t="";var z=!1;for(this._matches(this.tags.COMMENT_START)&&(z=!0,t=this._extractString(this.tags.COMMENT_START));null!==(F=this._extractUntil(U));){if(t+=F,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!z){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=t.length){var V=t.slice(-this.colno);if(/^\s+$/.test(V)&&!(t=t.slice(0,-this.colno)).length)return this.nextToken()}break}if(this._matches(this.tags.COMMENT_END)){if(!z)throw new Error("unexpected end of comment");t+=this._extractString(this.tags.COMMENT_END);break}t+=this.current(),this.forward()}if(null===F&&z)throw new Error("expected end of comment, got end of file");return C(z?p:c,t,e,n)},e._parseString=function(t){this.forward();for(var e="";!this.isFinished()&&this.current()!==t;){var n=this.current();if("\\"===n){switch(this.forward(),this.current()){case"n":e+="\n";break;case"t":e+="\t";break;case"r":e+="\r";break;default:e+=this.current()}this.forward()}else e+=n,this.forward()}return this.forward(),e},e._matches=function(t){return this.index+t.length>this.len?null:this.str.slice(this.index,this.index+t.length)===t},e._extractString=function(t){return this._matches(t)?(this.forwardN(t.length),t):null},e._extractUntil=function(t){return this._extractMatching(!0,t||"")},e._extract=function(t){return this._extractMatching(!1,t)},e._extractMatching=function(t,e){if(this.isFinished())return null;var n=e.indexOf(this.current());if(t&&-1===n||!t&&-1!==n){var r=this.current();this.forward();for(var i=e.indexOf(this.current());(t&&-1===i||!t&&-1!==i)&&!this.isFinished();)r+=this.current(),this.forward(),i=e.indexOf(this.current());return r}return""},e._extractRegex=function(t){var e=this.currentStr().match(t);return e?(this.forwardN(e[0].length),e):null},e.isFinished=function(){return this.index>=this.len},e.forwardN=function(t){for(var e=0;e<t;e++)this.forward()},e.forward=function(){this.index++,"\n"===this.previous()?(this.lineno++,this.colno=0):this.colno++},e.backN=function(t){for(var e=0;e<t;e++)this.back()},e.back=function(){if(this.index--,"\n"===this.current()){this.lineno--;var t=this.src.lastIndexOf("\n",this.index-1);this.colno=-1===t?this.index:this.index-t}else this.colno--},e.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},e.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},e.previous=function(){return this.str.charAt(this.index-1)},t}();t.exports={lex:function(t,e){return new L(t,e)},TOKEN_STRING:s,TOKEN_WHITESPACE:a,TOKEN_DATA:c,TOKEN_BLOCK_START:u,TOKEN_BLOCK_END:l,TOKEN_VARIABLE_START:h,TOKEN_VARIABLE_END:f,TOKEN_COMMENT:p,TOKEN_LEFT_PAREN:d,TOKEN_RIGHT_PAREN:m,TOKEN_LEFT_BRACKET:y,TOKEN_RIGHT_BRACKET:g,TOKEN_LEFT_CURLY:v,TOKEN_RIGHT_CURLY:b,TOKEN_OPERATOR:_,TOKEN_COMMA:w,TOKEN_COLON:x,TOKEN_TILDE:k,TOKEN_PIPE:T,TOKEN_INT:"int",TOKEN_FLOAT:S,TOKEN_BOOLEAN:E,TOKEN_NONE:A,TOKEN_SYMBOL:O,TOKEN_SPECIAL:"special",TOKEN_REGEX:N}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(6),o=n(19).PrecompiledLoader,s=function(t){var e,n;function i(e,n){var r;return(r=t.call(this)||this).baseURL=e||".",n=n||{},r.useCache=!!n.useCache,r.async=!!n.async,r}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var o=i.prototype;return o.resolve=function(t,e){throw new Error("relative templates not support in the browser yet")},o.getSource=function(t,e){var n,r=this,i=this.useCache;return this.fetch(this.baseURL+"/"+t,(function(o,s){if(o)if(e)e(o.content);else{if(404!==o.status)throw o.content;n=null}else n={src:s,path:t,noCache:!i},r.emit("load",t,n),e&&e(null,n)})),n},o.fetch=function(t,e){if("undefined"==typeof window)throw new Error("WebLoader can only by used in a browser");var n=new XMLHttpRequest,r=!0;n.onreadystatechange=function(){4===n.readyState&&r&&(r=!1,0===n.status||200===n.status?e(null,n.responseText):e({status:n.status,content:n.responseText}))},t+=(-1===t.indexOf("?")?"?":"&")+"s="+(new Date).getTime(),n.open("GET",t,this.async),n.send()},i}(i);t.exports={WebLoader:s,PrecompiledLoader:o}},function(t,e,n){"use strict";var r,i=n(0),o=n(7),s=o.Environment,a=o.Template,c=n(6),u=n(10),l=n(23),h=n(5),f=n(8),p=n(9),d=n(2),m=n(3),y=n(25);function g(t,e){var n;return e=e||{},i.isObject(t)&&(e=t,t=null),u.FileSystemLoader?n=new u.FileSystemLoader(t,{watch:e.watch,noCache:e.noCache}):u.WebLoader&&(n=new u.WebLoader(t,{useCache:e.web&&e.web.useCache,async:e.web&&e.web.async})),r=new s(n,e),e&&e.express&&r.express(e.express),r}t.exports={Environment:s,Template:a,Loader:c,FileSystemLoader:u.FileSystemLoader,NodeResolveLoader:u.NodeResolveLoader,PrecompiledLoader:u.PrecompiledLoader,WebLoader:u.WebLoader,compiler:h,parser:f,lexer:p,runtime:d,lib:i,nodes:m,installJinjaCompat:y,configure:g,reset:function(){r=void 0},compile:function(t,e,n,i){return r||g(),new a(t,e,n,i)},render:function(t,e,n){return r||g(),r.render(t,e,n)},renderString:function(t,e,n){return r||g(),r.renderString(t,e,n)},precompile:l?l.precompile:void 0,precompileString:l?l.precompileString:void 0}},function(t,e,n){"use strict";var r=n(13),i=[],o=[],s=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function a(t){var e;(e=i.length?i.pop():new c).task=t,r(e)}function c(){this.task=null}t.exports=a,c.prototype.call=function(){try{this.task.call()}catch(t){a.onerror?a.onerror(t):(o.push(t),s())}finally{this.task=null,i[i.length]=this}}},function(t,e,n){"use strict";(function(e){function n(t){i.length||r(),i[i.length]=t}t.exports=n;var r,i=[],o=0;function s(){for(;o<i.length;){var t=o;if(o+=1,i[t].call(),o>1024){for(var e=0,n=i.length-o;e<n;e++)i[e]=i[e+o];i.length-=o,o=0}}i.length=0,o=0}var a,c,u,l=void 0!==e?e:self,h=l.MutationObserver||l.WebKitMutationObserver;function f(t){return function(){var e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}"function"==typeof h?(a=1,c=new h(s),u=document.createTextNode(""),c.observe(u,{characterData:!0}),r=function(){a=-a,u.data=a}):r=f(s),n.requestFlush=r,n.makeRequestCallFromTimer=f}).call(e,n(14))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r;!function(){"use strict";var n=function(){var t=Array.prototype.slice.call(arguments);"function"==typeof t[0]&&t[0].apply(null,t.splice(1))},i=function(t){"function"==typeof setImmediate?setImmediate(t):"undefined"!=typeof process&&process.nextTick?process.nextTick(t):setTimeout(t,0)},o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=function(t,e,r){var s=r?i:n;if(e=e||function(){},!o(t)){var a=new Error("First argument to waterfall must be an array of functions");return e(a)}if(!t.length)return e();var c=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var r=Array.prototype.slice.call(arguments,1),i=t.next();i?r.push(c(i)):r.push(e),s((function(){t.apply(null,r)}))}}};c(function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)}(t))()};void 0===(r=function(){return s}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s,a;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):y(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=y(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,p(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,p(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var r=n(3),i=n(0),o=0;function s(){return"hole_"+o++}function a(t,e){for(var n=null,r=0;r<t.length;r++){var i=e(t[r]);i!==t[r]&&(n||(n=t.slice()),n[r]=i)}return n||t}function c(t,e,n){if(!(t instanceof r.Node))return t;if(!n){var i=e(t);if(i&&i!==t)return i}if(t instanceof r.NodeList){var o=a(t.children,(function(t){return c(t,e,n)}));o!==t.children&&(t=new r[t.typename](t.lineno,t.colno,o))}else if(t instanceof r.CallExtension){var s=c(t.args,e,n),u=a(t.contentArgs,(function(t){return c(t,e,n)}));s===t.args&&u===t.contentArgs||(t=new r[t.typename](t.extName,t.prop,s,u))}else{var l=t.fields.map((function(e){return t[e]})),h=a(l,(function(t){return c(t,e,n)}));h!==l&&(t=new r[t.typename](t.lineno,t.colno),h.forEach((function(e,n){t[t.fields[n]]=e})))}return n&&e(t)||t}function u(t,e){return c(t,e,!0)}function l(t,e,n){var o=[],a=u(n?t[n]:t,(function(t){var n;return t instanceof r.Block?t:((t instanceof r.Filter&&-1!==i.indexOf(e,t.name.value)||t instanceof r.CallExtensionAsync)&&(n=new r.Symbol(t.lineno,t.colno,s()),o.push(new r.FilterAsync(t.lineno,t.colno,t.name,t.args,n))),n)}));return n?t[n]=a:t=a,o.length?(o.push(t),new r.NodeList(t.lineno,t.colno,o)):t}t.exports={transform:function(t,e){return function(t,e){return function(t){return u(t,(function(t){if(t instanceof r.If||t instanceof r.For){var e=!1;if(c(t,(function(t){if(t instanceof r.FilterAsync||t instanceof r.IfAsync||t instanceof r.AsyncEach||t instanceof r.AsyncAll||t instanceof r.CallExtensionAsync)return e=!0,t})),e){if(t instanceof r.If)return new r.IfAsync(t.lineno,t.colno,t.cond,t.body,t.else_);if(t instanceof r.For&&!(t instanceof r.AsyncAll))return new r.AsyncEach(t.lineno,t.colno,t.arr,t.name,t.body,t.else_)}}}))}(function(t){return c(t,(function(t){if(t instanceof r.Block){var e=!1,n=s();t.body=c(t.body,(function(t){if(t instanceof r.FunCall&&"super"===t.name.value)return e=!0,new r.Symbol(t.lineno,t.colno,n)})),e&&t.body.children.unshift(new r.Super(0,0,t.name,new r.Symbol(0,0,n)))}}))}(function(t,e){return u(t,(function(t){return t instanceof r.Output?l(t,e):t instanceof r.Set?l(t,e,"value"):t instanceof r.For?l(t,e,"arr"):t instanceof r.If?l(t,e,"cond"):t instanceof r.CallExtension?l(t,e,"args"):void 0}))}(t,e)))}(t,e||[])}}},function(t,e,n){"use strict";var r=n(0),i=n(2);function o(t,e){return null==t||!1===t?e:t}function s(t){return t!=t}function a(t){var e=(t=o(t,"")).toLowerCase();return i.copySafeness(t,e.charAt(0).toUpperCase()+e.slice(1))}function c(t){if(r.isString(t))return t.split("");if(r.isObject(t))return r._entries(t||{}).map((function(t){return{key:t[0],value:t[1]}}));if(r.isArray(t))return t;throw new r.TemplateError("list filter: type not iterable")}function u(t){return function(e,n,i){void 0===n&&(n="truthy");var o=this,s=o.env.getTest(n);return r.toArray(e).filter((function(e){return s.call(o,e,i)===t}))}}function l(t){return i.copySafeness(t,t.replace(/^\s*|\s*$/g,""))}(e=t.exports={}).abs=Math.abs,e.batch=function(t,e,n){var r,i=[],o=[];for(r=0;r<t.length;r++)r%e==0&&o.length&&(i.push(o),o=[]),o.push(t[r]);if(o.length){if(n)for(r=o.length;r<e;r++)o.push(n);i.push(o)}return i},e.capitalize=a,e.center=function(t,e){if(e=e||80,(t=o(t,"")).length>=e)return t;var n=e-t.length,s=r.repeat(" ",n/2-n%2),a=r.repeat(" ",n/2);return i.copySafeness(t,s+t+a)},e.default=function(t,e,n){return n?t||e:void 0!==t?t:e},e.dictsort=function(t,e,n){if(!r.isObject(t))throw new r.TemplateError("dictsort filter: val must be an object");var i,o=[];for(var s in t)o.push([s,t[s]]);if(void 0===n||"key"===n)i=0;else{if("value"!==n)throw new r.TemplateError("dictsort filter: You can only sort by either key or value");i=1}return o.sort((function(t,n){var o=t[i],s=n[i];return e||(r.isString(o)&&(o=o.toUpperCase()),r.isString(s)&&(s=s.toUpperCase())),o>s?1:o===s?0:-1})),o},e.dump=function(t,e){return JSON.stringify(t,null,e)},e.escape=function(t){return t instanceof i.SafeString?t:(t=null==t?"":t,i.markSafe(r.escape(t.toString())))},e.safe=function(t){return t instanceof i.SafeString?t:(t=null==t?"":t,i.markSafe(t.toString()))},e.first=function(t){return t[0]},e.forceescape=function(t){return t=null==t?"":t,i.markSafe(r.escape(t.toString()))},e.groupby=function(t,e){return r.groupBy(t,e,this.env.opts.throwOnUndefined)},e.indent=function(t,e,n){if(""===(t=o(t,"")))return"";e=e||4;var s=t.split("\n"),a=r.repeat(" ",e),c=s.map((function(t,e){return 0!==e||n?""+a+t:t})).join("\n");return i.copySafeness(t,c)},e.join=function(t,e,n){return e=e||"",n&&(t=r.map(t,(function(t){return t[n]}))),t.join(e)},e.last=function(t){return t[t.length-1]},e.length=function(t){var e=o(t,"");return void 0!==e?"function"==typeof Map&&e instanceof Map||"function"==typeof Set&&e instanceof Set?e.size:!r.isObject(e)||e instanceof i.SafeString?e.length:r.keys(e).length:0},e.list=c,e.lower=function(t){return(t=o(t,"")).toLowerCase()},e.nl2br=function(t){return null==t?"":i.copySafeness(t,t.replace(/\r\n|\n/g,"<br />\n"))},e.random=function(t){return t[Math.floor(Math.random()*t.length)]},e.reject=u(!1),e.rejectattr=function(t,e){return t.filter((function(t){return!t[e]}))},e.select=u(!0),e.selectattr=function(t,e){return t.filter((function(t){return!!t[e]}))},e.replace=function(t,e,n,r){var o=t;if(e instanceof RegExp)return t.replace(e,n);void 0===r&&(r=-1);var s="";if("number"==typeof e)e=""+e;else if("string"!=typeof e)return t;if("number"==typeof t&&(t=""+t),"string"!=typeof t&&!(t instanceof i.SafeString))return t;if(""===e)return s=n+t.split("").join(n)+n,i.copySafeness(t,s);var a=t.indexOf(e);if(0===r||-1===a)return t;for(var c=0,u=0;a>-1&&(-1===r||u<r);)s+=t.substring(c,a)+n,c=a+e.length,u++,a=t.indexOf(e,c);return c<t.length&&(s+=t.substring(c)),i.copySafeness(o,s)},e.reverse=function(t){var e;return(e=r.isString(t)?c(t):r.map(t,(function(t){return t}))).reverse(),r.isString(t)?i.copySafeness(t,e.join("")):e},e.round=function(t,e,n){e=e||0;var r=Math.pow(10,e);return("ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round)(t*r)/r},e.slice=function(t,e,n){for(var r=Math.floor(t.length/e),i=t.length%e,o=[],s=0,a=0;a<e;a++){var c=s+a*r;a<i&&s++;var u=s+(a+1)*r,l=t.slice(c,u);n&&a>=i&&l.push(n),o.push(l)}return o},e.sum=function(t,e,n){return void 0===n&&(n=0),e&&(t=r.map(t,(function(t){return t[e]}))),n+t.reduce((function(t,e){return t+e}),0)},e.sort=i.makeMacro(["value","reverse","case_sensitive","attribute"],[],(function(t,e,n,i){var o=this,s=r.map(t,(function(t){return t})),a=r.getAttrGetter(i);return s.sort((function(t,s){var c=i?a(t):t,u=i?a(s):s;if(o.env.opts.throwOnUndefined&&i&&(void 0===c||void 0===u))throw new TypeError('sort: attribute "'+i+'" resolved to undefined');return!n&&r.isString(c)&&r.isString(u)&&(c=c.toLowerCase(),u=u.toLowerCase()),c<u?e?1:-1:c>u?e?-1:1:0})),s})),e.string=function(t){return i.copySafeness(t,t)},e.striptags=function(t,e){var n,r=l((t=o(t,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,""));return n=e?r.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):r.replace(/\s+/gi," "),i.copySafeness(t,n)},e.title=function(t){var e=(t=o(t,"")).split(" ").map((function(t){return a(t)}));return i.copySafeness(t,e.join(" "))},e.trim=l,e.truncate=function(t,e,n,r){var s=t;if(e=e||255,(t=o(t,"")).length<=e)return t;if(n)t=t.substring(0,e);else{var a=t.lastIndexOf(" ",e);-1===a&&(a=e),t=t.substring(0,a)}return t+=null!=r?r:"...",i.copySafeness(s,t)},e.upper=function(t){return(t=o(t,"")).toUpperCase()},e.urlencode=function(t){var e=encodeURIComponent;return r.isString(t)?e(t):(r.isArray(t)?t:r._entries(t)).map((function(t){var n=t[0],r=t[1];return e(n)+"="+e(r)})).join("&")};var h=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,f=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,p=/^https?:\/\/.*$/,d=/^www\./,m=/\.(?:org|net|com)(?:\:|\/|$)/;e.urlize=function(t,e,n){s(e)&&(e=1/0);var r=!0===n?' rel="nofollow"':"";return t.split(/(\s+)/).filter((function(t){return t&&t.length})).map((function(t){var n=t.match(h),i=n?n[1]:t,o=i.substr(0,e);return p.test(i)?'<a href="'+i+'"'+r+">"+o+"</a>":d.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":f.test(i)?'<a href="mailto:'+i+'">'+i+"</a>":m.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":t})).join("")},e.wordcount=function(t){var e=(t=o(t,""))?t.match(/\w+/g):null;return e?e.length:null},e.float=function(t,e){var n=parseFloat(t);return s(n)?e:n};var y=i.makeMacro(["value","default","base"],[],(function(t,e,n){void 0===n&&(n=10);var r=parseInt(t,n);return s(r)?e:r}));e.int=y,e.d=e.default,e.e=e.escape},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=function(t){var e,n;function i(e){var n;return(n=t.call(this)||this).precompiled=e||{},n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.getSource=function(t){return this.precompiled[t]?{src:{type:"code",obj:this.precompiled[t]},path:t}:null},i}(n(6));t.exports={PrecompiledLoader:i}},function(t,e,n){"use strict";var r=n(2).SafeString;e.callable=function(t){return"function"==typeof t},e.defined=function(t){return void 0!==t},e.divisibleby=function(t,e){return t%e==0},e.escaped=function(t){return t instanceof r},e.equalto=function(t,e){return t===e},e.eq=e.equalto,e.sameas=e.equalto,e.even=function(t){return t%2==0},e.falsy=function(t){return!t},e.ge=function(t,e){return t>=e},e.greaterthan=function(t,e){return t>e},e.gt=e.greaterthan,e.le=function(t,e){return t<=e},e.lessthan=function(t,e){return t<e},e.lt=e.lessthan,e.lower=function(t){return t.toLowerCase()===t},e.ne=function(t,e){return t!==e},e.null=function(t){return null===t},e.number=function(t){return"number"==typeof t},e.odd=function(t){return t%2==1},e.string=function(t){return"string"==typeof t},e.truthy=function(t){return!!t},e.undefined=function(t){return void 0===t},e.upper=function(t){return t.toUpperCase()===t},e.iterable=function(t){return"undefined"!=typeof Symbol?!!t[Symbol.iterator]:Array.isArray(t)||"string"==typeof t},e.mapping=function(t){var e=null!=t&&"object"==typeof t&&!Array.isArray(t);return Set?e&&!(t instanceof Set):e}},function(t,e,n){"use strict";t.exports=function(){return{range:function(t,e,n){void 0===e?(e=t,t=0,n=1):n||(n=1);var r=[];if(n>0)for(var i=t;i<e;i+=n)r.push(i);else for(var o=t;o>e;o+=n)r.push(o);return r},cycler:function(){return t=Array.prototype.slice.call(arguments),e=-1,{current:null,reset:function(){e=-1,this.current=null},next:function(){return++e>=t.length&&(e=0),this.current=t[e],this.current}};var t,e},joiner:function(t){return function(t){t=t||",";var e=!0;return function(){var n=e?"":t;return e=!1,n}}(t)}}}},function(t,e,n){var r=n(4);t.exports=function(t,e){function n(t,e){if(this.name=t,this.path=t,this.defaultEngine=e.defaultEngine,this.ext=r.extname(t),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return n.prototype.render=function(e,n){t.render(this.name,e,n)},e.set("view",n),e.set("nunjucksEnv",t),t}},function(t,e,n){"use strict";var r=n(4),i=n(4),o=n(0)._prettifyError,s=n(5),a=n(7).Environment,c=n(24);function u(t,e){return!!Array.isArray(e)&&e.some((function(e){return t.match(e)}))}function l(t,e){(e=e||{}).isString=!0;var n=e.env||new a([]),r=e.wrapper||c;if(!e.name)throw new Error('the "name" option is required when compiling a string');return r([h(t,e.name,n)],e)}function h(t,e,n){var r,i=(n=n||new a([])).asyncFilters,c=n.extensionsList;e=e.replace(/\\/g,"/");try{r=s.compile(t,i,c,e,n.opts)}catch(t){throw o(e,!1,t)}return{name:e,template:r}}t.exports={precompile:function(t,e){var n=(e=e||{}).env||new a([]),o=e.wrapper||c;if(e.isString)return l(t,e);var s=r.existsSync(t)&&r.statSync(t),f=[],p=[];if(s.isFile())f.push(h(r.readFileSync(t,"utf-8"),e.name||t,n));else if(s.isDirectory()){!function n(o){r.readdirSync(o).forEach((function(s){var a=i.join(o,s),c=a.substr(i.join(t,"/").length),l=r.statSync(a);l&&l.isDirectory()?u(c+="/",e.exclude)||n(a):u(c,e.include)&&p.push(a)}))}(t);for(var d=0;d<p.length;d++){var m=p[d].replace(i.join(t,"/"),"");try{f.push(h(r.readFileSync(p[d],"utf-8"),m,n))}catch(t){if(!e.force)throw t;console.error(t)}}}return o(f,e)},precompileString:l}},function(t,e,n){"use strict";t.exports=function(t,e){var n="";e=e||{};for(var r=0;r<t.length;r++){var i=JSON.stringify(t[r].name);n+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+i+"] = (function() {\n"+t[r].template+"\n})();\n",e.asFunction&&(n+="return function(ctx, cb) { return nunjucks.render("+i+", ctx, cb); }\n"),n+="})();\n"}return n}},function(t,e,n){t.exports=function(){"use strict";var t,e,n=this.runtime,r=this.lib,i=this.compiler.Compiler,o=this.parser.Parser,s=this.nodes,a=this.lexer,c=n.contextOrFrameLookup,u=n.memberLookup;function l(t){return{index:t.index,lineno:t.lineno,colno:t.colno}}if(i&&(t=i.prototype.assertType),o&&(e=o.prototype.parseAggregate),n.contextOrFrameLookup=function(t,e,n){var r=c.apply(this,arguments);if(void 0!==r)return r;switch(n){case"True":return!0;case"False":return!1;case"None":return null;default:return}},s&&i&&o){var h=s.Node.extend("Slice",{fields:["start","stop","step"],init:function(t,e,n,r,i){n=n||new s.Literal(t,e,null),r=r||new s.Literal(t,e,null),i=i||new s.Literal(t,e,1),this.parent(t,e,n,r,i)}});i.prototype.assertType=function(e){e instanceof h||t.apply(this,arguments)},i.prototype.compileSlice=function(t,e){this._emit("("),this._compileExpression(t.start,e),this._emit("),("),this._compileExpression(t.stop,e),this._emit("),("),this._compileExpression(t.step,e),this._emit(")")},o.prototype.parseAggregate=function(){var t=this,n=l(this.tokens);n.colno--,n.index--;try{return e.apply(this)}catch(e){var i=l(this.tokens),o=function(){return r._assign(t.tokens,i),e};r._assign(this.tokens,n),this.peeked=!1;var c=this.peekToken();if(c.type!==a.TOKEN_LEFT_BRACKET)throw o();this.nextToken();for(var u=new h(c.lineno,c.colno),f=!1,p=0;p<=u.fields.length&&!this.skip(a.TOKEN_RIGHT_BRACKET);p++){if(p===u.fields.length){if(!f)break;this.fail("parseSlice: too many slice components",c.lineno,c.colno)}this.skip(a.TOKEN_COLON)?f=!0:(u[u.fields[p]]=this.parseExpression(),f=this.skip(a.TOKEN_COLON)||f)}if(!f)throw o();return new s.Array(c.lineno,c.colno,[u])}}}function f(t,e,r,i){t=t||[],null===e&&(e=i<0?t.length-1:0),null===r?r=i<0?-1:t.length:r<0&&(r+=t.length),e<0&&(e+=t.length);for(var o=[],s=e;!(s<0||s>t.length||i>0&&s>=r||i<0&&s<=r);s+=i)o.push(n.memberLookup(t,s));return o}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var d={pop:function(t){if(void 0===t)return this.pop();if(t>=this.length||t<0)throw new Error("KeyError");return this.splice(t,1)},append:function(t){return this.push(t)},remove:function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return this.splice(e,1);throw new Error("ValueError")},count:function(t){for(var e=0,n=0;n<this.length;n++)this[n]===t&&e++;return e},index:function(t){var e;if(-1===(e=this.indexOf(t)))throw new Error("ValueError");return e},find:function(t){return this.indexOf(t)},insert:function(t,e){return this.splice(t,0,e)}},m={items:function(){return r._entries(this)},values:function(){return r._values(this)},keys:function(){return r.keys(this)},get:function(t,e){var n=this[t];return void 0===n&&(n=e),n},has_key:function(t){return p(this,t)},pop:function(t,e){var n=this[t];if(void 0===n&&void 0!==e)n=e;else{if(void 0===n)throw new Error("KeyError");delete this[t]}return n},popitem:function(){var t=r.keys(this);if(!t.length)throw new Error("KeyError");var e=t[0],n=this[e];return delete this[e],[e,n]},setdefault:function(t,e){return void 0===e&&(e=null),t in this||(this[t]=e),this[t]},update:function(t){return r._assign(this,t),null}};return m.iteritems=m.items,m.itervalues=m.values,m.iterkeys=m.keys,n.memberLookup=function(t,e,n){return 4===arguments.length?f.apply(this,arguments):(t=t||{},r.isArray(t)&&p(d,e)?d[e].bind(t):r.isObject(t)&&p(m,e)?m[e].bind(t):u.apply(this,arguments))},function(){n.contextOrFrameLookup=c,n.memberLookup=u,i&&(i.prototype.assertType=t),o&&(o.prototype.parseAggregate=e)}}}])},t.exports=e()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{default:()=>Os});var t=n(149);function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}function c(t,n,r){return n=l(n),function(t,n){if(n&&("object"==e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(n,r||[],l(t).constructor):n.apply(t,r))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var f=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{blockType:null,provider:null,isUnknown:!1};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=c(this,e,[o(o({},n),{},{defaultWidth:n.isContainer?186:96,defaultHeight:n.isContainer?160:80,minWidth:n.isContainer?186:96,minHeight:n.isContainer?140:80,reservedWidth:n.isContainer?12:0,reservedHeight:n.isContainer?80:0,margin:15,gap:50})])).blockType=n.blockType||null,t.provider=n.provider||null,t.isUnknown=n.isUnknown||!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(t.ComponentDefinition);const p=f;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(t,e,n){return e=g(e),function(t,e){if(e&&("object"==d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var b=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{linkAttribute:"id"};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=m(this,e,[n])).linkAttribute=n.linkAttribute||"id",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(t.ComponentAttributeDefinition);const _=b;var w={name:"vpc_id",displayName:"VPC ID",containerRef:"aws_vpc",linkAttribute:"id",linkRef:"aws_vpc",linkType:"Default",linkModel:"defaultLink",type:"Link"},x={name:"vpc_id",displayName:"VPC ID",containerRef:"aws_vpc",type:"Reference"},k={name:"tags",displayName:"Tags",description:"A map of tags to assign to the resource.",type:"Object",url:"https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html"},T={name:"security_groups",displayName:"Security groups",description:"List of security group names to associate with.",linkAttribute:"name",linkRef:"aws_security_group",linkType:"Default",linkModel:"defaultLink",type:"Link"},S={name:"subnet_id",displayName:"Subnet ID",linkAttribute:"id",linkRef:"aws_subnet",linkType:"Default",linkModel:"defaultLink",type:"Link"},E={name:"port",displayName:"Port",type:"Number",rules:{max:"65535",min:"1"}};const A=[{blockType:"provider",type:"aws",displayName:"AWS provider",description:"Use the Amazon Web Services (AWS) provider to interact with the many resources supported by AWS.",icon:"aws",model:"DefaultModel",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs",categories:["AWS","Provider"],tags:[],definedAttributes:[{name:"region",displayName:"Region",description:"AWS service endpoints",required:!0,type:"String",url:"https://docs.aws.amazon.com/general/latest/gr/rande.html"},{name:"skip_region_validation",displayName:"Skip region validation",description:"Define if region validation should be skipped or not.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#skip_region_validation"},{name:"access_key",displayName:"Access key",description:"The ID of the access key to allow Terraform requests to authenticate with.",type:"String",url:"https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html"},{name:"secret_key",displayName:"Secret key",description:"The secret key to allow Terraform requests to authenticate with.",type:"String",url:"https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html"},{name:"token",displayName:"Token",description:"Used to validate session temporary credentials.",type:"String",url:"https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html"},{name:"allowed_account_ids",displayName:"Allowed Account IDs",description:"List of allowed AWS account IDs to prevent you from mistakenly<br>using an incorrect one (and potentially end up destroying a live environment).",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#allowed_account_ids"},{name:"forbidden_account_ids",displayName:"Forbidden Account IDs",description:"List of forbidden AWS account IDs to prevent you from mistakenly<br>using an incorrect one (and potentially end up destroying a live environment).",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#forbidden_account_ids"},{name:"skip_requesting_account_id",displayName:"Skip requesting account ID",description:"Whether to skip requesting the account ID or not.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#skip_requesting_account_id"},{name:"custom_ca_bundle",displayName:"Custom Certificate Authority (CA) bundle",description:"File containing custom root and intermediate certificates.",type:"String",url:"https://docs.aws.amazon.com/privateca/latest/userguide/PcaWelcome.html"},{name:"insecure",displayName:"Insecure",description:'Whether to explicitly allow the provider to perform "insecure" SSL requests or not.',type:"Boolean",url:"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html"},{name:"ec2_metadata_service_endpoint",displayName:"EC2 metadata service (IMDS) endpoint",description:"Address of the EC2 metadata service (IMDS) endpoint to use.",type:"String",url:"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/environments-cfg-ec2-imds.html"},{name:"ec2_metadata_service_endpoint_mode",displayName:"EC2 metadata service (IMDS) endpoint mode",description:"Communication mode to use with the metadata service.",type:"String",url:"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/environments-cfg-ec2-imds.html",rules:{values:["IPv4","IPv6"]}},{name:"http_proxy",displayName:"HTTP proxy",description:"Address of an HTTP proxy to use when accessing the AWS API.",type:"String",url:"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-http.html",rules:{regex:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)"}},{name:"max_retries",displayName:"Max retries",description:"Maximum number of times an API call is retried when AWS throttles requests or on transient failures.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#max_retries"},{name:"profile",displayName:"Profile",description:"AWS profile name as set in the shared configuration and credentials files.",type:"String",url:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html"},{name:"shared_config_files",displayName:"Shared config files",description:"List of paths to AWS shared config files.",type:"String",url:"https://docs.aws.amazon.com/sdkref/latest/guide/file-format.html"},{name:"shared_credentials_files",displayName:"Shared credentials files",description:"List of paths to the shared credentials files.",type:"String",url:"https://docs.aws.amazon.com/sdkref/latest/guide/file-format.html"},{name:"skip_credentials_validation",displayName:"Skip credentials validation",description:"Whether to skip credentials validation via the STS API or not.",type:"Boolean",url:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp.html"},{name:"sts_region",displayName:"Security Token Service (STS) region",description:"AWS region for Security Token Service (STS)",type:"String",url:"https://docs.aws.amazon.com/STS/latest/APIReference/welcome.html"},{name:"s3_use_path_style",displayName:"Use path-style for S3",description:"Whether to enable the request to use path-style addressing or not<br>i.e., https://s3.amazonaws.com/BUCKET/KEY.",type:"Boolean",url:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html"},{name:"skip_metadata_api_check",displayName:"Skip metadata API check",description:"Whether to skip the AWS Metadata API check or not.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#skip_metadata_api_check"},{name:"use_dualstack_endpoint",displayName:"Use dual-stack endpoint",description:"Force the provider to resolve endpoints with DualStack capability.",type:"Boolean",url:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/dual-stack-endpoints.html"},{name:"use_fips_endpoint",displayName:"Use FIPS endpoint",description:"Force the provider to resolve endpoints with FIPS capability.",type:"Boolean",url:"https://aws.amazon.com/compliance/fips/"},{name:"assume_role",displayName:"Assume role",description:"Set of temporary security credentials that you can use to access AWS resources.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#assume_role",definedAttributes:[{name:"duration",displayName:"Duration",description:"Duration of the assume role session.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#duration"},{name:"external_id",displayName:"External ID",description:"External identifier to use when assuming the role.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#external_id"},{name:"policy",displayName:"Policy",description:"IAM Policy JSON describing further restricting permissions for the IAM Role being assumed.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#policy"},{name:"policy_arns",displayName:"Policy ARNs",description:"Set of Amazon Resource Names (ARNs) of IAM Policies describing further restricting permissions for the IAM Role being assumed.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#policy_arns"},{name:"role_arn",displayName:"Role ARN",description:"ARN of the IAM Role to assume. Can also be set with the AWS_ROLE_ARN environment variable.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#role_arn"},{name:"session_name",displayName:"Session name",description:"Session name to use when assuming the role. Can also be set with the AWS_ROLE_SESSION_NAME environment variable.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#session_name"},{name:"source_identity",displayName:"Source identity",description:"Source identity specified by the principal assuming the role.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#source_identity"},k,{name:"transitive_tag_keys",displayName:"Transitive tag keys",description:"Set of assume role session tag keys to pass to any subsequent sessions.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#transitive_tag_keys"}]},{name:"assume_role_with_web_identity",displayName:"Assume role with web identity",description:"Configuration block for assuming an IAM role using a web identity.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#assume_role_with_web_identity",definedAttributes:[{name:"duration",displayName:"Duration",description:"Duration of the assume role session.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#duration"},{name:"policy",displayName:"Policy",description:"IAM Policy JSON describing further restricting permissions for the IAM Role being assumed.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#policy"},{name:"policy_arns",displayName:"Policy ARNs",description:"Set of Amazon Resource Names (ARNs) of IAM Policies describing further restricting permissions for the IAM Role being assumed.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#policy_arns"},{name:"role_arn",displayName:"Role ARN",description:"ARN of the IAM Role to assume. Can also be set with the AWS_ROLE_ARN environment variable.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#role_arn"},{name:"session_name",displayName:"Session name",description:"Session name to use when assuming the role. Can also be set with the AWS_ROLE_SESSION_NAME environment variable.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#session_name"},{name:"web_identity_token",displayName:"Web identity token",description:"Value of a web identity token from an OpenID Connect (OIDC) or OAuth provider. One of web_identity_token or web_identity_token_file is required.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#web_identity_token"},{name:"web_identity_token_file",displayName:"Web identity token file",description:"File containing a web identity token from an OpenID Connect (OIDC) or OAuth provider. One of web_identity_token_file or web_identity_token is required. Can also be set with the AWS_WEB_IDENTITY_TOKEN_FILE environment variable.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#web_identity_token_file"}]},{name:"default_tags",displayName:"Default tags",description:"You can assign metadata to your AWS resources in the form of tags.<br>Each tag is a label consisting of a user-defined key and value.<br>Tags can help you manage, identify, organize, search for, and filter resources.",type:"Object",url:"https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html",definedAttributes:[k]},{name:"ignore_tags",displayName:"Ignore tags",description:"Configuration block with resource tag settings to ignore across all resources handled by this provider<br>(except any individual service tag resources such as aws_ec2_tag)<br>for situations where external systems are managing certain resource tags.",type:"Object",url:"https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html",definedAttributes:[{name:"keys",displayName:"Keys",description:"List of exact resource tag keys to ignore across all resources handled by this provider.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#keys"},{name:"key_prefixes",displayName:"Key prefixes",description:"List of resource tag key prefixes to ignore across all resources handled by this provider.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#key_prefixes"}]},{name:"endpoints",displayName:"Endpoints",description:"Configure the Terraform AWS Provider to use customized endpoints.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/guides/custom-service-endpoints"}]}];function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function L(t,e,n){return(e=function(t){var e=function(t){if("object"!=O(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==O(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const R=[{type:"aws_vpc",blockType:"resource",provider:"aws",displayName:"Virtual Private Cloud (VPC)",description:"Amazon Virtual Private Cloud (Amazon VPC) enables you to launch AWS resources into a virtual network that you've defined.",icon:"Aws_Virtual-Private-Cloud",isContainer:!0,model:"DefaultContainer",url:"https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html",categories:["AWS","Networking"],tags:[],definedAttributes:[{name:"cidr_block",displayName:"CIDR block",description:"IPv4 CIDR block of the desired VPC.",type:"String",url:"https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html",rules:{regex:"^([0-9]{1,3}\\.){3}[0-9]{1,3}(\\/([0-9]|[1-2][0-9]|3[0-2]))?$"}},{name:"ipv4_ipam_pool_id",displayName:"IPv4 IPAM pool ID",description:"ID of an IPv4 IPAM pool you want to use for allocating this VPC's CIDR.",type:"String",url:"https://docs.aws.amazon.com/vpc/latest/ipam/what-it-is-ipam.html"},{name:"ipv4_netmask_length",displayName:"IPv4 netmask length",description:"Netmask length of the IPv4 CIDR you want to allocate to this VPC.",type:"Number",url:"https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html",rules:{max:32,min:1}},{name:"ipv6_cidr_block",displayName:"IPv6 CIDR block",description:"IPv6 CIDR block to request from an IPAM Pool.",type:"String",url:"https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html",rules:{regex:"[a-fA-F0-9]{4}(:[a-fA-F0-9]{4}){7}"}},{name:"ipv6_ipam_pool_id",displayName:"IPv6 IPAM pool ID",description:"IPAM Pool ID for a IPv6 pool",type:"String",url:"https://docs.aws.amazon.com/vpc/latest/ipam/what-it-is-ipam.html"},{name:"ipv6_netmask_length",displayName:"IPv6 netmask length",description:"Netmask length to request from IPAM Pool.",type:"Number",url:"https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html",rules:{values:[56]}},{name:"ipv6_cidr_block_network_border_group",displayName:"IPv6 CIDR block network border group",description:"Restrict advertisement of public addresses to specific Network Border Groups such as LocalZones.",type:"String",url:"https://docs.aws.amazon.com/vpc/latest/userguide/Extend_VPCs.html"},{name:"instance_tenancy",displayName:"Instance tenancy",description:"Allowed tenancy of instances launched into the selected VPC.",type:"String",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/dedicated-instance.html",rules:{values:["default","dedicated"]}},{name:"enable_dns_support",displayName:"Enable DNS support",description:"Enable DNS support in the VPC.",type:"Boolean",url:"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html"},{name:"enable_dns_hostnames",displayName:"Enable DNS hostnames",description:"Enable DNS hostnames in the VPC.",type:"Boolean",url:"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html"},{name:"enable_classiclink",displayName:"Enable ClassicLink",description:"Enable ClassicLink for the VPC, allowing you to link EC2-Classic instances to the VPC.",type:"Boolean",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/vpc-classiclink.html"},{name:"enable_classiclink_dns_support",displayName:"Enable ClassicLink DNS support",description:"Enable ClassicLink DNS Support for the VPC.<br>If set to true, DNS hostnames that are addressed between linked EC2-Classic instances and instances in the VPC will resolve to private IP addresses.",type:"Boolean",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/vpc-classiclink.html"},{name:"assign_generated_ipv6_cidr_block",displayName:"Assign generated IPv6 CIDR block",description:"Requests an Amazon-provided IPv6 CIDR block with a /56 prefix length for the VPC.",type:"Boolean",url:"https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html"},{name:"enable_network_address_usage_metrics",displayName:"Enable network address usage metrics",description:"Enable network address usage metrics for the VPC.",type:"Boolean",url:"https://docs.aws.amazon.com/vpc/latest/userguide/network-address-usage.html"},k]},{type:"aws_subnet",blockType:"resource",provider:"aws",displayName:"Subnet",description:"A subnet is a range of IP addresses in your VPC. You can launch AWS resources into your subnets.",icon:"Aws_Mesh",model:"DefaultModel",url:"https://docs.aws.amazon.com/vpc/latest/userguide/configure-subnets.html",categories:["AWS","Networking"],tags:[],definedAttributes:[C(C({},x),{},{description:"The VPC ID to create the subnet in.",required:!0,url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#vpc_id"}),{name:"gateway_id",type:"Link",linkAttribute:"id",linkRef:"aws_internet_gateway",linkType:"Default",linkModel:"defaultLink"},{name:"availability_zone",displayName:"Availability zone",description:"The Availability Zone for the subnet.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#availability_zone"},{name:"availability_zone_id",displayName:"Availability zone ID",description:"The ID of the Availability Zone for the subnet.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#availability_zone_id"},{name:"cidr_block",displayName:"CIDR block",description:"IPv4 CIDR block for the subnet",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#cidr_block",rules:{regex:"^([0-9]{1,3}\\.){3}[0-9]{1,3}(\\/([0-9]|[1-2][0-9]|3[0-2]))?$"}},{name:"customer_owned_ipv4_pool",displayName:"Customer owned IPv4 pool",description:"The ID of an address pool that you own.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#customer_owned_ipv4_pool"},{name:"map_customer_owned_ip_on_launch",displayName:"Map customer owned IP on launch",description:"Specify true to indicate that network interfaces created in the subnet should be assigned a customer owned IP address.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#map_customer_owned_ip_on_launch"},{name:"map_customer_ip_on_launch",displayName:"Map customer IP on launch",description:"Specify true to indicate that instances launched into the subnet should be assigned a public IP address.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#map_public_ip_on_launch"},{name:"enable_dns64",displayName:"Enable DNS64",description:"Whether DNS queries made to the Amazon-provided DNS Resolver<br>in this subnet should return synthetic IPv6 addresses for IPv4-only destinations.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#enable_dns64"},{name:"assign_ipv6_address_on_creation",displayName:"Assign IPv6 address on creation",description:"Specify true to indicate that network interfaces created in the specified subnet should be assigned an IPv6 address.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#assign_ipv6_address_on_creation"},{name:"ipv6_cidr_block",displayName:"IPv6 CIDR block",description:"The IPv6 network range for the subnet, in CIDR notation",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#ipv6_cidr_block",rules:{regex:"[a-fA-F0-9]{4}(:[a-fA-F0-9]{4}){7}"}},{name:"ipv6_native",displayName:"IPv6 native",description:"Whether to create an IPv6-only subnet.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#ipv6_native"},{name:"enable_resource_name_dns_a_record_on_launch",displayName:"Enable ressource name DNS A record on launch",description:"Whether to respond to DNS queries for instance hostnames with DNS A records.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#enable_resource_name_dns_a_record_on_launch"},{name:"enable_resource_name_dns_aaaa_record_on_launch",displayName:"Enable ressource name DNS AAAA record on launch",description:"Whether to respond to DNS queries for instance hostnames with DNS AAAA records.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#enable_resource_name_dns_aaaa_record_on_launch"},{name:"private_dns_hostname_type_on_launch",displayName:"Private DNS hostname type on launch",description:"The type of hostnames to assign to instances in the subnet at launch.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#private_dns_hostname_type_on_launch"},{name:"outpost_arn",displayName:"Outpost Amazon Resource Name (ARN)",description:"Amazon Resource Name (ARN) of the Outpost",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#outpost_arn"},C(C({},k),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#tags"})]},{type:"aws_db_subnet_group",blockType:"resource",provider:"aws",displayName:"AWS DB subnet group",description:"A collection of subnets that you create in a VPC and that you then designate for your DB instances.",icon:"AwsDbSubnetGroup",model:"DefaultModel",url:"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_VPC.WorkingWithRDSInstanceinaVPC.html#USER_VPC.Subnets",categories:["AWS","Networking"],tags:[],definedAttributes:[{name:"subnet_ids",displayName:"Subnet IDs",description:"A list of VPC subnet IDs.",linkRef:"aws_subnet",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html"}]},{type:"aws_route",blockType:"resource",provider:"aws",displayName:"AWS route",description:"Contains a set of rules, called routes, that determine where network traffic from your subnet or gateway is directed.",icon:"Aws_Route-53",model:"DefaultModel",url:"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html",categories:["AWS","Networking"],tags:[],definedAttributes:[{name:"route_table_id",displayName:"Route table ID",description:"The ID of the routing table.",containerRef:"aws_route",required:!0,type:"Reference",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route#route_table_id"},{name:"gateway_id",displayName:"Gateway ID",description:"Identifier of a VPC internet gateway or a virtual private gateway.",linkAttribute:"id",linkRef:"aws_internet_gateway",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route#gateway_id"}]},{type:"aws_route_table",blockType:"resource",provider:"aws",displayName:"Route table",description:"A route table contains a set of rules, called routes, that determine where network traffic from your subnet or gateway is directed.",icon:"Aws_Route-53_Route-Table",model:"DefaultModel",url:"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html",categories:["AWS","Networking"],tags:[],definedAttributes:[C(C({},x),{},{description:"The ID of the VPC for which to create the route table.",required:!0,url:"https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html"}),{name:"propagating_vgws",displayName:"Propagating Virtual GateWays (VGWS)",description:"List of virtual gateways for propagation",type:"Array",url:"https://docs.aws.amazon.com/directconnect/latest/UserGuide/virtualgateways.html"},k]},{type:"aws_route_table_association",blockType:"resource",provider:"aws",displayName:"Route table association",description:"Association between a route table and a subnet, internet gateway, or virtual private gateway.",icon:"Aws_Connector",model:"DefaultModel",url:"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html",categories:["AWS","Networking"],tags:[],definedAttributes:[C(C({},x),{},{description:"The ID of the VPC for which to create the route table association.",url:"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html"}),{name:"route_table_id",displayName:"Route table ID",description:"The ID of the route table to associate the subnet with.",linkRef:"aws_route_table",linkType:"Reverse",linkModel:"defaultLink",required:!0,type:"Link",url:"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html"},{name:"gateway_id",displayName:"Gateway ID",description:"The ID of the gateway to associate the route table with. Conflicts with subnet_id.",linkRef:"aws_internet_gateway",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html"},C(C({},S),{},{description:"The ID of the subnet to associate the route table with. Conflicts with gateway_id.",url:"https://docs.aws.amazon.com/vpc/latest/userguide/configure-subnets.html"})]},{type:"aws_internet_gateway",blockType:"resource",provider:"aws",displayName:"Internet gateway",description:"An internet gateway is a horizontally scaled, redundant, and highly available VPC component<br>that allows communication between your VPC and the internet.",icon:"Aws_VPC_Internet-Gateway",model:"DefaultModel",url:"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html",categories:["AWS","Networking"],tags:[],definedAttributes:[C(C({},x),{},{description:"The VPC ID to create the gateway in.",url:"https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html"}),k]}];function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function D(t,e,n){return(e=function(t){var e=function(t){if("object"!=P(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==P(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const j=[{type:"aws_security_group",blockType:"resource",provider:"aws",displayName:"Security group",description:"A security group controls the traffic that is allowed to reach and leave the resources that it is associated with.",icon:"AwsSecurityGroup",model:"DefaultModel",url:"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html",categories:["AWS","Security"],tags:[],definedAttributes:[{name:"description",displayName:"Description",description:"Description of the security group.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#description"},{name:"name",displayName:"Name",description:"Name of the security group.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#name"},{name:"name_prefix",displayName:"Name prefix",description:"Creates a unique name beginning with the specified prefix.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#name_prefix"},{name:"revoke_rules_on_delete",displayName:"Revoke rules on delete",description:"Instruct Terraform to revoke all of the Security Groups attached ingress and egress rules before deleting the rule itself.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#revoke_rules_on_delete"},M(M({},w),{},{description:"The ID of the VPC for which to create the security group.",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#vpc_id"}),{name:"egress",displayName:"Egress",description:"Configuration block for egress rules",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#egress",definedAttributes:[{name:"from_port",displayName:"From port",description:"Start port (or ICMP type number if protocol is icmp).",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#from_port"},{name:"to_port",displayName:"To port",description:"End port (or ICMP code if protocol is icmp).",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#to_port"},{name:"protocol",displayName:"Protocol",description:"The protocol. If not icmp, tcp, udp, or all use the -1 protocol number.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#protocol"},{name:"cidr_blocks",displayName:"CIDR blocks",description:"List of CIDR blocks.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#cidr_blocks"},{name:"ipv6_cidr_blocks",displayName:"IPv6 CIDR blocks",description:"List of IPv6 CIDR blocks.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#ipv6_cidr_blocks"}]},{name:"ingress",displayName:"Ingress",description:"Configuration block for Ingress rules",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#ingress",definedAttributes:[{name:"from_port",displayName:"From port",description:"Start port (or ICMP type number if protocol is icmp).",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#from_port"},{name:"to_port",displayName:"To port",description:"End port (or ICMP code if protocol is icmp).",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#to_port"},{name:"protocol",displayName:"Protocol",description:"The protocol. If not icmp, tcp, udp, or all use the -1 protocol number.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#protocol"},{name:"cidr_blocks",displayName:"CIDR blocks",description:"List of CIDR blocks.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#cidr_blocks"},{name:"ipv6_cidr_blocks",displayName:"IPv6 CIDR blocks",description:"List of IPv6 CIDR blocks.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#ipv6_cidr_blocks"}]},k]},{type:"aws_key_pair",blockType:"resource",provider:"aws",displayName:"AWS key pair",description:"A set of security credentials to prove your identity when connecting to an Amazon EC2 instance.",icon:"Aws_Identity-Access-Management_Long-Term-Security-Credential",model:"DefaultModel",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html",categories:["AWS","Security"],tags:[],definedAttributes:[{name:"key_name",displayName:"Key name",description:"The name for the key pair.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/key_pair#key_name"},{name:"public_key",displayName:"Public key",description:"The public key material.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/key_pair#public_key"},{name:"key_name_prefix",displayName:"Key name prefix",description:"Creates a unique name beginning with the specified prefix.<br>Conflicts with key_name.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/key_pair#key_name_prefix"},M(M({},k),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/key_pair#tags"})]}];function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return(e=function(t){var e=function(t){if("object"!=B(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const V=[{type:"aws_instance",blockType:"resource",provider:"aws",displayName:"EC2 Instance",description:"Provides an EC2 instance resource.",icon:"Aws_EC2-Instance",model:"DefaultModel",url:"https://docs.aws.amazon.com/ec2/index.html",categories:["AWS","Compute"],tags:[],definedAttributes:[U(U({},T),{},{linkType:"Reverse",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance#security_groups"}),{name:"vpc_security_group_ids",displayName:"VPC security group IDs",description:"List of security group IDs to associate with.",linkAttribute:"id",linkRef:"aws_security_group",linkType:"Reverse",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance#vpc_security_group_ids"},U(U({},S),{},{description:"The VPC Subnet ID to launch in.",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance#subnet_id"})]},{type:"aws_launch_configuration",blockType:"resource",provider:"aws",displayName:"Launch configuration",description:"A launch configuration is an instance configuration template that an Auto Scaling group uses to launch EC2 instances.<br>When you create a launch configuration, you specify information for the instances.",icon:"Aws_Launch-Configuration",model:"DefaultModel",url:"https://docs.aws.amazon.com/autoscaling/ec2/userguide/launch-configurations.html",categories:["AWS","Compute"],tags:[],definedAttributes:[{name:"image_id",displayName:"Image ID",description:"The EC2 image ID to launch.",linkRef:"aws_ami",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#image_id"},{name:"instance_type",displayName:"Instance type",description:"The size of instance to launch.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#instance_type"},{name:"iam_instance_profile",displayName:"IAM instance profile",description:"The name attribute of the IAM instance profile to associate with launched instances.",type:"String",url:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2_instance-profiles.html"},{name:"associate_public_ip_address",displayName:"Associate public IP address",description:"Associate a public ip address with an instance in a VPC.",type:"Boolean",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html"},{name:"enable_monitoring",displayName:"Enable monitoring",description:"Enables/disables detailed monitoring.",type:"Boolean",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring_ec2.html"},{name:"key_name",displayName:"Key name",description:"The key name that should be used for the instance.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#key_name"},{name:"name",displayName:"Name",description:"The name of the launch configuration.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#name"},{name:"name_prefix",displayName:"Name prefix",description:"Creates a unique name beginning with the specified prefix.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#name_prefix"},U(U({},T),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#security_groups"}),{name:"placement_tenancy",displayName:"Placement tenancy",description:"The tenancy of the instance.",type:"String",url:"https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_CreateLaunchConfiguration.html",rules:{values:["enabled","disabled"]}},{name:"spot_price",displayName:"Spot price",description:"The maximum price to use for reserving spot instances.",type:"Number",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-instances.html"},{name:"user_data",displayName:"User data",description:'The user data to provide when launching the instance.<br>If you need to pass gzip-compressed data via this argument, use "user_data_base64" instead.',type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#user_data"},{name:"user_data_base64",displayName:"User data base64",description:'Can be used instead of "user_data" to pass base64-encoded binary data directly,<br>whenever the value is not a valid UTF-8 string.',type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#user_data_base64"},{name:"vpc_classic_link_id",displayName:"VPC ClassicLink ID",description:"The ID of a ClassicLink-enabled VPC.",linkRef:"aws_vpc",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html"},{name:"vpc_classic_link_security_groups",displayName:"VPC ClassicLink security groups",description:"The IDs of one or more security groups for the specified ClassicLink-enabled VPC.",linkRef:"aws_security_group",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html"},{name:"ebs_optimized",displayName:"EBS optimized",description:"If true, the launched EC2 instance will be EBS-optimized.",type:"Boolean",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-optimized.html"},{name:"ebs_block_device",displayName:"EBS block device",description:"Additional EBS block devices to attach to the instance.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#ebs_block_device",definedAttributes:[{name:"device_name",displayName:"Device name",description:"The name of the device to mount.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#device_name"},{name:"snapshot_id",displayName:"Snapshot ID",description:"The Snapshot ID to mount.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#snapshot_id"},{name:"volume_size",displayName:"Volume size",description:"The size of the volume in gigabytes.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#volume_size"},{name:"volume_type",displayName:"Volume type",description:"The type of volume.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration#volume_type",rules:{values:["standard","gp2","gp3","st1","sc1","io1"]}},{name:"iops",displayName:"IOPS",description:'The amount of provisioned Input/output Operations Per Second (IOPS). This must be set with a volume_type of "io1".',type:"Number",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-io-characteristics.html"},{name:"throughput",displayName:"Throughput",description:"The throughput (MiBps) to provision for a gp3 volume.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#throughput"},{name:"delete_on_termination",displayName:"Delete on termination",description:"Whether the volume should be destroyed on instance termination.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#delete_on_termination"},{name:"encrypted",displayName:"Encrypted",description:"Whether the volume should be encrypted or not.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#encrypted"},{name:"no_device",displayName:"No device",description:"Whether the device in the block device mapping of the AMI is suppressed.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#no_device"}]},{name:"ephemeral_block_device",displayName:"Ephemeral block device",description:'Customize Ephemeral (also known as "Instance Store") volumes on the instance.',type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#ephemeral_block_device",definedAttributes:[{name:"device_name",displayName:"Device name",description:"The name of the block device to mount on the instance.",required:"true",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#ephemeral_block_device"},{name:"no_device",displayName:"No device",description:"Whether the device in the block device mapping of the AMI is suppressed.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#ephemeral_block_device"},{name:"virtual_name",displayName:"Virtual name",description:"The Instance Store Device Name.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#virtual_name"}]},{name:"metadata_options",displayName:"Metadata options",description:"The metadata options for the instance.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration#metadata_options",definedAttributes:[{name:"http_endpoint",displayName:"HTTP endpoint",description:"The state of the metadata service: enabled, disabled.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration#http_endpoint",rules:{values:["enabled","disabled"]}},{name:"http_tokens",displayName:"HTTP tokens",description:"Whether the HTTP tokens are required.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration#http_tokens",rules:{values:["optional","required"]}},{name:"http_put_response_hop_limit",displayName:"HTTP PUT response hop limit",description:"The desired HTTP PUT response hop limit for instance metadata requests.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration#http_put_response_hop_limit"}]},{name:"root_block_device",displayName:"Root block device",description:"Customize details about the root block device of the instance.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device",definedAttributes:[{description:"Whether the volume should be destroyed on instance termination.",displayName:"Delete on termination",name:"delete_on_termination",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"},{description:"Whether the volume should be encrypted or not. Defaults to false.",displayName:"Encrypted",name:"encrypted",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"},{description:"The amount of provisioned IOPS.",displayName:"IOPS",name:"iops",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"},{description:"The throughput (MiBps) to provision for a gp3 volume.",displayName:"Throughput",name:"throughput",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"},{description:"The size of the volume in gigabytes.",displayName:"Volume",name:"volume_size",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"},{displayName:"Volume type",name:"volume_type",rules:{values:["standard","gp2","gp3","st1","sc1","io1"]},type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"}]}]},{type:"aws_autoscaling_group",blockType:"resource",provider:"aws",displayName:"Auto Scaling Group",description:"Provides an Auto Scaling Group resource.",icon:"Aws_Auto-Scaling",model:"DefaultModel",url:"https://docs.aws.amazon.com/autoscaling/ec2/userguide/auto-scaling-groups.html",categories:["AWS","Compute"],tags:[],definedAttributes:[{name:"name",displayName:"Name",description:"Name of the Auto Scaling Group.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#name"},{name:"min_size",displayName:"Min Size",description:"Minimum size of the Auto Scaling Group.",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#min_size"},{name:"max_size",displayName:"Max Size",description:"Maximum size of the Auto Scaling Group.",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#max_size"},{name:"deired_capacity",displayName:"Desired Capacity",description:"Number of Amazon EC2 instances that should be running in the group.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#desired_capacity"},{name:"health_check_type",displayName:"Health Check Type",description:"Controls how health checking is done.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#health_check_type",rules:{values:["EC2","ELB"]}},{name:"target_group_arns",displayName:"Target Group ARNs",description:"Set of aws_alb_target_group ARNs, for use with Application or Network Load Balancing.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#target_group_arns"}]},{type:"aws_autoscaling_policy",blockType:"resource",provider:"aws",displayName:"Autoscaling policy",description:"Provides an Auto Scaling policy resource.",icon:"Aws_Auto-Scaling",model:"DefaultModel",url:"https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-scaling-simple-step.html",categories:["AWS","Compute"],tags:[],definedAttributes:[{name:"name",displayName:"Name",description:"Name of the policy.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#name"},{name:"autoscaling_group_name",displayName:"Autoscaling group name",description:"Name of the autoscaling group.",linkRef:"aws_autoscaling_group",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#autoscaling_group_name"},{name:"adjustment_type",displayName:"Adjustment type",description:"Whether the adjustment is an absolute number or a percentage of the current capacity.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#adjustment_type",rules:{values:["ChangeInCapacity","ExactCapacity","PercentChangeInCapacity"]}},{name:"policy_type",displayName:"Policy type",description:"Policy type",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#policy_type",rules:{values:["SimpleScaling","StepScaling","TargetTrackingScaling","PredictiveScaling"]}},{name:"cooldown",displayName:"Cooldown",description:"Amount of time, in seconds, after a scaling activity completes and before the next scaling activity can start.<br>Only available for SimpleScaling policies.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#cooldown"},{name:"scaling_adjustment",displayName:"Scaling adjustment",description:"Number of instances by which to scale.<br>Only available for SimpleScaling policies.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#scaling_adjustment"},{name:"estimated_instance_warmup",displayName:"Estimated instance warmup",description:"Estimated time, in seconds, until a newly launched instance can contribute to the CloudWatch metrics.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#estimated_instance_warmup"},{name:"enabled",displayName:"Enabled",description:"Whether the policy should be enabled.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#enabled"},{name:"min_adjustment_magnitude",displayName:"Min adjustment magnitude",description:"Minimum value to scale by when adjustment_type is set to PercentChangeInCapacity.<br>Only valid when policy_type is SimpleScaling or StepScalling.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#min_adjustment_magnitude"},{name:"metric_aggregation_type",displayName:"Metric aggregation type",description:"The aggregation type for the CloudWatch metrics.<br>Only valid when policy_type is StepScaling.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#metric_aggregation_type",rules:{values:["Average","Minimum","Maximum"]}},{name:"step_adjustment",displayName:"Step adjustment",description:"A list of step adjustments.<br>Only valid when policy_type is StepScaling.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#step_adjustment",definedAttributes:[{name:"metric_interval_lower_bound",displayName:"Metric interval lower bound",description:"The lower bound for the difference between the alarm threshold and the CloudWatch metric.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#metric_interval_lower_bound"},{name:"metric_interval_upper_bound",displayName:"Metric interval upper bound",description:"The upper bound for the difference between the alarm threshold and the CloudWatch metric.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#metric_interval_upper_bound"},{name:"scaling_adjustment",displayName:"Scaling adjustment",description:"The number of members by which to scale.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#scaling_adjustment"}]}]}];function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t,e,n){return(e=function(t){var e=function(t){if("object"!=K(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==K(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const G=[{type:"aws_ebs_volume",blockType:"resource",provider:"aws",displayName:"EBS Volume",description:"A durable, block-level storage device that you can attach to your instances.",icon:"Aws_Elastic-Block-Store_Volume",model:"DefaultModel",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volumes.html",categories:["AWS","Storage"],tags:[],definedAttributes:[{name:"availability_zone",displayName:"Availability zone",description:"The Availability Zone where the EBS volume will exist.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ebs_volume#availability_zone"}]},{type:"aws_volume_attachment",blockType:"resource",provider:"aws",displayName:"AWS volume attachment",description:"Attach an EBS volume to one or more instances",icon:"Aws_Elastic-Block-Store_Volume",model:"DefaultModel",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html",categories:["AWS","Storage"],tags:[],definedAttributes:[{name:"device_name",displayName:"Device name",description:"The device name to expose to the instance (for example, /dev/sdh or xvdh).",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/volume_attachment#device_name"},{name:"volume_id",displayName:"Volume ID",description:"The ID of the Volume to attach to.",linkAttribute:"id",linkRef:"aws_ebs_volume",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/volume_attachment#volume_id"},{name:"instance_id",displayName:"Instance ID",description:"The ID of the Instance to attach to.",linkAttribute:"id",linkRef:"aws_instance",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/volume_attachment#instance_id"}]},{type:"aws_s3_bucket",blockType:"resource",provider:"aws",displayName:"S3 bucket",description:"Amazon Simple Storage Service (Amazon S3) is an object storage service.",icon:"Aws_Storage-Service_Bucket",model:"DefaultModel",url:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html",categories:["AWS","Storage"],tags:[],definedAttributes:[{name:"bucket",displayName:"Bucket name",description:"The name of the bucket.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket#bucket",rules:{max:63,min:1}},{name:"bucket_prefix",displayName:"Bucket prefix",description:"Creates a unique bucket name beginning with the specified prefix.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket#bucket_prefix",rules:{max:63,min:1}},{name:"force_destroy",displayName:"Force destroy",description:"Indicates if all objects (including any locked objects) should be deleted from the bucket<br>when the bucket is destroyed so that the bucket can be destroyed without error.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket#force_destroy"},{name:"object_lock_enabled",displayName:"Object lock enabled",description:"Indicates whether this bucket has an Object Lock configuration enabled.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket#object_lock_enabled"},q(q({},k),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket#tags"})]},{type:"aws_s3_bucket_acl",blockType:"resource",provider:"aws",displayName:"S3 bucket Access Control List (ACL)",description:"Amazon S3 access control lists (ACLs) enable you to manage access to buckets and objects.",icon:"Aws_Storage-Service_Bucket-ACL",model:"DefaultModel",url:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/acls.html",categories:["AWS","Storage"],tags:[],definedAttributes:[{name:"bucket",displayName:"Bucket",description:"The name of the bucket to put the ACL in.",linkRef:"aws_s3_bucket",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_acl#bucket"},{name:"acl",displayName:"ACL",description:"ACL to apply to the bucket<br>Conflicts with access_control_policy",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_acl#acl"},{name:"expected_bucket_owner",displayName:"Bucket owner",description:"Account ID of the expected bucket owner",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_acl#expected_bucket_owner"}]},{type:"aws_efs_file_system",blockType:"resource",provider:"aws",displayName:"EFS File System",description:"Provides an Elastic File System (EFS) File System resource.",icon:"Amazon-EFS",model:"DefaultModel",url:"https://aws.amazon.com/efs/?nc1=h_ls",categories:["AWS","Storage"],tags:[],definedAttributes:[{name:"arn",displayName:"ARN",description:"Amazon Resource Name (ARN) of the file system.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#arn"},{name:"availability_zone_name",displayName:"Availability zone name",description:"The AWS Availability Zone in which to create the file system.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#availability_zone_name"},{name:"availability_zone_id",displayName:"Availability zone ID",description:"The identifier of the Availability Zone in which the file system's One Zone storage classes exist.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#availability_zone_id"},{name:"creation_token",displayName:"Creation token",description:"A unique name used as reference when creating the Elastic File System to ensure idempotent file system creation.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#creation_token",rules:{max:"64",min:"1"}},{name:"encrypted",displayName:"Encrypted",description:"If true, the disk will be encrypted.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#encrypted"},{name:"kms_key_id",displayName:"Encrypted",description:"Amazon Resource Name (ARN) for the Key Management Service (KMS) encryption key.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#kms_key_id"},{name:"lifecycle_policy",displayName:"Lifecycle policy",description:"A file system lifecycle policy",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#lifecycle_policy",definedAttributes:[{name:"transition_to_ia",displayName:"Transition to IA",description:"Indicates how long it takes to transition files to the IA storage class.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#transition_to_ia",rules:{values:["AFTER_1_DAY","AFTER_7_DAYS","AFTER_14_DAYS","AFTER_30_DAYS","AFTER_60_DAYS","AFTER_90_DAYS"]}},{name:"transition_to_primary_storage_class",displayName:"Transition to primary storage class",description:"Describes the policy used to transition a file from infrequent access storage to primary storage.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#transition_to_primary_storage_class",rules:{values:["AFTER_1_ACCESS"]}}]},{name:"performance_mode",displayName:"Performance mode",description:"The file system performance mode.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#performance_mode",rules:{values:["generalPurpose","maxIO"]}},{name:"provisioned_throughput_in_mibps",displayName:"Provisioned throughput in Mibps",description:"The throughput, measured in MiB/s, that you want to provision for the file system.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#provisioned_throughput_in_mibps"},{name:"throughput_mode",displayName:"Throughput mode",description:"Throughput mode for the file system.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#throughput_mode",rules:{values:["bursting","provisioned","elastic"]}},{name:"size_in_bytes",displayName:"Size in bytes",description:"Current byte count used by the file system.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/efs_file_system#size_in_bytes"},q(q({},k),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#tags"})]},{type:"aws_efs_mount_target",blockType:"resource",provider:"aws",displayName:"EFS Mount Target",description:"Provide an Elastic File System (EFS) mount target.",icon:"Amazon-EFS",model:"DefaultModel",url:"https://docs.aws.amazon.com/efs/latest/ug/accessing-fs.html",categories:["AWS","Storage"],tags:[],definedAttributes:[{name:"file_system_id",displayName:"File system ID",description:"The ID of the file system for which the mount target is intended.",linkRef:"aws_efs_file_system",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_mount_target#file_system_id"},q(q({},S),{},{description:"The ID of the subnet to add the mount target in.",required:!0,url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_mount_target#subnet_id"}),{name:"ip_address",displayName:"IP address",description:"The address (within the address range of the specified subnet) at which the file system may be mounted via the mount target.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_mount_target#ip_address"},q(q({},T),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_mount_target#security_groups"})]}];function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z(t,e,n){return(e=function(t){var e=function(t){if("object"!=Y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Y(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const J=[{type:"aws_db_instance",blockType:"resource",provider:"aws",displayName:"AWS DB instance",description:"An isolated database environment.",icon:"Aws_EC2_DB-Instance",model:"DefaultModel",url:"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.DBInstance.html",categories:["AWS","Databases"],tags:[],definedAttributes:[{name:"allocated_storage",displayName:"Allocated storage",description:"The allocated storage in gigabytes.",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#allocated_storage"},{name:"db_name",displayName:"Database name",description:"The name of the database to create when the DB instance is created. If this parameter is not specified, no database is created in the DB instance.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#db_name"},{name:"engine",displayName:"Database engine",description:"The database engine to use.",linkRef:"aws_rds_engine_version",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#engine"},{name:"vpc_security_group_ids",displayName:"VPC security groups",description:"A list of VPC security groups to associate.",linkRef:"aws_security_group",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#vpc_security_group_ids"},{name:"instance_class",displayName:"Instance class",description:"The instance type of the Relational Database Service instance.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#instance_class"},{name:"db_subnet_group_name",displayName:"Subnet group name",description:"Name of DB subnet group. DB instance will be created in the VPC associated with the DB subnet group.",linkAttribute:"name",linkRef:"aws_db_subnet_group",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#db_subnet_group_name"},{name:"username",displayName:"Username",description:"Username for the master DB user.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#username"},{name:"password",displayName:"Password",description:"Password for the master DB user.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#password"},{name:"skip_final_snapshot",displayName:"Skip final snapshot",description:"Determines whether a final DB snapshot is created before the DB instance is deleted.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#skip_final_snapshot"},{name:"publicly_accessible",displayName:"Publicly accessible",description:"Controls if instance is publicly accessible.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#publicly_accessible"},{name:"allow_major_version_upgrade",displayName:"Allow major version upgrade",description:"Indicates that major version upgrades are allowed.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#allow_major_version_upgrade"},{name:"apply_immediately",displayName:"Apply immediately",description:"Specifies whether any database modifications are applied immediately, or during the next maintenance window.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#apply_immediately"},{name:"auto_minor_version_upgrade",displayName:"Auto minor version upgrade",description:"Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#auto_minor_version_upgrade"},{name:"availability_zone",displayName:"Availability zone",description:"The Availability Zone for the Relational Database Service instance.",linkAttribute:"id",linkRef:"aws_availability_zones",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#availability_zone"},{name:"backup_retention_period",displayName:"Backup retention period",description:"The days to retain backups for.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#backup_retention_period",rules:{max:"35",min:"0"}},{name:"backup_window",displayName:"Backup window",description:"The daily time range (in UTC) during which automated backups are created if they are enabled.<br/>Must not overlap with maintenance_window.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#backup_window"},{name:"character_set_name",displayName:"Character set name",description:"Specifies the character set to associate with the DB instance.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#character_set_name"},{name:"copy_tags_to_snapshot",displayName:"Copy tags to snapshot",description:"Whether to copy all Instance tags to snapshots, or not.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#copy_tags_to_snapshot"},{name:"delete_automated_snapshots",displayName:"Delete automated snapshots",description:"Whether to remove automated backups when the DB instance is deleted.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#delete_automated_snapshots"},{name:"deletion_protection",displayName:"Deletion protection",description:"If 'Deletion protection' is set to true, the DB instance cannot be deleted. Otherwise, it can.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#deletion_protection"},{name:"final_snapshot_identifier",displayName:"Final snapshot identifier",description:"The name of the final DB snapshot when this DB instance is deleted.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#final_snapshot_identifier"},{name:"iam_database_authentication_enabled",displayName:"IAM database authentication enabled",description:"Specifies whether mappings of AWS Identity and Access Management (IAM) accounts to database accounts is enabled.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#iam_database_authentication_enabled"},{name:"identifier",displayName:"Identifier",description:"The name of the Relational Database Service instance.<br>Conflicts with identifier_prefix.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#identifier"},{name:"identifier_prefix",displayName:"Identifier prefix",description:"Creates a unique identifier beginning with the specified prefix.<br>Conflicts with identifier.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#identifier_prefix"},{name:"iops",displayName:"IOPS",description:"The amount of provisioned IOPS.<br>Can only be set when storage_type is io1 or p3.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#iops"},{name:"maintenance_window",displayName:"Maintenance window",description:"The window to perform maintenance in.<br>Format: ddd:hh24:mi-ddd:hh24:mi.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#maintenance_window"},{name:"max_allocated_storage",displayName:"Max allocated storage",description:"The upper limit to which Amazon RDS can automatically scale the storage of the DB instance.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#max_allocated_storage"},{name:"monitoring_interval",displayName:"Monitoring interval",description:"The interval, in seconds, between points when Enhanced Monitoring metrics are collected for the DB instance.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#monitoring_interval",rules:{values:["0","1","5","10","15","30","60"]}},{name:"multi_az",displayName:"Multi AZ",description:"Specifies if the Relational Database Service instance is on multiple Availability Zones.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#multi_az"},{name:"network_type",displayName:"Network type",description:"The type of network connection to use for connecting to an Amazon Relational Database Service instance.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#network_type",rules:{values:["IPV4","DUAL"]}},{name:"option_group_name",displayName:"Option group name",description:"The name of the option group to associate.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#option_group_name"},{name:"parameter_group_name",displayName:"Parameter group name",description:"The name of the DB parameter group to associate.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#parameter_group_name"},{name:"performance_insights_enabled",displayName:"Performance insights enabled",description:"Specifies whether Performance Insights are enabled.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#performance_insights_enabled"},{name:"performance_insights_retention_period",displayName:"Performance insights retention period",description:"The amount of time in days to retain Performance Insights data.<br>Must be a multiple of 31.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#performance_insights_retention_period"},X(X({},E),{},{description:"The port on which the DB accepts connections.",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#port"}),{name:"replica_mode",displayName:"Replica mode",description:"Specifies whether the replica is in either mounted or open-read-only mode.<br>This attribute is only supported by Oracle instances.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#replica_mode",rules:{values:["mounted","open-read-only"]}},{name:"restore_to_point_in_time",displayName:"Restore to point in time",description:"Restore from a point in time.<br>Must be specified if restore is set to true.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#restore_to_point_in_time",definedAttributes:[{name:"restore_time",displayName:"Restore time",description:"The date and time to restore from.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#restore_time"},{name:"source_db_instance_identifier",displayName:"Source DB instance identifier",description:"The identifier of the source DB instance from which to restore.",linkRef:"aws_db_instance",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#source_db_instance_identifier"},{name:"use_latest_restorable_time",displayName:"Use latest restorable time",description:"Specifies whether to restore the DB instance to the latest restorable backup time.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#use_latest_restorable_time"},{name:"source_db_instance_automated_backups_arn",displayName:"Source DB instance automated backups ARN",description:"The ARN of the automated backup from which to restore.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#source_db_instance_automated_backups_arn"},{name:"source_dbi_resource_id",displayName:"Source DBI resource ID",description:"The resource ID of the source DB instance from which to restore.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#source_dbi_resource_id"}]},{name:"s3_import",displayName:"S3 import",description:"Import from an S3 bucket.<br>Must be specified if import is set to true.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#s3_import",definedAttributes:[{name:"bucket_name",displayName:"Bucket name",description:"The name of the S3 bucket where the backup is stored.",linkRef:"aws_s3_bucket",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#bucket_name"},{name:"bucket_prefix",displayName:"Bucket prefix",description:"The path to the backup.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#bucket_prefix"},{name:"ingestion_role",displayName:"Ingestion role",description:"Role applied to load the data.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#ingestion_role"},{name:"source_engine",displayName:"Source engine",description:"Source engine for the backup.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#source_engine"},{name:"source_engine_version",displayName:"Source engine version",description:"Version of the source engine used for the backup.",linkRef:"aws_rds_engine_version",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#source_engine_version"}]},{name:"storage_encrypted",displayName:"Storage encrypted",description:"Specifies whether the DB instance is encrypted.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#storage_encrypted"},{name:"storage_type",displayName:"Storage type",description:"The type of storage for the DB.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#storage_type",rules:{values:["standard","gp2","gp3","io1"]}},{name:"storage_throughput",displayName:"Storage throughput",description:"The storage throughput value for the DB instance.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#storage_throughput"},{name:"timezone",displayName:"Timezone",description:"The timezone of the DB instance.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#timezone"},{name:"customer_owned_ip_enabled",displayName:"Customer owned IP enabled",description:"Specifies whether the DB instance is a customer-owned IP address (CoIP) enabled.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#customer_owned_ip_enabled"},X(X({},k),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#tags"})]}];function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(n),!0).forEach((function(e){nt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nt(t,e,n){return(e=function(t){var e=function(t){if("object"!=Q(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Q(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const rt=[{type:"aws_elb",blockType:"resource",provider:"aws",displayName:"AWS ELB",description:"Automatically distributes incoming application traffic across multiple targets and virtual appliances in one or more Availability Zones.",icon:"Aws_Elastic-Load-Balancing_Network-Load-Balancer",model:"DefaultModel",url:"https://aws.amazon.com/elasticloadbalancing/",categories:["AWS","Load Balancing"],tags:[],definedAttributes:[{name:"listener",displayName:"Listener",description:"A list of listener blocks. Each listener block supports fields documented below.",required:!0,type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#listener",definedAttributes:[{name:"instance_port",displayName:"Instance port",description:"The port on the instance to route to.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#instance_port"},{name:"lb_port",displayName:"LB port",description:"The port to listen on for the load balancer.",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#lb_port"},{name:"lb_protocol",displayName:"LB protocol",description:"The protocol to listen on. Valid values are HTTP, HTTPS, TCP, or SSL.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#lb_protocol"},{name:"instance_protocol",displayName:"Instance protocol",description:"The protocol to use to the instance. Valid values are HTTP, HTTPS, TCP, or SSL.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#instance_protocol"}]},{name:"subnets",displayName:"Subnets",description:"A list of subnet IDs to attach to the ELB.",linkAttribute:"id",linkRef:"aws_subnet",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#subnets"},et(et({},T),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#security_groups"}),{name:"instances",displayName:"Instances",description:"A list of instance ids to place in the ELB pool.",linkAttribute:"id",linkRef:"aws_instance",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#instances"}]},{type:"aws_lb",blockType:"resource",provider:"aws",displayName:"Application Load Balancer (LB)",description:"A load balancer serves as the single point of contact for clients. The load balancer distributes incoming application traffic across multiple targets, in multiple Availability Zones.",icon:"Aws_Application-Load-Balancer",model:"DefaultModel",url:"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/introduction.html",categories:["AWS","Load Balancing"],tags:[],definedAttributes:[et(et({},x),{},{description:"The ID of the VPC to create the ALB in.",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#vpc_id"}),{name:"name",displayName:"Name",description:"The name of the LB. This name must be unique within your AWS account.<br>If not specified, Terraform will autogenerate a name beginning with tf-lb.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#name",rules:{regex:"^([a-zA-Z0-9]+-)*[a-zA-Z0-9]+$"}},{name:"internal",displayName:"Internal LB",description:"If true, the LB will be internal.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#internal"},{name:"load_balancer_type",displayName:"Load balancer type",description:"The type of load balancer to create.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#load_balancer_type",rules:{values:["application","gateway","network"]}},{name:"access_logs",displayName:"Access logs",description:"An Access Logs block.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb",definedAttributes:[{name:"bucket",displayName:"Bucket",description:"The S3 bucket name to store the logs in.",linkRef:"aws_s3_bucket",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#bucket"},{name:"enabled",displayName:"Enabled",description:"Boolean to enable / disable access_logs. Defaults to false, even when bucket is specified.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#enabled"},{name:"prefix",displayName:"Prefix",description:"The S3 bucket prefix. Logs are stored in the root if not configured.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#prefix"}]},{name:"customer_owned_ipv4_pool",displayName:"Customer owned ivp4 pool",description:"The ID of the customer owned ipv4 pool to use for this load balancer.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#customer_owned_ipv4_pool"},{name:"desync_mitigation_mode",displayName:"Customer owned ivp4 pool",description:"Determines how the load balancer handles requests that might pose a security risk to an application due to HTTP desync.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#desync_mitigation_mode",rules:{values:["defensive","monitor","strictest"]}},{name:"drop_invalid_header_fields",displayName:"Drop invalid header fields",description:"Indicates whether HTTP headers with header fields that are not valid are removed by the load balancer (true) or routed to targets (false).<br>The default is false. Elastic Load Balancing requires that message header names contain only alphanumeric characters and hyphens. Only valid for Load Balancers of type.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#drop_invalid_header_fields"},{name:"enable_cross_zone_load_balancing",displayName:"Enable cross zone load balancing",description:"If true, cross-zone load balancing of the load balancer will be enabled. For network and gateway type load balancers, this feature is disabled by default (false).<br>For application load balancer this feature is always enabled (true) and cannot be disabled. Defaults to false.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#enable_cross_zone_load_balancing"},{name:"enable_deletion_protection",displayName:"Enable deletion protection",description:"If true, deletion of the load balancer will be disabled via the AWS API. This will prevent Terraform from deleting the load balancer. Defaults to false.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#enable_deletion_protection"},{name:"enable_http2",displayName:"Enable http2",description:"Indicates whether HTTP/2 is enabled in application load balancers. Defaults to true.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#enable_http2"},{name:"enable_waf_fail_open",displayName:"Enable WAF fail open",description:"Indicates whether to allow a WAF-enabled load balancer to route requests to targets<br>if it is unable to forward the request to AWS WAF. Defaults to false.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#enable_waf_fail_open"},{name:"idle_timeout",displayName:"Idle timeout",description:"The time in seconds that the connection is allowed to be idle.<br>Only valid for Load Balancers of type application. Default: 60.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#idle_timeout"},{name:"ip_address_type",displayName:"IP address type",description:"The type of IP addresses used by the subnets for your load balancer.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#ip_address_type",rules:{values:["ipv4","dualstack"]}},et(et({},T),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#security_groups"}),{name:"preserve_host_header",displayName:"Preserve host header",description:"Indicates whether the Application Load Balancer should preserve the Host header in the HTTP request <br>and send it to the target without any change. Defaults to false.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#preserve_host_header"},{name:"subnet_mapping",displayName:"Subnet mapping",description:"A subnet mapping block.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#subnet_mapping",definedAttributes:[et(et({},S),{},{description:"ID of the subnet of which to attach to the load balancer. You can specify only one subnet per Availability Zone.",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#subnet_id"}),{name:"allocation_id",displayName:"Allocation ID",description:"The allocation ID of the Elastic IP address for an internet-facing load balancer.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#allocation_id"},et(et({},{name:"ipv6_address",displayName:"IPv6 address",description:"The IPv6 address.",type:"String"}),{},{description:"The IPv6 address. You associate IPv6 CIDR blocks with your VPC and choose the subnets <br>where you launch both internet-facing and internal Application Load Balancers or Network Load Balancers.",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#ipv6_address"}),{name:"private_ipv4_address",displayName:"Private IPv4 address",description:"The private IPv4 address for an internal load balancer.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#private_ipv4_address"}]},{name:"subnets",displayName:"Subnets",description:"A list of subnet IDs to attach to the LB. Subnets cannot be updated for Load Balancers of type network.<br>Changing this value for load balancers of type network will force a recreation of the resource.",linkRef:"aws_subnet",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#subnets"},{name:"name_prefix",displayName:"Name prefix",description:"Creates a unique name beginning with the specified prefix. Conflicts with name.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#name_prefix"},et(et({},k),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#tags"})]},{type:"aws_lb_target_group",blockType:"resource",provider:"aws",displayName:"Load balancer target group",description:"Target groups route requests to one or more registered targets, using the protocol and port number that you specify.<br>You can register a target with multiple target groups",icon:"Aws_Application-Load-Balancer-Target-Group",model:"DefaultModel",url:"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-target-groups.html",categories:["AWS","Load Balancing"],tags:[],definedAttributes:[{name:"connection_termination",displayName:"Connection termination",description:"Whether to terminate connections at the end of the deregistration timeout on Network Load Balancers.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#connection_termination"},{name:"deregistration_delay",displayName:"Deregistration delay",description:"Amount time for Elastic Load Balancing to wait before changing the state of a deregistering target from draining to unused.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#deregistration_delay"},{name:"lambda_multi_value_headers_enabled",displayName:"Lambda multi value headers enabled",description:"Whether the request and response headers exchanged between the load balancer and the Lambda function include arrays of values or strings.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#lambda_multi_value_headers_enabled"},{name:"load_balancing_algorithm_type",displayName:"Load balancing algorithm type",description:"Determines how the load balancer selects targets when routing requests.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#load_balancing_algorithm_type",rules:{values:["round_robin","least_outstanding_requests"]}},{name:"name",displayName:"Name",description:"Name of the target group. If omitted, Terraform will assign a random, unique name.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#name"},{name:"name_prefix",displayName:"Name prefix",description:"Creates a unique name beginning with the specified prefix.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#name_prefix"},et(et({},E),{},{description:"Port on which targets receive traffic, unless overridden when registering a specific target.",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#port"}),{name:"preserve_client_ip",displayName:"Preserve client IP",description:"Whether client IP preservation is enabled.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#preserve_client_ip"},{name:"protocol",displayName:"Protocol",description:"Protocol to use for routing traffic to the targets.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#protocol",rules:{values:["GENEVE","HTTP","HTTPS","TCP","TCP_UDP","TLS","UDP"]}},{name:"protocol_version",displayName:"Protocol version",description:"Only applicable when protocol is HTTP or HTTPS. The protocol version.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#protocol_version"},{name:"proxy_protocol_v2",displayName:"Proxy protocol v2",description:"Whether to enable support for proxy protocol v2 on Network Load Balancers.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#proxy_protocol_v2"},{name:"slow_start",displayName:"Slow start",description:"Amount time for targets to warm up before the load balancer sends them a full share of requests.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#slow_start"},{name:"target_type",displayName:"Target type",description:'Type of target that you must specify when registering targets with this target group. The default is "instance".',type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#target_type"},{name:"ip_address_type",displayName:"IP address type",description:"The type of IP addresses used by the target group, only supported when target type is set to ip.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#ip_address_type",rules:{values:["ipv4","ipv6"]}},et(et({},w),{},{description:"Identifier of the VPC in which to create the target group.",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#vpc_id"}),{name:"health_check",displayName:"Health check",description:"Health Check configuration block.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#health_check",definedAttributes:[{name:"enabled",displayName:"Enabled",description:"Whether health checks are enabled.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#enabled"},{name:"healthy_threshold",displayName:"Healthy threshold",description:"Number of consecutive health check successes required before considering a target healthy.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#healthy_threshold"},{name:"interval",displayName:"Interval",description:"Approximate amount of time, in seconds, between health checks of an individual target.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#interval"},{name:"matcher",displayName:"Matcher",description:"Response codes to use when checking for a healthy responses from a target.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#matcher"},{name:"path",displayName:"Path",description:"Destination for the health check request.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#path"},et(et({},E),{},{description:"The port the load balancer uses when performing health checks on targets.",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#port"}),{name:"protocol",displayName:"Protocol",description:"The port the load balancer uses when performing health checks on targets.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#protocol",rules:{values:["TCP","HTTP","HTTPS"]}},{name:"timeout",displayName:"Timeout",description:"Amount of time, in seconds, during which no response from a target means a failed health check.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#timeout"},{name:"unhealthy_threshold",displayName:"Unhealthy threshold",description:"Number of consecutive health check failures required before considering a target unhealthy.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#unhealthy_threshold"}]},{name:"stickiness",displayName:"Stickiness",description:"Stickiness configuration block.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#stickiness",definedAttributes:[{name:"cookie_duration",displayName:"Cookie duration",description:"The time period, in seconds, during which requests from a client should be routed to the same target.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#cookie_duration"},{name:"cookie_name",displayName:"Cookie name",description:"Name of the application based cookie.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#cookie_name"},{name:"enabled",displayName:"Enable stickiness",description:"Boolean to enable/disable stickiness.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#enabled"},{name:"type",displayName:"Type",description:"The type of sticky sessions.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#type",rules:{values:["lb_cookie","app_cookie","source_ip","source_ip_dest_ip","source_ip_dest_ip_proto"]}}]},k,{name:"target_failover",displayName:"Target failover",description:"Target failover block.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#target_failover",definedAttributes:[{name:"on_deregistration",displayName:"On deregistration",description:"Indicates how the Gateway Load Balancer (GWLB) handles existing flows when a target is deregistered.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#on_deregistration",rules:{values:["rebalance","no_rebalance"]}},{name:"on_unhealthy",displayName:"On unhealthy",description:"Indicates how the Gateway Load Balancer (GWLB) handles existing flows when a target is unhealthy.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#on_unhealthy",rules:{values:["rebalance","no_rebalance"]}}]}]},{type:"aws_lb_listener",blockType:"resource",provider:"aws",displayName:"Load Balancer Listener",description:"Provides a Load Balancer Listener resource.",icon:"Aws_Elastic-Load-Balancing_Network-Load-Balancer",model:"DefaultModel",url:"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-listeners.html",categories:["AWS","Load Balancing"],tags:[],definedAttributes:[{name:"load_balancer_arn",displayName:"Load balancer ARN",description:"ARN of the load balancer.",linkRef:"aws_lb",linkType:"Default",linkModel:"defaultLink",required:!0,type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#load_balancer_arn"},{name:"default_action",displayName:"Default action",description:"Configuration block for the default action.",required:!0,type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#default_action",definedAttributes:[{name:"type",displayName:"Type",description:"Type of routing action.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#type",rules:{values:["forward","authenticate-oidc","authenticate-cognito","redirect","fixed-response"]}},{name:"target_group_arn",displayName:"Target group ARN",description:"ARN of the target group to which to route traffic.",linkRef:"aws_lb_target_group",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#target_group_arn"}]},{name:"certificate_arn",displayName:"Certificate ARN",description:"ARN of the default SSL server certificate.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#certificate_arn"},et(et({},E),{},{description:"Port on which the load balancer is listening.",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#port"}),{name:"protocol",displayName:"Protocol",description:"Protocol for connections from clients to the load balancer.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#protocol",rules:{values:["HTTP","HTTPS","TCP","TLS","UDP","TCP_UDP"]}},{name:"alpn_policy",displayName:"ALPN policy",description:"Name of the Application-Layer Protocol Negotiation (ALPN) policy.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#alpn_policy",rules:{values:["HTTP1Only","HTTP2Only","HTTP2Optional","HTTP2Preferred","None"]}},{name:"ssl_policy",displayName:"SSL policy",description:"Name of the SSL Policy for the listener.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#ssl_policy"},et(et({},k),{},{url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#tags"})]}];function it(t){return function(t){if(Array.isArray(t))return ot(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ot(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const at=function(t){return function(t){if(Array.isArray(t))return st(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return st(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}([].concat(it(A),it([{type:"aws_ami",blockType:"data",displayName:"Amazon Machine Image (AMI)",description:"An Amazon Machine Image (AMI) is a supported and maintained image provided by AWS<br>that provides the information required to launch an instance.",icon:"Aws_EC2_AMI",model:"DefaultModel",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html",categories:["AWS","Data Sources"],tags:[],definedAttributes:[{name:"owners",displayName:"Owners",description:"List of AMI owners to limit search.",type:"Array",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/finding-an-ami.html"},{name:"most_recent",displayName:"Most recent",description:"If more than one result is returned, use the most recent AMI.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/ami#most_recent"},{name:"executable_users",displayName:"Executable users",description:"Limit search to users with explicit launch permission on the image.",type:"Array",url:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html"},{name:"include_deprecated",displayName:"Include deprecated",description:"If true, all deprecated AMIs are included in the response.",type:"Boolean",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ami-deprecate.html"},{name:"name_regex",displayName:"Name regex",description:"Regex string to apply to the AMI list returned by AWS.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/ami#name_regex"}]},{type:"aws_rds_engine_version",blockType:"data",displayName:"Relational Database Service engine version",description:"Information about a Relational Database Service engine version.<br><br>Amazon Relational Database Service (Amazon RDS) is a web service<br>that makes it easier to set up, operate, and scale a relational database in the AWS Cloud.",icon:"Aws_RDS",model:"DefaultModel",url:"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Welcome.html",categories:["AWS","Data Sources"],tags:[],definedAttributes:[{name:"engine",displayName:"Engine",description:"A DB engine is the specific relational database software that runs on your DB instance.",required:!0,type:"String",url:"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Welcome.html#Welcome.Concepts.DBInstance.engine",rules:{values:["aurora","aurora-mysql","aurora-postgresql","docdb","mariadb","mysql","neptune","oracle-ee","oracle-se","oracle-se1","oracle-se2","postgres","sqlserver-ee","sqlserver-ex","sqlserver-se","sqlserver-web"]}},{name:"default_only",displayName:"Default only",description:"When set to true, the default version for the specified engine or combination of engine and major version will be returned.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/rds_engine_version#default_only"},{name:"version",displayName:"Version",description:"Version of the DB engine.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/rds_engine_version#version"},{name:"preferred_versions",displayName:"Preferred versions",description:"Ordered list of preferred engine versions.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/rds_engine_version#preferred_versions"},{name:"include_all",displayName:"Include all",description:"When set to true, the specified version or member of prefered versions will be returned even if it is deprecated.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/rds_engine_version#include_all"},{name:"parameter_group_family",displayName:"Parameter group family",description:"Name of a specific DB parameter group family.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/rds_engine_version#parameter_group_family"}]},{type:"aws_availability_zones",blockType:"data",displayName:"Availability Zones",description:"The Availability Zones data source allows access to the list of AWS Availability Zones<br>which can be accessed by an AWS account within the region configured in the provider.<br><br>This is different from the Availability Zone (singular).",icon:"Aws_Local-Zones",model:"DefaultModel",url:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html",categories:["AWS","Data Sources"],tags:[],definedAttributes:[{name:"all_availability_zones",displayName:"All Availability Zones",description:"Set to true to include all Availability Zones and Local Zones regardless of your opt in status.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones#all_availability_zones"},{name:"exclude_names",displayName:"Exclude names",description:"List of Availability Zone names to exclude.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones#exclude_names"},{name:"exclude_zone_ids",displayName:"Exclude zone IDs",description:"List of Availability Zone IDs to exclude.",type:"Array",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones#exclude_zone_ids"},{name:"state",displayName:"State",description:"Allows to filter list of Availability Zones based on their current state.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones#state",rules:{values:["available","impaired","information","unavailable"]}}]}]),it(R),it(j),it(V),it(G),it(J),it(rt),it([{type:"aws_route53_zone",blockType:"resource",displayName:"AWS route 53 zone",description:"A collection of records",icon:"Aws_Route-53-Hosted-Zone",isContainer:!0,model:"DefaultContainer",url:"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-working-with.html",categories:["AWS","DNS and Routing"],tags:[],definedAttributes:[{name:"name",displayName:"Name",description:"This is the name of the hosted zone.",required:!0,type:"String",containerRef:"aws_route53_zone",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route53_zone#name"},{name:"records",displayName:"Records",type:"Link",linkModel:"defaultLink",linkAttribute:"name",linkRef:"aws_route53_record",linkType:"Default"}]},{type:"aws_route53_record",blockType:"resource",displayName:"AWS route 53 record",description:"Create records to tell the DNS how to route traffic for that domain.",icon:"Aws_Route-53_Route-Table",model:"DefaultModel",url:"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/rrsets-working-with.html",categories:["AWS","DNS and Routing"],tags:[],definedAttributes:[{name:"zone_id",displayName:"Zone ID",description:"The ID of the hosted zone to contain this record.",containerRef:"aws_route53_zone",required:!0,type:"Reference",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route53_record#zone_id"},{name:"records",displayName:"Records",description:"A string list of records.",linkRef:"aws_route53_record",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route53_record#records"}]}]),it([{type:"aws_cloudwatch_metric_alarm",blockType:"resource",provider:"aws",displayName:"Cloudwatch metric alarm",description:"Watches a single metric over a specified time period, and performs one or more specified actions, based on the value of the metric relative to a threshold over time.",icon:"Amazon-CloudWatch_Alarm",model:"DefaultModel",url:"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch_concepts.html#CloudWatchAlarms",categories:["AWS","Monitoring and Logging"],tags:[],definedAttributes:[{name:"alarm_name",displayName:"Alarm name",description:"The descriptive name for the alarm. This name must be unique within the user's AWS account",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#alarm_name"},{name:"comparison_operator",displayName:"Comparison operator",description:"The arithmetic operation to use when comparing the specified Statistic and Threshold.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#comparison_operator",rules:{values:["GreaterThanOrEqualToThreshold","GreaterThanThreshold","LessThanThreshold","LessThanOrEqualToThreshold","LessThanLowerOrGreaterThanUpperThreshold","LessThanLowerThreshold","GreaterThanUpperThreshold"]}},{name:"evaluation_periods",displayName:"Evaluation periods",description:"The number of periods over which data is compared to the specified threshold.",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#evaluation_periods"},{name:"metric_name",displayName:"Metric name",description:"The name for the alarm's associated metric.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#metric_name"},{name:"namespace",displayName:"Namespace",description:"The namespace for the alarm's associated metric.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#namespace"},{name:"period",displayName:"Period",description:"The period in seconds over which the specified statistic is applied.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#period"},{name:"statistic",displayName:"Statistic",description:"The statistic to apply to the alarm's associated metric.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#statistic",rules:{values:["SampleCount","Average","Sum","Minimum","Maximum"]}},{name:"threshold",displayName:"Threshold",description:"The value against which the specified statistic is compared.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#threshold"},{name:"dimensions",displayName:"Dimensions",description:"The dimensions for the alarm's associated metric.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#dimensions",definedAttributes:[{name:"AutoScalingGroupName",displayName:"Auto Scaling group name",description:"Amazon EC2 Auto Scaling",linkRef:"aws_autoscaling_group",linkType:"Default",linkModel:"defaultLink",type:"Link",url:"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/aws-services-cloudwatch-metrics.html"}]},{name:"actions_enabled",displayName:"Actions enabled",description:"Indicates whether or not actions should be executed during any changes to the alarm's state.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#actions_enabled"},{name:"alarm_description",displayName:"Alarm description",description:"The description for the alarm.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#alarm_description"},{name:"datapoints_to_alarm",displayName:"Datapoints to alarm",description:"The number of datapoints that must be breaching to trigger the alarm.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#datapoints_to_alarm"},{name:"alarm_actions",displayName:"Alarm actions",description:"The list of actions to execute when this alarm transitions into an ALARM state from any other state.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#alarm_actions",rules:{max:5,min:1}},{name:"insufficient_data_actions",displayName:"Insufficient data actions",description:"The list of actions to execute when this alarm transitions into an INSUFFICIENT_DATA state from any other state.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#insufficient_data_actions",rules:{max:5,min:1}},{name:"ok_actions",displayName:"OK actions",description:"The list of actions to execute when this alarm transitions into an OK state from any other state.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#ok_actions",rules:{max:5,min:1}},{name:"unit",displayName:"Unit",description:"The unit for the alarm's associated metric.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#unit",rules:{values:["Seconds","Microseconds","Milliseconds","Bytes","Kilobytes","Megabytes","Gigabytes","Terabytes","Bits","Kilobits","Megabits","Gigabits","Terabits","Percent","Count","Bytes/Second","Kilobytes/Second","Megabytes/Second","Gigabytes/Second","Terabytes/Second","Bits/Second","Kilobits/Second","Megabits/Second","Gigabits/Second","Terabits/Second","Count/Second","None"]}},{name:"extended_statistic",displayName:"Extended statistic",description:"The percentile statistic for the metric associated with the alarm. Specify a value between p0.0 and p100.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#extended_statistic"},{name:"treat_missing_data",displayName:"Treat missing data",description:"Sets how this alarm is to handle missing data points.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#treat_missing_data",rules:{values:["breaching","notBreaching","ignore","missing"]}},{name:"evaluate_low_sample_count_percentiles",displayName:"Evaluate low sample count percentiles",description:"Used only for alarms based on percentiles.<br>If ignore, the alarm state does not change during periods with too few data points to be statistically significant.<br>If evaluate or omit, the alarm is always evaluated and possibly changes state no matter how many data points are available.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#evaluate_low_sample_count_percentiles",rules:{values:["evaluate","ignore"]}},{name:"metric_query",displayName:"Metric query",description:"Enable to create an alarm based on a metric math expression.",type:"Object",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#metric_query",definedAttributes:[{name:"id",displayName:"ID",description:"A short name used to tie this object to the results in the response.",required:!0,type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#id"},{name:"account_id",displayName:"Account ID",description:"The account ID to use when searching for the metric.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#account_id"},{name:"expression",displayName:"Expression",description:"The math expression to be performed on the returned data, if this object is performing a math expression.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#expression"},{name:"label",displayName:"Label",description:"A human-readable label for this metric or expression.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#label"},{name:"return_data",displayName:"Return data",description:"Specify exactly one metric_query to be true to use that metric_query result as the alarm.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#return_data"}]}]}]),it([{type:"random_string",blockType:"resource",provider:"aws",displayName:"Random String",description:"Generates a random permutation of alphanumeric characters and optionally special characters.",icon:"variable",model:"DefaultModel",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string",categories:["AWS","Miscellaneous"],tags:[],definedAttributes:[{name:"length",displayName:"Length",description:"The length of the string desired.",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#length",rules:{min:1}},{name:"special",displayName:"Special",description:"Include special characters in the result.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#special"},{name:"min_special",displayName:"Min special",description:"Minimum number of special characters to include in the result.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_special"},{name:"lower",displayName:"Lower",description:"Include lowercase alphabet characters in the result.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#lower"},{name:"min_lower",displayName:"Min lower",description:"Minimum number of lowercase characters to include in the result.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_lower"},{name:"upper",displayName:"Upper",description:"Include uppercase alphabet characters in the result.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#upper"},{name:"min_upper",displayName:"Min upper",description:"Minimum number of uppercase characters to include in the result.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_upper"},{name:"numeric",displayName:"Numeric",description:"Include numeric characters in the result.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#numeric"},{name:"min_numeric",displayName:"Min numeric",description:"Minimum number of numeric characters to include in the result.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#min_numeric"},{name:"override_special",displayName:"Override special",description:"Supply your own list of special characters to use for string generation.",type:"String"}]},{type:"random_password",blockType:"resource",provider:"aws",displayName:"Random Password",description:"Identical to random_string with the exception that the result is treated as sensitive and, thus, not displayed in console output.",icon:"variable",model:"DefaultModel",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password",categories:["AWS","Miscellaneous"],tags:[],definedAttributes:[{name:"length",displayName:"Length",description:"The length of the string desired.",required:!0,type:"Number",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#length",rules:{min:1}},{name:"special",displayName:"Special",description:"Include special characters in the result.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#special"},{name:"min_special",displayName:"Min special",description:"Minimum number of special characters to include in the result.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_special"},{name:"lower",displayName:"Lower",description:"Include lowercase alphabet characters in the result.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#lower"},{name:"min_lower",displayName:"Min lower",description:"Minimum number of lowercase characters to include in the result.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_lower"},{name:"upper",displayName:"Upper",description:"Include uppercase alphabet characters in the result.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#upper"},{name:"min_upper",displayName:"Min upper",description:"Minimum number of uppercase characters to include in the result.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_upper"},{name:"numeric",displayName:"Numeric",description:"Include numeric characters in the result.",type:"Boolean",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#numeric"},{name:"min_numeric",displayName:"Min numeric",description:"Minimum number of numeric characters to include in the result.",type:"Number",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#min_numeric"},{name:"override_special",displayName:"Override special",description:"Supply your own list of special characters to use for string generation.",type:"String",url:"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#override_special"}]}]),it([{type:"server",blockType:"module",provider:"aws",displayName:"Server",icon:"Aws_Servers",model:"DefaultModel",categories:["AWS","Modules"],tags:[],definedAttributes:[]}]),it([{type:"image_id",blockType:"variable",provider:"aws",icon:"variable",model:"DefaultModel",categories:["AWS","Variables"],tags:[],definedAttributes:[]}])));function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ft(t,e,n){return(e=dt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dt(r.key),r)}}function dt(t){var e=function(t){if("object"!=ct(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ct(e)?e:e+""}function mt(t,e,n){return e=gt(e),function(t,e){if(e&&("object"==ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yt()?Reflect.construct(e,n||[],gt(t).constructor):e.apply(t,n))}function yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yt=function(){return!!t})()}function gt(t){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gt(t)}function vt(t,e){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vt(t,e)}var bt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=mt(this,e,[t])).providers=at,n.getAttributeDefinition=n.getAttributeDefinition.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vt(t,e)}(e,t),function(t,e){return e&&pt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"parse",value:function(){var t=this.getComponentDefinitions();this.setChildrenTypes(t),this.pluginData.definitions={components:t}}},{key:"getComponentDefinitions",value:function(){var t=this;return this.providers.map((function(e){return new p(ht(ht({},e),{},{definedAttributes:e.definedAttributes.map(t.getAttributeDefinition),parentTypes:t.getParentTypes(e)}))}))}},{key:"getAttributeDefinition",value:function(t){var e=t.definedAttributes||[];return new _(ht(ht({},t),{},{definedAttributes:e.map(this.getAttributeDefinition)}))}},{key:"getParentTypes",value:function(t){var e=[];return t.definedAttributes.filter((function(t){return"Reference"===t.type})).map((function(t){return t.containerRef})).filter((function(t){return!e.includes(t)})).forEach((function(t){return e.push(t)})),e}},{key:"setChildrenTypes",value:function(t){var e=t.filter((function(t){return t.parentTypes.length>0})).reduce((function(t,e){return e.parentTypes.forEach((function(n){t[n]=[].concat(function(t){return function(t){if(Array.isArray(t))return ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ut(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t[n]||[]),[e.type])})),t}),{});t.filter((function(t){return e[t.type]})).forEach((function(t){t.childrenTypes=e[t.type]}))}}])}(t.DefaultMetadata);const _t=bt;var wt={763:()=>{}},xt={};function kt(t){var e=xt[t];if(void 0!==e)return e.exports;var n=xt[t]={exports:{}};return wt[t](n,n.exports,kt),n.exports}kt.d=(t,e)=>{for(var n in e)kt.o(e,n)&&!kt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},kt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tt={};kt.d(Tt,{MG:()=>ye,fr:()=>$e,sR:()=>qn,Zo:()=>Gn,iH:()=>Jn,rt:()=>tn,jB:()=>nr,M8:()=>Cn,$t:()=>Hn,aq:()=>zn,pG:()=>Xe,eP:()=>Fn,KU:()=>Bn,zW:()=>Yn,IX:()=>zt,mY:()=>Vt,a7:()=>me,JG:()=>sn,ay:()=>vn,X2:()=>kn,WU:()=>In,Uw:()=>Mn,gw:()=>Dn,iX:()=>ir,re:()=>Sn,Pg:()=>ar,tD:()=>En,R$:()=>xn,Dj:()=>rn,m7:()=>oe,NZ:()=>te,xo:()=>ee,ou:()=>St,qC:()=>cr,mD:()=>Pt,Ay:()=>pr});class St{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t){this._text=t}}function Et(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}St.INVALID_TYPE=0,St.EPSILON=-2,St.MIN_USER_TOKEN_TYPE=1,St.EOF=-1,St.DEFAULT_CHANNEL=0,St.HIDDEN_CHANNEL=1;const At=Math.round(Math.random()*Math.pow(2,32));function Ot(t){if(!t)return 0;const e=typeof t,n="string"===e?t:!("object"!==e||!t.toString)&&t.toString();if(!n)return 0;let r,i;const o=3&n.length,s=n.length-o;let a=At;const c=3432918353,u=461845907;let l=0;for(;l<s;)i=255&n.charCodeAt(l)|(255&n.charCodeAt(++l))<<8|(255&n.charCodeAt(++l))<<16|(255&n.charCodeAt(++l))<<24,++l,i=(65535&i)*c+(((i>>>16)*c&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(65535&i)*u+(((i>>>16)*u&65535)<<16)&4294967295,a^=i,a=a<<13|a>>>19,r=5*(65535&a)+((5*(a>>>16)&65535)<<16)&4294967295,a=27492+(65535&r)+((58964+(r>>>16)&65535)<<16);switch(i=0,o){case 3:i^=(255&n.charCodeAt(l+2))<<16;case 2:i^=(255&n.charCodeAt(l+1))<<8;case 1:i^=255&n.charCodeAt(l),i=(65535&i)*c+(((i>>>16)*c&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(65535&i)*u+(((i>>>16)*u&65535)<<16)&4294967295,a^=i}return a^=n.length,a^=a>>>16,a=2246822507*(65535&a)+((2246822507*(a>>>16)&65535)<<16)&4294967295,a^=a>>>13,a=3266489909*(65535&a)+((3266489909*(a>>>16)&65535)<<16)&4294967295,a^=a>>>16,a>>>0}class Nt{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){const e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{let t=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":t=e;break;case"string":t=Ot(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}t*=3432918353,t=t<<15|t>>>17,t*=461845907,this.count=this.count+1;let n=this.hash^t;n=n<<13|n>>>19,n=5*n+3864292196,this.hash=n}}}finish(){let t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,t*=3266489909,t^=t>>>16,t}static hashStuff(){const t=new Nt;return t.update.apply(t,arguments),t.finish()}}function Ct(t){return t?"string"==typeof t?Ot(t):t.hashCode():-1}function Lt(t,e){return t&&t.equals?t.equals(e):t===e}function Rt(t){return null===t?"null":t}function Pt(t){return Array.isArray(t)?"["+t.map(Rt).join(", ")+"]":"null"}class It{constructor(t,e){this.buckets=new Array(16),this.threshold=Math.floor(12),this.itemCount=0,this.hashFunction=t||Ct,this.equalsFunction=e||Lt}get(t){if(null==t)return t;const e=this._getBucket(t);if(!e)return null;for(const n of e)if(this.equalsFunction(n,t))return n;return null}add(t){return this.getOrAdd(t)===t}getOrAdd(t){this._expand();const e=this._getSlot(t);let n=this.buckets[e];if(!n)return n=[t],this.buckets[e]=n,this.itemCount++,t;for(const e of n)if(this.equalsFunction(e,t))return e;return n.push(t),this.itemCount++,t}has(t){return null!=this.get(t)}values(){return this.buckets.filter((t=>null!=t)).flat(1)}toString(){return Pt(this.values())}get length(){return this.itemCount}_getSlot(t){return this.hashFunction(t)&this.buckets.length-1}_getBucket(t){return this.buckets[this._getSlot(t)]}_expand(){if(this.itemCount<=this.threshold)return;const t=this.buckets,e=2*this.buckets.length;this.buckets=new Array(e),this.threshold=Math.floor(.75*e);for(const e of t)if(e)for(const t of e){const e=this._getSlot(t);let n=this.buckets[e];n||(n=[],this.buckets[e]=n),n.push(t)}}}class Mt{hashCode(){const t=new Nt;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(null===t||t===Mt.NONE)return e;if(null===e||e===Mt.NONE)return t;const n=new Dt(t,e);return 1===n.opnds.length?n.opnds[0]:n}static orContext(t,e){if(null===t)return e;if(null===e)return t;if(t===Mt.NONE||e===Mt.NONE)return Mt.NONE;const n=new jt(t,e);return 1===n.opnds.length?n.opnds[0]:n}}class Dt extends Mt{constructor(t,e){super();const n=new It;t instanceof Dt?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof Dt?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=Bt(n);if(r.length>0){let t=null;r.map((function(e){(null===t||e.precedence<t.precedence)&&(t=e)})),n.add(t)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof Dt&&Et(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const o=this.opnds[i],s=o.evalPrecedence(t,e);if(n|=s!==o,null===s)return null;s!==Mt.NONE&&r.push(s)}if(!n)return this;if(0===r.length)return Mt.NONE;let i=null;return r.map((function(t){i=null===i?t:Mt.andContext(i,t)})),i}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("&&")}}class jt extends Mt{constructor(t,e){super();const n=new It;t instanceof jt?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof jt?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=Bt(n);if(r.length>0){const t=r.sort((function(t,e){return t.compareTo(e)})),e=t[t.length-1];n.add(e)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof jt&&Et(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const o=this.opnds[i],s=o.evalPrecedence(t,e);if(n|=s!==o,s===Mt.NONE)return Mt.NONE;null!==s&&r.push(s)}return n?(0===r.length||r.map((function(t){return t})),null):this}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("||")}}function Bt(t){const e=[];return t.values().map((function(t){t instanceof Mt.PrecedencePredicate&&e.push(t)})),e}function Ft(t,e){if(null===t){const t={state:null,alt:null,context:null,semanticContext:null};return e&&(t.reachesIntoOuterContext=0),t}{const n={};return n.state=t.state||null,n.alt=void 0===t.alt?null:t.alt,n.context=t.context||null,n.semanticContext=t.semanticContext||null,e&&(n.reachesIntoOuterContext=t.reachesIntoOuterContext||0,n.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),n}}class Ut{constructor(t,e){this.checkContext(t,e),t=Ft(t),e=Ft(e,!0),this.state=null!==t.state?t.state:e.state,this.alt=null!==t.alt?t.alt:e.alt,this.context=null!==t.context?t.context:e.context,this.semanticContext=null!==t.semanticContext?t.semanticContext:null!==e.semanticContext?e.semanticContext:Mt.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}hashCode(){const t=new Nt;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t||t instanceof Ut&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(null===this.context?null===t.context:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed}hashCodeForConfigSet(){const t=new Nt;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t||t instanceof Ut&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext)}toString(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==Mt.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class zt{constructor(t,e){this.start=t,this.stop=e}clone(){return new zt(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}zt.INVALID_INTERVAL=new zt(-1,-2);class Vt{constructor(){this.intervals=null,this.readOnly=!1}first(t){return null===this.intervals||0===this.intervals.length?St.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new zt(t,t+1))}addRange(t,e){this.addInterval(new zt(t,e+1))}addInterval(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new zt(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new zt(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}addSet(t){return null!==t.intervals&&t.intervals.forEach((t=>this.addInterval(t)),this),this}reduce(t){if(t<this.intervals.length-1){const e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new zt(e.start,n.stop),this.intervals.splice(t+1,1))}}complement(t,e){const n=new Vt;return n.addInterval(new zt(t,e+1)),null!==this.intervals&&this.intervals.forEach((t=>n.removeRange(t))),n}contains(t){if(null===this.intervals)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals){let e=0;for(let n=0;n<this.intervals.length;n++){const n=this.intervals[e];if(t.stop<=n.start)return;if(t.start>n.start&&t.stop<n.stop){this.intervals[e]=new zt(n.start,t.start);const r=new zt(t.stop,n.stop);return void this.intervals.splice(e,0,r)}t.start<=n.start&&t.stop>=n.stop?(this.intervals.splice(e,1),e-=1):t.start<n.stop?this.intervals[e]=new zt(n.start,t.start):t.stop<n.stop&&(this.intervals[e]=new zt(t.stop,n.stop)),e+=1}}}removeOne(t){if(null!==this.intervals)for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new zt(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new zt(n.start,n.stop-1));if(t<n.stop-1){const r=new zt(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}toString(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}toCharString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===St.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(n.start)+"'"):t.push("'"+String.fromCharCode(n.start)+"'..'"+String.fromCharCode(n.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}toIndexString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===St.EOF?t.push("<EOF>"):t.push(n.start.toString()):t.push(n.start.toString()+".."+(n.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}toTokenString(t,e){const n=[];for(let r=0;r<this.intervals.length;r++){const i=this.intervals[r];for(let r=i.start;r<i.stop;r++)n.push(this.elementName(t,e,r))}return n.length>1?"{"+n.join(", ")+"}":n[0]}elementName(t,e,n){return n===St.EOF?"<EOF>":n===St.EPSILON?"<EPSILON>":t[n]||e[n]}get length(){return this.intervals.map((t=>t.length)).reduce(((t,e)=>t+e))}}class Kt{constructor(){this.atn=null,this.stateNumber=Kt.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t){return t instanceof Kt&&this.stateNumber===t.stateNumber}isNonGreedyExitState(){return!1}addTransition(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}Kt.INVALID_TYPE=0,Kt.BASIC=1,Kt.RULE_START=2,Kt.BLOCK_START=3,Kt.PLUS_BLOCK_START=4,Kt.STAR_BLOCK_START=5,Kt.TOKEN_START=6,Kt.RULE_STOP=7,Kt.BLOCK_END=8,Kt.STAR_LOOP_BACK=9,Kt.STAR_LOOP_ENTRY=10,Kt.PLUS_LOOP_BACK=11,Kt.LOOP_END=12,Kt.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],Kt.INVALID_STATE_NUMBER=-1;class Ht extends Kt{constructor(){return super(),this.stateType=Kt.RULE_STOP,this}}class qt{constructor(t){if(null==t)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}}qt.EPSILON=1,qt.RANGE=2,qt.RULE=3,qt.PREDICATE=4,qt.ATOM=5,qt.ACTION=6,qt.SET=7,qt.NOT_SET=8,qt.WILDCARD=9,qt.PRECEDENCE=10,qt.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],qt.serializationTypes={EpsilonTransition:qt.EPSILON,RangeTransition:qt.RANGE,RuleTransition:qt.RULE,PredicateTransition:qt.PREDICATE,AtomTransition:qt.ATOM,ActionTransition:qt.ACTION,SetTransition:qt.SET,NotSetTransition:qt.NOT_SET,WildcardTransition:qt.WILDCARD,PrecedencePredicateTransition:qt.PRECEDENCE};class Wt extends qt{constructor(t,e,n,r){super(t),this.ruleIndex=e,this.precedence=n,this.followState=r,this.serializationType=qt.RULE,this.isEpsilon=!0}matches(t,e,n){return!1}}class Gt extends qt{constructor(t,e){super(t),this.serializationType=qt.SET,null!=e?this.label=e:(this.label=new Vt,this.label.addOne(St.INVALID_TYPE))}matches(t,e,n){return this.label.contains(t)}toString(){return this.label.toString()}}class Yt extends Gt{constructor(t,e){super(t,e),this.serializationType=qt.NOT_SET}matches(t,e,n){return t>=e&&t<=n&&!super.matches(t,e,n)}toString(){return"~"+super.toString()}}class $t extends qt{constructor(t){super(t),this.serializationType=qt.WILDCARD}matches(t,e,n){return t>=e&&t<=n}toString(){return"."}}class Xt extends qt{constructor(t){super(t)}}class Zt{}class Jt extends Zt{}class Qt extends Jt{}class te extends Qt{get ruleContext(){throw new Error("missing interface implementation")}}class ee extends Qt{}class ne extends ee{}const re={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);let r=re.getNodeText(t,e);r=function(t){return t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);const i=t.getChildCount();if(0===i)return r;let o="("+r+" ";i>0&&(r=re.toStringTree(t.getChild(0),e),o=o.concat(r));for(let n=1;n<i;n++)r=re.toStringTree(t.getChild(n),e),o=o.concat(" "+r);return o=o.concat(")"),o},getNodeText:function(t,e,n){if(e=e||null,null!==(n=n||null)&&(e=n.ruleNames),null!==e){if(t instanceof te){const n=t.ruleContext.getAltNumber();return 0!=n?e[t.ruleIndex]+":"+n:e[t.ruleIndex]}if(t instanceof ne)return t.toString();if(t instanceof ee&&null!==t.symbol)return t.symbol.text}const r=t.getPayload();return r instanceof St?r.text:t.getPayload().toString()},getChildren:function(t){const e=[];for(let n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){let e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return re.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return re.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){const r=[];return re._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof ee?t.symbol.type===e&&r.push(t):!n&&t instanceof te&&t.ruleIndex===e&&r.push(t);for(let i=0;i<t.getChildCount();i++)re._findAllNodes(t.getChild(i),e,n,r)},descendants:function(t){let e=[t];for(let n=0;n<t.getChildCount();n++)e=e.concat(re.descendants(t.getChild(n)));return e}},ie=re;class oe extends te{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;null!==e;)e=e.parentCtx,t+=1;return t}isEmpty(){return-1===this.invokingState}getSourceInterval(){return zt.INVALID_INTERVAL}get ruleContext(){return this}getPayload(){return this}getText(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return ie.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let n=this,r="[";for(;null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{const e=n.ruleIndex;r+=e>=0&&e<t.length?t[e]:""+e}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+="]",r}}class se{constructor(t){this.cachedHashCode=t}isEmpty(){return this===se.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===se.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}}se.EMPTY=null,se.EMPTY_RETURN_STATE=2147483647,se.globalNodeCount=1,se.id=se.globalNodeCount,se.trace_atn_sim=!1;class ae extends se{constructor(t,e){const n=new Nt;return n.update(t,e),super(n.finish()),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===se.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t||t instanceof ae&&this.hashCode()===t.hashCode()&&Et(this.returnStates,t.returnStates)&&Et(this.parents,t.parents)}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==se.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}}get length(){return this.returnStates.length}}class ce extends se{constructor(t,e){let n=0;const r=new Nt;null!==t?r.update(t,e):r.update(1),n=r.finish(),super(n),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t||t instanceof ce&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}toString(){const t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===se.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}get length(){return 1}static create(t,e){return e===se.EMPTY_RETURN_STATE&&null===t?se.EMPTY:new ce(t,e)}}class ue extends ce{constructor(){super(null,se.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}}se.EMPTY=new ue;class le{constructor(t,e){this.buckets=new Array(16),this.threshold=Math.floor(12),this.itemCount=0,this.hashFunction=t||Ct,this.equalsFunction=e||Lt}set(t,e){this._expand();const n=this._getSlot(t);let r=this.buckets[n];if(!r)return r=[[t,e]],this.buckets[n]=r,this.itemCount++,e;const i=r.find((e=>this.equalsFunction(e[0],t)),this);if(i){const t=i[1];return i[1]=e,t}return r.push([t,e]),this.itemCount++,e}containsKey(t){const e=this._getBucket(t);return!!e&&!!e.find((e=>this.equalsFunction(e[0],t)),this)}get(t){const e=this._getBucket(t);if(!e)return null;const n=e.find((e=>this.equalsFunction(e[0],t)),this);return n?n[1]:null}entries(){return this.buckets.filter((t=>null!=t)).flat(1)}getKeys(){return this.entries().map((t=>t[0]))}getValues(){return this.entries().map((t=>t[1]))}toString(){return"["+this.entries().map((t=>"{"+t[0]+":"+t[1]+"}")).join(", ")+"]"}get length(){return this.itemCount}_getSlot(t){return this.hashFunction(t)&this.buckets.length-1}_getBucket(t){return this.buckets[this._getSlot(t)]}_expand(){if(this.itemCount<=this.threshold)return;const t=this.buckets,e=2*this.buckets.length;this.buckets=new Array(e),this.threshold=Math.floor(.75*e);for(const e of t)if(e)for(const t of e){const e=this._getSlot(t[0]);let n=this.buckets[e];n||(n=[],this.buckets[e]=n),n.push(t)}}}function he(t,e){if(null==e&&(e=oe.EMPTY),null===e.parentCtx||e===oe.EMPTY)return se.EMPTY;const n=he(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return ce.create(n,r.followState.stateNumber)}function fe(t,e,n){if(t.isEmpty())return t;let r=n.get(t)||null;if(null!==r)return r;if(r=e.get(t),null!==r)return n.set(t,r),r;let i=!1,o=[];for(let r=0;r<o.length;r++){const s=fe(t.getParent(r),e,n);if(i||s!==t.getParent(r)){if(!i){o=[];for(let e=0;e<t.length;e++)o[e]=t.getParent(e);i=!0}o[r]=s}}if(!i)return e.add(t),n.set(t,t),t;let s=null;return s=0===o.length?se.EMPTY:1===o.length?ce.create(o[0],t.getReturnState(0)):new ae(o,t.returnStates),e.add(s),n.set(s,s),n.set(t,s),s}function pe(t,e,n,r){if(t===e)return t;if(t instanceof ce&&e instanceof ce)return function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}const i=function(t,e,n){if(n){if(t===se.EMPTY)return se.EMPTY;if(e===se.EMPTY)return se.EMPTY}else{if(t===se.EMPTY&&e===se.EMPTY)return se.EMPTY;if(t===se.EMPTY){const t=[e.returnState,se.EMPTY_RETURN_STATE],n=[e.parentCtx,null];return new ae(n,t)}if(e===se.EMPTY){const e=[t.returnState,se.EMPTY_RETURN_STATE],n=[t.parentCtx,null];return new ae(n,e)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){const i=pe(t.parentCtx,e.parentCtx,n,r);if(i===t.parentCtx)return t;if(i===e.parentCtx)return e;const o=ce.create(i,t.returnState);return null!==r&&r.set(t,e,o),o}{let n=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(n=t.parentCtx),null!==n){const i=[t.returnState,e.returnState];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState);const o=new ae([n,n],i);return null!==r&&r.set(t,e,o),o}const i=[t.returnState,e.returnState];let o=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState,o=[e.parentCtx,t.parentCtx]);const s=new ae(o,i);return null!==r&&r.set(t,e,s),s}}(t,e,n,r);if(n){if(t instanceof ue)return t;if(e instanceof ue)return e}return t instanceof ce&&(t=new ae([t.getParent()],[t.returnState])),e instanceof ce&&(e=new ae([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return se.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),n;if(n=r.get(e,t),null!==n)return se.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),n}let i=0,o=0,s=0,a=new Array(t.returnStates.length+e.returnStates.length).fill(0),c=new Array(t.returnStates.length+e.returnStates.length).fill(null);for(;i<t.returnStates.length&&o<e.returnStates.length;){const u=t.parents[i],l=e.parents[o];if(t.returnStates[i]===e.returnStates[o]){const e=t.returnStates[i];e===se.EMPTY_RETURN_STATE&&null===u&&null===l||null!==u&&null!==l&&u===l?(c[s]=u,a[s]=e):(c[s]=pe(u,l,n,r),a[s]=e),i+=1,o+=1}else t.returnStates[i]<e.returnStates[o]?(c[s]=u,a[s]=t.returnStates[i],i+=1):(c[s]=l,a[s]=e.returnStates[o],o+=1);s+=1}if(i<t.returnStates.length)for(let e=i;e<t.returnStates.length;e++)c[s]=t.parents[e],a[s]=t.returnStates[e],s+=1;else for(let t=o;t<e.returnStates.length;t++)c[s]=e.parents[t],a[s]=e.returnStates[t],s+=1;if(s<c.length){if(1===s){const n=ce.create(c[0],a[0]);return null!==r&&r.set(t,e,n),n}c=c.slice(0,s),a=a.slice(0,s)}const u=new ae(c,a);return u.equals(t)?(null!==r&&r.set(t,e,t),se.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> a"),t):u.equals(e)?(null!==r&&r.set(t,e,e),se.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> b"),e):(function(t){const e=new le;for(let n=0;n<t.length;n++){const r=t[n];e.containsKey(r)||e.set(r,r)}for(let n=0;n<t.length;n++)t[n]=e.get(t[n])}(c),null!==r&&r.set(t,e,u),se.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> "+u),u)}(t,e,n,r)}class de{constructor(){this.data=new Uint32Array(1)}set(t){de._checkIndex(t),this._resize(t),this.data[t>>>5]|=1<<t%32}get(t){de._checkIndex(t);const e=t>>>5;return!(e>=this.data.length||!(this.data[e]&1<<t%32))}clear(t){de._checkIndex(t);const e=t>>>5;e<this.data.length&&(this.data[e]&=~(1<<t))}or(t){const e=Math.min(this.data.length,t.data.length);for(let n=0;n<e;++n)this.data[n]|=t.data[n];if(this.data.length<t.data.length){this._resize((t.data.length<<5)-1);const n=t.data.length;for(let r=e;r<n;++r)this.data[r]=t.data[r]}}values(){const t=new Array(this.length);let e=0;const n=this.data.length;for(let r=0;r<n;++r){let n=this.data[r];for(;0!==n;){const i=n&-n;t[e++]=(r<<5)+de._bitCount(i-1),n^=i}}return t}minValue(){for(let t=0;t<this.data.length;++t){let e=this.data[t];if(0!==e){let n=0;for(;!(1&e);)n++,e>>=1;return n+32*t}}return 0}hashCode(){return Nt.hashStuff(this.values())}equals(t){return t instanceof de&&Et(this.data,t.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.data.map((t=>de._bitCount(t))).reduce(((t,e)=>t+e),0)}_resize(t){const e=t+32>>>5;if(e<=this.data.length)return;const n=new Uint32Array(e);n.set(this.data),n.fill(0,this.data.length),this.data=n}static _checkIndex(t){if(t<0)throw new RangeError("index cannot be negative")}static _bitCount(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,0+(t+=t>>16)&63}}class me{constructor(t){this.atn=t}getDecisionLookahead(t){if(null===t)return null;const e=t.transitions.length,n=[];for(let r=0;r<e;r++){n[r]=new Vt;const e=new It,i=!1;this._LOOK(t.transition(r).target,null,se.EMPTY,n[r],e,new de,i,!1),(0===n[r].length||n[r].contains(me.HIT_PRED))&&(n[r]=null)}return n}LOOK(t,e,n){const r=new Vt,i=null!==(n=n||null)?he(t.atn,n):null;return this._LOOK(t,e,i,r,new It,new de,!0,!0),r}_LOOK(t,e,n,r,i,o,s,a){const c=new Ut({state:t,alt:0,context:n},null);if(!i.has(c)){if(i.add(c),t===e){if(null===n)return void r.addOne(St.EPSILON);if(n.isEmpty()&&a)return void r.addOne(St.EOF)}if(t instanceof Ht){if(null===n)return void r.addOne(St.EPSILON);if(n.isEmpty()&&a)return void r.addOne(St.EOF);if(n!==se.EMPTY){const c=o.get(t.ruleIndex);try{o.clear(t.ruleIndex);for(let t=0;t<n.length;t++){const c=this.atn.states[n.getReturnState(t)];this._LOOK(c,e,n.getParent(t),r,i,o,s,a)}}finally{c&&o.set(t.ruleIndex)}return}}for(let c=0;c<t.transitions.length;c++){const u=t.transitions[c];if(u.constructor===Wt){if(o.get(u.target.ruleIndex))continue;const t=ce.create(n,u.followState.stateNumber);try{o.set(u.target.ruleIndex),this._LOOK(u.target,e,t,r,i,o,s,a)}finally{o.clear(u.target.ruleIndex)}}else if(u instanceof Xt)s?this._LOOK(u.target,e,n,r,i,o,s,a):r.addOne(me.HIT_PRED);else if(u.isEpsilon)this._LOOK(u.target,e,n,r,i,o,s,a);else if(u.constructor===$t)r.addRange(St.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let t=u.label;null!==t&&(u instanceof Yt&&(t=t.complement(St.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),r.addSet(t))}}}}}me.HIT_PRED=St.INVALID_TYPE;class ye{constructor(t,e){this.grammarType=t,this.maxTokenType=e,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t,e){return new me(this).LOOK(t,null,e)}nextTokensNoContext(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}nextTokens(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}addState(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}removeState(t){this.states[t.stateNumber]=null}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}getDecisionState(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}getExpectedTokens(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";const n=this.states[t];let r=this.nextTokens(n);if(!r.contains(St.EPSILON))return r;const i=new Vt;for(i.addSet(r),i.removeOne(St.EPSILON);null!==e&&e.invokingState>=0&&r.contains(St.EPSILON);){const t=this.states[e.invokingState].transitions[0];r=this.nextTokens(t.followState),i.addSet(r),i.removeOne(St.EPSILON),e=e.parentCtx}return r.contains(St.EPSILON)&&i.addOne(St.EOF),i}}ye.INVALID_ALT_NUMBER=0;class ge extends Kt{constructor(){super(),this.stateType=Kt.BASIC}}class ve extends Kt{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class be extends ve{constructor(){return super(),this.endState=null,this}}class _e extends Kt{constructor(){return super(),this.stateType=Kt.BLOCK_END,this.startState=null,this}}class we extends Kt{constructor(){return super(),this.stateType=Kt.LOOP_END,this.loopBackState=null,this}}class xe extends Kt{constructor(){return super(),this.stateType=Kt.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class ke extends ve{constructor(){return super(),this.stateType=Kt.TOKEN_START,this}}class Te extends ve{constructor(){return super(),this.stateType=Kt.PLUS_LOOP_BACK,this}}class Se extends Kt{constructor(){return super(),this.stateType=Kt.STAR_LOOP_BACK,this}}class Ee extends ve{constructor(){return super(),this.stateType=Kt.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class Ae extends be{constructor(){return super(),this.stateType=Kt.PLUS_BLOCK_START,this.loopBackState=null,this}}class Oe extends be{constructor(){return super(),this.stateType=Kt.STAR_BLOCK_START,this}}class Ne extends be{constructor(){return super(),this.stateType=Kt.BLOCK_START,this}}class Ce extends qt{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=qt.ATOM}makeLabel(){const t=new Vt;return t.addOne(this.label_),t}matches(t,e,n){return this.label_===t}toString(){return this.label_}}class Le extends qt{constructor(t,e,n){super(t),this.serializationType=qt.RANGE,this.start=e,this.stop=n,this.label=this.makeLabel()}makeLabel(){const t=new Vt;return t.addRange(this.start,this.stop),t}matches(t,e,n){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class Re extends qt{constructor(t,e,n,r){super(t),this.serializationType=qt.ACTION,this.ruleIndex=e,this.actionIndex=void 0===n?-1:n,this.isCtxDependent=void 0!==r&&r,this.isEpsilon=!0}matches(t,e,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class Pe extends qt{constructor(t,e){super(t),this.serializationType=qt.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,n){return!1}toString(){return"epsilon"}}class Ie extends Mt{constructor(t,e,n){super(),this.ruleIndex=void 0===t?-1:t,this.predIndex=void 0===e?-1:e,this.isCtxDependent=void 0!==n&&n}evaluate(t,e){const n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t||t instanceof Ie&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}Mt.NONE=new Ie;class Me extends Xt{constructor(t,e,n,r){super(t),this.serializationType=qt.PREDICATE,this.ruleIndex=e,this.predIndex=n,this.isCtxDependent=r,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new Ie(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class De extends Mt{constructor(t){super(),this.precedence=void 0===t?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?Mt.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t||t instanceof De&&this.precedence===t.precedence}toString(){return"{"+this.precedence+">=prec}?"}}Mt.PrecedencePredicate=De;class je extends Xt{constructor(t,e){super(t),this.serializationType=qt.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new De(this.precedence)}toString(){return this.precedence+" >= _p"}}class Be{constructor(t){void 0===t&&(t=null),this.readOnly=!1,this.verifyATN=null===t||t.verifyATN,this.generateRuleBypassTransitions=null!==t&&t.generateRuleBypassTransitions}}Be.defaultOptions=new Be,Be.defaultOptions.readOnly=!0;class Fe{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){const t=new Nt;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}}class Ue extends Fe{constructor(){super(6)}execute(t){t.skip()}toString(){return"skip"}}Ue.INSTANCE=new Ue;class ze extends Fe{constructor(t){super(0),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t||t instanceof ze&&this.channel===t.channel}toString(){return"channel("+this.channel+")"}}class Ve extends Fe{constructor(t,e){super(1),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t||t instanceof Ve&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}class Ke extends Fe{constructor(){super(3)}execute(t){t.more()}toString(){return"more"}}Ke.INSTANCE=new Ke;class He extends Fe{constructor(t){super(7),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t||t instanceof He&&this.type===t.type}toString(){return"type("+this.type+")"}}class qe extends Fe{constructor(t){super(5),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof qe&&this.mode===t.mode}toString(){return"pushMode("+this.mode+")"}}class We extends Fe{constructor(){super(4)}execute(t){t.popMode()}toString(){return"popMode"}}We.INSTANCE=new We;class Ge extends Fe{constructor(t){super(2),this.mode=t}execute(t){t.setMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof Ge&&this.mode===t.mode}toString(){return"mode("+this.mode+")"}}function Ye(t,e){const n=[];return n[t-1]=e,n.map((function(t){return e}))}class $e{constructor(t){null==t&&(t=Be.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}deserialize(t){const e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();const n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);const r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}reset(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){const e=function(t){const e=t.charCodeAt(0);return e>1?e-2:e+65534},n=t.split("").map(e);return n[0]=t.charCodeAt(0),this.data=n,this.pos=0,!0}return this.data=t,this.pos=0,!1}skipUUID(){let t=0;for(;t++<8;)this.readInt()}checkVersion(t){const e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}readATN(){const t=this.readInt(),e=this.readInt();return new ye(t,e)}readStates(t,e){let n,r,i;const o=[],s=[],a=this.readInt();for(let n=0;n<a;n++){const n=this.readInt();if(n===Kt.INVALID_TYPE){t.addState(null);continue}let r=this.readInt();e&&65535===r&&(r=-1);const i=this.stateFactory(n,r);if(n===Kt.LOOP_END){const t=this.readInt();o.push([i,t])}else if(i instanceof be){const t=this.readInt();s.push([i,t])}t.addState(i)}for(n=0;n<o.length;n++)r=o[n],r[0].loopBackState=t.states[r[1]];for(n=0;n<s.length;n++)r=s[n],r[0].endState=t.states[r[1]];let c=this.readInt();for(n=0;n<c;n++)i=this.readInt(),t.states[i].nonGreedy=!0;let u=this.readInt();for(n=0;n<u;n++)i=this.readInt(),t.states[i].isPrecedenceRule=!0}readRules(t,e){let n;const r=this.readInt();for(0===t.grammarType&&(t.ruleToTokenType=Ye(r,0)),t.ruleToStartState=Ye(r,0),n=0;n<r;n++){const r=this.readInt();if(t.ruleToStartState[n]=t.states[r],0===t.grammarType){let r=this.readInt();e&&65535===r&&(r=St.EOF),t.ruleToTokenType[n]=r}}for(t.ruleToStopState=Ye(r,0),n=0;n<t.states.length;n++){const e=t.states[n];e instanceof Ht&&(t.ruleToStopState[e.ruleIndex]=e,t.ruleToStartState[e.ruleIndex].stopState=e)}}readModes(t){const e=this.readInt();for(let n=0;n<e;n++){let e=this.readInt();t.modeToStartState.push(t.states[e])}}readSets(t,e,n){const r=this.readInt();for(let t=0;t<r;t++){const t=new Vt;e.push(t);const r=this.readInt();0!==this.readInt()&&t.addOne(-1);for(let e=0;e<r;e++){const e=n(),r=n();t.addRange(e,r)}}}readEdges(t,e){let n,r,i,o,s;const a=this.readInt();for(n=0;n<a;n++){const n=this.readInt(),r=this.readInt(),i=this.readInt(),s=this.readInt(),a=this.readInt(),c=this.readInt();o=this.edgeFactory(t,i,n,r,s,a,c,e),t.states[n].addTransition(o)}for(n=0;n<t.states.length;n++)for(i=t.states[n],r=0;r<i.transitions.length;r++){const e=i.transitions[r];if(!(e instanceof Wt))continue;let n=-1;t.ruleToStartState[e.target.ruleIndex].isPrecedenceRule&&0===e.precedence&&(n=e.target.ruleIndex),o=new Pe(e.followState,n),t.ruleToStopState[e.target.ruleIndex].addTransition(o)}for(n=0;n<t.states.length;n++){if(i=t.states[n],i instanceof be){if(null===i.endState)throw"IllegalState";if(null!==i.endState.startState)throw"IllegalState";i.endState.startState=i}if(i instanceof Te)for(r=0;r<i.transitions.length;r++)s=i.transitions[r].target,s instanceof Ae&&(s.loopBackState=i);else if(i instanceof Se)for(r=0;r<i.transitions.length;r++)s=i.transitions[r].target,s instanceof Ee&&(s.loopBackState=i)}}readDecisions(t){const e=this.readInt();for(let n=0;n<e;n++){const e=this.readInt(),r=t.states[e];t.decisionToState.push(r),r.decision=n}}readLexerActions(t,e){if(0===t.grammarType){const n=this.readInt();t.lexerActions=Ye(n,null);for(let r=0;r<n;r++){const n=this.readInt();let i=this.readInt();e&&65535===i&&(i=-1);let o=this.readInt();e&&65535===o&&(o=-1),t.lexerActions[r]=this.lexerActionFactory(n,i,o)}}}generateRuleBypassTransitions(t){let e;const n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let n,r;const i=new Ne;i.ruleIndex=e,t.addState(i);const o=new _e;o.ruleIndex=e,t.addState(o),i.endState=o,t.defineDecisionState(i),o.startState=i;let s=null,a=null;if(t.ruleToStartState[e].isPrecedenceRule){for(a=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){a=r,s=r.loopBackState.transitions[0];break}if(null===s)throw"Couldn't identify final state of the precedence rule prefix section."}else a=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(let t=0;t<r.transitions.length;t++){const e=r.transitions[t];e!==s&&e.target===a&&(e.target=o)}}const c=t.ruleToStartState[e],u=c.transitions.length;for(;u>0;)i.addTransition(c.transitions[u-1]),c.transitions=c.transitions.slice(-1);t.ruleToStartState[e].addTransition(new Pe(i)),o.addTransition(new Pe(a));const l=new ge;t.addState(l),l.addTransition(new Ce(o,t.ruleToTokenType[e])),i.addTransition(new Pe(l))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof Ee))return null;const n=t.transitions[t.transitions.length-1].target;return n instanceof we&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof Ht?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){const n=t.states[e];if(n instanceof Ee&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){const t=n.transitions[n.transitions.length-1].target;t instanceof we&&t.epsilonOnlyTransitions&&t.transitions[0].target instanceof Ht&&(n.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){const n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof Ae)this.checkCondition(null!==n.loopBackState);else if(n instanceof Ee)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof Oe)this.checkCondition(n.transitions[1].target instanceof we),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof we))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof Oe),this.checkCondition(n.nonGreedy)}else n instanceof Se?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof Ee)):n instanceof we?this.checkCondition(null!==n.loopBackState):n instanceof xe?this.checkCondition(null!==n.stopState):n instanceof be?this.checkCondition(null!==n.endState):n instanceof _e?this.checkCondition(null!==n.startState):n instanceof ve?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof Ht)}}checkCondition(t,e){if(!t)throw null==e&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(t,e,n,r,i,o,s,a){const c=t.states[r];switch(e){case qt.EPSILON:return new Pe(c);case qt.RANGE:return new Le(c,0!==s?St.EOF:i,o);case qt.RULE:return new Wt(t.states[i],o,s,c);case qt.PREDICATE:return new Me(c,i,o,0!==s);case qt.PRECEDENCE:return new je(c,i);case qt.ATOM:return new Ce(c,0!==s?St.EOF:i);case qt.ACTION:return new Re(c,i,o,0!==s);case qt.SET:return new Gt(c,a[i]);case qt.NOT_SET:return new Yt(c,a[i]);case qt.WILDCARD:return new $t(c);default:throw"The specified transition type: "+e+" is not valid."}}stateFactory(t,e){if(null===this.stateFactories){const t=[];t[Kt.INVALID_TYPE]=null,t[Kt.BASIC]=()=>new ge,t[Kt.RULE_START]=()=>new xe,t[Kt.BLOCK_START]=()=>new Ne,t[Kt.PLUS_BLOCK_START]=()=>new Ae,t[Kt.STAR_BLOCK_START]=()=>new Oe,t[Kt.TOKEN_START]=()=>new ke,t[Kt.RULE_STOP]=()=>new Ht,t[Kt.BLOCK_END]=()=>new _e,t[Kt.STAR_LOOP_BACK]=()=>new Se,t[Kt.STAR_LOOP_ENTRY]=()=>new Ee,t[Kt.PLUS_LOOP_BACK]=()=>new Te,t[Kt.LOOP_END]=()=>new we,this.stateFactories=t}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";{const n=this.stateFactories[t]();if(null!==n)return n.ruleIndex=e,n}}lexerActionFactory(t,e,n){if(null===this.actionFactories){const t=[];t[0]=(t,e)=>new ze(t),t[1]=(t,e)=>new Ve(t,e),t[2]=(t,e)=>new Ge(t),t[3]=(t,e)=>Ke.INSTANCE,t[4]=(t,e)=>We.INSTANCE,t[5]=(t,e)=>new qe(t),t[6]=(t,e)=>Ue.INSTANCE,t[7]=(t,e)=>new He(t),this.actionFactories=t}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}class Xe{syntaxError(t,e,n,r,i,o){}reportAmbiguity(t,e,n,r,i,o,s){}reportAttemptingFullContext(t,e,n,r,i,o){}reportContextSensitivity(t,e,n,r,i,o){}}class Ze extends Xe{constructor(){super()}syntaxError(t,e,n,r,i,o){console.error("line "+n+":"+r+" "+i)}}Ze.INSTANCE=new Ze;class Je extends Xe{constructor(t){if(super(),null===t)throw"delegates";return this.delegates=t,this}syntaxError(t,e,n,r,i,o){this.delegates.map((s=>s.syntaxError(t,e,n,r,i,o)))}reportAmbiguity(t,e,n,r,i,o,s){this.delegates.map((a=>a.reportAmbiguity(t,e,n,r,i,o,s)))}reportAttemptingFullContext(t,e,n,r,i,o){this.delegates.map((s=>s.reportAttemptingFullContext(t,e,n,r,i,o)))}reportContextSensitivity(t,e,n,r,i,o){this.delegates.map((s=>s.reportContextSensitivity(t,e,n,r,i,o)))}}class Qe{constructor(){this._listeners=[Ze.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t){const e="4.13.2";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}addErrorListener(t){this._listeners.push(t)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(let r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";let e=this.tokenTypeMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),e.EOF=St.EOF,this.tokenTypeMapCache[t]=e),e}getRuleIndexMap(){const t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";let e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}getTokenType(t){const e=this.getTokenTypeMap()[t];return void 0!==e?e:St.INVALID_TYPE}getErrorHeader(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===St.EOF?"<EOF>":"<"+t.type+">"),e=e.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"),"'"+e+"'"}getErrorListenerDispatch(){return console.warn("Calling deprecated method in Recognizer class: getErrorListenerDispatch()"),this.getErrorListener()}getErrorListener(){return new Je(this._listeners)}sempred(t,e,n){return!0}precpred(t,e){return!0}get atn(){return this._interp.atn}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}Qe.tokenTypeMapCache={},Qe.ruleIndexMapCache={};class tn extends St{constructor(t,e,n,r,i){super(),this.source=void 0!==t?t:tn.EMPTY_SOURCE,this.type=void 0!==e?e:null,this.channel=void 0!==n?n:St.DEFAULT_CHANNEL,this.start=void 0!==r?r:-1,this.stop=void 0!==i?i:-1,this.tokenIndex=-1,null!==this.source[0]?(this.line=t[0].line,this.column=t[0].column):this.column=-1}clone(){const t=new tn(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}cloneWithType(t){const e=new tn(this.source,t,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,t===St.EOF&&(e.text=""),e}toString(){let t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(null!==this._text)return this._text;const t=this.getInputStream();if(null===t)return null;const e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"}set text(t){this._text=t}}tn.EMPTY_SOURCE=[null,null];class en{}class nn extends en{constructor(t){super(),this.copyText=void 0!==t&&t}create(t,e,n,r,i,o,s,a){const c=new tn(t,e,r,i,o);return c.line=s,c.column=a,null!==n?c.text=n:this.copyText&&null!==t[1]&&(c.text=t[1].getText(i,o)),c}createThin(t,e){const n=new tn(null,t);return n.text=e,n}}nn.DEFAULT=new nn;class rn extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,rn),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,null!==this.recognizer&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class on extends rn{constructor(t,e,n,r){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=n,this.deadEndConfigs=r}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new zt(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}class sn extends Qe{constructor(t){super(),this._input=t,this._factory=nn.DEFAULT,this._tokenFactorySourcePair=[this,t],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=St.DEFAULT_CHANNEL,this._type=St.INVALID_TYPE,this._modeStack=[],this._mode=sn.DEFAULT_MODE,this._text=null}reset(){null!==this._input&&this._input.seek(0),this._token=null,this._type=St.INVALID_TYPE,this._channel=St.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=sn.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(null===this._input)throw"nextToken requires a non-null input stream.";const t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=St.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let e=!1;for(;;){this._type=St.INVALID_TYPE;let n=sn.SKIP;try{n=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof rn))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===St.EOF&&(this._hitEOF=!0),this._type===St.INVALID_TYPE&&(this._type=n),this._type===sn.SKIP){e=!0;break}if(this._type!==sn.MORE)break}if(!e)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}skip(){this._type=sn.SKIP}more(){this._type=sn.MORE}mode(t){console.warn("Calling deprecated method in Lexer class: mode(...)"),this.setMode(t)}setMode(t){this._mode=t}getMode(){return this._mode}getModeStack(){return this._modeStack}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.setMode(t)}popMode(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.setMode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const t=this.column,e=this.line,n=this._factory.create(this._tokenFactorySourcePair,St.EOF,null,St.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(n),n}getCharIndex(){return this._input.index}getAllTokens(){const t=[];let e=this.nextToken();for(;e.type!==St.EOF;)t.push(e),e=this.nextToken();return t}notifyListeners(t){const e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),i="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListener().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i,t)}getErrorDisplay(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e.join("")}getErrorDisplayForChar(t){return t.charCodeAt(0)===St.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(t){this._input.LA(1)!==St.EOF&&(t instanceof on?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return null!==this._text?this._text:this._interp.getText(this._input)}set text(t){this._text=t}}function an(t){return t.hashCodeForConfigSet()}function cn(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}sn.DEFAULT_MODE=0,sn.MORE=-2,sn.SKIP=-3,sn.DEFAULT_TOKEN_CHANNEL=St.DEFAULT_CHANNEL,sn.HIDDEN=St.HIDDEN_CHANNEL,sn.MIN_CHAR_VALUE=0,sn.MAX_CHAR_VALUE=1114111;class un{constructor(t){this.configLookup=new It(an,cn),this.fullCtx=void 0===t||t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==Mt.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.getOrAdd(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;const r=!this.fullCtx,i=pe(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=i,!0}getStates(){const t=new It;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){const t=[];for(let e=0;e<this.configs.length;e++){const n=this.configs[e].semanticContext;n!==Mt.NONE&&t.push(n.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];n.context=t.getCachedContext(n.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof un&&Et(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){const t=new Nt;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return 0===this.configs.length}contains(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new It}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return Pt(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==ye.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class ln{constructor(t,e){return null===t&&(t=-1),null===e&&(e=new un),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t=new It;if(null!==this.configs)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}equals(t){return this===t||t instanceof ln&&this.configs.equals(t.configs)}toString(){let t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}hashCode(){const t=new Nt;return t.update(this.configs),t.finish()}}class hn{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(null===this.sharedContextCache)return t;const e=new le;return fe(t,this.sharedContextCache,e)}}hn.ERROR=new ln(2147483647,new un);class fn extends un{constructor(){super(),this.configLookup=new It}}class pn extends Ut{constructor(t,e){super(t,e);const n=t.lexerActionExecutor||null;return this.lexerActionExecutor=n||(null!==e?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=null!==e&&this.checkNonGreedyDecision(e,this.state),this.hashCodeForConfigSet=pn.prototype.hashCode,this.equalsForConfigSet=pn.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof pn&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof ve&&e.nonGreedy}}class dn extends Fe{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t||t instanceof dn&&this.offset===t.offset&&this.action===t.action}}class mn{constructor(t){return this.lexerActions=null===t?[]:t,this.cachedHashCode=Nt.hashStuff(t),this}fixOffsetBeforeMatch(t){let e=null;for(let n=0;n<this.lexerActions.length;n++)!this.lexerActions[n].isPositionDependent||this.lexerActions[n]instanceof dn||(null===e&&(e=this.lexerActions.concat([])),e[n]=new dn(t,this.lexerActions[n]));return null===e?this:new mn(e)}execute(t,e,n){let r=!1;const i=e.index;try{for(let o=0;o<this.lexerActions.length;o++){let s=this.lexerActions[o];if(s instanceof dn){const t=s.offset;e.seek(n+t),s=s.action,r=n+t!==i}else s.isPositionDependent&&(e.seek(i),r=!1);s.execute(t)}}finally{r&&e.seek(i)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof mn){if(this.cachedHashCode!=t.cachedHashCode)return!1;if(this.lexerActions.length!=t.lexerActions.length)return!1;{const e=this.lexerActions.length;for(let n=0;n<e;++n)if(!this.lexerActions[n].equals(t.lexerActions[n]))return!1;return!0}}return!1}static append(t,e){if(null===t)return new mn([e]);const n=t.lexerActions.concat([e]);return new mn(n)}}function yn(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}class gn{constructor(){yn(this)}reset(){yn(this)}}class vn extends hn{constructor(t,e,n,r){super(e,r),this.decisionToDFA=n,this.recog=t,this.startIndex=-1,this.line=1,this.column=0,this.mode=sn.DEFAULT_MODE,this.prevAccept=new gn}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;const n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const n=this.decisionToDFA[e];return null===n.s0?this.matchATN(t):this.execATN(t,n.s0)}finally{t.release(n)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=sn.DEFAULT_MODE}matchATN(t){const e=this.atn.modeToStartState[this.mode];vn.debug&&console.log("matchATN mode "+this.mode+" start: "+e);const n=this.mode,r=this.computeStartState(t,e),i=r.hasSemanticContext;r.hasSemanticContext=!1;const o=this.addDFAState(r);i||(this.decisionToDFA[this.mode].s0=o);const s=this.execATN(t,o);return vn.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),s}execATN(t,e){vn.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);let n=t.LA(1),r=e;for(;;){vn.debug&&console.log("execATN loop starting closure: "+r.configs);let e=this.getExistingTargetState(r,n);if(null===e&&(e=this.computeTargetState(t,r,n)),e===hn.ERROR)break;if(n!==St.EOF&&this.consume(t),e.isAcceptState&&(this.captureSimState(this.prevAccept,t,e),n===St.EOF))break;n=t.LA(1),r=e}return this.failOrAccept(this.prevAccept,t,r.configs,n)}getExistingTargetState(t,e){if(null===t.edges||e<vn.MIN_DFA_EDGE||e>vn.MAX_DFA_EDGE)return null;let n=t.edges[e-vn.MIN_DFA_EDGE];return void 0===n&&(n=null),vn.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,n){const r=new fn;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,hn.ERROR),hn.ERROR):this.addDFAEdge(e,n,null,r)}failOrAccept(t,e,n,r){if(null!==this.prevAccept.dfaState){const n=t.dfaState.lexerActionExecutor;return this.accept(e,n,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(r===St.EOF&&e.index===this.startIndex)return St.EOF;throw new on(this.recog,e,this.startIndex,n)}getReachableConfigSet(t,e,n,r){let i=ye.INVALID_ALT_NUMBER;for(let o=0;o<e.items.length;o++){const s=e.items[o],a=s.alt===i;if(!a||!s.passedThroughNonGreedyDecision){vn.debug&&console.log("testing %s at %s\n",this.getTokenName(r),s.toString(this.recog,!0));for(let e=0;e<s.state.transitions.length;e++){const o=s.state.transitions[e],c=this.getReachableTarget(o,r);if(null!==c){let e=s.lexerActionExecutor;null!==e&&(e=e.fixOffsetBeforeMatch(t.index-this.startIndex));const o=r===St.EOF,u=new pn({state:c,lexerActionExecutor:e},s);this.closure(t,u,n,a,!0,o)&&(i=s.alt)}}}}}accept(t,e,n,r,i,o){vn.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=i,this.column=o,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}getReachableTarget(t,e){return t.matches(e,0,sn.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,e){const n=se.EMPTY,r=new fn;for(let i=0;i<e.transitions.length;i++){const o=e.transitions[i].target,s=new pn({state:o,alt:i+1,context:n},null);this.closure(t,s,r,!1,!1,!1)}return r}closure(t,e,n,r,i,o){let s=null;if(vn.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof Ht){if(vn.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new pn({state:e.state,context:se.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(let a=0;a<e.context.length;a++)if(e.context.getReturnState(a)!==se.EMPTY_RETURN_STATE){const c=e.context.getParent(a),u=this.atn.states[e.context.getReturnState(a)];s=new pn({state:u,context:c},e),r=this.closure(t,s,n,r,i,o)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(let a=0;a<e.state.transitions.length;a++){const c=e.state.transitions[a];s=this.getEpsilonTarget(t,e,c,n,i,o),null!==s&&(r=this.closure(t,s,n,r,i,o))}return r}getEpsilonTarget(t,e,n,r,i,o){let s=null;if(n.serializationType===qt.RULE){const t=ce.create(e.context,n.followState.stateNumber);s=new pn({state:n.target,context:t},e)}else{if(n.serializationType===qt.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(n.serializationType===qt.PREDICATE)vn.debug&&console.log("EVAL rule "+n.ruleIndex+":"+n.predIndex),r.hasSemanticContext=!0,this.evaluatePredicate(t,n.ruleIndex,n.predIndex,i)&&(s=new pn({state:n.target},e));else if(n.serializationType===qt.ACTION)if(null===e.context||e.context.hasEmptyPath()){const t=mn.append(e.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);s=new pn({state:n.target,lexerActionExecutor:t},e)}else s=new pn({state:n.target},e);else n.serializationType===qt.EPSILON?s=new pn({state:n.target},e):n.serializationType!==qt.ATOM&&n.serializationType!==qt.RANGE&&n.serializationType!==qt.SET||o&&n.matches(St.EOF,0,sn.MAX_CHAR_VALUE)&&(s=new pn({state:n.target},e))}return s}evaluatePredicate(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);const i=this.column,o=this.line,s=t.index,a=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=i,this.line=o,t.seek(s),t.release(a)}}captureSimState(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}addDFAEdge(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){const t=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),t)return n}return e<vn.MIN_DFA_EDGE||e>vn.MAX_DFA_EDGE||(vn.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-vn.MIN_DFA_EDGE]=n),n}addDFAState(t){const e=new ln(null,t);let n=null;for(let e=0;e<t.items.length;e++){const r=t.items[e];if(r.state instanceof Ht){n=r;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);const r=this.decisionToDFA[this.mode],i=r.states.get(e);if(null!==i)return i;const o=e;return o.stateNumber=r.states.length,t.setReadonly(!0),o.configs=t,r.states.add(o),o}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}vn.debug=!1,vn.dfa_debug=!1,vn.MIN_DFA_EDGE=0,vn.MAX_DFA_EDGE=127;class bn{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}}class _n{constructor(){this.data={}}get(t){return this.data["k-"+t]||null}set(t,e){this.data["k-"+t]=e}values(){return Object.keys(this.data).filter((t=>t.startsWith("k-"))).map((t=>this.data[t]),this)}}const wn={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(wn.allConfigsInRuleStopStates(e))return!0;if(t===wn.SLL&&e.hasSemanticContext){const t=new un;for(let n=0;n<e.items.length;n++){let r=e.items[n];r=new Ut({semanticContext:Mt.NONE},r),t.add(r)}e=t}const n=wn.getConflictingAltSubsets(e);return wn.hasConflictingAltSet(n)&&!wn.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(let e=0;e<t.items.length;e++)if(t.items[e].state instanceof Ht)return!0;return!1},allConfigsInRuleStopStates:function(t){for(let e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof Ht))return!1;return!0},resolvesToJustOneViableAlt:function(t){return wn.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!wn.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){const e=wn.getAlts(t);return 1===e.length?e.minValue():ye.INVALID_ALT_NUMBER},getAlts:function(t){const e=new de;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){const e=new le;return e.hashFunction=function(t){Nt.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){let n=e.get(t);null===n&&(n=new de,e.set(t,n)),n.set(t.alt)})),e.getValues()},getStateToAltMap:function(t){const e=new _n;return t.items.map((function(t){let n=e.get(t.state);null===n&&(n=new de,e.set(t.state,n)),n.set(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){const e=wn.getStateToAltMap(t).values();for(let t=0;t<e.length;t++)if(1===e[t].length)return!0;return!1},getSingleViableAlt:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n].minValue();if(null===e)e=r;else if(e!==r)return ye.INVALID_ALT_NUMBER}return e}},xn=wn;class kn extends rn{constructor(t,e,n,r,i,o){o=o||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:o}),this.deadEndConfigs=i,this.startToken=n,this.offendingToken=r}}class Tn{constructor(t){this.defaultMapCtor=t||le,this.cacheMap=new this.defaultMapCtor}get(t,e){const n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}set(t,e,n){let r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}class Sn extends hn{constructor(t,e,n,r){super(e,r),this.parser=t,this.decisionToDFA=n,this.predictionMode=xn.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.trace_atn_sim=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;const r=this.decisionToDFA[e];this._dfa=r;const i=t.mark(),o=t.index;try{let e;if(e=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0,null===e){null===n&&(n=oe.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));const i=!1;let o=this.computeStartState(r.atnStartState,oe.EMPTY,i);r.precedenceDfa?(r.s0.configs=o,o=this.applyPrecedenceFilter(o),e=this.addDFAState(r,new ln(null,o)),r.setPrecedenceStartState(this.parser.getPrecedence(),e)):(e=this.addDFAState(r,new ln(null,o)),r.s0=e)}const i=this.execATN(r,e,t,o,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),i}finally{this._dfa=null,this.mergeCache=null,t.seek(o),t.release(i)}}execATN(t,e,n,r,i){let o;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+t.decision+", DFA state "+e+", LA(1)=="+this.getLookaheadName(n)+" line "+n.LT(1).line+":"+n.LT(1).column);let s=e;this.debug&&console.log("s0 = "+e);let a=n.LA(1);for(;;){let e=this.getExistingTargetState(s,a);if(null===e&&(e=this.computeTargetState(t,s,a)),e===hn.ERROR){const t=this.noViableAlt(n,i,s.configs,r);if(n.seek(r),o=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(s.configs,i),o!==ye.INVALID_ALT_NUMBER)return o;throw t}if(e.requiresFullContext&&this.predictionMode!==xn.SLL){let s=null;if(null!==e.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const t=n.index;if(t!==r&&n.seek(r),s=this.evalSemanticContext(e.predicates,i,!0),1===s.length)return this.debug&&console.log("Full LL avoided"),s.minValue();t!==r&&n.seek(t)}this.dfa_debug&&console.log("ctx sensitive state "+i+" in "+e);const a=!0,c=this.computeStartState(t.atnStartState,i,a);return this.reportAttemptingFullContext(t,s,e.configs,r,n.index),o=this.execATNWithFullContext(t,e,c,n,r,i),o}if(e.isAcceptState){if(null===e.predicates)return e.prediction;const o=n.index;n.seek(r);const s=this.evalSemanticContext(e.predicates,i,!0);if(0===s.length)throw this.noViableAlt(n,i,e.configs,r);return 1===s.length||this.reportAmbiguity(t,e,r,o,!1,s,e.configs),s.minValue()}s=e,a!==St.EOF&&(n.consume(),a=n.LA(1))}}getExistingTargetState(t,e){const n=t.edges;return null===n?null:n[e+1]||null}computeTargetState(t,e,n){const r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,hn.ERROR),hn.ERROR;let i=new ln(null,r);const o=this.getUniqueAlt(r);if(this.debug){const t=xn.getConflictingAltSubsets(r);console.log("SLL altSubSets="+Pt(t)+", configs="+r+", predict="+o+", allSubsetsConflict="+xn.allSubsetsConflict(t)+", conflictingAlts="+this.getConflictingAlts(r))}return o!==ye.INVALID_ALT_NUMBER?(i.isAcceptState=!0,i.configs.uniqueAlt=o,i.prediction=o):xn.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(i.configs.conflictingAlts=this.getConflictingAlts(r),i.requiresFullContext=!0,i.isAcceptState=!0,i.prediction=i.configs.conflictingAlts.minValue()),i.isAcceptState&&i.configs.hasSemanticContext&&(this.predicateDFAState(i,this.atn.getDecisionState(t.decision)),null!==i.predicates&&(i.prediction=ye.INVALID_ALT_NUMBER)),i=this.addDFAEdge(t,e,n,i),i}predicateDFAState(t,e){const n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),i=this.getPredsForAmbigAlts(r,t.configs,n);null!==i?(t.predicates=this.getPredicatePredictions(r,i),t.prediction=ye.INVALID_ALT_NUMBER):t.prediction=r.minValue()}execATNWithFullContext(t,e,n,r,i,o){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+n);let s,a=!1,c=n;r.seek(i);let u=r.LA(1),l=-1;for(;;){if(s=this.computeReachSet(c,u,!0),null===s){const t=this.noViableAlt(r,o,c,i);r.seek(i);const e=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(c,o);if(e!==ye.INVALID_ALT_NUMBER)return e;throw t}const t=xn.getConflictingAltSubsets(s);if(this.debug&&console.log("LL altSubSets="+t+", predict="+xn.getUniqueAlt(t)+", resolvesToJustOneViableAlt="+xn.resolvesToJustOneViableAlt(t)),s.uniqueAlt=this.getUniqueAlt(s),s.uniqueAlt!==ye.INVALID_ALT_NUMBER){l=s.uniqueAlt;break}if(this.predictionMode!==xn.LL_EXACT_AMBIG_DETECTION){if(l=xn.resolvesToJustOneViableAlt(t),l!==ye.INVALID_ALT_NUMBER)break}else if(xn.allSubsetsConflict(t)&&xn.allSubsetsEqual(t)){a=!0,l=xn.getSingleViableAlt(t);break}c=s,u!==St.EOF&&(r.consume(),u=r.LA(1))}return s.uniqueAlt!==ye.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,l,s,i,r.index),l):(this.reportAmbiguity(t,e,i,r.index,a,null,s),l)}computeReachSet(t,e,n){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new Tn);const r=new un(n);let i=null;for(let o=0;o<t.items.length;o++){const s=t.items[o];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+s),s.state instanceof Ht)(n||e===St.EOF)&&(null===i&&(i=[]),i.push(s),this.debug_add&&console.log("added "+s+" to skippedStopStates"));else for(let t=0;t<s.state.transitions.length;t++){const n=s.state.transitions[t],i=this.getReachableTarget(n,e);if(null!==i){const t=new Ut({state:i},s);r.add(t,this.mergeCache),this.debug_add&&console.log("added "+t+" to intermediate")}}}let o=null;if(null===i&&e!==St.EOF&&(1===r.items.length||this.getUniqueAlt(r)!==ye.INVALID_ALT_NUMBER)&&(o=r),null===o){o=new un(n);const t=new It,i=e===St.EOF;for(let e=0;e<r.items.length;e++)this.closure(r.items[e],o,t,!1,n,i)}if(e===St.EOF&&(o=this.removeAllConfigsNotInRuleStopState(o,o===r)),!(null===i||n&&xn.hasConfigInRuleStopState(o)))for(let t=0;t<i.length;t++)o.add(i[t],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+t+" -> "+o),0===o.items.length?null:o}removeAllConfigsNotInRuleStopState(t,e){if(xn.allConfigsInRuleStopStates(t))return t;const n=new un(t.fullCtx);for(let r=0;r<t.items.length;r++){const i=t.items[r];if(i.state instanceof Ht)n.add(i,this.mergeCache);else if(e&&i.state.epsilonOnlyTransitions&&this.atn.nextTokens(i.state).contains(St.EPSILON)){const t=this.atn.ruleToStopState[i.state.ruleIndex];n.add(new Ut({state:t},i),this.mergeCache)}}return n}computeStartState(t,e,n){const r=he(this.atn,e),i=new un(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+r.toString(this.parser));for(let e=0;e<t.transitions.length;e++){const o=t.transitions[e].target,s=new Ut({state:o,alt:e+1,context:r},null),a=new It;this.closure(s,i,a,!0,n,!1)}return i}applyPrecedenceFilter(t){let e;const n=[],r=new un(t.fullCtx);for(let i=0;i<t.items.length;i++){if(e=t.items[i],1!==e.alt)continue;const o=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==o&&(n[e.state.stateNumber]=e.context,o!==e.semanticContext?r.add(new Ut({semanticContext:o},e),this.mergeCache):r.add(e,this.mergeCache))}for(let i=0;i<t.items.length;i++)if(e=t.items[i],1!==e.alt){if(!e.precedenceFilterSuppressed){const t=n[e.state.stateNumber]||null;if(null!==t&&t.equals(e.context))continue}r.add(e,this.mergeCache)}return r}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,n){let r=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];t.get(i.alt)&&(r[i.alt]=Mt.orContext(r[i.alt]||null,i.semanticContext))}let i=0;for(let t=1;t<n+1;t++){const e=r[t]||null;null===e?r[t]=Mt.NONE:e!==Mt.NONE&&(i+=1)}return 0===i&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+Pt(r)),r}getPredicatePredictions(t,e){const n=[];let r=!1;for(let i=1;i<e.length;i++){const o=e[i];null!==t&&t.get(i)&&n.push(new bn(o,i)),o!==Mt.NONE&&(r=!0)}return r?n:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){const n=this.splitAccordingToSemanticValidity(t,e),r=n[0],i=n[1];let o=this.getAltThatFinishedDecisionEntryRule(r);return o!==ye.INVALID_ALT_NUMBER||i.items.length>0&&(o=this.getAltThatFinishedDecisionEntryRule(i),o!==ye.INVALID_ALT_NUMBER)?o:ye.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof Ht&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?ye.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){const n=new un(t.fullCtx),r=new un(t.fullCtx);for(let i=0;i<t.items.length;i++){const o=t.items[i];o.semanticContext!==Mt.NONE?o.semanticContext.evaluate(this.parser,e)?n.add(o):r.add(o):n.add(o)}return[n,r]}evalSemanticContext(t,e,n){const r=new de;for(let i=0;i<t.length;i++){const o=t[i];if(o.pred===Mt.NONE){if(r.set(o.alt),!n)break;continue}const s=o.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+o+"="+s),s&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+o.alt),r.set(o.alt),!n))break}return r}closure(t,e,n,r,i,o){this.closureCheckingStopState(t,e,n,r,i,0,o)}closureCheckingStopState(t,e,n,r,i,o,s){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof Ht){if(!t.context.isEmpty()){for(let a=0;a<t.context.length;a++){if(t.context.getReturnState(a)===se.EMPTY_RETURN_STATE){if(i){e.add(new Ut({state:t.state,context:se.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,i,o,s);continue}const c=this.atn.states[t.context.getReturnState(a)],u=t.context.getParent(a),l={state:c,alt:t.alt,context:u,semanticContext:t.semanticContext},h=new Ut(l,null);h.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(h,e,n,r,i,o-1,s)}return}if(i)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,i,o,s)}closure_(t,e,n,r,i,o,s){const a=t.state;a.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let c=0;c<a.transitions.length;c++){if(0===c&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const u=a.transitions[c],l=r&&!(u instanceof Re),h=this.getEpsilonTarget(t,u,l,0===o,i,s);if(null!==h){let r=o;if(t.state instanceof Ht){if(null!==this._dfa&&this._dfa.precedenceDfa&&u.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(h.precedenceFilterSuppressed=!0),h.reachesIntoOuterContext+=1,n.getOrAdd(h)!==h)continue;e.dipsIntoOuterContext=!0,r-=1,this.debug&&console.log("dips into outer ctx: "+h)}else{if(!u.isEpsilon&&n.getOrAdd(h)!==h)continue;u instanceof Wt&&r>=0&&(r+=1)}this.closureCheckingStopState(h,e,n,l,i,r,s)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const e=t.state;if(e.stateType!==Kt.STAR_LOOP_ENTRY)return!1;if(e.stateType!==Kt.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const n=t.context.length;for(let r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;const r=e.transitions[0].target.endState.stateNumber,i=this.atn.states[r];for(let r=0;r<n;r++){const n=t.context.getReturnState(r),o=this.atn.states[n];if(1!==o.transitions.length||!o.transitions[0].isEpsilon)return!1;const s=o.transitions[0].target;if(!(o.stateType===Kt.BLOCK_END&&s===e||o===i||s===i||s.stateType===Kt.BLOCK_END&&1===s.transitions.length&&s.transitions[0].isEpsilon&&s.transitions[0].target===e))return!1}return!0}getRuleName(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(t,e,n,r,i,o){switch(e.serializationType){case qt.RULE:return this.ruleTransition(t,e);case qt.PRECEDENCE:return this.precedenceTransition(t,e,n,r,i);case qt.PREDICATE:return this.predTransition(t,e,n,r,i);case qt.ACTION:return this.actionTransition(t,e);case qt.EPSILON:return new Ut({state:e.target},t);case qt.ATOM:case qt.RANGE:case qt.SET:return o&&e.matches(St.EOF,0,1)?new Ut({state:e.target},t):null;default:return null}}actionTransition(t,e){if(this.debug){const t=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+t)}return new Ut({state:e.target},t)}precedenceTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+Pt(this.parser.getRuleInvocationStack())));let o=null;if(n&&r)if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(o=new Ut({state:e.target},t))}else{const n=Mt.andContext(t.semanticContext,e.getPredicate());o=new Ut({state:e.target,semanticContext:n},t)}else o=new Ut({state:e.target},t);return this.debug&&console.log("config from pred transition="+o),o}predTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+Pt(this.parser.getRuleInvocationStack())));let o=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(o=new Ut({state:e.target},t))}else{const n=Mt.andContext(t.semanticContext,e.getPredicate());o=new Ut({state:e.target,semanticContext:n},t)}else o=new Ut({state:e.target},t);return this.debug&&console.log("config from pred transition="+o),o}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);const n=e.followState,r=ce.create(t.context,n.stateNumber);return new Ut({state:e.target,context:r},t)}getConflictingAlts(t){const e=xn.getConflictingAltSubsets(t);return xn.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==ye.INVALID_ALT_NUMBER?(e=new de,e.set(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(t){if(t===St.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const e=t.getDeadEndConfigs();for(let t=0;t<e.length;t++){const n=e[t];let r="no edges";if(n.state.transitions.length>0){const t=n.state.transitions[0];t instanceof Ce?r="Atom "+this.getTokenName(t.label):t instanceof Gt&&(r=(t instanceof Yt?"~":"")+"Set "+t.set)}console.error(n.toString(this.parser,!0)+":"+r)}}noViableAlt(t,e,n,r){return new kn(this.parser,t,t.get(r),t.LT(1),n,e)}getUniqueAlt(t){let e=ye.INVALID_ALT_NUMBER;for(let n=0;n<t.items.length;n++){const r=t.items[n];if(e===ye.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return ye.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){const e=null===this.parser?null:this.parser.literalNames,n=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(e,n))}return r}addDFAState(t,e){if(e===hn.ERROR)return e;const n=t.states.get(e);return null!==n?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),n):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new zt(r,i+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListener().reportAttemptingFullContext(this.parser,t,r,i,e,n)}reportContextSensitivity(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new zt(r,i+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListener().reportContextSensitivity(this.parser,t,r,i,e,n)}reportAmbiguity(t,e,n,r,i,o,s){if(this.debug||this.retry_debug){const t=new zt(n,r+1);console.log("reportAmbiguity "+o+":"+s+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListener().reportAmbiguity(this.parser,t,n,r,i,o,s)}}class En{constructor(){this.cache=new le}add(t){if(t===se.EMPTY)return se.EMPTY;const e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}}const An={ATN:ye,ATNDeserializer:$e,LexerATNSimulator:vn,ParserATNSimulator:Sn,PredictionMode:xn,PredictionContextCache:En};class On{constructor(t,e,n){this.dfa=t,this.literalNames=e||[],this.symbolicNames=n||[]}toString(){if(null===this.dfa.s0)return null;let t="";const e=this.dfa.sortedStates();for(let n=0;n<e.length;n++){const r=e[n];if(null!==r.edges){const e=r.edges.length;for(let n=0;n<e;n++){const e=r.edges[n]||null;null!==e&&2147483647!==e.stateNumber&&(t=t.concat(this.getStateString(r)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(n)),t=t.concat("->"),t=t.concat(this.getStateString(e)),t=t.concat("\n"))}}}return 0===t.length?null:t}getEdgeLabel(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){const e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+Pt(t.predicates):e+"=>"+t.prediction.toString():e}}class Nn extends On{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}}class Cn{constructor(t,e){if(void 0===e&&(e=0),this.atnStartState=t,this.decision=e,this._states=new It,this.s0=null,this.precedenceDfa=!1,t instanceof Ee&&t.isPrecedenceDecision){this.precedenceDfa=!0;const t=new ln(null,new un);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new It,t){const t=new ln(null,new un);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}toString(t,e){return t=t||null,e=e||null,null===this.s0?"":new On(this,t,e).toString()}toLexerString(){return null===this.s0?"":new Nn(this).toString()}get states(){return this._states}}const Ln={DFA:Cn,DFASerializer:On,LexerDFASerializer:Nn,PredPrediction:bn},Rn={PredictionContext:se},Pn={Interval:zt,IntervalSet:Vt};class In{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}}class Mn{visit(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}}class Dn{walk(t,e){if(e instanceof ne||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof ee)t.visitTerminal(e);else{this.enterRule(t,e);for(let n=0;n<e.getChildCount();n++){const r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}enterRule(t,e){const n=e.ruleContext;t.enterEveryRule(n),n.enterRule(t)}exitRule(t,e){const n=e.ruleContext;n.exitRule(t),t.exitEveryRule(n)}}Dn.DEFAULT=new Dn;const jn={Trees:ie,RuleNode:te,ErrorNode:ne,TerminalNode:ee,ParseTreeListener:In,ParseTreeVisitor:Mn,ParseTreeWalker:Dn};class Bn extends rn{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}}class Fn extends rn{constructor(t,e,n){super({message:Un(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});const r=t._interp.atn.states[t.state].transitions[0];r instanceof Me?(this.ruleIndex=r.ruleIndex,this.predicateIndex=r.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}}function Un(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}class zn extends Xe{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,n,r,i,o,s){if(this.exactOnly&&!i)return;const a="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(o,s)+", input='"+t.getTokenStream().getText(new zt(n,r))+"'";t.notifyErrorListeners(a)}reportAttemptingFullContext(t,e,n,r,i,o){const s="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new zt(n,r))+"'";t.notifyErrorListeners(s)}reportContextSensitivity(t,e,n,r,i,o){const s="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new zt(n,r))+"'";t.notifyErrorListeners(s)}getDecisionDescription(t,e){const n=e.decision,r=e.atnStartState.ruleIndex,i=t.ruleNames;if(r<0||r>=i.length)return""+n;const o=i[r]||null;return null===o||0===o.length?""+n:`${n} (${o})`}getConflictingAlts(t,e){if(null!==t)return t;const n=new de;for(let t=0;t<e.items.length;t++)n.set(e.items[t].alt);return`{${n.values().join(", ")}}`}}class Vn extends Error{constructor(){super(),Error.captureStackTrace(this,Vn)}}class Kn{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}}class Hn extends Kn{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof kn?this.reportNoViableAlternative(t,e):e instanceof Bn?this.reportInputMismatch(t,e):e instanceof Fn?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);const n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}sync(t){if(this.inErrorRecoveryMode(t))return;const e=t._interp.atn.states[t.state],n=t.getTokenStream().LA(1),r=t.atn.nextTokens(e);if(r.contains(n))return this.nextTokensContext=null,void(this.nextTokenState=Kt.INVALID_STATE_NUMBER);if(r.contains(St.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case Kt.BLOCK_START:case Kt.STAR_BLOCK_START:case Kt.PLUS_BLOCK_START:case Kt.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new Bn(t);case Kt.PLUS_LOOP_BACK:case Kt.STAR_LOOP_BACK:{this.reportUnwantedToken(t);const e=new Vt;e.addSet(t.getExpectedTokens());const n=e.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,n)}}}reportNoViableAlternative(t,e){const n=t.getTokenStream();let r;r=null!==n?e.startToken.type===St.EOF?"<EOF>":n.getText(new zt(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";const i="no viable alternative at input "+this.escapeWSAndQuote(r);t.notifyErrorListeners(i,e.offendingToken,e)}reportInputMismatch(t,e){const n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}reportFailedPredicate(t,e){const n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}recoverInline(t){const e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new Bn(t)}singleTokenInsertion(t){const e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){const e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();const e=t.getCurrentToken();return this.reportMatch(t),e}return null}getMissingSymbol(t){const e=t.getCurrentToken(),n=this.getExpectedTokens(t).first();let r;r=n===St.EOF?"<missing EOF>":"<missing "+t.literalNames[n]+">";let i=e;const o=t.getTokenStream().LT(-1);return i.type===St.EOF&&null!==o&&(i=o),t.getTokenFactory().create(i.source,n,r,St.DEFAULT_CHANNEL,-1,-1,i.line,i.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===St.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(t){const e=t._interp.atn;let n=t._ctx;const r=new Vt;for(;null!==n&&n.invokingState>=0;){const t=e.states[n.invokingState].transitions[0],i=e.nextTokens(t.followState);r.addSet(i),n=n.parentCtx}return r.removeOne(St.EPSILON),r}consumeUntil(t,e){let n=t.getTokenStream().LA(1);for(;n!==St.EOF&&!e.contains(n);)t.consume(),n=t.getTokenStream().LA(1)}}class qn extends Hn{constructor(){super()}recover(t,e){let n=t._ctx;for(;null!==n;)n.exception=e,n=n.parentCtx;throw new Vn(e)}recoverInline(t){this.recover(t,new Bn(t))}sync(t){}}const Wn={RecognitionException:rn,NoViableAltException:kn,LexerNoViableAltException:on,InputMismatchException:Bn,FailedPredicateException:Fn,DiagnosticErrorListener:zn,BailErrorStrategy:qn,DefaultErrorStrategy:Hn,ErrorListener:Xe};class Gn{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let t=0;t<this.strdata.length;){const e=this.strdata.codePointAt(t);this.data.push(e),t+=e<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let t=0;t<this.strdata.length;t++)this.data[t]=this.strdata.charCodeAt(t)}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(t){if(0===t)return 0;t<0&&(t+=1);const e=this._index+t-1;return e<0||e>=this._size?St.EOF:this.data[e]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n="";for(let r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}class Yn extends Gn{constructor(t,e){super(t,e)}}var $n=kt(763);const Xn="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;class Zn extends Yn{static fromPath(t,e,n){if(!Xn)throw new Error("FileStream is only available when running in Node!");$n.readFile(t,e,(function(t,e){let r=null;null!==e&&(r=new Gn(e,!0)),n(t,r)}))}constructor(t,e,n){if(!Xn)throw new Error("FileStream is only available when running in Node!");super($n.readFileSync(t,e||"utf-8"),n),this.fileName=t}}const Jn={fromString:function(t){return new Gn(t,!0)},fromBlob:function(t,e,n,r){const i=new window.FileReader;i.onload=function(t){const e=new Gn(t.target.result,!0);n(e)},i.onerror=r,i.readAsText(t,e)},fromBuffer:function(t,e){return new Gn(t.toString(e),!0)},fromPath:function(t,e,n){Zn.fromPath(t,e,n)},fromPathSync:function(t,e){return new Zn(t,e)}},Qn={arrayToString:Pt,stringToCharArray:function(t){let e=new Uint16Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}};class tr{}class er extends tr{constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get size(){return this.tokens.length}get(t){return this.lazyInit(),this.tokens[t]}consume(){let t=!1;if(t=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!t&&this.LA(1)===St.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){const e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){const t=this.tokenSource.nextToken();if(t.tokenIndex=this.tokens.length,this.tokens.push(t),t.type===St.EOF)return this.fetchedEOF=!0,e+1}return t}getTokens(t,e,n){if(void 0===n&&(n=null),t<0||e<0)return null;this.lazyInit();const r=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(let i=t;i<e;i++){const t=this.tokens[i];if(t.type===St.EOF)break;(null===n||n.contains(t.type))&&r.push(t)}return r}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);const e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.index&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.tokens.length)return-1;let n=this.tokens[t];for(;n.channel!==e;){if(n.type===St.EOF)return-1;t+=1,this.sync(t),n=this.tokens[t]}return t}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.nextTokenOnChannel(t+1,sn.DEFAULT_TOKEN_CHANNEL),r=t+1,i=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,i,e)}getHiddenTokensToLeft(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.previousTokenOnChannel(t-1,sn.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;const r=n+1,i=t-1;return this.filterForChannel(r,i,e)}filterForChannel(t,e,n){const r=[];for(let i=t;i<e+1;i++){const t=this.tokens[i];-1===n?t.channel!==sn.DEFAULT_TOKEN_CHANNEL&&r.push(t):t.channel===n&&r.push(t)}return 0===r.length?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(t){this.lazyInit(),this.fill(),t||(t=new zt(0,this.tokens.length-1));let e=t.start;e instanceof St&&(e=e.tokenIndex);let n=t.stop;if(n instanceof St&&(n=n.tokenIndex),null===e||null===n||e<0||n<0)return"";n>=this.tokens.length&&(n=this.tokens.length-1);let r="";for(let t=e;t<n+1;t++){const e=this.tokens[t];if(e.type===St.EOF)break;r+=e.text}return r}fill(){for(this.lazyInit();1e3===this.fetch(1e3););}}Object.defineProperty(er,"size",{get:function(){return this.tokens.length}});class nr extends er{constructor(t,e){super(t),this.channel=void 0===e?St.DEFAULT_CHANNEL:e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(0===t||this.index-t<0)return null;let e=this.index,n=1;for(;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);let e=this.index,n=1;for(;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e=0;e<this.tokens.length;e++){const n=this.tokens[e];if(n.channel===this.channel&&(t+=1),n.type===St.EOF)break}return t}}class rr extends In{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class ir extends Qe{constructor(t){super(),this._input=null,this._errHandler=new Hn,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t)}reset(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}match(t){let e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}getParseListeners(){return this._parseListeners||[]}addParseListener(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(null!==this._parseListeners){const e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}triggerExitRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t){this._input.tokenSource._factory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";let e=this.bypassAltsAtnCache[t];if(null===e){const n=new Be;n.generateRuleBypassTransitions=!0,e=new $e(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}getInputStream(){return this.getTokenStream()}setInputStream(t){this.setTokenStream(t)}getTokenStream(){return this._input}setTokenStream(t){this._input=null,this.reset(),this._input=t}get syntaxErrorsCount(){return this._syntaxErrors}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;const r=e.line,i=e.column;this.getErrorListener().syntaxError(this,e,r,i,t,n)}consume(){const t=this.getCurrentToken();t.type!==St.EOF&&this.getInputStream().consume();const e=null!==this._parseListeners&&this._parseListeners.length>0;if(this.buildParseTrees||e){let n;n=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t),n.invokingState=this.state,e&&this._parseListeners.forEach((function(t){n instanceof ne||void 0!==n.isErrorNode&&n.isErrorNode()?t.visitErrorNode(n):n instanceof ee&&t.visitTerminal(n)}))}return t}addContextToParseTree(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}getPrecedence(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,n){const r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}precpred(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(t){const e=this._interp.atn;let n=this._ctx;const r=e.states[this.state];let i=e.nextTokens(r);if(i.contains(t))return!0;if(!i.contains(St.EPSILON))return!1;for(;null!==n&&n.invokingState>=0&&i.contains(St.EPSILON);){const r=e.states[n.invokingState].transitions[0];if(i=e.nextTokens(r.followState),i.contains(t))return!0;n=n.parentCtx}return!(!i.contains(St.EPSILON)||t!==St.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){const e=this.getRuleIndexMap()[t];return null!==e?e:-1}getRuleInvocationStack(t){null===(t=t||null)&&(t=this._ctx);const e=[];for(;null!==t;){const n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t=!1;for(let e=0;e<this._interp.decisionToDFA.length;e++){const n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}getSourceName(){return this._input.getSourceName()}setTrace(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new rr(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}ir.bypassAltsAtnCache={};class or extends ee{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(null===this.symbol)return zt.INVALID_INTERVAL;const t=this.symbol.tokenIndex;return new zt(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===St.EOF?"<EOF>":this.symbol.text}}class sr extends or{constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}}class ar extends oe{constructor(t,e){super(t,e),this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof sr&&(this.children.push(t),t.parentCtx=this)}),this))}enterRule(t){}exitRule(t){}addChild(t){return null===this.children&&(this.children=[]),this.children.push(t),t}removeLastChild(){null!==this.children&&this.children.pop()}addTokenNode(t){const e=new or(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){const e=new sr(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}getToken(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof ee&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}getTokens(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof ee&&r.symbol.type===t&&e.push(r)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof t&&e.push(r)}return e}}getChildCount(){return null===this.children?0:this.children.length}getSourceInterval(){return null===this.start||null===this.stop?zt.INVALID_INTERVAL:new zt(this.start.tokenIndex,this.stop.tokenIndex)}}oe.EMPTY=new ar;class cr{static DEFAULT_PROGRAM_NAME="default";constructor(t){this.tokens=t,this.programs=new Map}getTokenStream(){return this.tokens}insertAfter(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr.DEFAULT_PROGRAM_NAME;n="number"==typeof t?t:t.tokenIndex;let i=this.getProgram(r),o=new hr(this.tokens,n,i.length,e);i.push(o)}insertBefore(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr.DEFAULT_PROGRAM_NAME;n="number"==typeof t?t:t.tokenIndex;const i=this.getProgram(r),o=new lr(this.tokens,n,i.length,e);i.push(o)}replaceSingle(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr.DEFAULT_PROGRAM_NAME;this.replace(t,t,e,n)}replace(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cr.DEFAULT_PROGRAM_NAME;if("number"!=typeof t&&(t=t.tokenIndex),"number"!=typeof e&&(e=e.tokenIndex),t>e||t<0||e<0||e>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t}..${e}(size=${this.tokens.size})`);let i=this.getProgram(r),o=new fr(this.tokens,t,e,i.length,n);i.push(o)}delete(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr.DEFAULT_PROGRAM_NAME;void 0===e&&(e=t),this.replace(t,e,null,n)}getProgram(t){let e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}initializeProgram(t){const e=[];return this.programs.set(t,e),e}getText(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cr.DEFAULT_PROGRAM_NAME;e=t instanceof zt?t:new zt(0,this.tokens.size-1),"string"==typeof t&&(n=t);const r=this.programs.get(n);let i=e.start,o=e.stop;if(o>this.tokens.size-1&&(o=this.tokens.size-1),i<0&&(i=0),null==r||0===r.length)return this.tokens.getText(new zt(i,o));let s=[],a=this.reduceToSingleOperationPerIndex(r),c=i;for(;c<=o&&c<this.tokens.size;){let t=a.get(c);a.delete(c);let e=this.tokens.get(c);null==t?(e.type!==St.EOF&&s.push(String(e.text)),c++):c=t.execute(s)}if(o===this.tokens.size-1)for(const t of a.values())t.index>=this.tokens.size-1&&s.push(t.text.toString());return s.join("")}reduceToSingleOperationPerIndex(t){for(let e=0;e<t.length;e++){let n=t[e];if(null==n)continue;if(!(n instanceof fr))continue;let r=n,i=this.getKindOfOps(t,lr,e);for(let e of i)e.index===r.index?(t[e.instructionIndex]=void 0,r.text=e.text.toString()+(null!=r.text?r.text.toString():"")):e.index>r.index&&e.index<=r.lastIndex&&(t[e.instructionIndex]=void 0);let o=this.getKindOfOps(t,fr,e);for(let e of o){if(e.index>=r.index&&e.lastIndex<=r.lastIndex){t[e.instructionIndex]=void 0;continue}let n=e.lastIndex<r.index||e.index>r.lastIndex;if(null!=e.text||null!=r.text||n){if(!n)throw new Error(`replace op boundaries of ${r} overlap with previous ${e}`)}else t[e.instructionIndex]=void 0,r.index=Math.min(e.index,r.index),r.lastIndex=Math.max(e.lastIndex,r.lastIndex)}}for(let e=0;e<t.length;e++){let n=t[e];if(null==n)continue;if(!(n instanceof lr))continue;let r=n,i=this.getKindOfOps(t,lr,e);for(let e of i)e.index===r.index&&(e instanceof hr?(r.text=this.catOpText(e.text,r.text),t[e.instructionIndex]=void 0):e instanceof lr&&(r.text=this.catOpText(r.text,e.text),t[e.instructionIndex]=void 0));let o=this.getKindOfOps(t,fr,e);for(let n of o)if(r.index!==n.index){if(r.index>=n.index&&r.index<=n.lastIndex)throw new Error(`insert op ${r} within boundaries of previous ${n}`)}else n.text=this.catOpText(r.text,n.text),t[e]=void 0}let e=new Map;for(let n of t)if(null!=n){if(null!=e.get(n.index))throw new Error("should only be one op per index");e.set(n.index,n)}return e}catOpText(t,e){let n="",r="";return null!=t&&(n=t.toString()),null!=e&&(r=e.toString()),n+r}getKindOfOps(t,e,n){return t.slice(0,n).filter((t=>t&&t instanceof e))}}class ur{constructor(t,e,n,r){this.tokens=t,this.instructionIndex=n,this.index=e,this.text=void 0===r?"":r}toString(){let t=this.constructor.name;const e=t.indexOf("$");return t=t.substring(e+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}class lr extends ur{constructor(t,e,n,r){super(t,e,n,r)}execute(t){return this.text&&t.push(this.text.toString()),this.tokens.get(this.index).type!==St.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}class hr extends lr{constructor(t,e,n,r){super(t,e+1,n,r)}}class fr extends ur{constructor(t,e,n,r,i){super(t,e,r,i),this.lastIndex=n}execute(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}toString(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}const pr={atn:An,dfa:Ln,context:Rn,misc:Pn,tree:jn,error:Wn,Token:St,CommonToken:tn,CharStreams:Jn,CharStream:Gn,InputStream:Yn,CommonTokenStream:nr,Lexer:sn,Parser:ir,ParserRuleContext:ar,Interval:zt,IntervalSet:Vt,LL1Analyzer:me,Utils:Qn,TokenStreamRewriter:cr};var dr=Tt.Ay;function mr(t){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(t)}function yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gr(r.key),r)}}function gr(t){var e=function(t){if("object"!=mr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mr(e)?e:e+""}function vr(t,e,n){return e=_r(e),function(t,e){if(e&&("object"==mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,br()?Reflect.construct(e,n||[],_r(t).constructor):e.apply(t,n))}function br(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(br=function(){return!!t})()}function _r(t){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_r(t)}function wr(t,e){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wr(t,e)}var xr=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{defaultValue:null};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=vr(this,e,[n]);var r=n.defaultValue,i=n.description,o=n.sensitive,s=n.nullable;return t.__class="TerraformVariable",t.defaultValue=r||null,t.description=i||null,t.sensitive=o||!1,t.nullable=s||!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wr(t,e)}(e,t),function(t,e){return e&&yr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"formattedName",get:function(){var t="variable"===this.category?"var":"local";return"output"===this.category?null:"".concat(t,".").concat(this.name)}}])}(t.Variable);const kr=xr;function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function Sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Er(r.key),r)}}function Er(t){var e=function(t){if("object"!=Tr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Tr(e)?e:e+""}function Ar(t,e,n){return e=Nr(e),function(t,e){if(e&&("object"==Tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Or()?Reflect.construct(e,n||[],Nr(t).constructor):e.apply(t,n))}function Or(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Or=function(){return!!t})()}function Nr(t){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nr(t)}function Cr(t,e){return Cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cr(t,e)}var Lr=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isDynamic:!1};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ar(this,e,[n])).isDynamic=n.isDynamic||!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cr(t,e)}(e,t),function(t,e){return e&&Sr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"isVariable",get:function(){return null!==this.value&&"string"==typeof this.value&&(this.value.startsWith("var.")||this.value.startsWith("local."))}}])}(t.ComponentAttribute);const Rr=Lr;function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function Ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mr(r.key),r)}}function Mr(t){var e=function(t){if("object"!=Pr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Pr(e)?e:e+""}function Dr(t,e,n){return e=Fr(e),function(t,e){if(e&&("object"==Pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jr()?Reflect.construct(e,n||[],Fr(t).constructor):e.apply(t,n))}function jr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jr=function(){return!!t})()}function Br(){return Br="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Fr(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Br.apply(null,arguments)}function Fr(t){return Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fr(t)}function Ur(t,e){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ur(t,e)}var zr=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),Dr(this,n,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ur(t,e)}(n,e),function(t,e){return e&&Ir(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(n,[{key:"createAttribute",value:function(t){return new Rr(t)}},{key:"getConfigurationKey",value:function(){return"".concat(this.definition.type,".").concat(this.externalId)}},{key:"getErrors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.validateExternalId(t),function(t,e,n){var r=Br(Fr(t.prototype),"getErrors",n);return function(t){return r.apply(n,t)}}(n,0,this)([t])}},{key:"validateDefinition",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null!==(e=this.definition)&&void 0!==e&&e.isUnknown&&n.push(new t.ParserLog({componentId:this.id,severity:t.ParserLog.SEVERITY_WARNING,message:"parser.warning.noComponentDefinition"})),n}},{key:"validateExternalId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null!==this.externalId&&0!==this.externalId.length||e.push(new t.ParserLog({componentId:this.id,severity:t.ParserLog.SEVERITY_ERROR,message:"@ditrit/terrator-plugin.parser.error.noExternalId"})),e}}])}(t.Component);const Vr=zr;function Kr(t){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(t)}function Hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qr(r.key),r)}}function qr(t){var e=function(t){if("object"!=Kr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Kr(e)?e:e+""}function Wr(t,e,n){return e=Yr(e),function(t,e){if(e&&("object"==Kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Gr()?Reflect.construct(e,n||[],Yr(t).constructor):e.apply(t,n))}function Gr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Gr=function(){return!!t})()}function Yr(t){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yr(t)}function $r(t,e){return $r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$r(t,e)}var Xr=function(t){return t.getText().replaceAll('"',"").trim()},Zr=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=Wr(this,n)).pluginData=t,e.definitions=t.definitions.components,e.currentComponent=null,e.currentBlockType=null,e.currentField=null,e.currentObjectField=null,e.currentFile=null,e.fieldsTree=[],e.currentVariable=null,e.currentVariableField=null,e.ids=new Map,e.idCounter=1,e.componentErrors=[],e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$r(t,e)}(n,e),function(t,e){return e&&Hr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(n,[{key:"getUnknownDefinition",value:function(t){return new p({isContainer:!1,model:"DefaultModel",icon:"unknown",type:t||"unknown",blockType:this.currentBlockType,isUnknown:!0})}},{key:"checkMissingAttributes",value:function(t){var e=this;this.currentComponent.validateRequiredAttributes().forEach((function(n){return e.addError(t,n)}))}},{key:"addComponent",value:function(){var t=this;this.currentComponent.path=this.currentFile.path,this.pluginData.components.push(this.currentComponent),this.componentErrors.forEach((function(e){e.componentId=t.currentComponent.id,e.path=t.currentFile.path,t.pluginData.parseLogs.push(e)})),this.componentErrors=[],this.currentComponent=null,this.currentBlockType=null,this.fieldsTree=[]}},{key:"addVariable",value:function(){this.currentVariable.path=this.currentFile.path,this.pluginData.variables.push(this.currentVariable),this.currentVariable=null,this.currentVariableField=null}},{key:"addError",value:function(t,e){e.startLineNumber=t.start.line,e.startColumn=t.start.column+1,e.endLineNumber=t.stop.line,e.endColumn=t.stop.column+t.getText().length+1,this.componentErrors.push(e)}},{key:"getAttributeDefinition",value:function(t,e){var n;return(null===(n=t.definition)||void 0===n?void 0:n.definedAttributes.find((function(t){return t.name===e})))||null}},{key:"isVariable",value:function(){return"variable"===this.currentBlockType||"output"===this.currentBlockType}},{key:"attributeTypeToVariableType",value:function(t){switch(t){case"String":default:return"string";case"Number":return"number";case"Boolean":return"bool"}}},{key:"enterFile_",value:function(){}},{key:"exitFile_",value:function(){}},{key:"enterTerraform",value:function(){}},{key:"exitTerraform",value:function(){}},{key:"enterResource",value:function(){this.currentBlockType="resource",this.currentComponent=new Vr}},{key:"exitResource",value:function(t){this.checkMissingAttributes(t),this.addComponent()}},{key:"enterData",value:function(){this.currentBlockType="data",this.currentComponent=new Vr}},{key:"exitData",value:function(t){this.checkMissingAttributes(t),this.addComponent()}},{key:"enterProvider",value:function(){this.currentBlockType="provider",this.currentComponent=new Vr}},{key:"exitProvider",value:function(t){this.checkMissingAttributes(t),this.addComponent()}},{key:"enterOutput",value:function(){this.currentBlockType="output",this.currentVariable=new kr({category:"output"})}},{key:"exitOutput",value:function(){this.addVariable(),this.currentBlockType=null}},{key:"enterLocal",value:function(){this.currentBlockType="local"}},{key:"exitLocal",value:function(){this.currentBlockType=null}},{key:"enterModule",value:function(t){this.currentBlockType="module",this.currentComponent=new Vr;var e=Xr(t.name());this.currentComponent.definition=this.definitions.find((function(t){return"module"===t.blockType&&t.type===e}))||this.getUnknownDefinition(e)}},{key:"exitModule",value:function(t){this.checkMissingAttributes(t),this.addComponent()}},{key:"enterVariable",value:function(){this.currentBlockType="variable",this.currentVariable=new kr({category:"variable"})}},{key:"exitVariable",value:function(){this.addVariable(),this.currentBlockType=null}},{key:"enterBlock",value:function(t){var e,n=Xr(t.blocktype());this.currentObjectField?(this.fieldsTree.push(this.currentObjectField),e=this.getAttributeDefinition(this.currentObjectField,n)):e=this.getAttributeDefinition(this.currentComponent,n),this.currentObjectField=new Rr({name:n,value:[],type:"Object",definition:e,isDynamic:!0})}},{key:"exitBlock",value:function(){if(this.fieldsTree.length>0){var t=this.fieldsTree.pop();t.value.push(this.currentObjectField),this.currentObjectField=t}else this.currentComponent.attributes.push(this.currentObjectField),this.currentObjectField=null}},{key:"enterBlocktype",value:function(){}},{key:"exitBlocktype",value:function(){}},{key:"enterResourcetype",value:function(t){var e=this,n=Xr(t);if(this.currentComponent.definition=this.definitions.find((function(t){return t.blockType===e.currentBlockType&&t.type===n}))||this.getUnknownDefinition(n),this.currentComponent.validateDefinition().forEach((function(n){return e.addError(t,n)})),"provider"===this.currentBlockType){var r="".concat(n,".").concat(n);this.currentComponent.externalId=n,this.currentComponent.id=this.createIdFromTypeExternalId(r)}}},{key:"exitResourcetype",value:function(){}},{key:"enterName",value:function(){}},{key:"exitName",value:function(t){var e=this;if(this.currentComponent){this.currentComponent.externalId=Xr(t),this.currentComponent.validateExternalId().forEach((function(n){return e.addError(t,n)}));var n="".concat(this.currentComponent.definition.type,".").concat(this.currentComponent.externalId);this.currentComponent.id=this.createIdFromTypeExternalId(n)}else this.currentVariable&&(this.currentVariable.name=Xr(t))}},{key:"enterLabel",value:function(){}},{key:"exitLabel",value:function(){}},{key:"enterBlockbody",value:function(){}},{key:"exitBlockbody",value:function(){}},{key:"enterArgument",value:function(t){var e,n=null;if(this.isVariable()||"local"===this.currentBlockType||(n=this.getAttributeDefinition(this.currentObjectField||this.currentComponent,t.identifier().getText())),null!==(e=t.expression())&&void 0!==e&&null!==(e=e.section())&&void 0!==e&&e.map_()){this.currentObjectField&&this.fieldsTree.push(this.currentObjectField);var r=t.identifier().getText();this.currentObjectField=new Rr({name:r,type:"Object",value:[],definition:n})}this.isVariable()?(this.currentVariableField=t.identifier().getText(),"default"===this.currentVariableField&&(this.currentVariableField="defaultValue")):"local"===this.currentBlockType?(this.currentVariable=new kr({category:"local",name:Xr(t.identifier())}),this.currentVariableField="value"):this.currentField=new Rr({name:t.identifier().getText()}),this.currentField&&(this.currentField.definition=n)}},{key:"exitArgument",value:function(t){var e,n=this;if(this.isVariable()){var r=t.identifier().getText();"description"===r?this.currentVariable.description=Xr(t.expression()):"sensitive"!==r&&"nullable"!==r||(this.currentVariable[r]="true"===Xr(t.expression()))}else if("local"===this.currentBlockType)this.addVariable();else if(this.currentField)this.currentField.name=t.identifier().getText(),this.currentObjectField?this.currentObjectField.value.push(this.currentField):this.currentComponent.attributes.push(this.currentField);else if(this.currentObjectField.name=t.identifier().getText(),this.fieldsTree.length>0){var i=this.fieldsTree.pop();i.value.push(this.currentObjectField),this.currentObjectField=i}else this.currentComponent.attributes.push(this.currentObjectField),this.currentObjectField=null;"Reference"===(null===(e=this.currentField)||void 0===e||null===(e=e.definition)||void 0===e?void 0:e.type)&&/([^.]+\.[^.]+)/.exec(this.currentField.value)&&(Array.isArray(this.currentField.value)?this.currentField.value=this.currentField.value.map((function(t){var e=/([^.]+\.[^.]+)\.([^.]+)/.exec(t);return n.createIdFromTypeExternalId(e[1])})):this.currentField.value=this.createIdFromTypeExternalId(this.currentField.value)),this.currentField=null}},{key:"createIdFromTypeExternalId",value:function(t){if(this.ids.has(t))return this.ids.get(t);var e="id_".concat(this.idCounter);return this.idCounter+=1,this.ids.set(t,e),e}},{key:"enterIdentifier",value:function(){}},{key:"exitIdentifier",value:function(){}},{key:"enterIdentifierchain",value:function(){}},{key:"exitIdentifierchain",value:function(){}},{key:"enterInline_index",value:function(){}},{key:"exitInline_index",value:function(){}},{key:"enterExpression",value:function(){}},{key:"exitExpression",value:function(){}},{key:"enterForloop",value:function(){}},{key:"exitForloop",value:function(){}},{key:"enterSection",value:function(t){var e;if(!this.currentField&&!this.isVariable()&&null!==(e=t.val())&&void 0!==e&&e.identifier()){var n=Xr(t.val());this.currentField=new Rr({type:"String",value:"null"===n?null:n})}}},{key:"exitSection",value:function(){}},{key:"enterVal",value:function(){}},{key:"getFieldValueTypeFromContext",value:function(t){if(t.BOOL())return{value:"true"===t.BOOL().getText(),type:"Boolean"};if(t.signed_number())return{value:parseFloat(t.signed_number().getText()),type:"Number"};var e=Xr(t);return{value:"null"===e?null:e,type:"String"}}},{key:"exitVal",value:function(e){var n,r=this,i=this.getFieldValueTypeFromContext(e),o=i.value,s=i.type;if(this.isVariable()||"local"===this.currentBlockType){var a=this.attributeTypeToVariableType(s);Array.isArray(this.currentVariable[this.currentVariableField])?(this.currentVariable[this.currentVariableField].push(o),"defaultValue"!==this.currentVariableField&&"value"!==this.currentVariableField||(this.currentVariable.type="list(".concat(a,")"))):(this.currentVariable[this.currentVariableField]=o,"defaultValue"!==this.currentVariableField&&"value"!==this.currentVariableField||(this.currentVariable.type=a))}else{if("Link"===(null===(n=this.currentField.definition)||void 0===n?void 0:n.type)){this.currentField.type="Array";var c=/([^.]+\.[^.]+)\.([^.]+)/.exec(o);this.currentField.value||(this.currentField.value=[]),c?this.currentField.value.push(this.createIdFromTypeExternalId(c[1])):this.addError(e,new t.ParserLog({attribute:this.currentField.name,severity:t.ParserLog.SEVERITY_ERROR,message:"@ditrit/terrator-plugin.parser.error.badExternalId",extraData:o}))}else"Array"===this.currentField.type?this.currentField.value.push(o):(this.currentField.value=o,this.currentField.type=s);this.currentField.getErrors().forEach((function(t){return r.addError(e,t)}))}}},{key:"enterFunctioncall",value:function(){}},{key:"exitFunctioncall",value:function(){}},{key:"enterFunctionname",value:function(){}},{key:"exitFunctionname",value:function(){}},{key:"enterFunctionarguments",value:function(){}},{key:"exitFunctionarguments",value:function(){}},{key:"enterIndex",value:function(){}},{key:"exitIndex",value:function(){}},{key:"enterFiledecl",value:function(){}},{key:"exitFiledecl",value:function(){}},{key:"enterList_",value:function(){this.currentField||(this.currentField=new Rr({type:"Array",value:[]})),this.currentField.type="Array",this.currentField.value||(this.currentField.value=[]),this.isVariable()?this.currentVariable[this.currentVariableField]=[]:"local"===this.currentBlockType&&(this.currentVariable.value=[])}},{key:"exitList_",value:function(){this.currentField&&(this.currentField.type="Array")}},{key:"enterMap_",value:function(){}},{key:"exitMap_",value:function(){}},{key:"enterString",value:function(){}},{key:"exitString",value:function(){}},{key:"enterNumber",value:function(){}},{key:"exitNumber",value:function(){}},{key:"enterSigned_number",value:function(){}},{key:"exitSigned_number",value:function(){}}])}(dr.tree.ParseTreeListener);const Jr=Zr;function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function ti(t,e,n){return e=ni(e),function(t,e){if(e&&("object"==Qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ei()?Reflect.construct(e,n||[],ni(t).constructor):e.apply(t,n))}function ei(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ei=function(){return!!t})()}function ni(t){return ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ni(t)}function ri(t,e){return ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ri(t,e)}function ii(t,e,n){return(e=oi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oi(t){var e=function(t){if("object"!=Qr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Qr(e)?e:e+""}var si=(new dr.atn.ATNDeserializer).deserialize([4,0,49,390,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,4,1,4,1,4,1,4,1,4,1,4,1,4,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,6,1,6,1,7,1,7,1,7,1,7,1,7,1,7,1,8,1,8,1,8,1,8,1,9,1,9,1,10,1,10,1,11,1,11,1,11,1,11,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,13,1,13,1,14,1,14,1,15,1,15,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,18,1,18,1,19,1,19,1,20,1,20,1,21,1,21,1,22,1,22,1,22,1,23,1,23,1,24,1,24,1,24,1,25,1,25,1,25,1,26,1,26,1,26,1,27,1,27,1,27,1,28,1,28,1,28,1,29,1,29,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,32,1,32,1,32,1,33,1,33,1,34,1,34,1,35,1,35,1,36,1,36,1,37,1,37,1,38,1,38,1,39,1,39,1,39,1,39,1,39,1,39,1,39,5,39,261,8,39,10,39,12,39,264,9,39,1,39,1,39,1,39,1,39,1,40,1,40,1,40,1,40,1,41,4,41,275,8,41,11,41,12,41,276,1,42,1,42,1,42,1,42,1,42,1,42,1,42,1,42,1,42,3,42,288,8,42,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,5,43,305,8,43,10,43,12,43,308,9,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,44,1,44,1,44,1,44,1,44,1,44,1,44,1,44,5,44,330,8,44,10,44,12,44,333,9,44,1,44,1,44,1,44,1,44,1,45,1,45,1,45,1,45,5,45,343,8,45,10,45,12,45,346,9,45,1,45,1,45,1,46,1,46,5,46,352,8,46,10,46,12,46,355,9,46,1,47,1,47,1,47,3,47,360,8,47,1,47,5,47,363,8,47,10,47,12,47,366,9,47,1,47,1,47,1,48,1,48,1,48,1,48,5,48,374,8,48,10,48,12,48,377,9,48,1,48,1,48,1,48,1,48,1,48,1,49,4,49,385,8,49,11,49,12,49,386,1,49,1,49,4,262,306,331,375,0,50,1,1,3,2,5,3,7,4,9,5,11,6,13,7,15,8,17,9,19,10,21,11,23,12,25,13,27,14,29,15,31,16,33,17,35,18,37,19,39,20,41,21,43,22,45,23,47,24,49,25,51,26,53,27,55,28,57,29,59,0,61,30,63,31,65,32,67,33,69,34,71,35,73,36,75,37,77,38,79,39,81,40,83,41,85,42,87,43,89,44,91,45,93,46,95,47,97,48,99,49,1,0,6,1,0,48,57,3,0,10,10,13,13,34,34,2,0,65,90,97,122,5,0,45,45,48,57,65,90,95,95,97,122,2,0,10,10,13,13,3,0,9,10,13,13,32,32,400,0,1,1,0,0,0,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,0,25,1,0,0,0,0,27,1,0,0,0,0,29,1,0,0,0,0,31,1,0,0,0,0,33,1,0,0,0,0,35,1,0,0,0,0,37,1,0,0,0,0,39,1,0,0,0,0,41,1,0,0,0,0,43,1,0,0,0,0,45,1,0,0,0,0,47,1,0,0,0,0,49,1,0,0,0,0,51,1,0,0,0,0,53,1,0,0,0,0,55,1,0,0,0,0,57,1,0,0,0,0,61,1,0,0,0,0,63,1,0,0,0,0,65,1,0,0,0,0,67,1,0,0,0,0,69,1,0,0,0,0,71,1,0,0,0,0,73,1,0,0,0,0,75,1,0,0,0,0,77,1,0,0,0,0,79,1,0,0,0,0,81,1,0,0,0,0,83,1,0,0,0,0,85,1,0,0,0,0,87,1,0,0,0,0,89,1,0,0,0,0,91,1,0,0,0,0,93,1,0,0,0,0,95,1,0,0,0,0,97,1,0,0,0,0,99,1,0,0,0,1,101,1,0,0,0,3,111,1,0,0,0,5,120,1,0,0,0,7,125,1,0,0,0,9,132,1,0,0,0,11,139,1,0,0,0,13,146,1,0,0,0,15,148,1,0,0,0,17,154,1,0,0,0,19,158,1,0,0,0,21,160,1,0,0,0,23,162,1,0,0,0,25,166,1,0,0,0,27,177,1,0,0,0,29,179,1,0,0,0,31,181,1,0,0,0,33,183,1,0,0,0,35,188,1,0,0,0,37,190,1,0,0,0,39,192,1,0,0,0,41,194,1,0,0,0,43,196,1,0,0,0,45,198,1,0,0,0,47,201,1,0,0,0,49,203,1,0,0,0,51,206,1,0,0,0,53,209,1,0,0,0,55,212,1,0,0,0,57,215,1,0,0,0,59,218,1,0,0,0,61,220,1,0,0,0,63,229,1,0,0,0,65,238,1,0,0,0,67,241,1,0,0,0,69,243,1,0,0,0,71,245,1,0,0,0,73,247,1,0,0,0,75,249,1,0,0,0,77,251,1,0,0,0,79,253,1,0,0,0,81,269,1,0,0,0,83,274,1,0,0,0,85,287,1,0,0,0,87,289,1,0,0,0,89,321,1,0,0,0,91,338,1,0,0,0,93,349,1,0,0,0,95,359,1,0,0,0,97,369,1,0,0,0,99,384,1,0,0,0,101,102,5,116,0,0,102,103,5,101,0,0,103,104,5,114,0,0,104,105,5,114,0,0,105,106,5,97,0,0,106,107,5,102,0,0,107,108,5,111,0,0,108,109,5,114,0,0,109,110,5,109,0,0,110,2,1,0,0,0,111,112,5,114,0,0,112,113,5,101,0,0,113,114,5,115,0,0,114,115,5,111,0,0,115,116,5,117,0,0,116,117,5,114,0,0,117,118,5,99,0,0,118,119,5,101,0,0,119,4,1,0,0,0,120,121,5,100,0,0,121,122,5,97,0,0,122,123,5,116,0,0,123,124,5,97,0,0,124,6,1,0,0,0,125,126,5,111,0,0,126,127,5,117,0,0,127,128,5,116,0,0,128,129,5,112,0,0,129,130,5,117,0,0,130,131,5,116,0,0,131,8,1,0,0,0,132,133,5,108,0,0,133,134,5,111,0,0,134,135,5,99,0,0,135,136,5,97,0,0,136,137,5,108,0,0,137,138,5,115,0,0,138,10,1,0,0,0,139,140,5,109,0,0,140,141,5,111,0,0,141,142,5,100,0,0,142,143,5,117,0,0,143,144,5,108,0,0,144,145,5,101,0,0,145,12,1,0,0,0,146,147,5,61,0,0,147,14,1,0,0,0,148,149,5,108,0,0,149,150,5,111,0,0,150,151,5,99,0,0,151,152,5,97,0,0,152,153,5,108,0,0,153,16,1,0,0,0,154,155,5,118,0,0,155,156,5,97,0,0,156,157,5,114,0,0,157,18,1,0,0,0,158,159,5,63,0,0,159,20,1,0,0,0,160,161,5,58,0,0,161,22,1,0,0,0,162,163,5,102,0,0,163,164,5,111,0,0,164,165,5,114,0,0,165,24,1,0,0,0,166,167,5,106,0,0,167,168,5,115,0,0,168,169,5,111,0,0,169,170,5,110,0,0,170,171,5,101,0,0,171,172,5,110,0,0,172,173,5,99,0,0,173,174,5,111,0,0,174,175,5,100,0,0,175,176,5,101,0,0,176,26,1,0,0,0,177,178,5,44,0,0,178,28,1,0,0,0,179,180,5,91,0,0,180,30,1,0,0,0,181,182,5,93,0,0,182,32,1,0,0,0,183,184,5,102,0,0,184,185,5,105,0,0,185,186,5,108,0,0,186,187,5,101,0,0,187,34,1,0,0,0,188,189,5,43,0,0,189,36,1,0,0,0,190,191,5,45,0,0,191,38,1,0,0,0,192,193,5,47,0,0,193,40,1,0,0,0,194,195,5,37,0,0,195,42,1,0,0,0,196,197,5,62,0,0,197,44,1,0,0,0,198,199,5,62,0,0,199,200,5,61,0,0,200,46,1,0,0,0,201,202,5,60,0,0,202,48,1,0,0,0,203,204,5,60,0,0,204,205,5,61,0,0,205,50,1,0,0,0,206,207,5,61,0,0,207,208,5,61,0,0,208,52,1,0,0,0,209,210,5,33,0,0,210,211,5,61,0,0,211,54,1,0,0,0,212,213,5,38,0,0,213,214,5,38,0,0,214,56,1,0,0,0,215,216,5,124,0,0,216,217,5,124,0,0,217,58,1,0,0,0,218,219,7,0,0,0,219,60,1,0,0,0,220,221,5,118,0,0,221,222,5,97,0,0,222,223,5,114,0,0,223,224,5,105,0,0,224,225,5,97,0,0,225,226,5,98,0,0,226,227,5,108,0,0,227,228,5,101,0,0,228,62,1,0,0,0,229,230,5,112,0,0,230,231,5,114,0,0,231,232,5,111,0,0,232,233,5,118,0,0,233,234,5,105,0,0,234,235,5,100,0,0,235,236,5,101,0,0,236,237,5,114,0,0,237,64,1,0,0,0,238,239,5,105,0,0,239,240,5,110,0,0,240,66,1,0,0,0,241,242,5,42,0,0,242,68,1,0,0,0,243,244,5,46,0,0,244,70,1,0,0,0,245,246,5,123,0,0,246,72,1,0,0,0,247,248,5,125,0,0,248,74,1,0,0,0,249,250,5,40,0,0,250,76,1,0,0,0,251,252,5,41,0,0,252,78,1,0,0,0,253,254,5,60,0,0,254,255,5,60,0,0,255,256,5,69,0,0,256,257,5,79,0,0,257,258,5,70,0,0,258,262,1,0,0,0,259,261,9,0,0,0,260,259,1,0,0,0,261,264,1,0,0,0,262,263,1,0,0,0,262,260,1,0,0,0,263,265,1,0,0,0,264,262,1,0,0,0,265,266,5,69,0,0,266,267,5,79,0,0,267,268,5,70,0,0,268,80,1,0,0,0,269,270,5,110,0,0,270,271,5,117,0,0,271,272,5,108,0,0,272,82,1,0,0,0,273,275,3,59,29,0,274,273,1,0,0,0,275,276,1,0,0,0,276,274,1,0,0,0,276,277,1,0,0,0,277,84,1,0,0,0,278,279,5,116,0,0,279,280,5,114,0,0,280,281,5,117,0,0,281,288,5,101,0,0,282,283,5,102,0,0,283,284,5,97,0,0,284,285,5,108,0,0,285,286,5,115,0,0,286,288,5,101,0,0,287,278,1,0,0,0,287,282,1,0,0,0,288,86,1,0,0,0,289,290,5,60,0,0,290,291,5,60,0,0,291,292,5,68,0,0,292,293,5,69,0,0,293,294,5,83,0,0,294,295,5,67,0,0,295,296,5,82,0,0,296,297,5,73,0,0,297,298,5,80,0,0,298,299,5,84,0,0,299,300,5,73,0,0,300,301,5,79,0,0,301,302,5,78,0,0,302,306,1,0,0,0,303,305,9,0,0,0,304,303,1,0,0,0,305,308,1,0,0,0,306,307,1,0,0,0,306,304,1,0,0,0,307,309,1,0,0,0,308,306,1,0,0,0,309,310,5,68,0,0,310,311,5,69,0,0,311,312,5,83,0,0,312,313,5,67,0,0,313,314,5,82,0,0,314,315,5,73,0,0,315,316,5,80,0,0,316,317,5,84,0,0,317,318,5,73,0,0,318,319,5,79,0,0,319,320,5,78,0,0,320,88,1,0,0,0,321,322,5,60,0,0,322,323,5,60,0,0,323,324,5,45,0,0,324,325,5,69,0,0,325,326,5,79,0,0,326,327,5,70,0,0,327,331,1,0,0,0,328,330,9,0,0,0,329,328,1,0,0,0,330,333,1,0,0,0,331,332,1,0,0,0,331,329,1,0,0,0,332,334,1,0,0,0,333,331,1,0,0,0,334,335,5,69,0,0,335,336,5,79,0,0,336,337,5,70,0,0,337,90,1,0,0,0,338,344,5,34,0,0,339,340,5,92,0,0,340,343,5,34,0,0,341,343,8,1,0,0,342,339,1,0,0,0,342,341,1,0,0,0,343,346,1,0,0,0,344,342,1,0,0,0,344,345,1,0,0,0,345,347,1,0,0,0,346,344,1,0,0,0,347,348,5,34,0,0,348,92,1,0,0,0,349,353,7,2,0,0,350,352,7,3,0,0,351,350,1,0,0,0,352,355,1,0,0,0,353,351,1,0,0,0,353,354,1,0,0,0,354,94,1,0,0,0,355,353,1,0,0,0,356,360,5,35,0,0,357,358,5,47,0,0,358,360,5,47,0,0,359,356,1,0,0,0,359,357,1,0,0,0,360,364,1,0,0,0,361,363,8,4,0,0,362,361,1,0,0,0,363,366,1,0,0,0,364,362,1,0,0,0,364,365,1,0,0,0,365,367,1,0,0,0,366,364,1,0,0,0,367,368,6,47,0,0,368,96,1,0,0,0,369,370,5,47,0,0,370,371,5,42,0,0,371,375,1,0,0,0,372,374,9,0,0,0,373,372,1,0,0,0,374,377,1,0,0,0,375,376,1,0,0,0,375,373,1,0,0,0,376,378,1,0,0,0,377,375,1,0,0,0,378,379,5,42,0,0,379,380,5,47,0,0,380,381,1,0,0,0,381,382,6,48,0,0,382,98,1,0,0,0,383,385,7,5,0,0,384,383,1,0,0,0,385,386,1,0,0,0,386,384,1,0,0,0,386,387,1,0,0,0,387,388,1,0,0,0,388,389,6,49,1,0,389,100,1,0,0,0,13,0,262,276,287,306,331,342,344,353,359,364,375,386,2,0,1,0,6,0,0]),ai=si.decisionToState.map((function(t,e){return new dr.dfa.DFA(t,e)})),ci=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ti(this,e,[t]))._interp=new dr.atn.LexerATNSimulator(n,si,ai,new dr.atn.PredictionContextCache),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ri(t,e)}(e,t),function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(dr.Lexer);function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}function li(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bi(r.key),r)}}function fi(t,e,n){return e&&hi(t.prototype,e),n&&hi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pi(t,e,n){return e=mi(e),function(t,e){if(e&&("object"==ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,di()?Reflect.construct(e,n||[],mi(t).constructor):e.apply(t,n))}function di(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(di=function(){return!!t})()}function mi(t){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mi(t)}function yi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gi(t,e)}function gi(t,e){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gi(t,e)}function vi(t,e,n){return(e=bi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bi(t){var e=function(t){if("object"!=ui(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ui(e)?e:e+""}ii(ci,"grammarFileName","terraform.g4"),ii(ci,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),ii(ci,"modeNames",["DEFAULT_MODE"]),ii(ci,"literalNames",[null,"'terraform'","'resource'","'data'","'output'","'locals'","'module'","'='","'local'","'var'","'?'","':'","'for'","'jsonencode'","','","'['","']'","'file'","'+'","'-'","'/'","'%'","'>'","'>='","'<'","'<='","'=='","'!='","'&&'","'||'","'variable'","'provider'","'in'","'*'","'.'","'{'","'}'","'('","')'",null,"'nul'"]),ii(ci,"symbolicNames",[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"VARIABLE","PROVIDER","IN","STAR","DOT","LCURL","RCURL","LPAREN","RPAREN","EOF_","NULL_","NATURAL_NUMBER","BOOL","DESCRIPTION","MULTILINESTRING","STRING","IDENTIFIER","COMMENT","BLOCKCOMMENT","WS"]),ii(ci,"ruleNames",["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","T__8","T__9","T__10","T__11","T__12","T__13","T__14","T__15","T__16","T__17","T__18","T__19","T__20","T__21","T__22","T__23","T__24","T__25","T__26","T__27","T__28","DIGIT","VARIABLE","PROVIDER","IN","STAR","DOT","LCURL","RCURL","LPAREN","RPAREN","EOF_","NULL_","NATURAL_NUMBER","BOOL","DESCRIPTION","MULTILINESTRING","STRING","IDENTIFIER","COMMENT","BLOCKCOMMENT","WS"]),ci.EOF=dr.Token.EOF,ci.T__0=1,ci.T__1=2,ci.T__2=3,ci.T__3=4,ci.T__4=5,ci.T__5=6,ci.T__6=7,ci.T__7=8,ci.T__8=9,ci.T__9=10,ci.T__10=11,ci.T__11=12,ci.T__12=13,ci.T__13=14,ci.T__14=15,ci.T__15=16,ci.T__16=17,ci.T__17=18,ci.T__18=19,ci.T__19=20,ci.T__20=21,ci.T__21=22,ci.T__22=23,ci.T__23=24,ci.T__24=25,ci.T__25=26,ci.T__26=27,ci.T__27=28,ci.T__28=29,ci.VARIABLE=30,ci.PROVIDER=31,ci.IN=32,ci.STAR=33,ci.DOT=34,ci.LCURL=35,ci.RCURL=36,ci.LPAREN=37,ci.RPAREN=38,ci.EOF_=39,ci.NULL_=40,ci.NATURAL_NUMBER=41,ci.BOOL=42,ci.DESCRIPTION=43,ci.MULTILINESTRING=44,ci.STRING=45,ci.IDENTIFIER=46,ci.COMMENT=47,ci.BLOCKCOMMENT=48,ci.WS=49;var _i=(new dr.atn.ATNDeserializer).deserialize([4,1,49,310,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,4,0,77,8,0,11,0,12,0,78,1,0,1,0,1,1,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,3,1,3,1,3,1,3,1,3,1,4,1,4,1,4,1,4,1,5,1,5,1,5,1,5,1,6,1,6,1,6,1,7,1,7,1,7,1,7,1,8,1,8,1,8,1,8,1,9,1,9,5,9,117,8,9,10,9,12,9,120,9,9,1,9,1,9,1,10,1,10,1,11,1,11,1,12,1,12,1,13,1,13,1,14,1,14,1,14,5,14,135,8,14,10,14,12,14,138,9,14,1,14,1,14,1,15,1,15,1,15,1,15,1,16,1,16,3,16,148,8,16,1,16,1,16,1,17,1,17,3,17,154,8,17,1,17,1,17,5,17,158,8,17,10,17,12,17,161,9,17,1,17,1,17,1,17,5,17,166,8,17,10,17,12,17,169,9,17,1,17,1,17,1,17,5,17,174,8,17,10,17,12,17,177,9,17,3,17,179,8,17,1,18,1,18,1,19,1,19,1,19,1,19,1,19,1,19,1,19,3,19,190,8,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,5,19,202,8,19,10,19,12,19,205,9,19,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,21,1,21,1,21,3,21,217,8,21,1,22,1,22,1,22,1,22,1,22,1,22,1,22,1,22,1,22,3,22,228,8,22,1,23,1,23,1,23,1,23,1,23,1,23,1,23,1,23,5,23,238,8,23,10,23,12,23,241,9,23,1,23,3,23,244,8,23,1,24,1,24,1,25,1,25,1,25,1,25,5,25,252,8,25,10,25,12,25,255,9,25,3,25,257,8,25,1,26,1,26,1,26,1,26,1,27,1,27,1,27,1,27,1,27,1,28,1,28,1,28,1,28,5,28,272,8,28,10,28,12,28,275,9,28,1,28,3,28,278,8,28,3,28,280,8,28,1,28,1,28,1,29,1,29,1,29,3,29,287,8,29,5,29,289,8,29,10,29,12,29,292,9,29,1,29,1,29,1,30,1,30,1,31,3,31,299,8,31,1,31,1,31,1,32,1,32,1,33,1,33,1,33,3,33,308,8,33,1,33,1,239,1,38,34,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,0,5,3,0,3,3,6,6,8,9,2,0,30,32,46,46,1,0,44,45,1,0,18,19,2,0,18,29,33,33,318,0,76,1,0,0,0,2,82,1,0,0,0,4,85,1,0,0,0,6,90,1,0,0,0,8,95,1,0,0,0,10,99,1,0,0,0,12,103,1,0,0,0,14,106,1,0,0,0,16,110,1,0,0,0,18,114,1,0,0,0,20,123,1,0,0,0,22,125,1,0,0,0,24,127,1,0,0,0,26,129,1,0,0,0,28,131,1,0,0,0,30,141,1,0,0,0,32,147,1,0,0,0,34,178,1,0,0,0,36,180,1,0,0,0,38,189,1,0,0,0,40,206,1,0,0,0,42,216,1,0,0,0,44,227,1,0,0,0,46,243,1,0,0,0,48,245,1,0,0,0,50,256,1,0,0,0,52,258,1,0,0,0,54,262,1,0,0,0,56,267,1,0,0,0,58,283,1,0,0,0,60,295,1,0,0,0,62,298,1,0,0,0,64,302,1,0,0,0,66,304,1,0,0,0,68,77,3,12,6,0,69,77,3,14,7,0,70,77,3,10,5,0,71,77,3,8,4,0,72,77,3,16,8,0,73,77,3,6,3,0,74,77,3,4,2,0,75,77,3,2,1,0,76,68,1,0,0,0,76,69,1,0,0,0,76,70,1,0,0,0,76,71,1,0,0,0,76,72,1,0,0,0,76,73,1,0,0,0,76,74,1,0,0,0,76,75,1,0,0,0,77,78,1,0,0,0,78,76,1,0,0,0,78,79,1,0,0,0,79,80,1,0,0,0,80,81,5,0,0,1,81,1,1,0,0,0,82,83,5,1,0,0,83,84,3,28,14,0,84,3,1,0,0,0,85,86,5,2,0,0,86,87,3,22,11,0,87,88,3,24,12,0,88,89,3,28,14,0,89,5,1,0,0,0,90,91,5,3,0,0,91,92,3,22,11,0,92,93,3,24,12,0,93,94,3,28,14,0,94,7,1,0,0,0,95,96,5,31,0,0,96,97,3,22,11,0,97,98,3,28,14,0,98,9,1,0,0,0,99,100,5,4,0,0,100,101,3,24,12,0,101,102,3,28,14,0,102,11,1,0,0,0,103,104,5,5,0,0,104,105,3,28,14,0,105,13,1,0,0,0,106,107,5,6,0,0,107,108,3,24,12,0,108,109,3,28,14,0,109,15,1,0,0,0,110,111,5,30,0,0,111,112,3,24,12,0,112,113,3,28,14,0,113,17,1,0,0,0,114,118,3,20,10,0,115,117,3,26,13,0,116,115,1,0,0,0,117,120,1,0,0,0,118,116,1,0,0,0,118,119,1,0,0,0,119,121,1,0,0,0,120,118,1,0,0,0,121,122,3,28,14,0,122,19,1,0,0,0,123,124,5,46,0,0,124,21,1,0,0,0,125,126,5,45,0,0,126,23,1,0,0,0,127,128,5,45,0,0,128,25,1,0,0,0,129,130,5,45,0,0,130,27,1,0,0,0,131,136,5,35,0,0,132,135,3,30,15,0,133,135,3,18,9,0,134,132,1,0,0,0,134,133,1,0,0,0,135,138,1,0,0,0,136,134,1,0,0,0,136,137,1,0,0,0,137,139,1,0,0,0,138,136,1,0,0,0,139,140,5,36,0,0,140,29,1,0,0,0,141,142,3,32,16,0,142,143,5,7,0,0,143,144,3,38,19,0,144,31,1,0,0,0,145,146,7,0,0,0,146,148,5,34,0,0,147,145,1,0,0,0,147,148,1,0,0,0,148,149,1,0,0,0,149,150,3,34,17,0,150,33,1,0,0,0,151,153,7,1,0,0,152,154,3,52,26,0,153,152,1,0,0,0,153,154,1,0,0,0,154,159,1,0,0,0,155,156,5,34,0,0,156,158,3,34,17,0,157,155,1,0,0,0,158,161,1,0,0,0,159,157,1,0,0,0,159,160,1,0,0,0,160,179,1,0,0,0,161,159,1,0,0,0,162,167,5,33,0,0,163,164,5,34,0,0,164,166,3,34,17,0,165,163,1,0,0,0,166,169,1,0,0,0,167,165,1,0,0,0,167,168,1,0,0,0,168,179,1,0,0,0,169,167,1,0,0,0,170,175,3,36,18,0,171,172,5,34,0,0,172,174,3,34,17,0,173,171,1,0,0,0,174,177,1,0,0,0,175,173,1,0,0,0,175,176,1,0,0,0,176,179,1,0,0,0,177,175,1,0,0,0,178,151,1,0,0,0,178,162,1,0,0,0,178,170,1,0,0,0,179,35,1,0,0,0,180,181,5,41,0,0,181,37,1,0,0,0,182,183,6,19,-1,0,183,190,3,42,21,0,184,185,5,37,0,0,185,186,3,38,19,0,186,187,5,38,0,0,187,190,1,0,0,0,188,190,3,40,20,0,189,182,1,0,0,0,189,184,1,0,0,0,189,188,1,0,0,0,190,203,1,0,0,0,191,192,10,4,0,0,192,193,3,64,32,0,193,194,3,38,19,5,194,202,1,0,0,0,195,196,10,2,0,0,196,197,5,10,0,0,197,198,3,38,19,0,198,199,5,11,0,0,199,200,3,38,19,3,200,202,1,0,0,0,201,191,1,0,0,0,201,195,1,0,0,0,202,205,1,0,0,0,203,201,1,0,0,0,203,204,1,0,0,0,204,39,1,0,0,0,205,203,1,0,0,0,206,207,5,12,0,0,207,208,3,32,16,0,208,209,5,32,0,0,209,210,3,38,19,0,210,211,5,11,0,0,211,212,3,38,19,0,212,41,1,0,0,0,213,217,3,56,28,0,214,217,3,58,29,0,215,217,3,44,22,0,216,213,1,0,0,0,216,214,1,0,0,0,216,215,1,0,0,0,217,43,1,0,0,0,218,228,5,40,0,0,219,228,3,62,31,0,220,228,3,60,30,0,221,228,3,32,16,0,222,228,5,42,0,0,223,228,5,43,0,0,224,228,3,54,27,0,225,228,3,46,23,0,226,228,5,39,0,0,227,218,1,0,0,0,227,219,1,0,0,0,227,220,1,0,0,0,227,221,1,0,0,0,227,222,1,0,0,0,227,223,1,0,0,0,227,224,1,0,0,0,227,225,1,0,0,0,227,226,1,0,0,0,228,45,1,0,0,0,229,230,3,48,24,0,230,231,5,37,0,0,231,232,3,50,25,0,232,233,5,38,0,0,233,244,1,0,0,0,234,235,5,13,0,0,235,239,5,37,0,0,236,238,9,0,0,0,237,236,1,0,0,0,238,241,1,0,0,0,239,240,1,0,0,0,239,237,1,0,0,0,240,242,1,0,0,0,241,239,1,0,0,0,242,244,5,38,0,0,243,229,1,0,0,0,243,234,1,0,0,0,244,47,1,0,0,0,245,246,5,46,0,0,246,49,1,0,0,0,247,257,1,0,0,0,248,253,3,38,19,0,249,250,5,14,0,0,250,252,3,38,19,0,251,249,1,0,0,0,252,255,1,0,0,0,253,251,1,0,0,0,253,254,1,0,0,0,254,257,1,0,0,0,255,253,1,0,0,0,256,247,1,0,0,0,256,248,1,0,0,0,257,51,1,0,0,0,258,259,5,15,0,0,259,260,3,38,19,0,260,261,5,16,0,0,261,53,1,0,0,0,262,263,5,17,0,0,263,264,5,37,0,0,264,265,3,38,19,0,265,266,5,38,0,0,266,55,1,0,0,0,267,279,5,15,0,0,268,273,3,38,19,0,269,270,5,14,0,0,270,272,3,38,19,0,271,269,1,0,0,0,272,275,1,0,0,0,273,271,1,0,0,0,273,274,1,0,0,0,274,277,1,0,0,0,275,273,1,0,0,0,276,278,5,14,0,0,277,276,1,0,0,0,277,278,1,0,0,0,278,280,1,0,0,0,279,268,1,0,0,0,279,280,1,0,0,0,280,281,1,0,0,0,281,282,5,16,0,0,282,57,1,0,0,0,283,290,5,35,0,0,284,286,3,30,15,0,285,287,5,14,0,0,286,285,1,0,0,0,286,287,1,0,0,0,287,289,1,0,0,0,288,284,1,0,0,0,289,292,1,0,0,0,290,288,1,0,0,0,290,291,1,0,0,0,291,293,1,0,0,0,292,290,1,0,0,0,293,294,5,36,0,0,294,59,1,0,0,0,295,296,7,2,0,0,296,61,1,0,0,0,297,299,7,3,0,0,298,297,1,0,0,0,298,299,1,0,0,0,299,300,1,0,0,0,300,301,3,66,33,0,301,63,1,0,0,0,302,303,7,4,0,0,303,65,1,0,0,0,304,307,5,41,0,0,305,306,5,34,0,0,306,308,5,41,0,0,307,305,1,0,0,0,307,308,1,0,0,0,308,67,1,0,0,0,27,76,78,118,134,136,147,153,159,167,175,178,189,201,203,216,227,239,243,253,256,273,277,279,286,290,298,307]),wi=_i.decisionToState.map((function(t,e){return new dr.dfa.DFA(t,e)})),xi=new dr.atn.PredictionContextCache,ki=function(t){function e(t){var n;return li(this,e),(n=pi(this,e,[t]))._interp=new dr.atn.ParserATNSimulator(n,_i,wi,xi),n.ruleNames=e.ruleNames,n.literalNames=e.literalNames,n.symbolicNames=e.symbolicNames,n}return yi(e,t),fi(e,[{key:"sempred",value:function(t,e,n){if(19===e)return this.expression_sempred(t,n);throw"No predicate with index:"+e}},{key:"expression_sempred",value:function(t,e){switch(e){case 0:return this.precpred(this._ctx,4);case 1:return this.precpred(this._ctx,2);default:throw"No predicate with index:"+e}}},{key:"file_",value:function(){var t=new Ti(this,this._ctx,this.state);this.enterRule(t,0,e.RULE_file_);var n=0;try{this.enterOuterAlt(t,1),this.state=76,this._errHandler.sync(this),n=this._input.LA(1);do{switch(this.state=76,this._errHandler.sync(this),this._input.LA(1)){case 5:this.state=68,this.local();break;case 6:this.state=69,this.module();break;case 4:this.state=70,this.output();break;case 31:this.state=71,this.provider();break;case 30:this.state=72,this.variable();break;case 3:this.state=73,this.data();break;case 2:this.state=74,this.resource();break;case 1:this.state=75,this.terraform();break;default:throw new dr.error.NoViableAltException(this)}this.state=78,this._errHandler.sync(this),n=this._input.LA(1)}while(!(-32&n)&&1<<n&3221225598);this.state=80,this.match(e.EOF)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"terraform",value:function(){var t=new Si(this,this._ctx,this.state);this.enterRule(t,2,e.RULE_terraform);try{this.enterOuterAlt(t,1),this.state=82,this.match(e.T__0),this.state=83,this.blockbody()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"resource",value:function(){var t=new Ei(this,this._ctx,this.state);this.enterRule(t,4,e.RULE_resource);try{this.enterOuterAlt(t,1),this.state=85,this.match(e.T__1),this.state=86,this.resourcetype(),this.state=87,this.name(),this.state=88,this.blockbody()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"data",value:function(){var t=new Ai(this,this._ctx,this.state);this.enterRule(t,6,e.RULE_data);try{this.enterOuterAlt(t,1),this.state=90,this.match(e.T__2),this.state=91,this.resourcetype(),this.state=92,this.name(),this.state=93,this.blockbody()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"provider",value:function(){var t=new Oi(this,this._ctx,this.state);this.enterRule(t,8,e.RULE_provider);try{this.enterOuterAlt(t,1),this.state=95,this.match(e.PROVIDER),this.state=96,this.resourcetype(),this.state=97,this.blockbody()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"output",value:function(){var t=new Ni(this,this._ctx,this.state);this.enterRule(t,10,e.RULE_output);try{this.enterOuterAlt(t,1),this.state=99,this.match(e.T__3),this.state=100,this.name(),this.state=101,this.blockbody()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"local",value:function(){var t=new Ci(this,this._ctx,this.state);this.enterRule(t,12,e.RULE_local);try{this.enterOuterAlt(t,1),this.state=103,this.match(e.T__4),this.state=104,this.blockbody()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"module",value:function(){var t=new Li(this,this._ctx,this.state);this.enterRule(t,14,e.RULE_module);try{this.enterOuterAlt(t,1),this.state=106,this.match(e.T__5),this.state=107,this.name(),this.state=108,this.blockbody()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"variable",value:function(){var t=new Ri(this,this._ctx,this.state);this.enterRule(t,16,e.RULE_variable);try{this.enterOuterAlt(t,1),this.state=110,this.match(e.VARIABLE),this.state=111,this.name(),this.state=112,this.blockbody()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"block",value:function(){var t=new Pi(this,this._ctx,this.state);this.enterRule(t,18,e.RULE_block);var n=0;try{for(this.enterOuterAlt(t,1),this.state=114,this.blocktype(),this.state=118,this._errHandler.sync(this),n=this._input.LA(1);45===n;)this.state=115,this.label(),this.state=120,this._errHandler.sync(this),n=this._input.LA(1);this.state=121,this.blockbody()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"blocktype",value:function(){var t=new Ii(this,this._ctx,this.state);this.enterRule(t,20,e.RULE_blocktype);try{this.enterOuterAlt(t,1),this.state=123,this.match(e.IDENTIFIER)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"resourcetype",value:function(){var t=new Mi(this,this._ctx,this.state);this.enterRule(t,22,e.RULE_resourcetype);try{this.enterOuterAlt(t,1),this.state=125,this.match(e.STRING)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"name",value:function(){var t=new Di(this,this._ctx,this.state);this.enterRule(t,24,e.RULE_name);try{this.enterOuterAlt(t,1),this.state=127,this.match(e.STRING)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"label",value:function(){var t=new ji(this,this._ctx,this.state);this.enterRule(t,26,e.RULE_label);try{this.enterOuterAlt(t,1),this.state=129,this.match(e.STRING)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"blockbody",value:function(){var t=new Bi(this,this._ctx,this.state);this.enterRule(t,28,e.RULE_blockbody);var n=0;try{for(this.enterOuterAlt(t,1),this.state=131,this.match(e.LCURL),this.state=136,this._errHandler.sync(this),n=this._input.LA(1);!(-32&n)&&1<<n&3221226312||!(n-32&-32)&&1<<n-32&16899;){switch(this.state=134,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,3,this._ctx)){case 1:this.state=132,this.argument();break;case 2:this.state=133,this.block()}this.state=138,this._errHandler.sync(this),n=this._input.LA(1)}this.state=139,this.match(e.RCURL)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"argument",value:function(){var t=new Fi(this,this._ctx,this.state);this.enterRule(t,30,e.RULE_argument);try{this.enterOuterAlt(t,1),this.state=141,this.identifier(),this.state=142,this.match(e.T__6),this.state=143,this.expression(0)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"identifier",value:function(){var t=new Ui(this,this._ctx,this.state);this.enterRule(t,32,e.RULE_identifier);var n=0;try{this.enterOuterAlt(t,1),this.state=147,this._errHandler.sync(this),!(-32&(n=this._input.LA(1)))&&1<<n&840&&(this.state=145,-32&(n=this._input.LA(1))||!(1<<n&840)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=146,this.match(e.DOT)),this.state=149,this.identifierchain()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"identifierchain",value:function(){var t=new zi(this,this._ctx,this.state);this.enterRule(t,34,e.RULE_identifierchain);var n=0;try{switch(this.state=178,this._errHandler.sync(this),this._input.LA(1)){case 30:case 31:case 32:case 46:this.enterOuterAlt(t,1),this.state=151,(n=this._input.LA(1))-30&-32||!(1<<n-30&65543)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=153,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,6,this._ctx)&&(this.state=152,this.index()),this.state=159,this._errHandler.sync(this);for(var r=this._interp.adaptivePredict(this._input,7,this._ctx);2!=r&&r!=dr.atn.ATN.INVALID_ALT_NUMBER;)1===r&&(this.state=155,this.match(e.DOT),this.state=156,this.identifierchain()),this.state=161,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,7,this._ctx);break;case 33:for(this.enterOuterAlt(t,2),this.state=162,this.match(e.STAR),this.state=167,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,8,this._ctx);2!=r&&r!=dr.atn.ATN.INVALID_ALT_NUMBER;)1===r&&(this.state=163,this.match(e.DOT),this.state=164,this.identifierchain()),this.state=169,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,8,this._ctx);break;case 41:for(this.enterOuterAlt(t,3),this.state=170,this.inline_index(),this.state=175,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,9,this._ctx);2!=r&&r!=dr.atn.ATN.INVALID_ALT_NUMBER;)1===r&&(this.state=171,this.match(e.DOT),this.state=172,this.identifierchain()),this.state=177,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,9,this._ctx);break;default:throw new dr.error.NoViableAltException(this)}}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"inline_index",value:function(){var t=new Vi(this,this._ctx,this.state);this.enterRule(t,36,e.RULE_inline_index);try{this.enterOuterAlt(t,1),this.state=180,this.match(e.NATURAL_NUMBER)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"expression",value:function(t){void 0===t&&(t=0);var n=this._ctx,r=this.state,i=new Ki(this,this._ctx,r);this.enterRecursionRule(i,38,e.RULE_expression,t);try{switch(this.enterOuterAlt(i,1),this.state=189,this._errHandler.sync(this),this._input.LA(1)){case 3:case 6:case 8:case 9:case 13:case 15:case 17:case 18:case 19:case 30:case 31:case 32:case 33:case 35:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:this.state=183,this.section();break;case 37:this.state=184,this.match(e.LPAREN),this.state=185,this.expression(0),this.state=186,this.match(e.RPAREN);break;case 12:this.state=188,this.forloop();break;default:throw new dr.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=203,this._errHandler.sync(this);for(var o=this._interp.adaptivePredict(this._input,13,this._ctx);2!=o&&o!=dr.atn.ATN.INVALID_ALT_NUMBER;){if(1===o)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),this.state=201,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,12,this._ctx)){case 1:if(i=new Ki(this,n,r),this.pushNewRecursionContext(i,38,e.RULE_expression),this.state=191,!this.precpred(this._ctx,4))throw new dr.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=192,this.operator_(),this.state=193,this.expression(5);break;case 2:if(i=new Ki(this,n,r),this.pushNewRecursionContext(i,38,e.RULE_expression),this.state=195,!this.precpred(this._ctx,2))throw new dr.error.FailedPredicateException(this,"this.precpred(this._ctx, 2)");this.state=196,this.match(e.T__9),this.state=197,this.expression(0),this.state=198,this.match(e.T__10),this.state=199,this.expression(3)}this.state=205,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,13,this._ctx)}}catch(t){if(!(t instanceof dr.error.RecognitionException))throw t;i.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(n)}return i}},{key:"forloop",value:function(){var t=new Hi(this,this._ctx,this.state);this.enterRule(t,40,e.RULE_forloop);try{this.enterOuterAlt(t,1),this.state=206,this.match(e.T__11),this.state=207,this.identifier(),this.state=208,this.match(e.IN),this.state=209,this.expression(0),this.state=210,this.match(e.T__10),this.state=211,this.expression(0)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"section",value:function(){var t=new qi(this,this._ctx,this.state);this.enterRule(t,42,e.RULE_section);try{switch(this.state=216,this._errHandler.sync(this),this._input.LA(1)){case 15:this.enterOuterAlt(t,1),this.state=213,this.list_();break;case 35:this.enterOuterAlt(t,2),this.state=214,this.map_();break;case 3:case 6:case 8:case 9:case 13:case 17:case 18:case 19:case 30:case 31:case 32:case 33:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:this.enterOuterAlt(t,3),this.state=215,this.val();break;default:throw new dr.error.NoViableAltException(this)}}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"val",value:function(){var t=new Wi(this,this._ctx,this.state);this.enterRule(t,44,e.RULE_val);try{switch(this.state=227,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,15,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=218,this.match(e.NULL_);break;case 2:this.enterOuterAlt(t,2),this.state=219,this.signed_number();break;case 3:this.enterOuterAlt(t,3),this.state=220,this.string();break;case 4:this.enterOuterAlt(t,4),this.state=221,this.identifier();break;case 5:this.enterOuterAlt(t,5),this.state=222,this.match(e.BOOL);break;case 6:this.enterOuterAlt(t,6),this.state=223,this.match(e.DESCRIPTION);break;case 7:this.enterOuterAlt(t,7),this.state=224,this.filedecl();break;case 8:this.enterOuterAlt(t,8),this.state=225,this.functioncall();break;case 9:this.enterOuterAlt(t,9),this.state=226,this.match(e.EOF_)}}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"functioncall",value:function(){var t=new Gi(this,this._ctx,this.state);this.enterRule(t,46,e.RULE_functioncall);try{switch(this.state=243,this._errHandler.sync(this),this._input.LA(1)){case 46:this.enterOuterAlt(t,1),this.state=229,this.functionname(),this.state=230,this.match(e.LPAREN),this.state=231,this.functionarguments(),this.state=232,this.match(e.RPAREN);break;case 13:this.enterOuterAlt(t,2),this.state=234,this.match(e.T__12),this.state=235,this.match(e.LPAREN),this.state=239,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,16,this._ctx);1!=n&&n!=dr.atn.ATN.INVALID_ALT_NUMBER;)2===n&&(this.state=236,this.matchWildcard()),this.state=241,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,16,this._ctx);this.state=242,this.match(e.RPAREN);break;default:throw new dr.error.NoViableAltException(this)}}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"functionname",value:function(){var t=new Yi(this,this._ctx,this.state);this.enterRule(t,48,e.RULE_functionname);try{this.enterOuterAlt(t,1),this.state=245,this.match(e.IDENTIFIER)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"functionarguments",value:function(){var t=new $i(this,this._ctx,this.state);this.enterRule(t,50,e.RULE_functionarguments);var n=0;try{switch(this.state=256,this._errHandler.sync(this),this._input.LA(1)){case 38:this.enterOuterAlt(t,1);break;case 3:case 6:case 8:case 9:case 12:case 13:case 15:case 17:case 18:case 19:case 30:case 31:case 32:case 33:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:for(this.enterOuterAlt(t,2),this.state=248,this.expression(0),this.state=253,this._errHandler.sync(this),n=this._input.LA(1);14===n;)this.state=249,this.match(e.T__13),this.state=250,this.expression(0),this.state=255,this._errHandler.sync(this),n=this._input.LA(1);break;default:throw new dr.error.NoViableAltException(this)}}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"index",value:function(){var t=new Xi(this,this._ctx,this.state);this.enterRule(t,52,e.RULE_index);try{this.enterOuterAlt(t,1),this.state=258,this.match(e.T__14),this.state=259,this.expression(0),this.state=260,this.match(e.T__15)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"filedecl",value:function(){var t=new Zi(this,this._ctx,this.state);this.enterRule(t,54,e.RULE_filedecl);try{this.enterOuterAlt(t,1),this.state=262,this.match(e.T__16),this.state=263,this.match(e.LPAREN),this.state=264,this.expression(0),this.state=265,this.match(e.RPAREN)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"list_",value:function(){var t=new Ji(this,this._ctx,this.state);this.enterRule(t,56,e.RULE_list_);var n=0;try{if(this.enterOuterAlt(t,1),this.state=267,this.match(e.T__14),this.state=279,this._errHandler.sync(this),!(-32&(n=this._input.LA(1)))&&1<<n&3222188872||!(n-32&-32)&&1<<n-32&32683){this.state=268,this.expression(0),this.state=273,this._errHandler.sync(this);for(var r=this._interp.adaptivePredict(this._input,20,this._ctx);2!=r&&r!=dr.atn.ATN.INVALID_ALT_NUMBER;)1===r&&(this.state=269,this.match(e.T__13),this.state=270,this.expression(0)),this.state=275,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,20,this._ctx);this.state=277,this._errHandler.sync(this),14===(n=this._input.LA(1))&&(this.state=276,this.match(e.T__13))}this.state=281,this.match(e.T__15)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"map_",value:function(){var t=new Qi(this,this._ctx,this.state);this.enterRule(t,58,e.RULE_map_);var n=0;try{for(this.enterOuterAlt(t,1),this.state=283,this.match(e.LCURL),this.state=290,this._errHandler.sync(this),n=this._input.LA(1);!(-32&n)&&1<<n&3221226312||!(n-32&-32)&&1<<n-32&16899;)this.state=284,this.argument(),this.state=286,this._errHandler.sync(this),14===(n=this._input.LA(1))&&(this.state=285,this.match(e.T__13)),this.state=292,this._errHandler.sync(this),n=this._input.LA(1);this.state=293,this.match(e.RCURL)}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"string",value:function(){var t=new to(this,this._ctx,this.state);this.enterRule(t,60,e.RULE_string);var n=0;try{this.enterOuterAlt(t,1),this.state=295,44!==(n=this._input.LA(1))&&45!==n?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"signed_number",value:function(){var t=new eo(this,this._ctx,this.state);this.enterRule(t,62,e.RULE_signed_number);var n=0;try{this.enterOuterAlt(t,1),this.state=298,this._errHandler.sync(this),18!==(n=this._input.LA(1))&&19!==n||(this.state=297,18!==(n=this._input.LA(1))&&19!==n?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())),this.state=300,this.number()}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"operator_",value:function(){var t=new no(this,this._ctx,this.state);this.enterRule(t,64,e.RULE_operator_);var n=0;try{this.enterOuterAlt(t,1),this.state=302,(n=this._input.LA(1))-18&-32||!(1<<n-18&36863)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"number",value:function(){var t=new ro(this,this._ctx,this.state);this.enterRule(t,66,e.RULE_number);try{this.enterOuterAlt(t,1),this.state=304,this.match(e.NATURAL_NUMBER),this.state=307,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,26,this._ctx)&&(this.state=305,this.match(e.DOT),this.state=306,this.match(e.NATURAL_NUMBER))}catch(e){if(!(e instanceof dr.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}}])}(dr.Parser);vi(ki,"grammarFileName","terraform.g4"),vi(ki,"literalNames",[null,"'terraform'","'resource'","'data'","'output'","'locals'","'module'","'='","'local'","'var'","'?'","':'","'for'","'jsonencode'","','","'['","']'","'file'","'+'","'-'","'/'","'%'","'>'","'>='","'<'","'<='","'=='","'!='","'&&'","'||'","'variable'","'provider'","'in'","'*'","'.'","'{'","'}'","'('","')'",null,"'nul'"]),vi(ki,"symbolicNames",[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"VARIABLE","PROVIDER","IN","STAR","DOT","LCURL","RCURL","LPAREN","RPAREN","EOF_","NULL_","NATURAL_NUMBER","BOOL","DESCRIPTION","MULTILINESTRING","STRING","IDENTIFIER","COMMENT","BLOCKCOMMENT","WS"]),vi(ki,"ruleNames",["file_","terraform","resource","data","provider","output","local","module","variable","block","blocktype","resourcetype","name","label","blockbody","argument","identifier","identifierchain","inline_index","expression","forloop","section","val","functioncall","functionname","functionarguments","index","filedecl","list_","map_","string","signed_number","operator_","number"]),ki.EOF=dr.Token.EOF,ki.T__0=1,ki.T__1=2,ki.T__2=3,ki.T__3=4,ki.T__4=5,ki.T__5=6,ki.T__6=7,ki.T__7=8,ki.T__8=9,ki.T__9=10,ki.T__10=11,ki.T__11=12,ki.T__12=13,ki.T__13=14,ki.T__14=15,ki.T__15=16,ki.T__16=17,ki.T__17=18,ki.T__18=19,ki.T__19=20,ki.T__20=21,ki.T__21=22,ki.T__22=23,ki.T__23=24,ki.T__24=25,ki.T__25=26,ki.T__26=27,ki.T__27=28,ki.T__28=29,ki.VARIABLE=30,ki.PROVIDER=31,ki.IN=32,ki.STAR=33,ki.DOT=34,ki.LCURL=35,ki.RCURL=36,ki.LPAREN=37,ki.RPAREN=38,ki.EOF_=39,ki.NULL_=40,ki.NATURAL_NUMBER=41,ki.BOOL=42,ki.DESCRIPTION=43,ki.MULTILINESTRING=44,ki.STRING=45,ki.IDENTIFIER=46,ki.COMMENT=47,ki.BLOCKCOMMENT=48,ki.WS=49,ki.RULE_file_=0,ki.RULE_terraform=1,ki.RULE_resource=2,ki.RULE_data=3,ki.RULE_provider=4,ki.RULE_output=5,ki.RULE_local=6,ki.RULE_module=7,ki.RULE_variable=8,ki.RULE_block=9,ki.RULE_blocktype=10,ki.RULE_resourcetype=11,ki.RULE_name=12,ki.RULE_label=13,ki.RULE_blockbody=14,ki.RULE_argument=15,ki.RULE_identifier=16,ki.RULE_identifierchain=17,ki.RULE_inline_index=18,ki.RULE_expression=19,ki.RULE_forloop=20,ki.RULE_section=21,ki.RULE_val=22,ki.RULE_functioncall=23,ki.RULE_functionname=24,ki.RULE_functionarguments=25,ki.RULE_index=26,ki.RULE_filedecl=27,ki.RULE_list_=28,ki.RULE_map_=29,ki.RULE_string=30,ki.RULE_signed_number=31,ki.RULE_operator_=32,ki.RULE_number=33;var Ti=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),vi(i=pi(this,e,[n,r]),"local",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Ci):this.getTypedRuleContext(Ci,t)})),vi(i,"module",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Li):this.getTypedRuleContext(Li,t)})),vi(i,"output",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Ni):this.getTypedRuleContext(Ni,t)})),vi(i,"provider",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Oi):this.getTypedRuleContext(Oi,t)})),vi(i,"variable",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Ri):this.getTypedRuleContext(Ri,t)})),vi(i,"data",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Ai):this.getTypedRuleContext(Ai,t)})),vi(i,"resource",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Ei):this.getTypedRuleContext(Ei,t)})),vi(i,"terraform",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Si):this.getTypedRuleContext(Si,t)})),i.parser=t,i.ruleIndex=ki.RULE_file_,i}return yi(e,t),fi(e,[{key:"EOF",value:function(){return this.getToken(ki.EOF,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterFile_(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitFile_(this)}}])}(dr.ParserRuleContext),Si=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_terraform,i}return yi(e,t),fi(e,[{key:"blockbody",value:function(){return this.getTypedRuleContext(Bi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterTerraform(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitTerraform(this)}}])}(dr.ParserRuleContext),Ei=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_resource,i}return yi(e,t),fi(e,[{key:"resourcetype",value:function(){return this.getTypedRuleContext(Mi,0)}},{key:"name",value:function(){return this.getTypedRuleContext(Di,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(Bi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterResource(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitResource(this)}}])}(dr.ParserRuleContext),Ai=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_data,i}return yi(e,t),fi(e,[{key:"resourcetype",value:function(){return this.getTypedRuleContext(Mi,0)}},{key:"name",value:function(){return this.getTypedRuleContext(Di,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(Bi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterData(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitData(this)}}])}(dr.ParserRuleContext),Oi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_provider,i}return yi(e,t),fi(e,[{key:"PROVIDER",value:function(){return this.getToken(ki.PROVIDER,0)}},{key:"resourcetype",value:function(){return this.getTypedRuleContext(Mi,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(Bi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterProvider(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitProvider(this)}}])}(dr.ParserRuleContext),Ni=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_output,i}return yi(e,t),fi(e,[{key:"name",value:function(){return this.getTypedRuleContext(Di,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(Bi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterOutput(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitOutput(this)}}])}(dr.ParserRuleContext),Ci=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_local,i}return yi(e,t),fi(e,[{key:"blockbody",value:function(){return this.getTypedRuleContext(Bi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterLocal(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitLocal(this)}}])}(dr.ParserRuleContext),Li=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_module,i}return yi(e,t),fi(e,[{key:"name",value:function(){return this.getTypedRuleContext(Di,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(Bi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterModule(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitModule(this)}}])}(dr.ParserRuleContext),Ri=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_variable,i}return yi(e,t),fi(e,[{key:"VARIABLE",value:function(){return this.getToken(ki.VARIABLE,0)}},{key:"name",value:function(){return this.getTypedRuleContext(Di,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(Bi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterVariable(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitVariable(this)}}])}(dr.ParserRuleContext),Pi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),vi(i=pi(this,e,[n,r]),"label",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(ji):this.getTypedRuleContext(ji,t)})),i.parser=t,i.ruleIndex=ki.RULE_block,i}return yi(e,t),fi(e,[{key:"blocktype",value:function(){return this.getTypedRuleContext(Ii,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(Bi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterBlock(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitBlock(this)}}])}(dr.ParserRuleContext),Ii=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_blocktype,i}return yi(e,t),fi(e,[{key:"IDENTIFIER",value:function(){return this.getToken(ki.IDENTIFIER,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterBlocktype(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitBlocktype(this)}}])}(dr.ParserRuleContext),Mi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_resourcetype,i}return yi(e,t),fi(e,[{key:"STRING",value:function(){return this.getToken(ki.STRING,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterResourcetype(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitResourcetype(this)}}])}(dr.ParserRuleContext),Di=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_name,i}return yi(e,t),fi(e,[{key:"STRING",value:function(){return this.getToken(ki.STRING,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterName(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitName(this)}}])}(dr.ParserRuleContext),ji=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_label,i}return yi(e,t),fi(e,[{key:"STRING",value:function(){return this.getToken(ki.STRING,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterLabel(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitLabel(this)}}])}(dr.ParserRuleContext),Bi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),vi(i=pi(this,e,[n,r]),"argument",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Fi):this.getTypedRuleContext(Fi,t)})),vi(i,"block",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Pi):this.getTypedRuleContext(Pi,t)})),i.parser=t,i.ruleIndex=ki.RULE_blockbody,i}return yi(e,t),fi(e,[{key:"LCURL",value:function(){return this.getToken(ki.LCURL,0)}},{key:"RCURL",value:function(){return this.getToken(ki.RCURL,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterBlockbody(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitBlockbody(this)}}])}(dr.ParserRuleContext),Fi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_argument,i}return yi(e,t),fi(e,[{key:"identifier",value:function(){return this.getTypedRuleContext(Ui,0)}},{key:"expression",value:function(){return this.getTypedRuleContext(Ki,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterArgument(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitArgument(this)}}])}(dr.ParserRuleContext),Ui=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_identifier,i}return yi(e,t),fi(e,[{key:"identifierchain",value:function(){return this.getTypedRuleContext(zi,0)}},{key:"DOT",value:function(){return this.getToken(ki.DOT,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterIdentifier(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitIdentifier(this)}}])}(dr.ParserRuleContext),zi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),vi(i=pi(this,e,[n,r]),"DOT",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(ki.DOT):this.getToken(ki.DOT,t)})),vi(i,"identifierchain",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(e):this.getTypedRuleContext(e,t)})),i.parser=t,i.ruleIndex=ki.RULE_identifierchain,i}return yi(e,t),fi(e,[{key:"IDENTIFIER",value:function(){return this.getToken(ki.IDENTIFIER,0)}},{key:"IN",value:function(){return this.getToken(ki.IN,0)}},{key:"VARIABLE",value:function(){return this.getToken(ki.VARIABLE,0)}},{key:"PROVIDER",value:function(){return this.getToken(ki.PROVIDER,0)}},{key:"index",value:function(){return this.getTypedRuleContext(Xi,0)}},{key:"STAR",value:function(){return this.getToken(ki.STAR,0)}},{key:"inline_index",value:function(){return this.getTypedRuleContext(Vi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterIdentifierchain(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitIdentifierchain(this)}}])}(dr.ParserRuleContext),Vi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_inline_index,i}return yi(e,t),fi(e,[{key:"NATURAL_NUMBER",value:function(){return this.getToken(ki.NATURAL_NUMBER,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterInline_index(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitInline_index(this)}}])}(dr.ParserRuleContext),Ki=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),vi(i=pi(this,e,[n,r]),"expression",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(e):this.getTypedRuleContext(e,t)})),i.parser=t,i.ruleIndex=ki.RULE_expression,i}return yi(e,t),fi(e,[{key:"section",value:function(){return this.getTypedRuleContext(qi,0)}},{key:"LPAREN",value:function(){return this.getToken(ki.LPAREN,0)}},{key:"RPAREN",value:function(){return this.getToken(ki.RPAREN,0)}},{key:"forloop",value:function(){return this.getTypedRuleContext(Hi,0)}},{key:"operator_",value:function(){return this.getTypedRuleContext(no,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterExpression(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitExpression(this)}}])}(dr.ParserRuleContext),Hi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),vi(i=pi(this,e,[n,r]),"expression",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Ki):this.getTypedRuleContext(Ki,t)})),i.parser=t,i.ruleIndex=ki.RULE_forloop,i}return yi(e,t),fi(e,[{key:"identifier",value:function(){return this.getTypedRuleContext(Ui,0)}},{key:"IN",value:function(){return this.getToken(ki.IN,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterForloop(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitForloop(this)}}])}(dr.ParserRuleContext),qi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_section,i}return yi(e,t),fi(e,[{key:"list_",value:function(){return this.getTypedRuleContext(Ji,0)}},{key:"map_",value:function(){return this.getTypedRuleContext(Qi,0)}},{key:"val",value:function(){return this.getTypedRuleContext(Wi,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterSection(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitSection(this)}}])}(dr.ParserRuleContext),Wi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_val,i}return yi(e,t),fi(e,[{key:"NULL_",value:function(){return this.getToken(ki.NULL_,0)}},{key:"signed_number",value:function(){return this.getTypedRuleContext(eo,0)}},{key:"string",value:function(){return this.getTypedRuleContext(to,0)}},{key:"identifier",value:function(){return this.getTypedRuleContext(Ui,0)}},{key:"BOOL",value:function(){return this.getToken(ki.BOOL,0)}},{key:"DESCRIPTION",value:function(){return this.getToken(ki.DESCRIPTION,0)}},{key:"filedecl",value:function(){return this.getTypedRuleContext(Zi,0)}},{key:"functioncall",value:function(){return this.getTypedRuleContext(Gi,0)}},{key:"EOF_",value:function(){return this.getToken(ki.EOF_,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterVal(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitVal(this)}}])}(dr.ParserRuleContext),Gi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_functioncall,i}return yi(e,t),fi(e,[{key:"functionname",value:function(){return this.getTypedRuleContext(Yi,0)}},{key:"LPAREN",value:function(){return this.getToken(ki.LPAREN,0)}},{key:"functionarguments",value:function(){return this.getTypedRuleContext($i,0)}},{key:"RPAREN",value:function(){return this.getToken(ki.RPAREN,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterFunctioncall(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitFunctioncall(this)}}])}(dr.ParserRuleContext),Yi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_functionname,i}return yi(e,t),fi(e,[{key:"IDENTIFIER",value:function(){return this.getToken(ki.IDENTIFIER,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterFunctionname(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitFunctionname(this)}}])}(dr.ParserRuleContext),$i=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),vi(i=pi(this,e,[n,r]),"expression",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Ki):this.getTypedRuleContext(Ki,t)})),i.parser=t,i.ruleIndex=ki.RULE_functionarguments,i}return yi(e,t),fi(e,[{key:"enterRule",value:function(t){t instanceof Jr&&t.enterFunctionarguments(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitFunctionarguments(this)}}])}(dr.ParserRuleContext),Xi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_index,i}return yi(e,t),fi(e,[{key:"expression",value:function(){return this.getTypedRuleContext(Ki,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterIndex(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitIndex(this)}}])}(dr.ParserRuleContext),Zi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_filedecl,i}return yi(e,t),fi(e,[{key:"LPAREN",value:function(){return this.getToken(ki.LPAREN,0)}},{key:"expression",value:function(){return this.getTypedRuleContext(Ki,0)}},{key:"RPAREN",value:function(){return this.getToken(ki.RPAREN,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterFiledecl(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitFiledecl(this)}}])}(dr.ParserRuleContext),Ji=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),vi(i=pi(this,e,[n,r]),"expression",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Ki):this.getTypedRuleContext(Ki,t)})),i.parser=t,i.ruleIndex=ki.RULE_list_,i}return yi(e,t),fi(e,[{key:"enterRule",value:function(t){t instanceof Jr&&t.enterList_(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitList_(this)}}])}(dr.ParserRuleContext),Qi=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),vi(i=pi(this,e,[n,r]),"argument",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Fi):this.getTypedRuleContext(Fi,t)})),i.parser=t,i.ruleIndex=ki.RULE_map_,i}return yi(e,t),fi(e,[{key:"LCURL",value:function(){return this.getToken(ki.LCURL,0)}},{key:"RCURL",value:function(){return this.getToken(ki.RCURL,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterMap_(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitMap_(this)}}])}(dr.ParserRuleContext),to=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_string,i}return yi(e,t),fi(e,[{key:"STRING",value:function(){return this.getToken(ki.STRING,0)}},{key:"MULTILINESTRING",value:function(){return this.getToken(ki.MULTILINESTRING,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterString(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitString(this)}}])}(dr.ParserRuleContext),eo=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_signed_number,i}return yi(e,t),fi(e,[{key:"number",value:function(){return this.getTypedRuleContext(ro,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterSigned_number(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitSigned_number(this)}}])}(dr.ParserRuleContext),no=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),(i=pi(this,e,[n,r])).parser=t,i.ruleIndex=ki.RULE_operator_,i}return yi(e,t),fi(e,[{key:"STAR",value:function(){return this.getToken(ki.STAR,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterOperator_(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitOperator_(this)}}])}(dr.ParserRuleContext),ro=function(t){function e(t,n,r){var i;return li(this,e),void 0===n&&(n=null),null==r&&(r=-1),vi(i=pi(this,e,[n,r]),"NATURAL_NUMBER",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(ki.NATURAL_NUMBER):this.getToken(ki.NATURAL_NUMBER,t)})),i.parser=t,i.ruleIndex=ki.RULE_number,i}return yi(e,t),fi(e,[{key:"DOT",value:function(){return this.getToken(ki.DOT,0)}},{key:"enterRule",value:function(t){t instanceof Jr&&t.enterNumber(this)}},{key:"exitRule",value:function(t){t instanceof Jr&&t.exitNumber(this)}}])}(dr.ParserRuleContext);function io(t){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(t)}function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,so(r.key),r)}}function so(t){var e=function(t){if("object"!=io(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=io(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==io(e)?e:e+""}function ao(t,e,n){return e=uo(e),function(t,e){if(e&&("object"==io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,co()?Reflect.construct(e,n||[],uo(t).constructor):e.apply(t,n))}function co(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(co=function(){return!!t})()}function uo(t){return uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uo(t)}function lo(t,e){return lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lo(t,e)}ki.File_Context=Ti,ki.TerraformContext=Si,ki.ResourceContext=Ei,ki.DataContext=Ai,ki.ProviderContext=Oi,ki.OutputContext=Ni,ki.LocalContext=Ci,ki.ModuleContext=Li,ki.VariableContext=Ri,ki.BlockContext=Pi,ki.BlocktypeContext=Ii,ki.ResourcetypeContext=Mi,ki.NameContext=Di,ki.LabelContext=ji,ki.BlockbodyContext=Bi,ki.ArgumentContext=Fi,ki.IdentifierContext=Ui,ki.IdentifierchainContext=zi,ki.Inline_indexContext=Vi,ki.ExpressionContext=Ki,ki.ForloopContext=Hi,ki.SectionContext=qi,ki.ValContext=Wi,ki.FunctioncallContext=Gi,ki.FunctionnameContext=Yi,ki.FunctionargumentsContext=$i,ki.IndexContext=Xi,ki.FiledeclContext=Zi,ki.List_Context=Ji,ki.Map_Context=Qi,ki.StringContext=to,ki.Signed_numberContext=eo,ki.Operator_Context=no,ki.NumberContext=ro;var ho=function(e){function n(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=ao(this,n)).pluginData=t,r.file=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lo(t,e)}(n,e),function(t,e){return e&&oo(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(n,[{key:"syntaxError",value:function(e,n,r,i,o){this.pluginData.parseLogs.push(new t.ParserLog({startLineNumber:r,startColumn:i+1,endLineNumber:r,endColumn:i+n.stop-n.start+2,severity:t.ParserLog.SEVERITY_ERROR,path:this.file.path,message:"parser.error.parsing",initialErrorMessage:o}))}}])}(dr.error.ErrorListener);const fo=ho;function po(t){return po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(t)}function mo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yo(r.key),r)}}function yo(t){var e=function(t){if("object"!=po(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=po(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==po(e)?e:e+""}function go(t,e,n){return e=bo(e),function(t,e){if(e&&("object"==po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,vo()?Reflect.construct(e,n||[],bo(t).constructor):e.apply(t,n))}function vo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vo=function(){return!!t})()}function bo(t){return bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bo(t)}function _o(t,e){return _o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_o(t,e)}var wo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),go(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_o(t,e)}(e,t),function(t,e){return e&&mo(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"isParsable",value:function(t){var e=t.path;return/^.*\.tf$/.test(e)}},{key:"getModels",value:function(){var t=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(e){return t.isParsable(e)})).reduce((function(t,e){var n=e.path.split("/").slice(0,-1).join("/");return t.includes(n)||t.push(n),t}),[])}},{key:"parse",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.pluginData.components=[],this.pluginData.variables=[],this.pluginData.parseLogs=[];var i=null!=t&&t.path&&0!==t.path.length?"".concat(t.path,"/"):"",o=new RegExp("^".concat(i,"[^/]+\\.tf$")),s=new Jr(this.pluginData);n.filter((function(t){var e=t.path;return o.test(e)})).filter((function(t){var n=t.content,i=t.path;return!(!n||""===n.trim())||(e.pluginData.emitEvent({parent:r,type:"Parser",action:"read",status:"warning",files:[i],data:{code:"no_content",global:!1}}),!1)})).forEach((function(t){var n=e.pluginData.emitEvent({parent:r,type:"Parser",action:"read",status:"running",files:[t.path],data:{global:!1}});s.currentFile=t;var i=new dr.InputStream(t.content),o=new ci(i),a=new dr.CommonTokenStream(o),c=new ki(a),u=new fo(e.pluginData,t);c.removeErrorListeners(),c.addErrorListener(u),c.buildParseTrees=!0;var l=c.file_();dr.tree.ParseTreeWalker.DEFAULT.walk(s,l),e.pluginData.emitEvent({id:n,status:"success"})}))}}])}(t.DefaultParser);const xo=wo;var ko=n(326),To=n.n(ko);const So={root:"".concat("{% macro displayAttributeValue(attribute, value, level) %}\n{% if attribute.isVariable %}{{ value | dump | indent(level * 4, true) }},\n{% elif attribute.definition.type == 'Link' %}{{ attribute.definition.linkRef | indent(level * 4, true) }}.{{ getExternalId(value) }}.{{attribute.definition.linkAttribute}},\n{% elif isValueReference(value) %}{{ value | indent(level * 4, true) }},\n{% else %}{{ value | dump | indent(level * 4, true) }},\n{% endif %}\n{% endmacro %}\n",'{% include "local" ignore missing %}\n{% include "block" ignore missing %}\n{% include "variable" ignore missing %}\n{% include "output" ignore missing %}\n'),block:"{% for _block in components %}\n{{ _block.definition.blockType }} {% if ['resource','data'].includes(_block.definition.blockType) %}\"{{ _block.definition.type }}\" {% endif %}{% if ['provider', 'module'].includes(_block.definition.blockType) %}\"{{ _block.definition.type }}\"{% else %}\"{{ _block.externalId }}\"{% endif %} {\n{% for attribute in _block.attributes %}{% set level = 1 %}\n{% include \"attribute\" ignore missing %}\n{% endfor %}\n}\n\n{% endfor %}",attribute:"{% if attribute.type == 'Object' %}\n{{ attribute.name | indent(level * 4, true) }} {% if not attribute.isDynamic %}= {% endif %}{\n{% set level = level+1 %}{% for attr in attribute.value %}{% set attribute = attr %}\n{% include \"attribute\" ignore missing %}\n{% set attribute = attr %}\n{% endfor %}{% set level = level-1 %}\n{{ \"}\" | indent(level * 4, true)  }}\n{% else %}\n{{ attribute.name | indent(level * 4, true) }} = {% if attribute.type == 'Array' or attribute.type == 'Link' %}[\n{% set level = level+1 %}{% for value in attribute.value %}\n{% call displayAttributeValue(attribute, value, level) -%}{%- endcall %}\n{% endfor %}{% set level = level-1 %}\n{{ \"]\" | indent(level * 4, true) }}\n{% else %}\n{% if attribute.isVariable %}{{ attribute.value }}\n{% elif attribute.definition.type == 'Reference' %}{{ attribute.definition.containerRef }}.{{ getExternalId(attribute.value) }}\n{% elif attribute.type == 'Boolean' or attribute.type == 'Number' or attribute.name == 'user_data' %}{{ attribute.value }}\n{% elif attribute.type == 'String' and isValueReference(attribute.value) %}{{ attribute.value }}\n{% else %}{{ attribute.value | dump }}\n{% endif %}\n{% endif %}\n{% endif %}\n",variable:'{% for variable in variables %}\nvariable {{ variable.name | dump }} {\n{% set level = 1 %}\n{% if variable.defaultValue %}{{ "default" | indent(level * 4, true) }} = {% if isList(variable.type) %}[\n{% set level = level+1 %}{% for val in variable.defaultValue %}\n{{ val | dump | indent(level * 4, true) }},\n{% endfor %}\n{% set level = level-1 %}{{ "]" | indent(level * 4, true) }}\n{% else %}{{ variable.defaultValue | dump }}\n{% endif %}\n{% endif %}\n{% if variable.type %}{{ "type" | indent(level * 4, true) }} = {{ variable.type }}\n{% endif %}\n{% if variable.description %}{{ "description" | indent(level * 4, true) }} = {{ variable.description | dump }}\n{% endif %}\n{% if variable.sensitive %}{{ "sensitive" | indent(level * 4, true) }} = {{ variable.sensitive }}\n{% endif %}\n{% if variable.nullable %}{{ "nullable" | indent(level * 4, true) }} = {{ variable.nullable }}\n{% endif %}\n}\n\n{% endfor %}\n',output:'{% for output in outputs %}\noutput {{ output.name | dump }} {\n{% set level = 1 %}\n{% if isList(output.type) %}\n{{ "value = [" | indent(level * 4, true) }}\n{% for val in output.value %}\n{% set level = level+1 %}\n{% set argType = getListType(output.type) %}\n{% if argType == \'number\' or argType == \'bool\' or isValueReference(val) %}\n{{ val | dump  | indent(level * 4, true) }},\n{% else %}\n{{ val | dump  | indent(level * 4, true) }},\n{% endif %}\n{% set level = level-1 %}\n{% endfor %}{{ "]" | indent(level * 4, true) }}\n{% else %}\n{{ "value = " | indent(level * 4, true) }}{% if output.type == \'number\' or output.type == \'bool\' or isValueReference(output.value) %}\n{{ output.value }}\n{% else %}\n{{ output.value | dump }}\n{% endif %}\n{% endif %}\n{% if output.description %}{{ "description" | indent(level * 4, true) }} = {{ output.description | dump }}\n{% endif %}\n{% if output.sensitive %}{{ "sensitive" | indent(level * 4, true) }} = {{ output.sensitive }}\n{% endif %}\n}\n\n{% endfor %}\n',local:'{% if locals.length > 0 %}\nlocals {\n{% set level = 1 %}\n{% for local in locals %}\n{% if local.value %}{{ local.name | indent(level * 4, true) }} = {% if isList(local.type) %}[\n{% set level = level+1 %}{% for val in local.value %}\n{{ val | dump | indent(level * 4, true) }},\n{% endfor %}\n{% set level = level-1 %}{{ "]" | indent(level * 4, true) }}\n{% else %}{{ local.value | dump }}\n{% endif %}\n{% endif %}\n{% endfor %}{% set level = level-1 %}\n{% set level = 0 %}}\n\n{% endif %}\n'};function Eo(t){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(t)}function Ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oo(r.key),r)}}function Oo(t){var e=function(t){if("object"!=Eo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Eo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Eo(e)?e:e+""}function No(t,e,n){return e=Lo(e),function(t,e){if(e&&("object"==Eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Co()?Reflect.construct(e,n||[],Lo(t).constructor):e.apply(t,n))}function Co(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Co=function(){return!!t})()}function Lo(t){return Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(t)}function Ro(t,e){return Ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ro(t,e)}var Po=function(e){function n(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e=No(this,n,[t]);var r=To().Loader.extend({getSource:function(t){return{src:So[t]}}}),i=new(To().Environment)(new r,{autoescape:!1,trimBlocks:!0,lstripBlocks:!0});return e.template=To().compile(So.root,i),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ro(t,e)}(n,e),function(t,e){return e&&Ao(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(n,[{key:"renderFiles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.pluginData.components.reduce((function(t,e){return t.has(e.path)?t.get(e.path).push(e):t.set(e.path,[e]),t}),new Map),n=this.pluginData.variables.reduce((function(t,e){return t.has(e.path)?t.get(e.path).push(e):t.set(e.path,[e]),t}),new Map);return this.generateFiles(e,n,t)}},{key:"generateFiles",value:function(e,n,r){var i=this,o=[];return(0===e.size?n:e).forEach((function(s,a){var c=i.pluginData.emitEvent({parent:r,type:"Render",action:"write",status:"running",files:[a],data:{global:!1}}),u=(null==n?void 0:n.get(a))||[],l=(null==e?void 0:e.get(a))||[];o.push(new t.FileInput({path:a,content:"".concat(i.template.render({components:l,variables:u.filter((function(t){return"variable"===t.category})),locals:u.filter((function(t){return"local"===t.category})),outputs:u.filter((function(t){return"output"===t.category})),getExternalId:function(t){var e;return null===(e=i.pluginData.getComponentById(t))||void 0===e?void 0:e.externalId},isValueReference:function(t){return null==t?void 0:t.match(/^(data.|var.|local.|module.|aws_|random_)/)},isList:function(t){return(null==t?void 0:t.startsWith("list("))||(null==t?void 0:t.startsWith("set("))},getListType:function(t){return t.split(/\(([^)]+)\)/)[1]}}).trim(),"\n")})),i.pluginData.emitEvent({id:c,status:"success"})})),o}}])}(t.DefaultRender);const Io=Po,Mo={name:"terraform",languageSettings:{id:"terraform",extensions:[".tf"],aliases:["Terraform","terraform"],mimetypes:["string"]},languageConfiguration:{comments:{lineComment:"#",blockComment:["/*","*/"]},brackets:[["(",")"],["{","}"],["[","]"]],colorizedBracketPairs:[["(",")"],["{","}"],["[","]"]],autoClosingPairs:[{open:"(",close:")"},{open:"{",close:"}"},{open:"[",close:"]"},{open:"'",close:"'",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'"},{open:'"',close:'"'}]},tokenProvider:{keywords:["provider","resource","data","variable","output","locals","module","for_each","if","else","true","false","null"],operators:["+","+=","-","-=","*","*=","/","/=","%","%=","==","!=","<","<=",">",">=","=","||","&&","!"],symbols:/[=><!~?:&|+\-*/^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/#.*$/,"comment"]]}}};function Do(t){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(t)}function jo(t,e,n){return e=Fo(e),function(t,e){if(e&&("object"==Do(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Bo()?Reflect.construct(e,n||[],Fo(t).constructor):e.apply(t,n))}function Bo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Bo=function(){return!!t})()}function Fo(t){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(t)}function Uo(t,e){return Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uo(t,e)}var zo=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),jo(this,n,[{editor:{syntax:Mo},tags:[new t.Tag({type:"language",value:"Terraform"}),new t.Tag({type:"category",value:"Infrastructure"})],extraResources:[{type:"markers",name:"startLinkMarker"},{type:"markers",name:"endLinkMarker"},{type:"links",name:"defaultLink"},{type:"links",name:"temporaryLink"},{type:"icons",name:"error"},{type:"icons",name:"menu"},{type:"icons",name:"resize"},{type:"icons",name:"unknown"}],container:{margin:15,gap:50},defaultFileName:"new_file.tf",defaultFileExtension:"tf",i18n:{"en-US":{displayName:"Terraform",parser:{error:{noExternalId:"Id can't be null.",badExternalId:"Invalid id."}}}}}])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uo(t,e)}(n,e),function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}(n)}(t.DefaultConfiguration);const Vo=zo;function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function Ho(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wo(r.key),r)}}function Wo(t){var e=function(t){if("object"!=Ko(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ko(e)?e:e+""}function Go(t,e,n){return e=$o(e),function(t,e){if(e&&("object"==Ko(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Yo()?Reflect.construct(e,n||[],$o(t).constructor):e.apply(t,n))}function Yo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yo=function(){return!!t})()}function $o(t){return $o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$o(t)}function Xo(t,e){return Xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xo(t,e)}var Zo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Go(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xo(t,e)}(e,t),function(t,e){return e&&qo(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"getVariableValue",value:function(t){var e,n=t.split(".");return 2===n.length?("var"===n[0]&&(n[0]="variable"),(null===(e=this.variables.find((function(t){return t.name===n[1]&&t.category===n[0]})))||void 0===e?void 0:e.value)||null):null}},{key:"getAttributeValue",value:function(t){var e,n,r=this;if(t.isVariable)return this.getVariableValue(t.value);if("Link"===(null===(e=t.definition)||void 0===e?void 0:e.type)){var i=[];return t.value.forEach((function(e){i.push(r.expandLinkAttribute(e,t.definition.linkAttribute))})),i}return"Reference"===(null===(n=t.definition)||void 0===n?void 0:n.type)?this.expandLinkAttribute(t.value,t.definition.linkAttribute):t.value}},{key:"getLinkedComponentsIds",value:function(t){var e,n;if(t.isVariable)return[this.getVariableValue(t.value)];var r=[];return"Link"===(null===(e=t.definition)||void 0===e?void 0:e.type)||"Array"===(null===(n=t.definition)||void 0===n?void 0:n.type)?(t.value.forEach((function(t){r.push(t)})),r):[t.value]}},{key:"expandLinkAttribute",value:function(t,e){var n,r=this.getComponentIdFromValue(t);return"id"===e?r:null===(n=this.components.find((function(t){return t.id===r})))||void 0===n||null===(n=n.attributes.find((function(t){return t.name===e})))||void 0===n?void 0:n.value}},{key:"addComponent",value:function(t,e){var n=this.generateComponentId(),r=this.configuration.defaultFileName;return this.components.push(new Vr({id:n,name:n,definition:t,path:e?"".concat(e,"/").concat(r):r})),n}},{key:"getComponentByConfigurationKey",value:function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ho(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ho(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(/([^.]*)\.([^.]*)/.exec(t),3),n=e[1],r=e[2];return this.components.find((function(t){return t.definition.type===n&&t.externalId===r}))}}])}(t.DefaultData);const Jo=Zo;function Qo(t){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(t)}function ts(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function es(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ts(Object(n),!0).forEach((function(e){ns(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ns(t,e,n){return(e=is(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,is(r.key),r)}}function is(t){var e=function(t){if("object"!=Qo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Qo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Qo(e)?e:e+""}function os(t,e,n){return e=cs(e),function(t,e){if(e&&("object"==Qo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ss()?Reflect.construct(e,n||[],cs(t).constructor):e.apply(t,n))}function ss(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ss=function(){return!!t})()}function as(){return as="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=cs(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},as.apply(null,arguments)}function cs(t){return cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cs(t)}function us(t,e){return us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},us(t,e)}var ls=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),os(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&us(t,e)}(e,t),function(t,e){return e&&rs(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"getTemplateData",value:function(t){var n=t.getAttributeByName("count"),r=parseInt(null==n?void 0:n.value,10),i=!!n&&1!==r,o="?";return i&&Number.isInteger(r)&&(o=r),es(es({},function(t,e,n){var r=as(cs(t.prototype),"getTemplateData",n);return function(t){return r.apply(n,t)}}(e,0,this)([t])),{},{hasCount:i,count:o})}}])}(t.ComponentRenderer);const hs=ls;function fs(t){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(t)}function ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ds(r.key),r)}}function ds(t){var e=function(t){if("object"!=fs(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=fs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fs(e)?e:e+""}function ms(t,e,n){return e=gs(e),function(t,e){if(e&&("object"==fs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ys()?Reflect.construct(e,n||[],gs(t).constructor):e.apply(t,n))}function ys(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ys=function(){return!!t})()}function gs(t){return gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(t)}function vs(t,e){return vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vs(t,e)}var bs=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ms(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vs(t,e)}(e,t),function(t,e){return e&&ps(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"initComponentRenderer",value:function(t){return new hs(this.pluginData,this.viewport,t)}}])}(t.DefaultDrawer);const _s=bs,ws=JSON.parse('{"UU":"@ditrit/terrator-plugin","rE":"0.12.2"}');function xs(t){return xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(t)}function ks(t,e,n){return e=Ss(e),function(t,e){if(e&&("object"==xs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ts()?Reflect.construct(e,n||[],Ss(t).constructor):e.apply(t,n))}function Ts(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ts=function(){return!!t})()}function Ss(t){return Ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ss(t)}function Es(t,e){return Es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Es(t,e)}var As=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{event:null};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new Vo,r=new Jo(n,{name:ws.UU,version:ws.rE},t.event);return ks(this,e,[{pluginData:r,pluginDrawer:new _s(r),pluginMetadata:new _t(r),pluginParser:new xo(r),pluginRenderer:new Io(r),configuration:n}])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Es(t,e)}(e,t),function(t){return Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(t.DefaultPlugin);const Os=As})();var i=exports;for(var o in r)i[o]=r[o];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();