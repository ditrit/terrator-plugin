/*! For license information please see terrator-plugin.js.LICENSE.txt */
(()=>{var t={96:(t,e,n)=>{"use strict";var r=n(153),i=n(610),o=n(531),a=n(22),s=n(35),u=n(516),c=n(753),l=n(978),f=n(889);t.exports=y,y.prototype.validate=function(t,e){var n;if("string"==typeof t){if(!(n=this.getSchema(t)))throw new Error('no schema with key or ref "'+t+'"')}else{var r=this._addSchema(t);n=r.validate||this._compile(r)}var i=n(e);return!0!==n.$async&&(this.errors=n.errors),i},y.prototype.compile=function(t,e){var n=this._addSchema(t,void 0,e);return n.validate||this._compile(n)},y.prototype.addSchema=function(t,e,n,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)this.addSchema(t[o],void 0,n,r);return this}var a=this._getId(t);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return E(this,e=i.normalizeId(e||a)),this._schemas[e]=this._addSchema(t,n,r,!0),this},y.prototype.addMetaSchema=function(t,e,n){return this.addSchema(t,e,n,!0),this},y.prototype.validateSchema=function(t,e){var n=t.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(t){var e=t._opts.meta;return t._opts.defaultMeta="object"==typeof e?t._getId(e)||e:t.getSchema(p)?p:void 0,t._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,t);if(!r&&e){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r},y.prototype.getSchema=function(t){var e=g(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return function(t,e){var n=i.schema.call(t,{schema:{}},e);if(n){var o=n.schema,s=n.root,u=n.baseId,c=r.call(t,o,s,void 0,u);return t._fragments[e]=new a({ref:e,fragment:!0,schema:o,root:s,baseId:u,validate:c}),c}}(this,t)}},y.prototype.removeSchema=function(t){if(t instanceof RegExp)return b(this,this._schemas,t),b(this,this._refs,t),this;switch(typeof t){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var e=g(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var n=this._opts.serialize,r=n?n(t):t;this._cache.del(r);var o=this._getId(t);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},y.prototype.addFormat=function(t,e){return"string"==typeof e&&(e=new RegExp(e)),this._formats[t]=e,this},y.prototype.errorsText=function(t,e){if(!(t=t||this.errors))return"No errors";for(var n=void 0===(e=e||{}).separator?", ":e.separator,r=void 0===e.dataVar?"data":e.dataVar,i="",o=0;o<t.length;o++){var a=t[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)},y.prototype._addSchema=function(t,e,n,r){if("object"!=typeof t&&"boolean"!=typeof t)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(t):t,u=this._cache.get(s);if(u)return u;r=r||!1!==this._opts.addUsedSchema;var c=i.normalizeId(this._getId(t));c&&r&&E(this,c);var l,f=!1!==this._opts.validateSchema&&!e;f&&!(l=c&&c==i.normalizeId(t.$schema))&&this.validateSchema(t,!0);var h=i.ids.call(this,t),d=new a({id:c,schema:t,localRefs:h,cacheKey:s,meta:n});return"#"!=c[0]&&r&&(this._refs[c]=d),this._cache.put(s,d),f&&l&&this.validateSchema(t,!0),d},y.prototype._compile=function(t,e){if(t.compiling)return t.validate=o,o.schema=t.schema,o.errors=null,o.root=e||o,!0===t.schema.$async&&(o.$async=!0),o;var n,i;t.compiling=!0,t.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,t.schema,e,t.localRefs)}catch(e){throw delete t.validate,e}finally{t.compiling=!1,t.meta&&(this._opts=n)}return t.validate=i,t.refs=i.refs,t.refVal=i.refVal,t.root=i.root,i;function o(){var e=t.validate,n=e.apply(this,arguments);return o.errors=e.errors,n}},y.prototype.compileAsync=n(931);var h=n(895);y.prototype.addKeyword=h.add,y.prototype.getKeyword=h.get,y.prototype.removeKeyword=h.remove,y.prototype.validateKeyword=h.validate;var d=n(802);y.ValidationError=d.Validation,y.MissingRefError=d.MissingRef,y.$dataMetaSchema=l;var p="http://json-schema.org/draft-07/schema",v=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],m=["/properties"];function y(t){if(!(this instanceof y))return new y(t);t=this._opts=f.copy(t)||{},function(t){var e=t._opts.logger;if(!1===e)t.logger={log:T,warn:T,error:T};else{if(void 0===e&&(e=console),!("object"==typeof e&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(t.format),this._cache=t.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(t){switch(t.schemaId){case"auto":return w;case"id":return _;default:return x}}(t),t.loopRequired=t.loopRequired||1/0,"property"==t.errorDataPath&&(t._errorDataPathProperty=!0),void 0===t.serialize&&(t.serialize=s),this._metaOpts=function(t){for(var e=f.copy(t._opts),n=0;n<v.length;n++)delete e[v[n]];return e}(this),t.formats&&function(t){for(var e in t._opts.formats){var n=t._opts.formats[e];t.addFormat(e,n)}}(this),t.keywords&&function(t){for(var e in t._opts.keywords){var n=t._opts.keywords[e];t.addKeyword(e,n)}}(this),function(t){var e;if(t._opts.$data&&(e=n(894),t.addMetaSchema(e,e.$id,!0)),!1!==t._opts.meta){var r=n(680);t._opts.$data&&(r=l(r,m)),t.addMetaSchema(r,p,!0),t._refs["http://json-schema.org/schema"]=p}}(this),"object"==typeof t.meta&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var n in e)t.addSchema(e[n],n)}(this)}function g(t,e){return e=i.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function b(t,e,n){for(var r in e){var i=e[r];i.meta||n&&!n.test(r)||(t._cache.del(i.cacheKey),delete e[r])}}function _(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function x(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function w(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function E(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function T(){}},531:t=>{"use strict";var e=t.exports=function(){this._cache={}};e.prototype.put=function(t,e){this._cache[t]=e},e.prototype.get=function(t){return this._cache[t]},e.prototype.del=function(t){delete this._cache[t]},e.prototype.clear=function(){this._cache={}}},931:(t,e,n)=>{"use strict";var r=n(802).MissingRef;t.exports=function t(e,n,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var a=s(e).then((function(){var t=o._addSchema(e,void 0,n);return t.validate||u(t)}));return i&&a.then((function(t){i(null,t)}),i),a;function s(e){var n=e.$schema;return n&&!o.getSchema(n)?t.call(o,{$ref:n},!0):Promise.resolve()}function u(t){try{return o._compile(t)}catch(e){if(e instanceof r)return function(e){var r=e.missingSchema;if(c(r))throw new Error("Schema "+r+" is loaded but "+e.missingRef+" cannot be resolved");var i=o._loadingSchemas[r];return i||(i=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(a,a),i.then((function(t){if(!c(r))return s(t).then((function(){c(r)||o.addSchema(t,r,void 0,n)}))})).then((function(){return u(t)}));function a(){delete o._loadingSchemas[r]}function c(t){return o._refs[t]||o._schemas[t]}}(e);throw e}}}},802:(t,e,n)=>{"use strict";var r=n(610);function i(t,e,n){this.message=n||i.message(t,e),this.missingRef=r.url(t,e),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function o(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}t.exports={Validation:o((function(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(t,e){return"can't resolve reference "+e+" from id "+t}},516:(t,e,n)=>{"use strict";var r=n(889),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,s=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,f=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function v(t){return t="full"==t?"full":"fast",r.copy(v[t])}function m(t){var e=t.match(i);if(!e)return!1;var n=+e[1],r=+e[2],a=+e[3];return r>=1&&r<=12&&a>=1&&a<=(2==r&&function(t){return t%4==0&&(t%100!=0||t%400==0)}(n)?29:o[r])}function y(t,e){var n=t.match(a);if(!n)return!1;var r=n[1],i=n[2],o=n[3],s=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!e||s)}t.exports=v,v.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:x,uuid:f,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":p},v.full={date:m,time:y,"date-time":function(t){var e=t.split(g);return 2==e.length&&m(e[0])&&y(e[1],!0)},uri:function(t){return b.test(t)&&u.test(t)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:x,uuid:f,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":p};var g=/t|\s/i,b=/\/|:/,_=/[^\\]\\Z/;function x(t){if(_.test(t))return!1;try{return new RegExp(t),!0}catch(t){return!1}}},153:(t,e,n)=>{"use strict";var r=n(610),i=n(889),o=n(802),a=n(35),s=n(508),u=i.ucs2length,c=n(63),l=o.Validation;function f(t,e,n){var r=d.call(this,t,e,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:t,root:e,baseId:n},{index:r,compiling:!1})}function h(t,e,n){var r=d.call(this,t,e,n);r>=0&&this._compilations.splice(r,1)}function d(t,e,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==t&&i.root==e&&i.baseId==n)return r}return-1}function p(t,e){return"var pattern"+t+" = new RegExp("+i.toQuotedString(e[t])+");"}function v(t){return"var default"+t+" = defaults["+t+"];"}function m(t,e){return void 0===e[t]?"":"var refVal"+t+" = refVal["+t+"];"}function y(t){return"var customRule"+t+" = customRules["+t+"];"}function g(t,e){if(!t.length)return"";for(var n="",r=0;r<t.length;r++)n+=e(r,t);return n}t.exports=function t(e,n,d,b){var _=this,x=this._opts,w=[void 0],E={},T=[],S={},k=[],O={},A=[];n=n||{schema:e,refVal:w,refs:E};var P=f.call(this,e,n,b),C=this._compilations[P.index];if(P.compiling)return C.callValidate=function t(){var e=C.validate,n=e.apply(this,arguments);return t.errors=e.errors,n};var R=this._formats,N=this.RULES;try{var M=L(e,n,d,b);C.validate=M;var I=C.callValidate;return I&&(I.schema=M.schema,I.errors=null,I.refs=M.refs,I.refVal=M.refVal,I.root=M.root,I.$async=M.$async,x.sourceCode&&(I.source=M.source)),M}finally{h.call(this,e,n,b)}function L(e,a,f,h){var d=!a||a&&a.schema==e;if(a.schema!=n.schema)return t.call(_,e,a,f,h);var b,S=!0===e.$async,O=s({isTop:!0,schema:e,isRoot:d,baseId:h,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:N,validate:s,util:i,resolve:r,resolveRef:D,usePattern:U,useDefault:B,useCustomRule:z,opts:x,formats:R,logger:_.logger,self:_});O=g(w,m)+g(T,p)+g(k,v)+g(A,y)+O,x.processCode&&(O=x.processCode(O,e));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",O)(_,N,R,n,w,k,A,c,u,l),w[0]=b}catch(t){throw _.logger.error("Error compiling schema, function code:",O),t}return b.schema=e,b.errors=null,b.refs=E,b.refVal=w,b.root=d?b:a,S&&(b.$async=!0),!0===x.sourceCode&&(b.source={code:O,patterns:T,defaults:k}),b}function D(e,i,o){i=r.url(e,i);var a,s,u=E[i];if(void 0!==u)return j(a=w[u],s="refVal["+u+"]");if(!o&&n.refs){var c=n.refs[i];if(void 0!==c)return j(a=n.refVal[c],s=F(i,a))}s=F(i);var l=r.call(_,L,n,i);if(void 0===l){var f=d&&d[i];f&&(l=r.inlineRef(f,x.inlineRefs)?f:t.call(_,f,n,d,e))}if(void 0!==l)return function(t,e){var n=E[t];w[n]=e}(i,l),j(l,s);!function(t){delete E[t]}(i)}function F(t,e){var n=w.length;return w[n]=e,E[t]=n,"refVal"+n}function j(t,e){return"object"==typeof t||"boolean"==typeof t?{code:e,schema:t,inline:!0}:{code:e,$async:t&&!!t.$async}}function U(t){var e=S[t];return void 0===e&&(e=S[t]=T.length,T[e]=t),"pattern"+e}function B(t){switch(typeof t){case"boolean":case"number":return""+t;case"string":return i.toQuotedString(t);case"object":if(null===t)return"null";var e=a(t),n=O[e];return void 0===n&&(n=O[e]=k.length,k[n]=t),"default"+n}}function z(t,e,n,r){if(!1!==_._opts.validateSchema){var i=t.definition.dependencies;if(i&&!i.every((function(t){return Object.prototype.hasOwnProperty.call(n,t)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=t.definition.validateSchema;if(o&&!o(e)){var a="keyword schema is invalid: "+_.errorsText(o.errors);if("log"!=_._opts.validateSchema)throw new Error(a);_.logger.error(a)}}var s,u=t.definition.compile,c=t.definition.inline,l=t.definition.macro;if(u)s=u.call(_,e,n,r);else if(l)s=l.call(_,e,n,r),!1!==x.validateSchema&&_.validateSchema(s,!0);else if(c)s=c.call(_,r,t.keyword,e,n);else if(!(s=t.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+t.keyword+'"failed to compile');var f=A.length;return A[f]=s,{code:"customRule"+f,validate:s}}}},610:(t,e,n)=>{"use strict";var r=n(540),i=n(63),o=n(889),a=n(22),s=n(461);function u(t,e,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return u.call(this,t,e,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof a)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,s,l=c.call(this,e,n);return l&&(i=l.schema,e=l.root,s=l.baseId),i instanceof a?o=i.validate||t.call(this,i.schema,e,void 0,s):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,s)),o}function c(t,e){var n=r.parse(e),i=g(n),o=y(this._getId(t.schema));if(0===Object.keys(t.schema).length||i!==o){var s=_(i),u=this._refs[s];if("string"==typeof u)return l.call(this,t,u,n);if(u instanceof a)u.validate||this._compile(u),t=u;else{if(!((u=this._schemas[s])instanceof a))return;if(u.validate||this._compile(u),s==_(e))return{schema:u,root:t,baseId:o};t=u}if(!t.schema)return;o=y(this._getId(t.schema))}return h.call(this,n,o,t.schema,t)}function l(t,e,n){var r=c.call(this,t,e);if(r){var i=r.schema,o=r.baseId;t=r.root;var a=this._getId(i);return a&&(o=x(o,a)),h.call(this,n,o,i,t)}}t.exports=u,u.normalizeId=_,u.fullPath=y,u.url=x,u.ids=function(t){var e=_(this._getId(t)),n={"":e},a={"":y(e,!1)},u={},c=this;return s(t,{allKeys:!0},(function(t,e,s,l,f,h,d){if(""!==e){var p=c._getId(t),v=n[l],m=a[l]+"/"+f;if(void 0!==d&&(m+="/"+("number"==typeof d?d:o.escapeFragment(d))),"string"==typeof p){p=v=_(v?r.resolve(v,p):p);var y=c._refs[p];if("string"==typeof y&&(y=c._refs[y]),y&&y.schema){if(!i(t,y.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=_(m))if("#"==p[0]){if(u[p]&&!i(t,u[p]))throw new Error('id "'+p+'" resolves to more than one schema');u[p]=t}else c._refs[p]=m}n[e]=v,a[e]=m}})),u},u.inlineRef=p,u.schema=c;var f=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(t,e,n,r){if(t.fragment=t.fragment||"","/"==t.fragment.slice(0,1)){for(var i=t.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(void 0===(n=n[s=o.unescapeFragment(s)]))break;var u;if(!f[s]&&((u=this._getId(n))&&(e=x(e,u)),n.$ref)){var l=x(e,n.$ref),h=c.call(this,r,l);h&&(n=h.schema,r=h.root,e=h.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:e}:void 0}}var d=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(t,e){return!1!==e&&(void 0===e||!0===e?v(t):e?m(t)<=e:void 0)}function v(t){var e;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(e=t[n])&&!v(e))return!1}else for(var r in t){if("$ref"==r)return!1;if("object"==typeof(e=t[r])&&!v(e))return!1}return!0}function m(t){var e,n=0;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(e=t[r])&&(n+=m(e)),n==1/0)return 1/0}else for(var i in t){if("$ref"==i)return 1/0;if(d[i])n++;else if("object"==typeof(e=t[i])&&(n+=m(e)+1),n==1/0)return 1/0}return n}function y(t,e){return!1!==e&&(t=_(t)),g(r.parse(t))}function g(t){return r.serialize(t).split("#")[0]+"#"}var b=/#\/?$/;function _(t){return t?t.replace(b,""):""}function x(t,e){return e=_(e),r.resolve(t,e)}},753:(t,e,n)=>{"use strict";var r=n(674),i=n(889).toHash;t.exports=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],e=["type","$comment"];return t.all=i(e),t.types=i(["number","integer","string","array","object","boolean","null"]),t.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){e.push(n),t.all[n]=!0}))}return e.push(n),t.all[n]={keyword:n,code:r[n],implements:i}})),t.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(t.types[n.type]=n)})),t.keywords=i(e.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),t.custom={},t}},22:(t,e,n)=>{"use strict";var r=n(889);t.exports=function(t){r.copy(t,this)}},442:t=>{"use strict";t.exports=function(t){for(var e,n=0,r=t.length,i=0;i<r;)n++,(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<r&&56320==(64512&(e=t.charCodeAt(i)))&&i++;return n}},889:(t,e,n)=>{"use strict";function r(t,e,n,r){var i=r?" !== ":" === ",o=r?" || ":" && ",a=r?"!":"",s=r?"":"!";switch(t){case"null":return e+i+"null";case"array":return a+"Array.isArray("+e+")";case"object":return"("+a+e+o+"typeof "+e+i+'"object"'+o+s+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+i+'"number"'+o+s+"("+e+" % 1)"+o+e+i+e+(n?o+a+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+i+'"'+t+'"'+(n?o+a+"isFinite("+e+")":"")+")";default:return"typeof "+e+i+'"'+t+'"'}}t.exports={copy:function(t,e){for(var n in e=e||{},t)e[n]=t[n];return e},checkDataType:r,checkDataTypes:function(t,e,n){if(1===t.length)return r(t[0],e,n,!0);var i="",a=o(t);for(var s in a.array&&a.object&&(i=a.null?"(":"(!"+e+" || ",i+="typeof "+e+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)i+=(i?" && ":"")+r(s,e,n,!0);return i},coerceToTypes:function(t,e){if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++){var o=e[r];(i[o]||"array"===t&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(i[e])return[e];if("array"===t&&"array"===e)return["array"]}},toHash:o,getProperty:u,escapeQuotes:c,equal:n(63),ucs2length:n(442),varOccurences:function(t,e){e+="[^0-9]";var n=t.match(new RegExp(e,"g"));return n?n.length:0},varReplace:function(t,e,n){return e+="([^0-9])",n=n.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),n+"$1")},schemaHasRules:function(t,e){if("boolean"==typeof t)return!t;for(var n in t)if(e[n])return!0},schemaHasRulesExcept:function(t,e,n){if("boolean"==typeof t)return!t&&"not"!=n;for(var r in t)if(r!=n&&e[r])return!0},schemaUnknownRules:function(t,e){if("boolean"!=typeof t)for(var n in t)if(!e[n])return n},toQuotedString:l,getPathExpr:function(t,e,n,r){return d(t,n?"'/' + "+e+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")},getPath:function(t,e,n){return d(t,l(n?"/"+p(e):u(e)))},getData:function(t,e,n){var r,i,o,a;if(""===t)return"rootData";if("/"==t[0]){if(!f.test(t))throw new Error("Invalid JSON-pointer: "+t);i=t,o="rootData"}else{if(!(a=t.match(h)))throw new Error("Invalid JSON-pointer: "+t);if(r=+a[1],"#"==(i=a[2])){if(r>=e)throw new Error("Cannot access property/index "+r+" levels up, current level is "+e);return n[e-r]}if(r>e)throw new Error("Cannot access data "+r+" levels up, current level is "+e);if(o="data"+(e-r||""),!i)return o}for(var s=o,c=i.split("/"),l=0;l<c.length;l++){var d=c[l];d&&(s+=" && "+(o+=u(v(d))))}return s},unescapeFragment:function(t){return v(decodeURIComponent(t))},unescapeJsonPointer:v,escapeFragment:function(t){return encodeURIComponent(p(t))},escapeJsonPointer:p};var i=o(["string","number","integer","boolean","null"]);function o(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function u(t){return"number"==typeof t?"["+t+"]":a.test(t)?"."+t:"['"+c(t)+"']"}function c(t){return t.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(t){return"'"+c(t)+"'"}var f=/^\/(?:[^~]|~0|~1)*$/,h=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function d(t,e){return'""'==t?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function p(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function v(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}},978:t=>{"use strict";var e=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];t.exports=function(t,n){for(var r=0;r<n.length;r++){t=JSON.parse(JSON.stringify(t));var i,o=n[r].split("/"),a=t;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<e.length;i++){var s=e[i],u=a[s];u&&(a[s]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t}},128:(t,e,n)=>{"use strict";var r=n(680);t.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},210:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,f="data"+(a||""),h=t.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s;var d="maximum"==e,p=d?"exclusiveMaximum":"exclusiveMinimum",v=t.schema[p],m=t.opts.$data&&v&&v.$data,y=d?"<":">",g=d?">":"<",b=void 0;if(!h&&"number"!=typeof s&&void 0!==s)throw new Error(e+" must be number");if(!m&&void 0!==v&&"number"!=typeof v&&"boolean"!=typeof v)throw new Error(p+" must be number or boolean");if(m){var _,x=t.util.getData(v.$data,a,t.dataPathArr),w="exclusive"+o,E="exclType"+o,T="exclIsNumber"+o,S="' + "+(O="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+x+"; ",i+=" var "+w+"; var "+E+" = typeof "+(x="schemaExcl"+o)+"; if ("+E+" != 'boolean' && "+E+" != 'undefined' && "+E+" != 'number') { ",b=p,(_=_||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),t.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var k=i;i=_.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+E+" == 'number' ? ( ("+w+" = "+r+" === undefined || "+x+" "+y+"= "+r+") ? "+f+" "+g+"= "+x+" : "+f+" "+g+" "+r+" ) : ( ("+w+" = "+x+" === true) ? "+f+" "+g+"= "+r+" : "+f+" "+g+" "+r+" ) || "+f+" !== "+f+") { var op"+o+" = "+w+" ? '"+y+"' : '"+y+"='; ",void 0===s&&(b=p,c=t.errSchemaPath+"/"+p,r=x,h=m)}else if(S=y,(T="number"==typeof v)&&h){var O="'"+S+"'";i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+v+" "+y+"= "+r+" ? "+f+" "+g+"= "+v+" : "+f+" "+g+" "+r+" ) || "+f+" !== "+f+") { "}else T&&void 0===s?(w=!0,b=p,c=t.errSchemaPath+"/"+p,r=v,g+="="):(T&&(r=Math[d?"min":"max"](v,s)),v===(!T||r)?(w=!0,b=p,c=t.errSchemaPath+"/"+p,g+="="):(w=!1,S+="=")),O="'"+S+"'",i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+f+" "+g+" "+r+" || "+f+" !== "+f+") { ";return b=b||e,(_=_||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { comparison: "+O+", limit: "+r+", exclusive: "+w+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be "+S+" ",i+=h?"' + "+r:r+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",k=i,i=_.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i}},38:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,f="data"+(a||""),h=t.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,!h&&"number"!=typeof s)throw new Error(e+" must be number");i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+f+".length "+("maxItems"==e?">":"<")+" "+r+") { ";var d=e,p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==e?"more":"fewer",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" items' "),t.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var v=i;return i=p.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},425:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,f="data"+(a||""),h=t.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,!h&&"number"!=typeof s)throw new Error(e+" must be number");var d="maxLength"==e?">":"<";i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===t.opts.unicode?i+=" "+f+".length ":i+=" ucs2length("+f+") ",i+=" "+d+" "+r+") { ";var p=e,v=v||[];v.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==e?"longer":"shorter",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" characters' "),t.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=v.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},204:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,f="data"+(a||""),h=t.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,!h&&"number"!=typeof s)throw new Error(e+" must be number");i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+f+").length "+("maxProperties"==e?">":"<")+" "+r+") { ";var d=e,p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==e?"more":"fewer",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" properties' "),t.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var v=i;return i=p.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},988:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.schema[e],o=t.schemaPath+t.util.getProperty(e),a=t.errSchemaPath+"/"+e,s=!t.opts.allErrors,u=t.util.copy(t),c="";u.level++;var l="valid"+u.level,f=u.baseId,h=!0,d=i;if(d)for(var p,v=-1,m=d.length-1;v<m;)p=d[v+=1],(t.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0||!1===p:t.util.schemaHasRules(p,t.RULES.all))&&(h=!1,u.schema=p,u.schemaPath=o+"["+v+"]",u.errSchemaPath=a+"/"+v,r+="  "+t.validate(u)+" ",u.baseId=f,s&&(r+=" if ("+l+") { ",c+="}"));return s&&(r+=h?" if (true) { ":" "+c.slice(0,-1)+" "),r}},996:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="valid"+i,h="errs__"+i,d=t.util.copy(t),p="";d.level++;var v="valid"+d.level,m=a.every((function(e){return t.opts.strictKeywords?"object"==typeof e&&Object.keys(e).length>0||!1===e:t.util.schemaHasRules(e,t.RULES.all)}));if(m){var y=d.baseId;r+=" var "+h+" = errors; var "+f+" = false;  ";var g=t.compositeRule;t.compositeRule=d.compositeRule=!0;var b=a;if(b)for(var _,x=-1,w=b.length-1;x<w;)_=b[x+=1],d.schema=_,d.schemaPath=s+"["+x+"]",d.errSchemaPath=u+"/"+x,r+="  "+t.validate(d)+" ",d.baseId=y,r+=" "+f+" = "+f+" || "+v+"; if (!"+f+") { ",p+="}";t.compositeRule=d.compositeRule=g,r+=" "+p+" if (!"+f+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else c&&(r+=" if (true) { ");return r}},812:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.schema[e],o=t.errSchemaPath+"/"+e,a=(t.opts.allErrors,t.util.toQuotedString(i));return!0===t.opts.$comment?r+=" console.log("+a+");":"function"==typeof t.opts.$comment&&(r+=" self._opts.$comment("+a+", "+t.util.toQuotedString(o)+", validate.root.schema);"),r}},306:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="valid"+i,h=t.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; "),h||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+f+" = equal("+l+", schema"+i+"); if (!"+f+") {   ";var d=d||[];d.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should be equal to constant' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var p=r;return r=d.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}},840:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="valid"+i,h="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,v="i"+i,m=d.dataLevel=t.dataLevel+1,y="data"+m,g=t.baseId,b=t.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:t.util.schemaHasRules(a,t.RULES.all);if(r+="var "+h+" = errors;var "+f+";",b){var _=t.compositeRule;t.compositeRule=d.compositeRule=!0,d.schema=a,d.schemaPath=s,d.errSchemaPath=u,r+=" var "+p+" = false; for (var "+v+" = 0; "+v+" < "+l+".length; "+v+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0);var x=l+"["+v+"]";d.dataPathArr[m]=v;var w=t.validate(d);d.baseId=g,t.util.varOccurences(w,y)<2?r+=" "+t.util.varReplace(w,y,x)+" ":r+=" var "+y+" = "+x+"; "+w+" ",r+=" if ("+p+") break; }  ",t.compositeRule=d.compositeRule=_,r+="  if (!"+p+") {"}else r+=" if ("+l+".length == 0) {";var E=E||[];E.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should contain a valid item' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var T=r;return r=E.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),t.opts.allErrors&&(r+=" } "),r}},165:t=>{"use strict";t.exports=function(t,e,n){var r,i,o=" ",a=t.level,s=t.dataLevel,u=t.schema[e],c=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,f=!t.opts.allErrors,h="data"+(s||""),d="valid"+a,p="errs__"+a,v=t.opts.$data&&u&&u.$data;v?(o+=" var schema"+a+" = "+t.util.getData(u.$data,s,t.dataPathArr)+"; ",i="schema"+a):i=u;var m,y,g,b,_,x=this,w="definition"+a,E=x.definition,T="";if(v&&E.$data){_="keywordValidate"+a;var S=E.validateSchema;o+=" var "+w+" = RULES.custom['"+e+"'].definition; var "+_+" = "+w+".validate;"}else{if(!(b=t.useCustomRule(x,u,t.schema,t)))return;i="validate.schema"+c,_=b.code,m=E.compile,y=E.inline,g=E.macro}var k=_+".errors",O="i"+a,A="ruleErr"+a,P=E.async;if(P&&!t.async)throw new Error("async keyword in sync schema");if(y||g||(o+=k+" = null;"),o+="var "+p+" = errors;var "+d+";",v&&E.$data&&(T+="}",o+=" if ("+i+" === undefined) { "+d+" = true; } else { ",S&&(T+="}",o+=" "+d+" = "+w+".validateSchema("+i+"); if ("+d+") { ")),y)E.statements?o+=" "+b.validate+" ":o+=" "+d+" = "+b.validate+"; ";else if(g){var C=t.util.copy(t);T="",C.level++;var R="valid"+C.level;C.schema=b.validate,C.schemaPath="";var N=t.compositeRule;t.compositeRule=C.compositeRule=!0;var M=t.validate(C).replace(/validate\.schema/g,_);t.compositeRule=C.compositeRule=N,o+=" "+M}else{(F=F||[]).push(o),o="",o+="  "+_+".call( ",t.opts.passContext?o+="this":o+="self",m||!1===E.schema?o+=" , "+h+" ":o+=" , "+i+" , "+h+" , validate.schema"+t.schemaPath+" ",o+=" , (dataPath || '')",'""'!=t.errorPath&&(o+=" + "+t.errorPath);var I=s?"data"+(s-1||""):"parentData",L=s?t.dataPathArr[s]:"parentDataProperty",D=o+=" , "+I+" , "+L+" , rootData )  ";o=F.pop(),!1===E.errors?(o+=" "+d+" = ",P&&(o+="await "),o+=D+"; "):o+=P?" var "+(k="customErrors"+a)+" = null; try { "+d+" = await "+D+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } ":" "+k+" = null; "+d+" = "+D+"; "}if(E.modifying&&(o+=" if ("+I+") "+h+" = "+I+"["+L+"];"),o+=""+T,E.valid)f&&(o+=" if (true) { ");else{var F;o+=" if ( ",void 0===E.valid?(o+=" !",o+=g?""+R:""+d):o+=" "+!E.valid+" ",o+=") { ",r=x.keyword,(F=F||[]).push(o),o="",(F=F||[]).push(o),o="",!1!==t.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { keyword: '"+x.keyword+"' } ",!1!==t.opts.messages&&(o+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),t.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var j=o;o=F.pop(),!t.compositeRule&&f?t.async?o+=" throw new ValidationError(["+j+"]); ":o+=" validate.errors = ["+j+"]; return false; ":o+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var U=o;o=F.pop(),y?E.errors?"full"!=E.errors&&(o+="  for (var "+O+"="+p+"; "+O+"<errors; "+O+"++) { var "+A+" = vErrors["+O+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+l+'"; } ',t.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+h+"; "),o+=" } "):!1===E.errors?o+=" "+U+" ":(o+=" if ("+p+" == errors) { "+U+" } else {  for (var "+O+"="+p+"; "+O+"<errors; "+O+"++) { var "+A+" = vErrors["+O+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+l+'"; } ',t.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+h+"; "),o+=" } } "):g?(o+="   var err =   ",!1!==t.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { keyword: '"+x.keyword+"' } ",!1!==t.opts.messages&&(o+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),t.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&f&&(t.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===E.errors?o+=" "+U+" ":(o+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+O+"="+p+"; "+O+"<errors; "+O+"++) { var "+A+" = vErrors["+O+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+t.errorPath+";  "+A+'.schemaPath = "'+l+'";  ',t.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+h+"; "),o+=" } } else { "+U+" } "),o+=" } ",f&&(o+=" else { ")}return o}},659:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="errs__"+i,h=t.util.copy(t),d="";h.level++;var p="valid"+h.level,v={},m={},y=t.opts.ownProperties;for(x in a)if("__proto__"!=x){var g=a[x],b=Array.isArray(g)?m:v;b[x]=g}r+="var "+f+" = errors;";var _=t.errorPath;for(var x in r+="var missing"+i+";",m)if((b=m[x]).length){if(r+=" if ( "+l+t.util.getProperty(x)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(x)+"') "),c){r+=" && ( ";var w=b;if(w)for(var E=-1,T=w.length-1;E<T;)C=w[E+=1],E&&(r+=" || "),r+=" ( ( "+(I=l+(M=t.util.getProperty(C)))+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(C)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?C:M)+") ) ";r+=")) {  ";var S="missing"+i,k="' + "+S+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(_,S,!0):_+" + "+S);var O=O||[];O.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { property: '"+t.util.escapeQuotes(x)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+t.util.escapeQuotes(b[0]):r+="properties "+t.util.escapeQuotes(b.join(", ")),r+=" when property "+t.util.escapeQuotes(x)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var A=r;r=O.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var P=b;if(P)for(var C,R=-1,N=P.length-1;R<N;){C=P[R+=1];var M=t.util.getProperty(C),I=(k=t.util.escapeQuotes(C),l+M);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(_,C,t.opts.jsonPointers)),r+=" if ( "+I+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(C)+"') "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { property: '"+t.util.escapeQuotes(x)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+t.util.escapeQuotes(b[0]):r+="properties "+t.util.escapeQuotes(b.join(", ")),r+=" when property "+t.util.escapeQuotes(x)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",c&&(d+="}",r+=" else { ")}t.errorPath=_;var L=h.baseId;for(var x in v)g=v[x],(t.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:t.util.schemaHasRules(g,t.RULES.all))&&(r+=" "+p+" = true; if ( "+l+t.util.getProperty(x)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(x)+"') "),r+=") { ",h.schema=g,h.schemaPath=s+t.util.getProperty(x),h.errSchemaPath=u+"/"+t.util.escapeFragment(x),r+="  "+t.validate(h)+" ",h.baseId=L,r+=" }  ",c&&(r+=" if ("+p+") { ",d+="}"));return c&&(r+="   "+d+" if ("+f+" == errors) {"),r}},740:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="valid"+i,h=t.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ");var d="i"+i,p="schema"+i;h||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+f+";",h&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=f+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+l+", "+p+"["+d+"])) { "+f+" = true; break; }",h&&(r+="  }  "),r+=" if (!"+f+") {   ";var v=v||[];v.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var m=r;return r=v.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}},14:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||"");if(!1===t.opts.format)return c&&(r+=" if (true) { "),r;var f,h=t.opts.$data&&a&&a.$data;h?(r+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=a;var d=t.opts.unknownFormats,p=Array.isArray(d);if(h)r+=" var "+(v="format"+i)+" = formats["+f+"]; var "+(m="isObject"+i)+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+(y="formatType"+i)+" = "+m+" && "+v+".type || 'string'; if ("+m+") { ",t.async&&(r+=" var async"+i+" = "+v+".async; "),r+=" "+v+" = "+v+".validate; } if (  ",h&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (","ignore"!=d&&(r+=" ("+f+" && !"+v+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+v+" && "+y+" == '"+n+"' && !(typeof "+v+" == 'function' ? ",t.async?r+=" (async"+i+" ? await "+v+"("+l+") : "+v+"("+l+")) ":r+=" "+v+"("+l+") ",r+=" : "+v+".test("+l+"))))) {";else{var v;if(!(v=t.formats[a])){if("ignore"==d)return t.logger.warn('unknown format "'+a+'" ignored in schema at path "'+t.errSchemaPath+'"'),c&&(r+=" if (true) { "),r;if(p&&d.indexOf(a)>=0)return c&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+t.errSchemaPath+'"')}var m,y=(m="object"==typeof v&&!(v instanceof RegExp)&&v.validate)&&v.type||"string";if(m){var g=!0===v.async;v=v.validate}if(y!=n)return c&&(r+=" if (true) { "),r;if(g){if(!t.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+t.util.getProperty(a)+".validate")+"("+l+"))) { "}else{r+=" if (! ";var b="formats"+t.util.getProperty(a);m&&(b+=".validate"),r+="function"==typeof v?" "+b+"("+l+") ":" "+b+".test("+l+") ",r+=") { "}}var _=_||[];_.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { format:  ",r+=h?""+f:""+t.util.toQuotedString(a),r+="  } ",!1!==t.opts.messages&&(r+=" , message: 'should match format \"",r+=h?"' + "+f+" + '":""+t.util.escapeQuotes(a),r+="\"' "),t.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+s:""+t.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var x=r;return r=_.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c&&(r+=" else { "),r}},231:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="valid"+i,h="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,v=t.schema.then,m=t.schema.else,y=void 0!==v&&(t.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:t.util.schemaHasRules(v,t.RULES.all)),g=void 0!==m&&(t.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:t.util.schemaHasRules(m,t.RULES.all)),b=d.baseId;if(y||g){var _;d.createErrors=!1,d.schema=a,d.schemaPath=s,d.errSchemaPath=u,r+=" var "+h+" = errors; var "+f+" = true;  ";var x=t.compositeRule;t.compositeRule=d.compositeRule=!0,r+="  "+t.validate(d)+" ",d.baseId=b,d.createErrors=!0,r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",t.compositeRule=d.compositeRule=x,y?(r+=" if ("+p+") {  ",d.schema=t.schema.then,d.schemaPath=t.schemaPath+".then",d.errSchemaPath=t.errSchemaPath+"/then",r+="  "+t.validate(d)+" ",d.baseId=b,r+=" "+f+" = "+p+"; ",y&&g?r+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",r+=" } ",g&&(r+=" else { ")):r+=" if (!"+p+") { ",g&&(d.schema=t.schema.else,d.schemaPath=t.schemaPath+".else",d.errSchemaPath=t.errSchemaPath+"/else",r+="  "+t.validate(d)+" ",d.baseId=b,r+=" "+f+" = "+p+"; ",y&&g?r+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",r+=" } "),r+=" if (!"+f+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { failingKeyword: "+_+" } ",!1!==t.opts.messages&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",c&&(r+=" else { ")}else c&&(r+=" if (true) { ");return r}},674:(t,e,n)=>{"use strict";t.exports={$ref:n(392),allOf:n(988),anyOf:n(996),$comment:n(812),const:n(306),contains:n(840),dependencies:n(659),enum:n(740),format:n(14),if:n(231),items:n(482),maximum:n(210),minimum:n(210),maxItems:n(38),minItems:n(38),maxLength:n(425),minLength:n(425),maxProperties:n(204),minProperties:n(204),multipleOf:n(673),not:n(528),oneOf:n(709),pattern:n(614),properties:n(175),propertyNames:n(441),required:n(287),uniqueItems:n(603),validate:n(508)}},482:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="valid"+i,h="errs__"+i,d=t.util.copy(t),p="";d.level++;var v="valid"+d.level,m="i"+i,y=d.dataLevel=t.dataLevel+1,g="data"+y,b=t.baseId;if(r+="var "+h+" = errors;var "+f+";",Array.isArray(a)){var _=t.schema.additionalItems;if(!1===_){r+=" "+f+" = "+l+".length <= "+a.length+"; ";var x=u;u=t.errSchemaPath+"/additionalItems",r+="  if (!"+f+") {   ";var w=w||[];w.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+a.length+" } ",!1!==t.opts.messages&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var E=r;r=w.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=x,c&&(p+="}",r+=" else { ")}var T=a;if(T)for(var S,k=-1,O=T.length-1;k<O;)if(S=T[k+=1],t.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0||!1===S:t.util.schemaHasRules(S,t.RULES.all)){r+=" "+v+" = true; if ("+l+".length > "+k+") { ";var A=l+"["+k+"]";d.schema=S,d.schemaPath=s+"["+k+"]",d.errSchemaPath=u+"/"+k,d.errorPath=t.util.getPathExpr(t.errorPath,k,t.opts.jsonPointers,!0),d.dataPathArr[y]=k;var P=t.validate(d);d.baseId=b,t.util.varOccurences(P,g)<2?r+=" "+t.util.varReplace(P,g,A)+" ":r+=" var "+g+" = "+A+"; "+P+" ",r+=" }  ",c&&(r+=" if ("+v+") { ",p+="}")}"object"==typeof _&&(t.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:t.util.schemaHasRules(_,t.RULES.all))&&(d.schema=_,d.schemaPath=t.schemaPath+".additionalItems",d.errSchemaPath=t.errSchemaPath+"/additionalItems",r+=" "+v+" = true; if ("+l+".length > "+a.length+") {  for (var "+m+" = "+a.length+"; "+m+" < "+l+".length; "+m+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers,!0),A=l+"["+m+"]",d.dataPathArr[y]=m,P=t.validate(d),d.baseId=b,t.util.varOccurences(P,g)<2?r+=" "+t.util.varReplace(P,g,A)+" ":r+=" var "+g+" = "+A+"; "+P+" ",c&&(r+=" if (!"+v+") break; "),r+=" } }  ",c&&(r+=" if ("+v+") { ",p+="}"))}else(t.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:t.util.schemaHasRules(a,t.RULES.all))&&(d.schema=a,d.schemaPath=s,d.errSchemaPath=u,r+="  for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers,!0),A=l+"["+m+"]",d.dataPathArr[y]=m,P=t.validate(d),d.baseId=b,t.util.varOccurences(P,g)<2?r+=" "+t.util.varReplace(P,g,A)+" ":r+=" var "+g+" = "+A+"; "+P+" ",c&&(r+=" if (!"+v+") break; "),r+=" }");return c&&(r+=" "+p+" if ("+h+" == errors) {"),r}},673:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,f="data"+(a||""),h=t.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,!h&&"number"!=typeof s)throw new Error(e+" must be number");i+="var division"+o+";if (",h&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+f+" / "+r+", ",t.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+t.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { multipleOf: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+r:r+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},528:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="errs__"+i,h=t.util.copy(t);h.level++;var d="valid"+h.level;if(t.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:t.util.schemaHasRules(a,t.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=u,r+=" var "+f+" = errors;  ";var p,v=t.compositeRule;t.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(p=h.opts.allErrors,h.opts.allErrors=!1),r+=" "+t.validate(h)+" ",h.createErrors=!0,p&&(h.opts.allErrors=p),t.compositeRule=h.compositeRule=v,r+=" if ("+d+") {   ";var m=m||[];m.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var y=r;r=m.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ");return r}},709:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="valid"+i,h="errs__"+i,d=t.util.copy(t),p="";d.level++;var v="valid"+d.level,m=d.baseId,y="prevValid"+i,g="passingSchemas"+i;r+="var "+h+" = errors , "+y+" = false , "+f+" = false , "+g+" = null; ";var b=t.compositeRule;t.compositeRule=d.compositeRule=!0;var _=a;if(_)for(var x,w=-1,E=_.length-1;w<E;)x=_[w+=1],(t.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0||!1===x:t.util.schemaHasRules(x,t.RULES.all))?(d.schema=x,d.schemaPath=s+"["+w+"]",d.errSchemaPath=u+"/"+w,r+="  "+t.validate(d)+" ",d.baseId=m):r+=" var "+v+" = true; ",w&&(r+=" if ("+v+" && "+y+") { "+f+" = false; "+g+" = ["+g+", "+w+"]; } else { ",p+="}"),r+=" if ("+v+") { "+f+" = "+y+" = true; "+g+" = "+w+"; }";return t.compositeRule=d.compositeRule=b,r+=p+"if (!"+f+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",!1!==t.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",t.opts.allErrors&&(r+=" } "),r}},614:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,f="data"+(a||""),h=t.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(h?"(new RegExp("+r+"))":t.usePattern(s))+".test("+f+") ) {   ";var d=d||[];d.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { pattern:  ",i+=h?""+r:""+t.util.toQuotedString(s),i+="  } ",!1!==t.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+r+" + '":""+t.util.escapeQuotes(s),i+="\"' "),t.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+t.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},175:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="errs__"+i,h=t.util.copy(t),d="";h.level++;var p="valid"+h.level,v="key"+i,m="idx"+i,y=h.dataLevel=t.dataLevel+1,g="data"+y,b="dataProperties"+i,_=Object.keys(a||{}).filter(M),x=t.schema.patternProperties||{},w=Object.keys(x).filter(M),E=t.schema.additionalProperties,T=_.length||w.length,S=!1===E,k="object"==typeof E&&Object.keys(E).length,O=t.opts.removeAdditional,A=S||k||O,P=t.opts.ownProperties,C=t.baseId,R=t.schema.required;if(R&&(!t.opts.$data||!R.$data)&&R.length<t.opts.loopRequired)var N=t.util.toHash(R);function M(t){return"__proto__"!==t}if(r+="var "+f+" = errors;var "+p+" = true;",P&&(r+=" var "+b+" = undefined;"),A){if(r+=P?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+v+" = "+b+"["+m+"]; ":" for (var "+v+" in "+l+") { ",T){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+v+") ";else{var I=_;if(I)for(var L=-1,D=I.length-1;L<D;)W=I[L+=1],r+=" || "+v+" == "+t.util.toQuotedString(W)+" "}if(w.length){var F=w;if(F)for(var j=-1,U=F.length-1;j<U;)ot=F[j+=1],r+=" || "+t.usePattern(ot)+".test("+v+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==O)r+=" delete "+l+"["+v+"]; ";else{var B=t.errorPath,z="' + "+v+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers)),S)if(O)r+=" delete "+l+"["+v+"]; ";else{r+=" "+p+" = false; ";var $=u;u=t.errSchemaPath+"/additionalProperties",(nt=nt||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { additionalProperty: '"+z+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var q=r;r=nt.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+q+"]); ":r+=" validate.errors = ["+q+"]; return false; ":r+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=$,c&&(r+=" break; ")}else if(k)if("failing"==O){r+=" var "+f+" = errors;  ";var V=t.compositeRule;t.compositeRule=h.compositeRule=!0,h.schema=E,h.schemaPath=t.schemaPath+".additionalProperties",h.errSchemaPath=t.errSchemaPath+"/additionalProperties",h.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers);var H=l+"["+v+"]";h.dataPathArr[y]=v;var K=t.validate(h);h.baseId=C,t.util.varOccurences(K,g)<2?r+=" "+t.util.varReplace(K,g,H)+" ":r+=" var "+g+" = "+H+"; "+K+" ",r+=" if (!"+p+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+v+"]; }  ",t.compositeRule=h.compositeRule=V}else h.schema=E,h.schemaPath=t.schemaPath+".additionalProperties",h.errSchemaPath=t.errSchemaPath+"/additionalProperties",h.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers),H=l+"["+v+"]",h.dataPathArr[y]=v,K=t.validate(h),h.baseId=C,t.util.varOccurences(K,g)<2?r+=" "+t.util.varReplace(K,g,H)+" ":r+=" var "+g+" = "+H+"; "+K+" ",c&&(r+=" if (!"+p+") break; ");t.errorPath=B}T&&(r+=" } "),r+=" }  ",c&&(r+=" if ("+p+") { ",d+="}")}var Y=t.opts.useDefaults&&!t.compositeRule;if(_.length){var G=_;if(G)for(var W,Q=-1,X=G.length-1;Q<X;){var J=a[W=G[Q+=1]];if(t.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:t.util.schemaHasRules(J,t.RULES.all)){var Z=t.util.getProperty(W),tt=(H=l+Z,Y&&void 0!==J.default);if(h.schema=J,h.schemaPath=s+Z,h.errSchemaPath=u+"/"+t.util.escapeFragment(W),h.errorPath=t.util.getPath(t.errorPath,W,t.opts.jsonPointers),h.dataPathArr[y]=t.util.toQuotedString(W),K=t.validate(h),h.baseId=C,t.util.varOccurences(K,g)<2){K=t.util.varReplace(K,g,H);var et=H}else et=g,r+=" var "+g+" = "+H+"; ";if(tt)r+=" "+K+" ";else{if(N&&N[W]){r+=" if ( "+et+" === undefined ",P&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(W)+"') "),r+=") { "+p+" = false; ",B=t.errorPath,$=u;var nt,rt=t.util.escapeQuotes(W);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(B,W,t.opts.jsonPointers)),u=t.errSchemaPath+"/required",(nt=nt||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+rt+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+rt+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",q=r,r=nt.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+q+"]); ":r+=" validate.errors = ["+q+"]; return false; ":r+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=$,t.errorPath=B,r+=" } else { "}else c?(r+=" if ( "+et+" === undefined ",P&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(W)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+et+" !== undefined ",P&&(r+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(W)+"') "),r+=" ) { ");r+=" "+K+" } "}}c&&(r+=" if ("+p+") { ",d+="}")}}if(w.length){var it=w;if(it)for(var ot,at=-1,st=it.length-1;at<st;)J=x[ot=it[at+=1]],(t.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:t.util.schemaHasRules(J,t.RULES.all))&&(h.schema=J,h.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(ot),h.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(ot),r+=P?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+v+" = "+b+"["+m+"]; ":" for (var "+v+" in "+l+") { ",r+=" if ("+t.usePattern(ot)+".test("+v+")) { ",h.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers),H=l+"["+v+"]",h.dataPathArr[y]=v,K=t.validate(h),h.baseId=C,t.util.varOccurences(K,g)<2?r+=" "+t.util.varReplace(K,g,H)+" ":r+=" var "+g+" = "+H+"; "+K+" ",c&&(r+=" if (!"+p+") break; "),r+=" } ",c&&(r+=" else "+p+" = true; "),r+=" }  ",c&&(r+=" if ("+p+") { ",d+="}"))}return c&&(r+=" "+d+" if ("+f+" == errors) {"),r}},441:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="errs__"+i,h=t.util.copy(t);h.level++;var d="valid"+h.level;if(r+="var "+f+" = errors;",t.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:t.util.schemaHasRules(a,t.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=u;var p="key"+i,v="idx"+i,m="i"+i,y="' + "+p+" + '",g="data"+(h.dataLevel=t.dataLevel+1),b="dataProperties"+i,_=t.opts.ownProperties,x=t.baseId;_&&(r+=" var "+b+" = undefined; "),r+=_?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+p+" = "+b+"["+v+"]; ":" for (var "+p+" in "+l+") { ",r+=" var startErrs"+i+" = errors; ";var w=p,E=t.compositeRule;t.compositeRule=h.compositeRule=!0;var T=t.validate(h);h.baseId=x,t.util.varOccurences(T,g)<2?r+=" "+t.util.varReplace(T,g,w)+" ":r+=" var "+g+" = "+w+"; "+T+" ",t.compositeRule=h.compositeRule=E,r+=" if (!"+d+") { for (var "+m+"=startErrs"+i+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+p+"; }   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { propertyName: '"+y+"' } ",!1!==t.opts.messages&&(r+=" , message: 'property name \\'"+y+"\\' is invalid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),c&&(r+=" break; "),r+=" } }"}return c&&(r+="  if ("+f+" == errors) {"),r}},392:t=>{"use strict";t.exports=function(t,e,n){var r,i,o=" ",a=t.level,s=t.dataLevel,u=t.schema[e],c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,f="data"+(s||""),h="valid"+a;if("#"==u||"#/"==u)t.isRoot?(r=t.async,i="validate"):(r=!0===t.root.schema.$async,i="root.refVal[0]");else{var d=t.resolveRef(t.baseId,u,t.isRoot);if(void 0===d){var p=t.MissingRefError.message(t.baseId,u);if("fail"==t.opts.missingRefs){t.logger.error(p),(g=g||[]).push(o),o="",!1!==t.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { ref: '"+t.util.escapeQuotes(u)+"' } ",!1!==t.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(u)+"' "),t.opts.verbose&&(o+=" , schema: "+t.util.toQuotedString(u)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var v=o;o=g.pop(),!t.compositeRule&&l?t.async?o+=" throw new ValidationError(["+v+"]); ":o+=" validate.errors = ["+v+"]; return false; ":o+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(o+=" if (false) { ")}else{if("ignore"!=t.opts.missingRefs)throw new t.MissingRefError(t.baseId,u,p);t.logger.warn(p),l&&(o+=" if (true) { ")}}else if(d.inline){var m=t.util.copy(t);m.level++;var y="valid"+m.level;m.schema=d.schema,m.schemaPath="",m.errSchemaPath=u,o+=" "+t.validate(m).replace(/validate\.schema/g,d.code)+" ",l&&(o+=" if ("+y+") { ")}else r=!0===d.$async||t.async&&!1!==d.$async,i=d.code}if(i){var g;(g=g||[]).push(o),o="",t.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+f+", (dataPath || '')",'""'!=t.errorPath&&(o+=" + "+t.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?t.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=g.pop(),r){if(!t.async)throw new Error("async schema referenced by sync schema");l&&(o+=" var "+h+"; "),o+=" try { await "+b+"; ",l&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(o+=" "+h+" = false; "),o+=" } ",l&&(o+=" if ("+h+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(o+=" else { ")}return o}},287:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),f="valid"+i,h=t.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ");var d="schema"+i;if(!h)if(a.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var p=[],v=a;if(v)for(var m,y=-1,g=v.length-1;y<g;){m=v[y+=1];var b=t.schema.properties[m];b&&(t.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:t.util.schemaHasRules(b,t.RULES.all))||(p[p.length]=m)}}else p=a;if(h||p.length){var _=t.errorPath,x=h||p.length>=t.opts.loopRequired,w=t.opts.ownProperties;if(c)if(r+=" var missing"+i+"; ",x){h||(r+=" var "+d+" = validate.schema"+s+"; ");var E="' + "+(P="schema"+i+"["+(O="i"+i)+"]")+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(_,P,t.opts.jsonPointers)),r+=" var "+f+" = true; ",h&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=" for (var "+O+" = 0; "+O+" < "+d+".length; "+O+"++) { "+f+" = "+l+"["+d+"["+O+"]] !== undefined ",w&&(r+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+d+"["+O+"]) "),r+="; if (!"+f+") break; } ",h&&(r+="  }  "),r+="  if (!"+f+") {   ",(S=S||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var T=r;r=S.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var S,k=p;if(k)for(var O=-1,A=k.length-1;O<A;)R=k[O+=1],O&&(r+=" || "),r+=" ( ( "+(L=l+(I=t.util.getProperty(R)))+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(R)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?R:I)+") ) ";r+=") {  ",E="' + "+(P="missing"+i)+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(_,P,!0):_+" + "+P),(S=S||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",T=r,r=S.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(x){var P;h||(r+=" var "+d+" = validate.schema"+s+"; "),E="' + "+(P="schema"+i+"["+(O="i"+i)+"]")+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(_,P,t.opts.jsonPointers)),h&&(r+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),r+=" for (var "+O+" = 0; "+O+" < "+d+".length; "+O+"++) { if ("+l+"["+d+"["+O+"]] === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+d+"["+O+"]) "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(r+="  }  ")}else{var C=p;if(C)for(var R,N=-1,M=C.length-1;N<M;){R=C[N+=1];var I=t.util.getProperty(R),L=(E=t.util.escapeQuotes(R),l+I);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(_,R,t.opts.jsonPointers)),r+=" if ( "+L+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(R)+"') "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=_}else c&&(r+=" if (true) {");return r}},603:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,f="data"+(a||""),h="valid"+o,d=t.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,(s||d)&&!1!==t.opts.uniqueItems){d&&(i+=" var "+h+"; if ("+r+" === false || "+r+" === undefined) "+h+" = true; else if (typeof "+r+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+f+".length , "+h+" = true , j; if (i > 1) { ";var p=t.schema.items&&t.schema.items.type,v=Array.isArray(p);if(!p||"object"==p||"array"==p||v&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var m="checkDataType"+(v?"s":"");i+=" if ("+t.util[m](p,"item",t.opts.strictNumbers,!0)+") continue; ",v&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",d&&(i+="  }  "),i+=" if (!"+h+") {   ";var y=y||[];y.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var g=i;i=y.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i}},508:t=>{"use strict";t.exports=function(t,e,n){var r="",i=!0===t.schema.$async,o=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),a=t.self._getId(t.schema);if(t.opts.strictKeywords){var s=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(s){var u="unknown keyword: "+s;if("log"!==t.opts.strictKeywords)throw new Error(u);t.logger.warn(u)}}if(t.isTop&&(r+=" var validate = ",i&&(t.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(t.opts.sourceCode||t.opts.processCode)&&(r+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof t.schema||!o&&!t.schema.$ref){e="false schema";var c=t.level,l=t.dataLevel,f=t.schema[e],h=t.schemaPath+t.util.getProperty(e),d=t.errSchemaPath+"/"+e,p=!t.opts.allErrors,v="data"+(l||""),m="valid"+c;if(!1===t.schema){t.isTop?p=!0:r+=" var "+m+" = false; ",(H=H||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'boolean schema is false' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var y=r;r=H.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+m+" = true; ";return t.isTop&&(r+=" }; return validate; "),r}if(t.isTop){var g=t.isTop;if(c=t.level=0,l=t.dataLevel=0,v="data",t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[""],void 0!==t.schema.default&&t.opts.useDefaults&&t.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==t.opts.strictDefaults)throw new Error(b);t.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(c=t.level,v="data"+((l=t.dataLevel)||""),a&&(t.baseId=t.resolve.url(t.baseId,a)),i&&!t.async)throw new Error("async schema in sync schema");r+=" var errs_"+c+" = errors;"}m="valid"+c,p=!t.opts.allErrors;var _="",x="",w=t.schema.type,E=Array.isArray(w);if(w&&t.opts.nullable&&!0===t.schema.nullable&&(E?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],E=!0)),E&&1==w.length&&(w=w[0],E=!1),t.schema.$ref&&o){if("fail"==t.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');!0!==t.opts.extendRefs&&(o=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(r+=" "+t.RULES.all.$comment.code(t,"$comment")),w){if(t.opts.coerceTypes)var T=t.util.coerceToTypes(t.opts.coerceTypes,w);var S=t.RULES.types[w];if(T||E||!0===S||S&&!X(S)){h=t.schemaPath+".type",d=t.errSchemaPath+"/type",h=t.schemaPath+".type",d=t.errSchemaPath+"/type";var k=E?"checkDataTypes":"checkDataType";if(r+=" if ("+t.util[k](w,v,t.opts.strictNumbers,!0)+") { ",T){var O="dataType"+c,A="coerced"+c;r+=" var "+O+" = typeof "+v+"; var "+A+" = undefined; ","array"==t.opts.coerceTypes&&(r+=" if ("+O+" == 'object' && Array.isArray("+v+") && "+v+".length == 1) { "+v+" = "+v+"[0]; "+O+" = typeof "+v+"; if ("+t.util.checkDataType(t.schema.type,v,t.opts.strictNumbers)+") "+A+" = "+v+"; } "),r+=" if ("+A+" !== undefined) ; ";var P=T;if(P)for(var C,R=-1,N=P.length-1;R<N;)"string"==(C=P[R+=1])?r+=" else if ("+O+" == 'number' || "+O+" == 'boolean') "+A+" = '' + "+v+"; else if ("+v+" === null) "+A+" = ''; ":"number"==C||"integer"==C?(r+=" else if ("+O+" == 'boolean' || "+v+" === null || ("+O+" == 'string' && "+v+" && "+v+" == +"+v+" ","integer"==C&&(r+=" && !("+v+" % 1)"),r+=")) "+A+" = +"+v+"; "):"boolean"==C?r+=" else if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+A+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+A+" = true; ":"null"==C?r+=" else if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+A+" = null; ":"array"==t.opts.coerceTypes&&"array"==C&&(r+=" else if ("+O+" == 'string' || "+O+" == 'number' || "+O+" == 'boolean' || "+v+" == null) "+A+" = ["+v+"]; ");r+=" else {   ",(H=H||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",r+=E?""+w.join(","):""+w,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=E?""+w.join(","):""+w,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",y=r,r=H.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+A+" !== undefined) {  ";var M=l?"data"+(l-1||""):"parentData";r+=" "+v+" = "+A+"; ",l||(r+="if ("+M+" !== undefined)"),r+=" "+M+"["+(l?t.dataPathArr[l]:"parentDataProperty")+"] = "+A+"; } "}else(H=H||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",r+=E?""+w.join(","):""+w,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=E?""+w.join(","):""+w,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",y=r,r=H.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(t.schema.$ref&&!o)r+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",p&&(r+=" } if (errors === ",r+=g?"0":"errs_"+c,r+=") { ",x+="}");else{var I=t.RULES;if(I)for(var L=-1,D=I.length-1;L<D;)if(X(S=I[L+=1])){if(S.type&&(r+=" if ("+t.util.checkDataType(S.type,v,t.opts.strictNumbers)+") { "),t.opts.useDefaults)if("object"==S.type&&t.schema.properties){f=t.schema.properties;var F=Object.keys(f);if(F)for(var j,U=-1,B=F.length-1;U<B;)if(void 0!==(q=f[j=F[U+=1]]).default){var z=v+t.util.getProperty(j);if(t.compositeRule){if(t.opts.strictDefaults){if(b="default is ignored for: "+z,"log"!==t.opts.strictDefaults)throw new Error(b);t.logger.warn(b)}}else r+=" if ("+z+" === undefined ","empty"==t.opts.useDefaults&&(r+=" || "+z+" === null || "+z+" === '' "),r+=" ) "+z+" = ","shared"==t.opts.useDefaults?r+=" "+t.useDefault(q.default)+" ":r+=" "+JSON.stringify(q.default)+" ",r+="; "}}else if("array"==S.type&&Array.isArray(t.schema.items)){var $=t.schema.items;if($){R=-1;for(var q,V=$.length-1;R<V;)if(void 0!==(q=$[R+=1]).default)if(z=v+"["+R+"]",t.compositeRule){if(t.opts.strictDefaults){if(b="default is ignored for: "+z,"log"!==t.opts.strictDefaults)throw new Error(b);t.logger.warn(b)}}else r+=" if ("+z+" === undefined ","empty"==t.opts.useDefaults&&(r+=" || "+z+" === null || "+z+" === '' "),r+=" ) "+z+" = ","shared"==t.opts.useDefaults?r+=" "+t.useDefault(q.default)+" ":r+=" "+JSON.stringify(q.default)+" ",r+="; "}}var H,K=S.rules;if(K)for(var Y,G=-1,W=K.length-1;G<W;)if(J(Y=K[G+=1])){var Q=Y.code(t,Y.keyword,S.type);Q&&(r+=" "+Q+" ",p&&(_+="}"))}if(p&&(r+=" "+_+" ",_=""),S.type&&(r+=" } ",w&&w===S.type&&!T))r+=" else { ",h=t.schemaPath+".type",d=t.errSchemaPath+"/type",(H=H||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",r+=E?""+w.join(","):""+w,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=E?""+w.join(","):""+w,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",y=r,r=H.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ";p&&(r+=" if (errors === ",r+=g?"0":"errs_"+c,r+=") { ",x+="}")}}function X(t){for(var e=t.rules,n=0;n<e.length;n++)if(J(e[n]))return!0}function J(e){return void 0!==t.schema[e.keyword]||e.implements&&function(e){for(var n=e.implements,r=0;r<n.length;r++)if(void 0!==t.schema[n[r]])return!0}(e)}return p&&(r+=" "+x+" "),g?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+m+" = errors === errs_"+c+";",r}},895:(t,e,n)=>{"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(165),o=n(128);t.exports={add:function(t,e){var n=this.RULES;if(n.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!r.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var o=e.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)u(t,o[a],e);else u(t,o,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}function u(t,e,r){for(var o,a=0;a<n.length;a++){var s=n[a];if(s.type==e){o=s;break}}o||(o={type:e,rules:[]},n.push(o));var u={keyword:t,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(u),n.custom[t]=u}return n.keywords[t]=n.all[t]=!0,this},get:function(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1},remove:function(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var n=0;n<e.length;n++)for(var r=e[n].rules,i=0;i<r.length;i++)if(r[i].keyword==t){r.splice(i,1);break}return this},validate:function t(e,n){t.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(r(e))return!0;if(t.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}}},63:t=>{"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n}},35:t=>{"use strict";t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n,r="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(n=e.cmp,function(t){return function(e,r){var i={key:e,value:t[e]},o={key:r,value:t[r]};return n(i,o)}}),o=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var n,a;if(Array.isArray(e)){for(a="[",n=0;n<e.length;n++)n&&(a+=","),a+=t(e[n])||"null";return a+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(e)-1,u=Object.keys(e).sort(i&&i(e));for(a="",n=0;n<u.length;n++){var c=u[n],l=t(e[c]);l&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l)}return o.splice(s,1),"{"+a+"}"}}(t)}},461:t=>{"use strict";var e=t.exports=function(t,e,r){"function"==typeof e&&(r=e,e={}),n(e,"function"==typeof(r=e.cb||r)?r:r.pre||function(){},r.post||function(){},t,"",t)};function n(t,r,i,o,a,s,u,c,l,f){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in r(o,a,s,u,c,l,f),o){var d=o[h];if(Array.isArray(d)){if(h in e.arrayKeywords)for(var p=0;p<d.length;p++)n(t,r,i,d[p],a+"/"+h+"/"+p,s,a,h,o,p)}else if(h in e.propsKeywords){if(d&&"object"==typeof d)for(var v in d)n(t,r,i,d[v],a+"/"+h+"/"+v.replace(/~/g,"~0").replace(/\//g,"~1"),s,a,h,o,v)}else(h in e.keywords||t.allKeys&&!(h in e.skipKeywords))&&n(t,r,i,d,a+"/"+h,s,a,h,o)}i(o,a,s,u,c,l,f)}}e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},181:(t,e)=>{(()=>{var t={316:(t,e,n)=>{"use strict";var r=n(287);t.exports=function(t,e){e=e||{};var n=new r,i=e.inPlace||!1,o=t.map((function(t){return i?t:{width:t.width,height:t.height,item:t}}));o=o.sort((function(t,e){return e.width*e.height-t.width*t.height})),n.fit(o);var a={width:o.reduce((function(t,e){return Math.max(t,e.x+e.width)}),0),height:o.reduce((function(t,e){return Math.max(t,e.y+e.height)}),0)};return i||(a.items=o),a}},287:t=>{var e=function(){};e.prototype={fit:function(t){var e,n,r,i,o=t.length,a=o>0?t[0].width:0,s=o>0?t[0].height:0;for(this.root={x:0,y:0,width:a,height:s},e=0;e<o;e++)r=t[e],(n=this.findNode(this.root,r.width,r.height))?(i=this.splitNode(n,r.width,r.height),r.x=i.x,r.y=i.y):(i=this.growNode(r.width,r.height),r.x=i.x,r.y=i.y)},findNode:function(t,e,n){return t.used?this.findNode(t.right,e,n)||this.findNode(t.down,e,n):e<=t.width&&n<=t.height?t:null},splitNode:function(t,e,n){return t.used=!0,t.down={x:t.x,y:t.y+n,width:t.width,height:t.height-n},t.right={x:t.x+e,y:t.y,width:t.width-e,height:n},t},growNode:function(t,e){var n=t<=this.root.width,r=e<=this.root.height,i=r&&this.root.height>=this.root.width+t,o=n&&this.root.width>=this.root.height+e;return i?this.growRight(t,e):o?this.growDown(t,e):r?this.growRight(t,e):n?this.growDown(t,e):null},growRight:function(t,e){var n;return this.root={used:!0,x:0,y:0,width:this.root.width+t,height:this.root.height,down:this.root,right:{x:this.root.width,y:0,width:t,height:this.root.height}},(n=this.findNode(this.root,t,e))?this.splitNode(n,t,e):null},growDown:function(t,e){var n;return this.root={used:!0,x:0,y:0,width:this.root.width,height:this.root.height+e,down:{x:0,y:this.root.height,width:this.root.width,height:e},right:this.root},(n=this.findNode(this.root,t,e))?this.splitNode(n,t,e):null}},t.exports=e},496:t=>{t.exports=function(){var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(t){return!(!t||!t.Window)&&t instanceof t.Window};var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.getWindow=function(e){return(0,t.default)(e)?e:(e.ownerDocument||e).defaultView||r.window},e.init=i,e.window=e.realWindow=void 0;var n=void 0;e.realWindow=n;var r=void 0;function i(t){e.realWindow=n=t;var i=t.document.createTextNode("");i.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(i)===i&&(t=t.wrap(t)),e.window=r=t}e.window=r,"undefined"!=typeof window&&window&&i(window);var o={};function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=function(t){return!!t&&"object"===a(t)},u=function(t){return"function"==typeof t},c={window:function(n){return n===e.window||(0,t.default)(n)},docFrag:function(t){return s(t)&&11===t.nodeType},object:s,func:u,number:function(t){return"number"==typeof t},bool:function(t){return"boolean"==typeof t},string:function(t){return"string"==typeof t},element:function(t){if(!t||"object"!==a(t))return!1;var n=e.getWindow(t)||e.window;return/object|function/.test("undefined"==typeof Element?"undefined":a(Element))?t instanceof Element||t instanceof n.Element:1===t.nodeType&&"string"==typeof t.nodeName},plainObject:function(t){return s(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return s(t)&&void 0!==t.length&&u(t.splice)}};o.default=c;var l={};function f(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function h(t){var e=t.iEvent,n=t.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var i="x"===r?"y":"x";e.page[i]=n.coords.start.page[i],e.client[i]=n.coords.start.client[i],e.delta[i]=0}}}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var d={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.draggable=d.draggable,e.map.drag=d,e.methodDict.drag="draggable",r.actions.drag=d.defaults},listeners:{"interactions:before-action-move":f,"interactions:action-resume":f,"interactions:action-move":h,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.buttons,i=n.options.drag;if(i&&i.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(r&n.options.drag.mouseButtons)))return t.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(t){return o.default.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):o.default.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:f,move:h,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},p=d;l.default=p;var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var m={init:function(t){var e=t;m.document=e.document,m.DocumentFragment=e.DocumentFragment||y,m.SVGElement=e.SVGElement||y,m.SVGSVGElement=e.SVGSVGElement||y,m.SVGElementInstance=e.SVGElementInstance||y,m.Element=e.Element||y,m.HTMLElement=e.HTMLElement||m.Element,m.Event=e.Event,m.Touch=e.Touch||y,m.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function y(){}var g=m;v.default=g;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var _={init:function(t){var e=v.default.Element,n=t.navigator||{};_.supportsTouch="ontouchstart"in t||o.default.func(t.DocumentTouch)&&v.default.document instanceof t.DocumentTouch,_.supportsPointerEvent=!1!==n.pointerEnabled&&!!v.default.PointerEvent,_.isIOS=/iP(hone|od|ad)/.test(n.platform),_.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),_.isIe9=/MSIE 9/.test(n.userAgent),_.isOperaMobile="Opera"===n.appName&&_.supportsTouch&&/Presto/.test(n.userAgent),_.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",_.pEventTypes=_.supportsPointerEvent?v.default.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,_.wheelEvent=v.default.document&&"onmousewheel"in v.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},x=_;b.default=x;var w={};function E(t){var e=t.parentNode;if(o.default.docFrag(e)){for(;(e=e.host)&&o.default.docFrag(e););return e}return e}function T(t,n){return e.window!==e.realWindow&&(n=n.replace(/\/deep\//g," ")),t[b.default.prefixedMatchesSelector](n)}Object.defineProperty(w,"__esModule",{value:!0}),w.closest=function(t,e){for(;o.default.element(t);){if(T(t,e))return t;t=E(t)}return null},w.getActualElement=function(t){return t.correspondingUseElement||t},w.getElementClientRect=A,w.getElementRect=function(t){var n=A(t);if(!b.default.isIOS7&&n){var r=O(e.getWindow(t));n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n},w.getPath=function(t){for(var e=[];t;)e.push(t),t=E(t);return e},w.getScrollXY=O,w.indexOfDeepestElement=function(t){for(var n,r=[],i=0;i<t.length;i++){var o=t[i],a=t[n];if(o&&i!==n)if(a){var s=S(o),u=S(a);if(s!==o.ownerDocument)if(u!==o.ownerDocument)if(s!==u){r=r.length?r:k(a);var c=void 0;if(a instanceof v.default.HTMLElement&&o instanceof v.default.SVGElement&&!(o instanceof v.default.SVGSVGElement)){if(o===u)continue;c=o.ownerSVGElement}else c=o;for(var l=k(c,a.ownerDocument),f=0;l[f]&&l[f]===r[f];)f++;var h=[l[f-1],l[f],r[f]];if(h[0])for(var d=h[0].lastChild;d;){if(d===h[1]){n=i,r=l;break}if(d===h[2])break;d=d.previousSibling}}else p=o,m=a,(parseInt(e.getWindow(p).getComputedStyle(p).zIndex,10)||0)>=(parseInt(e.getWindow(m).getComputedStyle(m).zIndex,10)||0)&&(n=i);else n=i}else n=i}var p,m;return n},w.matchesSelector=T,w.matchesUpTo=function(t,e,n){for(;o.default.element(t);){if(T(t,e))return!0;if((t=E(t))===n)return T(t,e)}return!1},w.nodeContains=function(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1},w.parentNode=E,w.trySelector=function(t){return!!o.default.string(t)&&(v.default.document.querySelector(t),!0)};var S=function(t){return t.parentNode||t.host};function k(t,e){for(var n,r=[],i=t;(n=S(i))&&i!==e&&n!==i.ownerDocument;)r.unshift(i),i=n;return r}function O(t){return{x:(t=t||e.window).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function A(t){var e=t instanceof v.default.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}var P={};Object.defineProperty(P,"__esModule",{value:!0}),P.default=function(t,e){for(var n in e)t[n]=e[n];return t};var C={};function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function N(t,e,n){return"parent"===t?(0,w.parentNode)(n):"self"===t?e.getRect(n):(0,w.closest)(n,t)}Object.defineProperty(C,"__esModule",{value:!0}),C.addEdges=function(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top},C.getStringOptionResult=N,C.rectToXY=function(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}},C.resolveRectLike=function(t,e,n,r){var i,a=t;return o.default.string(a)?a=N(a,e,n):o.default.func(a)&&(a=a.apply(void 0,function(t){if(Array.isArray(t))return R(t)}(i=r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),o.default.element(a)&&(a=(0,w.getElementRect)(a)),a},C.tlbrToXywh=function(t){return!t||"x"in t&&"y"in t||((t=(0,P.default)({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t},C.xywhToTlbr=function(t){return!t||"left"in t&&"top"in t||((t=(0,P.default)({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t};var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(t,e,n){var r=t.options[n],i=r&&r.origin||t.options.origin,o=(0,C.resolveRectLike)(i,t,e,[t&&e]);return(0,C.rectToXY)(o)||{x:0,y:0}};var I={};function L(t){return t.trim().split(/ +/)}Object.defineProperty(I,"__esModule",{value:!0}),I.default=function t(e,n,r){if(r=r||{},o.default.string(e)&&-1!==e.search(" ")&&(e=L(e)),o.default.array(e))return e.reduce((function(e,i){return(0,P.default)(e,t(i,n,r))}),r);if(o.default.object(e)&&(n=e,e=""),o.default.func(n))r[e]=r[e]||[],r[e].push(n);else if(o.default.array(n))for(var i=0;i<n.length;i++){var a;a=n[i],t(e,a,r)}else if(o.default.object(n))for(var s in n){var u=L(s).map((function(t){return"".concat(e).concat(t)}));t(u,n[s],r)}return r};var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0,D.default=function(t,e){return Math.sqrt(t*t+e*e)};var F={};Object.defineProperty(F,"__esModule",{value:!0}),F.default=function(t,e){t.__set||(t.__set={});var n=function(n){"function"!=typeof t[n]&&"__set"!==n&&Object.defineProperty(t,n,{get:function(){return n in t.__set?t.__set[n]:t.__set[n]=e[n]},set:function(e){t.__set[n]=e},configurable:!0})};for(var r in e)n(r);return t};var j={};function U(t){return t instanceof v.default.Event||t instanceof v.default.Touch}function B(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n}function z(t,e){return e=e||{x:0,y:0},b.default.isOperaMobile&&U(t)?(B("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):B("page",t,e),e}function $(t,e){return e=e||{},b.default.isOperaMobile&&U(t)?B("screen",t,e):B("client",t,e),e}function q(t){var e=[];return o.default.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function V(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var r=t[n];for(var i in e)e[i]+=r[i]}for(var o in e)e[o]/=t.length;return e}Object.defineProperty(j,"__esModule",{value:!0}),j.coordsToEvent=function(t){return{coords:t,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},j.copyCoords=function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},j.getClientXY=$,j.getEventTargets=function(t){var e=o.default.func(t.composedPath)?t.composedPath():t.path;return[w.getActualElement(e?e[0]:t.target),w.getActualElement(t.currentTarget)]},j.getPageXY=z,j.getPointerId=function(t){return o.default.number(t.pointerId)?t.pointerId:t.identifier},j.getPointerType=function(t){return o.default.string(t.pointerType)?t.pointerType:o.default.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof v.default.Touch?"touch":"mouse"},j.getTouchPair=q,j.getXY=B,j.isNativePointer=U,j.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},j.pointerAverage=V,Object.defineProperty(j,"pointerExtend",{enumerable:!0,get:function(){return F.default}}),j.setCoordDeltas=function(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp},j.setCoordVelocity=function(t,e){var n=Math.max(e.timeStamp/1e3,.001);t.page.x=e.page.x/n,t.page.y=e.page.y/n,t.client.x=e.client.x/n,t.client.y=e.client.y/n,t.timeStamp=n},j.setCoords=function(t,e,n){var r=e.length>1?V(e):e[0];z(r,t.page),$(r,t.client),t.timeStamp=n},j.setZeroCoords=function(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0},j.touchAngle=function(t,e){var n=e+"X",r=e+"Y",i=q(t),o=i[1][n]-i[0][n],a=i[1][r]-i[0][r];return 180*Math.atan2(a,o)/Math.PI},j.touchBBox=function(t){if(!t.length)return null;var e=q(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),i=Math.max(e[0].pageX,e[1].pageX),o=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,right:i,bottom:o,width:i-n,height:o-r}},j.touchDistance=function(t,e){var n=e+"X",r=e+"Y",i=q(t),o=i[0][n]-i[1][n],a=i[0][r]-i[1][r];return(0,D.default)(o,a)};var H={};function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(H,"__esModule",{value:!0}),H.BaseEvent=void 0;var Y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),K(this,"immediatePropagationStopped",!1),K(this,"propagationStopped",!1),this._interaction=e}var e,n;return e=t,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();H.BaseEvent=Y,Object.defineProperty(Y.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.remove=G.merge=G.from=G.findIndex=G.find=G.contains=void 0,G.contains=function(t,e){return-1!==t.indexOf(e)},G.remove=function(t,e){return t.splice(t.indexOf(e),1)};var W=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r)}return t};G.merge=W,G.from=function(t){return W([],t)};var Q=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1};G.findIndex=Q,G.find=function(t,e){return t[Q(t,e)]};var X={};function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function Z(t,e){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z(t,e)}function tt(t,e){if(e&&("object"===J(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(X,"__esModule",{value:!0}),X.DropEvent=void 0;var it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nt(r);if(i){var n=nt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return tt(this,t)});function a(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),rt(et(r=o.call(this,e._interaction)),"dropzone",void 0),rt(et(r),"dragEvent",void 0),rt(et(r),"relatedTarget",void 0),rt(et(r),"draggable",void 0),rt(et(r),"propagationStopped",!1),rt(et(r),"immediatePropagationStopped",!1);var i="dragleave"===n?t.prev:t.cur,s=i.element,u=i.dropzone;return r.type=n,r.target=s,r.currentTarget=s,r.dropzone=u,r.dragEvent=e,r.relatedTarget=e.target,r.draggable=e.interactable,r.timeStamp=e.timeStamp,r}return e=a,(n=[{key:"reject",value:function(){var t=this,e=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&e.cur.dropzone===this.dropzone&&e.cur.element===this.target)if(e.prev.dropzone=this.dropzone,e.prev.element=this.target,e.rejected=!0,e.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=e.activeDrops,r=G.findIndex(n,(function(e){var n=e.dropzone,r=e.element;return n===t.dropzone&&r===t.target}));e.activeDrops.splice(r,1);var i=new a(e,this.dragEvent,"dropdeactivate");i.dropzone=this.dropzone,i.target=this.target,this.dropzone.fire(i)}else this.dropzone.fire(new a(e,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(H.BaseEvent);X.DropEvent=it;var ot={};function at(t,e){for(var n=0;n<t.slice().length;n++){var r=t.slice()[n],i=r.dropzone,o=r.element;e.dropzone=i,e.target=o,i.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function st(t,e){for(var n=function(t,e){for(var n=t.interactables,r=[],i=0;i<n.list.length;i++){var a=n.list[i];if(a.options.drop.enabled){var s=a.options.drop.accept;if(!(o.default.element(s)&&s!==e||o.default.string(s)&&!w.matchesSelector(e,s)||o.default.func(s)&&!s({dropzone:a,draggableElement:e})))for(var u=o.default.string(a.target)?a._context.querySelectorAll(a.target):o.default.array(a.target)?a.target:[a.target],c=0;c<u.length;c++){var l=u[c];l!==e&&r.push({dropzone:a,element:l,rect:a.getRect(l)})}}}return r}(t,e),r=0;r<n.length;r++){var i=n[r];i.rect=i.dropzone.getRect(i.element)}return n}function ut(t,e,n){for(var r=t.dropState,i=t.interactable,o=t.element,a=[],s=0;s<r.activeDrops.length;s++){var u=r.activeDrops[s],c=u.dropzone,l=u.element,f=u.rect;a.push(c.dropCheck(e,n,i,o,l,f)?l:null)}var h=w.indexOfDeepestElement(a);return r.activeDrops[h]||null}function ct(t,e,n){var r=t.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(i.activate=new X.DropEvent(r,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===n.type&&(i.deactivate=new X.DropEvent(r,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(i.leave=new X.DropEvent(r,n,"dragleave"),n.dragLeave=i.leave.target=r.prev.element,n.prevDropzone=i.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(i.enter=new X.DropEvent(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(i.drop=new X.DropEvent(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(i.move=new X.DropEvent(r,n,"dropmove"),i.move.dragmove=n,n.dropzone=r.cur.dropzone)),i}function lt(t,e){var n=t.dropState,r=n.activeDrops,i=n.cur,o=n.prev;e.leave&&o.dropzone.fire(e.leave),e.enter&&i.dropzone.fire(e.enter),e.move&&i.dropzone.fire(e.move),e.drop&&i.dropzone.fire(e.drop),e.deactivate&&at(r,e.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function ft(t,e){var n=t.interaction,r=t.iEvent,i=t.event;if("dragmove"===r.type||"dragend"===r.type){var o=n.dropState;e.dynamicDrop&&(o.activeDrops=st(e,n.element));var a=r,s=ut(n,a,i);o.rejected=o.rejected&&!!s&&s.dropzone===o.cur.dropzone&&s.element===o.cur.element,o.cur.dropzone=s&&s.dropzone,o.cur.element=s&&s.element,o.events=ct(n,0,a)}}Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var ht={id:"actions/drop",install:function(t){var e=t.actions,n=t.interactStatic,r=t.Interactable,i=t.defaults;t.usePlugin(l.default),r.prototype.dropzone=function(t){return function(t,e){if(o.default.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){var n=(0,I.default)(e.listeners),r=Object.keys(n).reduce((function(t,e){return t[/^(enter|leave)/.test(e)?"drag".concat(e):/^(activate|deactivate|move)/.test(e)?"drop".concat(e):e]=n[e],t}),{});t.off(t.options.drop.listeners),t.on(r),t.options.drop.listeners=r}return o.default.func(e.ondrop)&&t.on("drop",e.ondrop),o.default.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),o.default.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),o.default.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),o.default.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),o.default.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:o.default.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return o.default.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}(this,t)},r.prototype.dropCheck=function(t,e,n,r,i,a){return function(t,e,n,r,i,a,s){var u=!1;if(!(s=s||t.getRect(a)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,u,t,a,r,i);var c=t.options.drop.overlap;if("pointer"===c){var l=(0,M.default)(r,i,"drag"),f=j.getPageXY(e);f.x+=l.x,f.y+=l.y;var h=f.x>s.left&&f.x<s.right,d=f.y>s.top&&f.y<s.bottom;u=h&&d}var p=r.getRect(i);if(p&&"center"===c){var v=p.left+p.width/2,m=p.top+p.height/2;u=v>=s.left&&v<=s.right&&m>=s.top&&m<=s.bottom}return p&&o.default.number(c)&&(u=Math.max(0,Math.min(s.right,p.right)-Math.max(s.left,p.left))*Math.max(0,Math.min(s.bottom,p.bottom)-Math.max(s.top,p.top))/(p.width*p.height)>=c),t.options.drop.checker&&(u=t.options.drop.checker(e,n,u,t,a,r,i)),u}(this,t,e,n,r,i,a)},n.dynamicDrop=function(e){return o.default.bool(e)?(t.dynamicDrop=e,n):t.dynamicDrop},(0,P.default)(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,i.actions.drop=ht.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;"drag"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,r=(t.event,t.iEvent);if("drag"===n.prepared.name){var i=n.dropState;i.activeDrops=null,i.events=null,i.activeDrops=st(e,n.element),i.events=ct(n,0,r),i.events.activate&&(at(i.activeDrops,i.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":ft,"interactions:after-action-move":function(t,e){var n=t.interaction,r=t.iEvent;"drag"===n.prepared.name&&(lt(n,n.dropState.events),e.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:action-end":function(t,e){if("drag"===t.interaction.prepared.name){var n=t.interaction,r=t.iEvent;ft(t,e),lt(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:st,getDrop:ut,getDropEvents:ct,fireDropEvents:lt,defaults:{enabled:!1,accept:null,overlap:"pointer"}},dt=ht;ot.default=dt;var pt={};function vt(t){var e=t.interaction,n=t.iEvent,r=t.phase;if("gesture"===e.prepared.name){var i=e.pointers.map((function(t){return t.pointer})),a="start"===r,s="end"===r,u=e.interactable.options.deltaSource;if(n.touches=[i[0],i[1]],a)n.distance=j.touchDistance(i,u),n.box=j.touchBBox(i),n.scale=1,n.ds=0,n.angle=j.touchAngle(i,u),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(s){var c=e.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0}else n.distance=j.touchDistance(i,u),n.box=j.touchBBox(i),n.scale=n.distance/e.gesture.startDistance,n.angle=j.touchAngle(i,u),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,o.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=void 0;var mt={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.gesturable=function(t){return o.default.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):o.default.bool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},e.map.gesture=mt,e.methodDict.gesture="gesturable",r.actions.gesture=mt.defaults},listeners:{"interactions:action-start":vt,"interactions:action-move":vt,"interactions:action-end":vt,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},yt=mt;pt.default=yt;var gt={};function bt(t,e,n,r,i,a,s){if(!e)return!1;if(!0===e){var u=o.default.number(a.width)?a.width:a.right-a.left,c=o.default.number(a.height)?a.height:a.bottom-a.top;if(s=Math.min(s,Math.abs(("left"===t||"right"===t?u:c)/2)),u<0&&("left"===t?t="right":"right"===t&&(t="left")),c<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t){var l=u>=0?a.left:a.right;return n.x<l+s}if("top"===t){var f=c>=0?a.top:a.bottom;return n.y<f+s}if("right"===t)return n.x>(u>=0?a.right:a.left)-s;if("bottom"===t)return n.y>(c>=0?a.bottom:a.top)-s}return!!o.default.element(r)&&(o.default.element(e)?e===r:w.matchesUpTo(r,e,i))}function _t(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var r=e;n.interactable.options.resize.square?("y"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,"x"===n.resizeAxes?r.delta.y=0:"y"===n.resizeAxes&&(r.delta.x=0))}}Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=void 0;var xt={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,r=t.Interactable,i=t.defaults;xt.cursors=function(t){return t.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),xt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(e){return function(t,e,n){return o.default.object(e)?(t.options.resize.enabled=!1!==e.enabled,t.setPerAction("resize",e),t.setOnEvents("resize",e),o.default.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:null===e.axis&&(t.options.resize.axis=n.defaults.actions.resize.axis),o.default.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:o.default.bool(e.square)&&(t.options.resize.square=e.square),t):o.default.bool(e)?(t.options.resize.enabled=e,t):t.options.resize}(this,e,t)},e.map.resize=xt,e.methodDict.resize="resizable",i.actions.resize=xt.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e,i=n.rect;n._rects={start:(0,P.default)({},i),corrected:(0,P.default)({},i),previous:(0,P.default)({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}}(t),_t(t)},"interactions:action-move":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e,i=n.interactable.options.resize.invert,o="reposition"===i||"negate"===i,a=n.rect,s=n._rects,u=s.start,c=s.corrected,l=s.delta,f=s.previous;if((0,P.default)(f,c),o){if((0,P.default)(c,a),"reposition"===i){if(c.top>c.bottom){var h=c.top;c.top=c.bottom,c.bottom=h}if(c.left>c.right){var d=c.left;c.left=c.right,c.right=d}}}else c.top=Math.min(a.top,u.bottom),c.bottom=Math.max(a.bottom,u.top),c.left=Math.min(a.left,u.right),c.right=Math.max(a.right,u.left);for(var p in c.width=c.right-c.left,c.height=c.bottom-c.top,c)l[p]=c[p]-f[p];r.edges=n.prepared.edges,r.rect=c,r.deltaRect=l}}(t),_t(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.element,i=t.rect,a=t.buttons;if(i){var s=(0,P.default)({},e.coords.cur.page),u=n.options.resize;if(u&&u.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(a&u.mouseButtons))){if(o.default.object(u.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var l in c)c[l]=bt(l,u.edges[l],s,e._latestPointer.eventTarget,r,i,u.margin||xt.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(t.action={name:"resize",edges:c})}else{var f="y"!==u.axis&&s.x>i.right-xt.defaultMargin,h="x"!==u.axis&&s.y>i.bottom-xt.defaultMargin;(f||h)&&(t.action={name:"resize",axes:(f?"x":"")+(h?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,r=t.name,i=xt.cursors,o=null;if(n)o=i[r+n];else if(e){for(var a="",s=["top","bottom","left","right"],u=0;u<s.length;u++){var c=s[u];e[c]&&(a+=c)}o=i[a]}return o},defaultMargin:null},wt=xt;gt.default=wt;var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=void 0;var Tt={id:"actions",install:function(t){t.usePlugin(pt.default),t.usePlugin(gt.default),t.usePlugin(l.default),t.usePlugin(ot.default)}};Et.default=Tt;var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var kt,Ot,At=0,Pt={request:function(t){return kt(t)},cancel:function(t){return Ot(t)},init:function(t){if(kt=t.requestAnimationFrame,Ot=t.cancelAnimationFrame,!kt)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var r=e[n];kt=t["".concat(r,"RequestAnimationFrame")],Ot=t["".concat(r,"CancelAnimationFrame")]||t["".concat(r,"CancelRequestAnimationFrame")]}kt=kt&&kt.bind(t),Ot=Ot&&Ot.bind(t),kt||(kt=function(e){var n=Date.now(),r=Math.max(0,16-(n-At)),i=t.setTimeout((function(){e(n+r)}),r);return At=n+r,i},Ot=function(t){return clearTimeout(t)})}};St.default=Pt;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=void 0,Ct.getContainer=Nt,Ct.getScroll=Mt,Ct.getScrollSize=function(t){return o.default.window(t)&&(t=window.document.body),{x:t.scrollWidth,y:t.scrollHeight}},Ct.getScrollSizeDelta=function(t,e){var n=t.interaction,r=t.element,i=n&&n.interactable.options[n.prepared.name].autoScroll;if(!i||!i.enabled)return e(),{x:0,y:0};var o=Nt(i.container,n.interactable,r),a=Mt(o);e();var s=Mt(o);return{x:s.x-a.x,y:s.y-a.y}};var Rt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){Rt.isScrolling=!0,St.default.cancel(Rt.i),t.autoScroll=Rt,Rt.interaction=t,Rt.prevTime=Rt.now(),Rt.i=St.default.request(Rt.scroll)},stop:function(){Rt.isScrolling=!1,Rt.interaction&&(Rt.interaction.autoScroll=null),St.default.cancel(Rt.i)},scroll:function(){var t=Rt.interaction,e=t.interactable,n=t.element,r=t.prepared.name,i=e.options[r].autoScroll,a=Nt(i.container,e,n),s=Rt.now(),u=(s-Rt.prevTime)/1e3,c=i.speed*u;if(c>=1){var l={x:Rt.x*c,y:Rt.y*c};if(l.x||l.y){var f=Mt(a);o.default.window(a)?a.scrollBy(l.x,l.y):a&&(a.scrollLeft+=l.x,a.scrollTop+=l.y);var h=Mt(a),d={x:h.x-f.x,y:h.y-f.y};(d.x||d.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:d,interaction:t,container:a})}Rt.prevTime=s}Rt.isScrolling&&(St.default.cancel(Rt.i),Rt.i=St.default.request(Rt.scroll))},check:function(t,e){var n;return null==(n=t.options[e].autoScroll)?void 0:n.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&Rt.check(e.interactable,e.prepared.name))if(e.simulation)Rt.x=Rt.y=0;else{var r,i,a,s,u=e.interactable,c=e.element,l=e.prepared.name,f=u.options[l].autoScroll,h=Nt(f.container,u,c);if(o.default.window(h))s=n.clientX<Rt.margin,r=n.clientY<Rt.margin,i=n.clientX>h.innerWidth-Rt.margin,a=n.clientY>h.innerHeight-Rt.margin;else{var d=w.getElementClientRect(h);s=n.clientX<d.left+Rt.margin,r=n.clientY<d.top+Rt.margin,i=n.clientX>d.right-Rt.margin,a=n.clientY>d.bottom-Rt.margin}Rt.x=i?1:s?-1:0,Rt.y=a?1:r?-1:0,Rt.isScrolling||(Rt.margin=f.margin,Rt.speed=f.speed,Rt.start(e))}}};function Nt(t,n,r){return(o.default.string(t)?(0,C.getStringOptionResult)(t,n,r):t)||(0,e.getWindow)(r)}function Mt(t){return o.default.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var It={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;t.autoScroll=Rt,Rt.now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=Rt.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,Rt.stop(),Rt.interaction&&(Rt.interaction=null)},"interactions:stop":Rt.stop,"interactions:action-move":function(t){return Rt.onInteractionMove(t)}}},Lt=It;Ct.default=Lt;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.copyAction=function(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t},Dt.sign=void 0,Dt.warnOnce=function(t,n){var r=!1;return function(){return r||(e.window.console.warn(n),r=!0),t.apply(this,arguments)}},Dt.sign=function(t){return t>=0?1:-1};var Ft={};function jt(t){return o.default.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function Ut(t){return o.default.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.default=void 0;var Bt={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(e,n,r,i){var o=function(t,e,n,r,i){var o=t.getRect(r),a={action:null,interactable:t,interaction:n,element:r,rect:o,buttons:e.buttons||{0:1,1:4,3:8,4:16}[e.button]};return i.fire("auto-start:check",a),a.action}(this,n,r,i,t);return this.options.actionChecker?this.options.actionChecker(e,n,o,this,i,r):o},e.prototype.ignoreFrom=(0,Dt.warnOnce)((function(t){return this._backCompatOption("ignoreFrom",t)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=(0,Dt.warnOnce)((function(t){return this._backCompatOption("allowFrom",t)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=Ut,e.prototype.styleCursor=jt}};Ft.default=Bt;var zt={};function $t(t,e,n,r,i){return e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&Kt(e,n,t,i)?t:null}function qt(t,e,n,r,i,o,a){for(var s=0,u=r.length;s<u;s++){var c=r[s],l=i[s],f=c.getAction(e,n,t,l);if(f){var h=$t(f,c,l,o,a);if(h)return{action:h,interactable:c,element:l}}}return{action:null,interactable:null,element:null}}function Vt(t,e,n,r,i){var a=[],s=[],u=r;function c(t){a.push(t),s.push(u)}for(;o.default.element(u);){a=[],s=[],i.interactables.forEachMatch(u,c);var l=qt(t,e,n,a,s,r,i);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;u=w.parentNode(u)}return{action:null,interactable:null,element:null}}function Ht(t,e,n){var r=e.action,i=e.interactable,o=e.element;r=r||{name:null},t.interactable=i,t.element=o,(0,Dt.copyAction)(t.prepared,r),t.rect=i&&r.name?i.getRect(o):null,Wt(t,n),n.fire("autoStart:prepared",{interaction:t})}function Kt(t,e,n,r){var i=t.options,o=i[n.name].max,a=i[n.name].maxPerElement,s=r.autoStart.maxInteractions,u=0,c=0,l=0;if(!(o&&a&&s))return!1;for(var f=0;f<r.interactions.list.length;f++){var h=r.interactions.list[f],d=h.prepared.name;if(h.interacting()){if(++u>=s)return!1;if(h.interactable===t){if((c+=d===n.name?1:0)>=o)return!1;if(h.element===e&&(l++,d===n.name&&l>=a))return!1}}}return s>0}function Yt(t,e){return o.default.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function Gt(t,e,n){var r=n.autoStart.cursorElement;r&&r!==t&&(r.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function Wt(t,e){var n=t.interactable,r=t.element,i=t.prepared;if("mouse"===t.pointerType&&n&&n.options.styleCursor){var a="";if(i.name){var s=n.options[i.name].cursorChecker;a=o.default.func(s)?s(i,n,r,t._interacting):e.actions.map[i.name].getCursor(i)}Gt(t.element,a||"",e)}else e.autoStart.cursorElement&&Gt(e.autoStart.cursorElement,"",e)}Object.defineProperty(zt,"__esModule",{value:!0}),zt.default=void 0;var Qt={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin(Ft.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,P.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(e){return Yt(e,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:Kt,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;n.interacting()||Ht(n,Vt(n,r,i,o,e),e)},"interactions:move":function(t,e){!function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||Ht(n,Vt(n,r,i,o,e),e)}(t,e),function(t,e){var n=t.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){e.fire("autoStart:before-start",t);var r=n.interactable,i=n.prepared.name;i&&r&&(r.options[i].manualStart||!Kt(r,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,r,n.element),Wt(n,e)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,r=n.interactable;r&&r.options.styleCursor&&Gt(n.element,"",e)}},maxInteractions:Yt,withinInteractionLimit:Kt,validateAction:$t},Xt=Qt;zt.default=Xt;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.default=void 0;var Zt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,r=t.eventTarget,i=t.dx,a=t.dy;if("drag"===n.prepared.name){var s=Math.abs(i),u=Math.abs(a),c=n.interactable.options.drag,l=c.startAxis,f=s>u?"x":s<u?"y":"xy";if(n.prepared.axis="start"===c.lockAxis?f[0]:c.lockAxis,"xy"!==f&&"xy"!==l&&l!==f){n.prepared.name=null;for(var h=r,d=function(t){if(t!==n.interactable){var i=n.interactable.options.drag;if(!i.manualStart&&t.testIgnoreAllow(i,h,r)){var o=t.getAction(n.downPointer,n.downEvent,n,h);if(o&&"drag"===o.name&&function(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t}(f,t)&&zt.default.validateAction(o,t,h,r,e))return t}}};o.default.element(h);){var p=e.interactables.forEachMatch(h,d);if(p){n.prepared.name="drag",n.interactable=p,n.element=h;break}h=(0,w.parentNode)(h)}}}}}};Jt.default=Zt;var te={};function ee(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}Object.defineProperty(te,"__esModule",{value:!0}),te.default=void 0;var ne={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(zt.default),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=ee(e);n>0&&(e.autoStartHoldTimer=setTimeout((function(){e.start(e.prepared,e.interactable,e.element)}),n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;ee(e)>0&&(e.prepared.name=null)}},getHoldDuration:ee},re=ne;te.default=re;var ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=void 0;var oe={id:"auto-start",install:function(t){t.usePlugin(zt.default),t.usePlugin(te.default),t.usePlugin(Jt.default)}};ie.default=oe;var ae={};function se(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):o.default.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function ue(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}function ce(t){var n=t.Interactable;n.prototype.preventDefault=se,n.prototype.checkAndPreventDefault=function(n){return function(t,n,r){var i=t.options.preventDefault;if("never"!==i)if("always"!==i){if(n.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){var a=(0,e.getWindow)(r.target).document,s=n.getDocOptions(a);if(!s||!s.events||!1!==s.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||o.default.element(r.target)&&(0,w.matchesSelector)(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()}(this,t,n)},t.interactions.docEvents.push({type:"dragstart",listener:function(e){for(var n=0;n<t.interactions.list.length;n++){var r=t.interactions.list[n];if(r.element&&(r.element===e.target||(0,w.nodeContains)(r.element,e.target)))return void r.interactable.checkAndPreventDefault(e)}}})}Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=void 0,ae.install=ce;var le={id:"core/interactablePreventDefault",install:ce,listeners:["down","move","up","cancel"].reduce((function(t,e){return t["interactions:".concat(e)]=ue,t}),{})};ae.default=le;var fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0,fe.default={};var he,de={};Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0,function(t){t.touchAction="touchAction",t.boxSizing="boxSizing",t.noListeners="noListeners"}(he||(he={})),he.touchAction,he.boxSizing,he.noListeners,de.default={id:"dev-tools",install:function(){}};var pe={};Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=function t(e){var n={};for(var r in e){var i=e[r];o.default.plainObject(i)?n[r]=t(i):o.default.array(i)?n[r]=G.from(i):n[r]=i}return n};var ve={};function me(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ye(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=void 0,ve.getRectOffset=xe;var be=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ge(this,"states",[]),ge(this,"startOffset",{left:0,right:0,top:0,bottom:0}),ge(this,"startDelta",void 0),ge(this,"result",void 0),ge(this,"endResult",void 0),ge(this,"edges",void 0),ge(this,"interaction",void 0),this.interaction=e,this.result=_e()}var e,n;return e=t,(n=[{key:"start",value:function(t,e){var n=t.phase,r=this.interaction,i=function(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(t){var n=e[t];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(t){return!!t}))}(r);this.prepareStates(i),this.edges=(0,P.default)({},r.edges),this.startOffset=xe(r.rect,e),this.startDelta={x:0,y:0};var o=this.fillArg({phase:n,pageCoords:e,preEnd:!1});return this.result=_e(),this.startAll(o),this.result=this.setAll(o)}},{key:"fillArg",value:function(t){var e=this.interaction;return t.interaction=e,t.interactable=e.interactable,t.element=e.element,t.rect=t.rect||e.rect,t.edges=this.edges,t.startOffset=this.startOffset,t}},{key:"startAll",value:function(t){for(var e=0;e<this.states.length;e++){var n=this.states[e];n.methods.start&&(t.state=n,n.methods.start(t))}}},{key:"setAll",value:function(t){var e=t.phase,n=t.preEnd,r=t.skipModifiers,i=t.rect;t.coords=(0,P.default)({},t.pageCoords),t.rect=(0,P.default)({},i);for(var o=r?this.states.slice(r):this.states,a=_e(t.coords,t.rect),s=0;s<o.length;s++){var u,c=o[s],l=c.options,f=(0,P.default)({},t.coords),h=null;null!=(u=c.methods)&&u.set&&this.shouldDo(l,n,e)&&(t.state=c,h=c.methods.set(t),C.addEdges(this.interaction.edges,t.rect,{x:t.coords.x-f.x,y:t.coords.y-f.y})),a.eventProps.push(h)}a.delta.x=t.coords.x-t.pageCoords.x,a.delta.y=t.coords.y-t.pageCoords.y,a.rectDelta.left=t.rect.left-i.left,a.rectDelta.right=t.rect.right-i.right,a.rectDelta.top=t.rect.top-i.top,a.rectDelta.bottom=t.rect.bottom-i.bottom;var d=this.result.coords,p=this.result.rect;if(d&&p){var v=a.rect.left!==p.left||a.rect.right!==p.right||a.rect.top!==p.top||a.rect.bottom!==p.bottom;a.changed=v||d.x!==a.coords.x||d.y!==a.coords.y}return a}},{key:"applyToInteraction",value:function(t){var e=this.interaction,n=t.phase,r=e.coords.cur,i=e.coords.start,o=this.result,a=this.startDelta,s=o.delta;"start"===n&&(0,P.default)(this.startDelta,o.delta);for(var u=0;u<[[i,a],[r,s]].length;u++){var c=me([[i,a],[r,s]][u],2),l=c[0],f=c[1];l.page.x+=f.x,l.page.y+=f.y,l.client.x+=f.x,l.client.y+=f.y}var h=this.result.rectDelta,d=t.rect||e.rect;d.left+=h.left,d.right+=h.right,d.top+=h.top,d.bottom+=h.bottom,d.width=d.right-d.left,d.height=d.bottom-d.top}},{key:"setAndApply",value:function(t){var e=this.interaction,n=t.phase,r=t.preEnd,i=t.skipModifiers,o=this.setAll(this.fillArg({preEnd:r,phase:n,pageCoords:t.modifiedCoords||e.coords.cur.page}));if(this.result=o,!o.changed&&(!i||i<this.states.length)&&e.interacting())return!1;if(t.modifiedCoords){var a=e.coords.cur.page,s={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};o.coords.x+=s.x,o.coords.y+=s.y,o.delta.x+=s.x,o.delta.y+=s.y}this.applyToInteraction(t)}},{key:"beforeEnd",value:function(t){var e=t.interaction,n=t.event,r=this.states;if(r&&r.length){for(var i=!1,o=0;o<r.length;o++){var a=r[o];t.state=a;var s=a.options,u=a.methods,c=u.beforeEnd&&u.beforeEnd(t);if(c)return this.endResult=c,!1;i=i||!i&&this.shouldDo(s,!0,t.phase,!0)}i&&e.move({event:n,preEnd:!0})}}},{key:"stop",value:function(t){var e=t.interaction;if(this.states&&this.states.length){var n=(0,P.default)({states:this.states,interactable:e.interactable,element:e.element,rect:null},t);this.fillArg(n);for(var r=0;r<this.states.length;r++){var i=this.states[r];n.state=i,i.methods.stop&&i.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(t){this.states=[];for(var e=0;e<t.length;e++){var n=t[e],r=n.options,i=n.methods,o=n.name;this.states.push({options:r,methods:i,index:e,name:o})}return this.states}},{key:"restoreInteractionCoords",value:function(t){var e=t.interaction,n=e.coords,r=e.rect,i=e.modification;if(i.result){for(var o=i.startDelta,a=i.result,s=a.delta,u=a.rectDelta,c=[[n.start,o],[n.cur,s]],l=0;l<c.length;l++){var f=me(c[l],2),h=f[0],d=f[1];h.page.x-=d.x,h.page.y-=d.y,h.client.x-=d.x,h.client.y-=d.y}r.left-=u.left,r.right-=u.right,r.top-=u.top,r.bottom-=u.bottom}}},{key:"shouldDo",value:function(t,e,n,r){return!(!t||!1===t.enabled||r&&!t.endOnly||t.endOnly&&!e||"start"===n&&!t.setStart)}},{key:"copyFrom",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.edges=t.edges,this.states=t.states.map((function(t){return(0,pe.default)(t)})),this.result=_e((0,P.default)({},t.result.coords),(0,P.default)({},t.result.rect))}},{key:"destroy",value:function(){for(var t in this)this[t]=null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _e(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function xe(t,e){return t?{left:e.x-t.left,top:e.y-t.top,right:t.right-e.x,bottom:t.bottom-e.y}:{left:0,top:0,right:0,bottom:0}}ve.default=be;var we={};function Ee(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}Object.defineProperty(we,"__esModule",{value:!0}),we.addEventModifiers=Ee,we.default=void 0,we.makeModifier=function(t,e){var n=t.defaults,r={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},i=function(t){var i=t||{};for(var o in i.enabled=!1!==i.enabled,n)o in i||(i[o]=n[o]);var a={options:i,methods:r,name:e,enable:function(){return i.enabled=!0,a},disable:function(){return i.enabled=!1,a}};return a};return e&&"string"==typeof e&&(i._defaults=n,i._methods=r),i};var Te={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new ve.default(e)},"interactions:before-action-start":function(t){var e=t.interaction.modification;e.start(t,t.interaction.coords.start.page),t.interaction.edges=e.edges,e.applyToInteraction(t)},"interactions:before-action-move":function(t){return t.interaction.modification.setAndApply(t)},"interactions:before-action-end":function(t){return t.interaction.modification.beforeEnd(t)},"interactions:action-start":Ee,"interactions:action-move":Ee,"interactions:action-end":Ee,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}},Se=Te;we.default=Se;var ke={};Object.defineProperty(ke,"__esModule",{value:!0}),ke.defaults=void 0,ke.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Oe={};function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Pe(t,e){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pe(t,e)}function Ce(t,e){if(e&&("object"===Ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Re(t)}function Re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ne(t){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ne(t)}function Me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.InteractEvent=void 0;var Ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pe(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ne(r);if(i){var n=Ne(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ce(this,t)});function a(t,e,n,r,i,s,u){var c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Me(Re(c=o.call(this,t)),"relatedTarget",null),Me(Re(c),"screenX",void 0),Me(Re(c),"screenY",void 0),Me(Re(c),"button",void 0),Me(Re(c),"buttons",void 0),Me(Re(c),"ctrlKey",void 0),Me(Re(c),"shiftKey",void 0),Me(Re(c),"altKey",void 0),Me(Re(c),"metaKey",void 0),Me(Re(c),"page",void 0),Me(Re(c),"client",void 0),Me(Re(c),"delta",void 0),Me(Re(c),"rect",void 0),Me(Re(c),"x0",void 0),Me(Re(c),"y0",void 0),Me(Re(c),"t0",void 0),Me(Re(c),"dt",void 0),Me(Re(c),"duration",void 0),Me(Re(c),"clientX0",void 0),Me(Re(c),"clientY0",void 0),Me(Re(c),"velocity",void 0),Me(Re(c),"speed",void 0),Me(Re(c),"swipe",void 0),Me(Re(c),"axes",void 0),Me(Re(c),"preEnd",void 0),i=i||t.element;var l=t.interactable,f=(l&&l.options||ke.defaults).deltaSource,h=(0,M.default)(l,i,n),d="start"===r,p="end"===r,v=d?Re(c):t.prevEvent,m=d?t.coords.start:p?{page:v.page,client:v.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;return c.page=(0,P.default)({},m.page),c.client=(0,P.default)({},m.client),c.rect=(0,P.default)({},t.rect),c.timeStamp=m.timeStamp,p||(c.page.x-=h.x,c.page.y-=h.y,c.client.x-=h.x,c.client.y-=h.y),c.ctrlKey=e.ctrlKey,c.altKey=e.altKey,c.shiftKey=e.shiftKey,c.metaKey=e.metaKey,c.button=e.button,c.buttons=e.buttons,c.target=i,c.currentTarget=i,c.preEnd=s,c.type=u||n+(r||""),c.interactable=l,c.t0=d?t.pointers[t.pointers.length-1].downTime:v.t0,c.x0=t.coords.start.page.x-h.x,c.y0=t.coords.start.page.y-h.y,c.clientX0=t.coords.start.client.x-h.x,c.clientY0=t.coords.start.client.y-h.y,c.delta=d||p?{x:0,y:0}:{x:c[f].x-v[f].x,y:c[f].y-v[f].y},c.dt=t.coords.delta.timeStamp,c.duration=c.timeStamp-c.t0,c.velocity=(0,P.default)({},t.coords.velocity[f]),c.speed=(0,D.default)(c.velocity.x,c.velocity.y),c.swipe=p||"inertiastart"===r?c.getSwipe():null,c}return e=a,(n=[{key:"getSwipe",value:function(){var t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,r=202.5<=e&&e<337.5;return{up:r,down:!r&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(H.BaseEvent);Oe.InteractEvent=Ie,Object.defineProperties(Ie.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var Le={};function De(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Le,"__esModule",{value:!0}),Le.PointerInfo=void 0;var Fe=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),De(this,"id",void 0),De(this,"pointer",void 0),De(this,"event",void 0),De(this,"downTime",void 0),De(this,"downTarget",void 0),this.id=e,this.pointer=n,this.event=r,this.downTime=i,this.downTarget=o}));Le.PointerInfo=Fe;var je,Ue,Be={};function ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Be,"__esModule",{value:!0}),Be.Interaction=void 0,Object.defineProperty(Be,"PointerInfo",{enumerable:!0,get:function(){return Le.PointerInfo}}),Be.default=Be._ProxyValues=Be._ProxyMethods=void 0,Be._ProxyValues=je,function(t){t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy=""}(je||(Be._ProxyValues=je={})),Be._ProxyMethods=Ue,function(t){t.start="",t.move="",t.end="",t.stop="",t.interacting=""}(Ue||(Be._ProxyMethods=Ue={}));var $e=0,qe=function(){function t(e){var n=this,r=e.pointerType,i=e.scopeFire;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ze(this,"interactable",null),ze(this,"element",null),ze(this,"rect",null),ze(this,"_rects",void 0),ze(this,"edges",null),ze(this,"_scopeFire",void 0),ze(this,"prepared",{name:null,axis:null,edges:null}),ze(this,"pointerType",void 0),ze(this,"pointers",[]),ze(this,"downEvent",null),ze(this,"downPointer",{}),ze(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),ze(this,"prevEvent",null),ze(this,"pointerIsDown",!1),ze(this,"pointerWasMoved",!1),ze(this,"_interacting",!1),ze(this,"_ending",!1),ze(this,"_stopped",!0),ze(this,"_proxy",null),ze(this,"simulation",null),ze(this,"doMove",(0,Dt.warnOnce)((function(t){this.move(t)}),"The interaction.doMove() method has been renamed to interaction.move()")),ze(this,"coords",{start:j.newCoords(),prev:j.newCoords(),cur:j.newCoords(),delta:j.newCoords(),velocity:j.newCoords()}),ze(this,"_id",$e++),this._scopeFire=i,this.pointerType=r;var o=this;this._proxy={};var a=function(t){Object.defineProperty(n._proxy,t,{get:function(){return o[t]}})};for(var s in je)a(s);var u=function(t){Object.defineProperty(n._proxy,t,{value:function(){return o[t].apply(o,arguments)}})};for(var c in Ue)u(c);this._scopeFire("interactions:new",{interaction:this})}var e,n;return e=t,n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(t,e,n){var r=this.updatePointer(t,e,n,!0),i=this.pointers[r];this._scopeFire("interactions:down",{pointer:t,event:e,eventTarget:n,pointerIndex:r,pointerInfo:i,type:"down",interaction:this})}},{key:"start",value:function(t,e,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===t.name?2:1)||!e.options[t.name].enabled)&&((0,Dt.copyAction)(this.prepared,t),this.interactable=e,this.element=n,this.rect=e.getRect(n),this.edges=this.prepared.edges?(0,P.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,e,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,e,n,!1);var r,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,D.default)(r,i)>this.pointerMoveTolerance);var a=this.getPointerIndex(t),s={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:e,type:"move",eventTarget:n,dx:r,dy:i,duplicate:o,interaction:this};o||j.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",s),o||this.simulation||(this.interacting()&&(s.type=null,this.move(s)),this.pointerWasMoved&&j.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||j.setZeroCoords(this.coords.delta),(t=(0,P.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}},{key:"pointerUp",value:function(t,e,n,r){var i=this.getPointerIndex(t);-1===i&&(i=this.updatePointer(t,e,n,!1));var o=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:t,pointerIndex:i,pointerInfo:this.pointers[i],event:e,eventTarget:n,type:o,curEventTarget:r,interaction:this}),this.simulation||this.end(e),this.removePointer(t,e)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var e;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,!0===e&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var e=j.getPointerId(t);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:G.findIndex(this.pointers,(function(t){return t.id===e}))}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,e,n,r){var i=j.getPointerId(t),o=this.getPointerIndex(t),a=this.pointers[o];return r=!1!==r&&(r||/(down|start)$/i.test(e.type)),a?a.pointer=t:(a=new Le.PointerInfo(i,t,e,null,null),o=this.pointers.length,this.pointers.push(a)),j.setCoords(this.coords.cur,this.pointers.map((function(t){return t.pointer})),this._now()),j.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),r&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=n,j.pointerExtend(this.downPointer,t),this.interacting()||(j.copyCoords(this.coords.start,this.coords.cur),j.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=!1)),this._updateLatestPointer(t,e,n),this._scopeFire("interactions:update-pointer",{pointer:t,event:e,eventTarget:n,down:r,pointerInfo:a,pointerIndex:o,interaction:this}),o}},{key:"removePointer",value:function(t,e){var n=this.getPointerIndex(t);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:t,event:e,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(t,e,n){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,e,n,r){return new Oe.InteractEvent(this,t,this.prepared.name,e,this.element,n,r)}},{key:"_fireEvent",value:function(t){var e;null==(e=this.interactable)||e.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var e=t.event,n=t.phase,r=t.preEnd,i=t.type,o=this.rect;if(o&&"move"===n&&(C.addEdges(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(n),t))return!1;var a=t.iEvent=this._createPreparedEvent(e,n,r,i);return this._scopeFire("interactions:action-".concat(n),t),"start"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-".concat(n),t),!0}},{key:"_now",value:function(){return Date.now()}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();Be.Interaction=qe;var Ve=qe;Be.default=Ve;var He={};function Ke(t){t.pointerIsDown&&(Qe(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}function Ye(t){Ge(t.interaction)}function Ge(t){if(!function(t){return!(!t.offset.pending.x&&!t.offset.pending.y)}(t))return!1;var e=t.offset.pending;return Qe(t.coords.cur,e),Qe(t.coords.delta,e),C.addEdges(t.edges,t.rect,e),e.x=0,e.y=0,!0}function We(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function Qe(t,e){var n=t.page,r=t.client,i=e.x,o=e.y;n.x+=i,n.y+=o,r.x+=i,r.y+=o}Object.defineProperty(He,"__esModule",{value:!0}),He.addTotal=Ke,He.applyPending=Ge,He.default=void 0,Be._ProxyMethods.offsetBy="";var Xe={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(t){t.Interaction.prototype.offsetBy=We},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return Ke(t.interaction)},"interactions:before-action-start":Ye,"interactions:before-action-move":Ye,"interactions:before-action-end":function(t){var e=t.interaction;if(Ge(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}},Je=Xe;He.default=Je;var Ze={};function tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=Ze.InertiaState=void 0;var en=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),tn(this,"active",!1),tn(this,"isModified",!1),tn(this,"smoothEnd",!1),tn(this,"allowResume",!1),tn(this,"modification",void 0),tn(this,"modifierCount",0),tn(this,"modifierArg",void 0),tn(this,"startCoords",void 0),tn(this,"t0",0),tn(this,"v0",0),tn(this,"te",0),tn(this,"targetOffset",void 0),tn(this,"modifiedOffset",void 0),tn(this,"currentOffset",void 0),tn(this,"lambda_v0",0),tn(this,"one_ve_v0",0),tn(this,"timeout",void 0),tn(this,"interaction",void 0),this.interaction=e}var e,n;return e=t,(n=[{key:"start",value:function(t){var e=this.interaction,n=nn(e);if(!n||!n.enabled)return!1;var r=e.coords.velocity.client,i=(0,D.default)(r.x,r.y),o=this.modification||(this.modification=new ve.default(e));if(o.copyFrom(e.modification),this.t0=e._now(),this.allowResume=n.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=e.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-e.coords.cur.timeStamp<50&&i>n.minSpeed&&i>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return e.modification.result.rect=null,e.offsetBy(this.targetOffset),e._doPhase({interaction:e,event:t,phase:"inertiastart"}),e.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),e.modification.result.rect=null,this.active=!0,e.simulation=this,!0}},{key:"startInertia",value:function(){var t=this,e=this.interaction.coords.velocity.client,n=nn(this.interaction),r=n.resistance,i=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(e.x-i)/r,y:(e.y-i)/r},this.te=i,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(a),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.onNextFrame((function(){return t.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return t.smoothEndTick()}))}},{key:"onNextFrame",value:function(t){var e=this;this.timeout=St.default.request((function(){e.active&&t()}))}},{key:"inertiaTick",value:function(){var t,e,n,r,i,o=this,a=this.interaction,s=nn(a).resistance,u=(a._now()-this.t0)/1e3;if(u<this.te){var c,l=1-(Math.exp(-s*u)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=this.targetOffset.x,e=this.targetOffset.y,n=this.modifiedOffset.x,r=this.modifiedOffset.y,c={x:on(i=l,0,t,n),y:on(i,0,e,r)}):c={x:this.targetOffset.x*l,y:this.targetOffset.y*l};var f={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=f.x,this.currentOffset.y+=f.y,a.offsetBy(f),a.move(),this.onNextFrame((function(){return o.inertiaTick()}))}else a.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var t=this,e=this.interaction,n=e._now()-this.t0,r=nn(e).smoothEndDuration;if(n<r){var i={x:an(n,0,this.targetOffset.x,r),y:an(n,0,this.targetOffset.y,r)},o={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,e.offsetBy(o),e.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return t.smoothEndTick()}))}else e.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(t){var e=t.pointer,n=t.event,r=t.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(e,n,r,!0),i._doPhase({interaction:i,event:n,phase:"resume"}),(0,j.copyCoords)(i.coords.prev,i.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,St.default.cancel(this.timeout)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function nn(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}Ze.InertiaState=en;var rn={id:"inertia",before:["modifiers","actions"],install:function(t){var e=t.defaults;t.usePlugin(He.default),t.usePlugin(we.default),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new en(e)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null},"interactions:down":function(t){var e=t.interaction,n=t.eventTarget,r=e.inertia;if(r.active)for(var i=n;o.default.element(i);){if(i===e.element){r.resume(t);break}i=w.parentNode(i)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":we.addEventModifiers,"interactions:action-inertiastart":we.addEventModifiers,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};function on(t,e,n,r){var i=1-t;return i*i*e+2*i*t*n+t*t*r}function an(t,e,n,r){return-n*(t/=r)*(t-2)+e}var sn=rn;Ze.default=sn;var un={};function cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ln(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t.immediatePropagationStopped)break;r(t)}}Object.defineProperty(un,"__esModule",{value:!0}),un.Eventable=void 0;var fn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),cn(this,"options",void 0),cn(this,"types",{}),cn(this,"propagationStopped",!1),cn(this,"immediatePropagationStopped",!1),cn(this,"global",void 0),this.options=(0,P.default)({},e||{})}var e,n;return e=t,(n=[{key:"fire",value:function(t){var e,n=this.global;(e=this.types[t.type])&&ln(t,e),!t.propagationStopped&&n&&(e=n[t.type])&&ln(t,e)}},{key:"on",value:function(t,e){var n=(0,I.default)(t,e);for(t in n)this.types[t]=G.merge(this.types[t]||[],n[t])}},{key:"off",value:function(t,e){var n=(0,I.default)(t,e);for(t in n){var r=this.types[t];if(r&&r.length)for(var i=0;i<n[t].length;i++){var o=n[t][i],a=r.indexOf(o);-1!==a&&r.splice(a,1)}}}},{key:"getRect",value:function(t){return null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();un.Eventable=fn;var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.default=function(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(0===t.indexOf(n)&&t.substr(n.length)in e.phases)return!0;return!1};var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.createInteractStatic=function(t){var e=function e(n,r){var i=t.interactables.get(n,r);return i||((i=t.interactables.new(n,r)).events.global=e.globalEvents),i};return e.getPointerAverage=j.pointerAverage,e.getTouchBBox=j.touchBBox,e.getTouchDistance=j.touchDistance,e.getTouchAngle=j.touchAngle,e.getElementRect=w.getElementRect,e.getElementClientRect=w.getElementClientRect,e.matchesSelector=w.matchesSelector,e.closest=w.closest,e.globalEvents={},e.version="1.10.17",e.scope=t,e.use=function(t,e){return this.scope.usePlugin(t,e),this},e.isSet=function(t,e){return!!this.scope.interactables.get(t,e&&e.context)},e.on=(0,Dt.warnOnce)((function(t,e,n){if(o.default.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o.default.array(t)){for(var r=0;r<t.length;r++){var i=t[r];this.on(i,e,n)}return this}if(o.default.object(t)){for(var a in t)this.on(a,t[a],e);return this}return(0,hn.default)(t,this.scope.actions)?this.globalEvents[t]?this.globalEvents[t].push(e):this.globalEvents[t]=[e]:this.scope.events.add(this.scope.document,t,e,{options:n}),this}),"The interact.on() method is being deprecated"),e.off=(0,Dt.warnOnce)((function(t,e,n){if(o.default.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o.default.array(t)){for(var r=0;r<t.length;r++){var i=t[r];this.off(i,e,n)}return this}if(o.default.object(t)){for(var a in t)this.off(a,t[a],e);return this}var s;return(0,hn.default)(t,this.scope.actions)?t in this.globalEvents&&-1!==(s=this.globalEvents[t].indexOf(e))&&this.globalEvents[t].splice(s,1):this.scope.events.remove(this.scope.document,t,e,n),this}),"The interact.off() method is being deprecated"),e.debug=function(){return this.scope},e.supportsTouch=function(){return b.default.supportsTouch},e.supportsPointerEvent=function(){return b.default.supportsPointerEvent},e.stop=function(){for(var t=0;t<this.scope.interactions.list.length;t++)this.scope.interactions.list[t].stop();return this},e.pointerMoveTolerance=function(t){return o.default.number(t)?(this.scope.interactions.pointerMoveTolerance=t,this):this.scope.interactions.pointerMoveTolerance},e.addDocument=function(t,e){this.scope.addDocument(t,e)},e.removeDocument=function(t){this.scope.removeDocument(t)},e};var pn={};function vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(pn,"__esModule",{value:!0}),pn.Interactable=void 0;var mn=function(){function t(n,r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),vn(this,"options",void 0),vn(this,"_actions",void 0),vn(this,"target",void 0),vn(this,"events",new un.Eventable),vn(this,"_context",void 0),vn(this,"_win",void 0),vn(this,"_doc",void 0),vn(this,"_scopeEvents",void 0),vn(this,"_rectChecker",void 0),this._actions=r.actions,this.target=n,this._context=r.context||i,this._win=(0,e.getWindow)((0,w.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=o,this.set(r)}var n,r;return n=t,(r=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(t,e){return o.default.func(e.onstart)&&this.on("".concat(t,"start"),e.onstart),o.default.func(e.onmove)&&this.on("".concat(t,"move"),e.onmove),o.default.func(e.onend)&&this.on("".concat(t,"end"),e.onend),o.default.func(e.oninertiastart)&&this.on("".concat(t,"inertiastart"),e.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,e,n){(o.default.array(e)||o.default.object(e))&&this.off(t,e),(o.default.array(n)||o.default.object(n))&&this.on(t,n)}},{key:"setPerAction",value:function(t,e){var n=this._defaults;for(var r in e){var i=r,a=this.options[t],s=e[i];"listeners"===i&&this.updatePerActionListeners(t,a.listeners,s),o.default.array(s)?a[i]=G.from(s):o.default.plainObject(s)?(a[i]=(0,P.default)(a[i]||{},(0,pe.default)(s)),o.default.object(n.perAction[i])&&"enabled"in n.perAction[i]&&(a[i].enabled=!1!==s.enabled)):o.default.bool(s)&&o.default.object(n.perAction[i])?a[i].enabled=s:a[i]=s}}},{key:"getRect",value:function(t){return t=t||(o.default.element(this.target)?this.target:null),o.default.string(this.target)&&(t=t||this._context.querySelector(this.target)),(0,w.getElementRect)(t)}},{key:"rectChecker",value:function(t){var e=this;return o.default.func(t)?(this._rectChecker=t,this.getRect=function(t){var n=(0,P.default)({},e._rectChecker(t));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===t?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(t,e){if((0,w.trySelector)(e)||o.default.object(e)){for(var n in this.options[t]=e,this._actions.map)this.options[n][t]=e;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||(0,w.nodeContains)(this._context,t)}},{key:"testIgnoreAllow",value:function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)}},{key:"testAllow",value:function(t,e,n){return!t||!!o.default.element(n)&&(o.default.string(t)?(0,w.matchesUpTo)(n,t,e):!!o.default.element(t)&&(0,w.nodeContains)(t,n))}},{key:"testIgnore",value:function(t,e,n){return!(!t||!o.default.element(n))&&(o.default.string(t)?(0,w.matchesUpTo)(n,t,e):!!o.default.element(t)&&(0,w.nodeContains)(t,n))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,e,n,r){o.default.object(e)&&!o.default.array(e)&&(r=n,n=null);var i="on"===t?"add":"remove",a=(0,I.default)(e,n);for(var s in a){"wheel"===s&&(s=b.default.wheelEvent);for(var u=0;u<a[s].length;u++){var c=a[s][u];(0,hn.default)(s,this._actions)?this.events[t](s,c):o.default.string(this.target)?this._scopeEvents["".concat(i,"Delegate")](this.target,this._context,s,c,r):this._scopeEvents[i](this.target,s,c,r)}}return this}},{key:"on",value:function(t,e,n){return this._onOff("on",t,e,n)}},{key:"off",value:function(t,e,n){return this._onOff("off",t,e,n)}},{key:"set",value:function(t){var e=this._defaults;for(var n in o.default.object(t)||(t={}),this.options=(0,pe.default)(e.base),this._actions.methodDict){var r=n,i=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,(0,P.default)((0,P.default)({},e.perAction),e.actions[r])),this[i](t[r])}for(var a in t)o.default.func(this[a])&&this[a](t[a]);return this}},{key:"unset",value:function(){if(o.default.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var e=this._scopeEvents.delegatedEvents[t],n=e.length-1;n>=0;n--){var r=e[n],i=r.selector,a=r.context,s=r.listeners;i===this.target&&a===this._context&&e.splice(n,1);for(var u=s.length-1;u>=0;u--)this._scopeEvents.removeDelegate(this.target,this._context,t,s[u][0],s[u][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();pn.Interactable=mn;var yn={};function gn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(yn,"__esModule",{value:!0}),yn.InteractableSet=void 0;var bn=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gn(this,"list",[]),gn(this,"selectorMap",{}),gn(this,"scope",void 0),this.scope=e,e.addListeners({"interactable:unset":function(t){var e=t.interactable,r=e.target,i=e._context,a=o.default.string(r)?n.selectorMap[r]:r[n.scope.id],s=G.findIndex(a,(function(t){return t.context===i}));a[s]&&(a[s].context=null,a[s].interactable=null),a.splice(s,1)}})}var e,n;return e=t,(n=[{key:"new",value:function(t,e){e=(0,P.default)(e||{},{actions:this.scope.actions});var n=new this.scope.Interactable(t,e,this.scope.document,this.scope.events),r={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),o.default.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(r)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:t,options:e,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(t,e){var n=e&&e.context||this.scope.document,r=o.default.string(t),i=r?this.selectorMap[t]:t[this.scope.id];if(!i)return null;var a=G.find(i,(function(e){return e.context===n&&(r||e.interactable.inContext(t))}));return a&&a.interactable}},{key:"forEachMatch",value:function(t,e){for(var n=0;n<this.list.length;n++){var r=this.list[n],i=void 0;if((o.default.string(r.target)?o.default.element(t)&&w.matchesSelector(t,r.target):t===r.target)&&r.inContext(t)&&(i=e(r)),void 0!==i)return i}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();yn.InteractableSet=bn;var _n={};function xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return En(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(_n,"__esModule",{value:!0}),_n.default=void 0;var Tn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),xn(this,"currentTarget",void 0),xn(this,"originalEvent",void 0),xn(this,"type",void 0),this.originalEvent=e,(0,F.default)(this,e)}var e,n;return e=t,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Sn(t){if(!o.default.object(t))return{capture:!!t,passive:!1};var e=(0,P.default)({},t);return e.capture=!!t.capture,e.passive=!!t.passive,e}var kn={id:"events",install:function(t){var e,n=[],r={},i=[],a={add:s,remove:u,addDelegate:function(t,e,n,o,a){var u=Sn(a);if(!r[n]){r[n]=[];for(var f=0;f<i.length;f++){var h=i[f];s(h,n,c),s(h,n,l,!0)}}var d=r[n],p=G.find(d,(function(n){return n.selector===t&&n.context===e}));p||(p={selector:t,context:e,listeners:[]},d.push(p)),p.listeners.push([o,u])},removeDelegate:function(t,e,n,i,o){var a,s=Sn(o),f=r[n],h=!1;if(f)for(a=f.length-1;a>=0;a--){var d=f[a];if(d.selector===t&&d.context===e){for(var p=d.listeners,v=p.length-1;v>=0;v--){var m=wn(p[v],2),y=m[0],g=m[1],b=g.capture,_=g.passive;if(y===i&&b===s.capture&&_===s.passive){p.splice(v,1),p.length||(f.splice(a,1),u(e,n,c),u(e,n,l,!0)),h=!0;break}}if(h)break}}},delegateListener:c,delegateUseCapture:l,delegatedEvents:r,documents:i,targets:n,supportsOptions:!1,supportsPassive:!1};function s(t,e,r,i){var o=Sn(i),s=G.find(n,(function(e){return e.eventTarget===t}));s||(s={eventTarget:t,events:{}},n.push(s)),s.events[e]||(s.events[e]=[]),t.addEventListener&&!G.contains(s.events[e],r)&&(t.addEventListener(e,r,a.supportsOptions?o:o.capture),s.events[e].push(r))}function u(t,e,r,i){var o=Sn(i),s=G.findIndex(n,(function(e){return e.eventTarget===t})),c=n[s];if(c&&c.events)if("all"!==e){var l=!1,f=c.events[e];if(f){if("all"===r){for(var h=f.length-1;h>=0;h--)u(t,e,f[h],o);return}for(var d=0;d<f.length;d++)if(f[d]===r){t.removeEventListener(e,r,a.supportsOptions?o:o.capture),f.splice(d,1),0===f.length&&(delete c.events[e],l=!0);break}}l&&!Object.keys(c.events).length&&n.splice(s,1)}else for(e in c.events)c.events.hasOwnProperty(e)&&u(t,e,"all")}function c(t,e){for(var n=Sn(e),i=new Tn(t),a=r[t.type],s=wn(j.getEventTargets(t),1)[0],u=s;o.default.element(u);){for(var c=0;c<a.length;c++){var l=a[c],f=l.selector,h=l.context;if(w.matchesSelector(u,f)&&w.nodeContains(h,s)&&w.nodeContains(h,u)){var d=l.listeners;i.currentTarget=u;for(var p=0;p<d.length;p++){var v=wn(d[p],2),m=v[0],y=v[1],g=y.capture,b=y.passive;g===n.capture&&b===n.passive&&m(i)}}}u=w.parentNode(u)}}function l(t){return c(t,!0)}return null==(e=t.document)||e.createElement("div").addEventListener("test",null,{get capture(){return a.supportsOptions=!0},get passive(){return a.supportsPassive=!0}}),t.events=a,a}};_n.default=kn;var On={};Object.defineProperty(On,"__esModule",{value:!0}),On.default=void 0;var An={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0;e<An.methodOrder.length;e++){var n;n=An.methodOrder[e];var r=An[n](t);if(r)return r}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,r=t.eventTarget,i=t.scope;if(!/down|start/i.test(n))return null;for(var o=0;o<i.interactions.list.length;o++){var a=i.interactions.list[o],s=r;if(a.simulation&&a.simulation.allowResume&&a.pointerType===e)for(;s;){if(s===a.element)return a;s=w.parentNode(s)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,r=t.pointerType,i=t.eventType,o=t.scope;if("mouse"!==r&&"pen"!==r)return null;for(var a=0;a<o.interactions.list.length;a++){var s=o.interactions.list[a];if(s.pointerType===r){if(s.simulation&&!Pn(s,n))continue;if(s.interacting())return s;e||(e=s)}}if(e)return e;for(var u=0;u<o.interactions.list.length;u++){var c=o.interactions.list[u];if(!(c.pointerType!==r||/down/i.test(i)&&c.simulation))return c}return null},hasPointer:function(t){for(var e=t.pointerId,n=t.scope,r=0;r<n.interactions.list.length;r++){var i=n.interactions.list[r];if(Pn(i,e))return i}return null},idle:function(t){for(var e=t.pointerType,n=t.scope,r=0;r<n.interactions.list.length;r++){var i=n.interactions.list[r];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&e===i.pointerType)return i}return null}};function Pn(t,e){return t.pointers.some((function(t){return t.id===e}))}var Cn=An;On.default=Cn;var Rn={};function Nn(t){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(t)}function Mn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return In(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ln(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dn(t,e){return Dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dn(t,e)}function Fn(t,e){if(e&&("object"===Nn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jn(t){return jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jn(t)}Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.default=void 0;var Un=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Bn(t,e){return function(n){var r=e.interactions.list,i=j.getPointerType(n),o=Mn(j.getEventTargets(n),2),a=o[0],s=o[1],u=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var c=0;c<n.changedTouches.length;c++){var l=n.changedTouches[c],f={pointer:l,pointerId:j.getPointerId(l),pointerType:i,eventType:n.type,eventTarget:a,curEventTarget:s,scope:e},h=zn(f);u.push([f.pointer,f.eventTarget,f.curEventTarget,h])}}else{var d=!1;if(!b.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var p=0;p<r.length&&!d;p++)d="mouse"!==r[p].pointerType&&r[p].pointerIsDown;d=d||e.now()-e.prevTouchTime<500||0===n.timeStamp}if(!d){var v={pointer:n,pointerId:j.getPointerId(n),pointerType:i,eventType:n.type,curEventTarget:s,eventTarget:a,scope:e},m=zn(v);u.push([v.pointer,v.eventTarget,v.curEventTarget,m])}}for(var y=0;y<u.length;y++){var g=Mn(u[y],4),_=g[0],x=g[1],w=g[2];g[3][t](_,n,x,w)}}}function zn(t){var e=t.pointerType,n=t.scope,r={interaction:On.default.search(t),searchDetails:t};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:e})}function $n(t,e){var n=t.doc,r=t.scope,i=t.options,o=r.interactions.docEvents,a=r.events,s=a[e];for(var u in r.browser.isIOS&&!i.events&&(i.events={passive:!1}),a.delegatedEvents)s(n,u,a.delegateListener),s(n,u,a.delegateUseCapture,!0);for(var c=i&&i.events,l=0;l<o.length;l++){var f=o[l];s(n,f.type,f.listener,c)}}var qn={id:"core/interactions",install:function(t){for(var e={},n=0;n<Un.length;n++){var r=Un[n];e[r]=Bn(r,t)}var i,o=b.default.pEventTypes;function a(){for(var e=0;e<t.interactions.list.length;e++){var n=t.interactions.list[e];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var r=function(){var e=n.pointers[i];t.documents.some((function(t){var n=t.doc;return(0,w.nodeContains)(n,e.downTarget)}))||n.removePointer(e.pointer,e.event)},i=0;i<n.pointers.length;i++)r()}}(i=v.default.PointerEvent?[{type:o.down,listener:a},{type:o.down,listener:e.pointerDown},{type:o.move,listener:e.pointerMove},{type:o.up,listener:e.pointerUp},{type:o.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:a},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(e){for(var n=0;n<t.interactions.list.length;n++)t.interactions.list[n].documentBlur(e)}}),t.prevTouchTime=0,t.Interaction=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dn(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jn(i);if(o){var n=jn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fn(this,t)});function s(){return Ln(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(e){t.interactions.pointerMoveTolerance=e}},{key:"_now",value:function(){return t.now()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(Be.default),t.interactions={list:[],new:function(e){e.scopeFire=function(e,n){return t.fire(e,n)};var n=new t.Interaction(e);return t.interactions.list.push(n),n},listeners:e,docEvents:i,pointerMoveTolerance:1},t.usePlugin(ae.default)},listeners:{"scope:add-document":function(t){return $n(t,"add")},"scope:remove-document":function(t){return $n(t,"remove")},"interactable:unset":function(t,e){for(var n=t.interactable,r=e.interactions.list.length-1;r>=0;r--){var i=e.interactions.list[r];i.interactable===n&&(i.stop(),e.fire("interactions:destroy",{interaction:i}),i.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(r,1))}}},onDocSignal:$n,doOnInteractions:Bn,methodNames:Un},Vn=qn;Rn.default=Vn;var Hn={};function Kn(t){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kn(t)}function Yn(){return Yn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Gn(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Yn.apply(this,arguments)}function Gn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xn(t)););return t}function Wn(t,e){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wn(t,e)}function Qn(t,e){if(e&&("object"===Kn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xn(t){return Xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xn(t)}function Jn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tr(t,e,n){return e&&Zn(t.prototype,e),n&&Zn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.Scope=void 0,Hn.initScope=rr;var nr=function(){function t(){var e=this;Jn(this,t),er(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),er(this,"isInitialized",!1),er(this,"listenerMaps",[]),er(this,"browser",b.default),er(this,"defaults",(0,pe.default)(ke.defaults)),er(this,"Eventable",un.Eventable),er(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),er(this,"interactStatic",(0,dn.createInteractStatic)(this)),er(this,"InteractEvent",Oe.InteractEvent),er(this,"Interactable",void 0),er(this,"interactables",new yn.InteractableSet(this)),er(this,"_win",void 0),er(this,"document",void 0),er(this,"window",void 0),er(this,"documents",[]),er(this,"_plugins",{list:[],map:{}}),er(this,"onWindowUnload",(function(t){return e.removeDocument(t.target)}));var n=this;this.Interactable=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wn(t,e)}(o,t);var e,r,i=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Xn(e);if(r){var i=Xn(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Qn(this,t)});function o(){return Jn(this,o),i.apply(this,arguments)}return tr(o,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(t){return Yn(Xn(o.prototype),"set",this).call(this,t),n.fire("interactable:set",{options:t,interactable:this}),this}},{key:"unset",value:function(){Yn(Xn(o.prototype),"unset",this).call(this);var t=n.interactables.list.indexOf(this);t<0||(Yn(Xn(o.prototype),"unset",this).call(this),n.interactables.list.splice(t,1),n.fire("interactable:unset",{interactable:this}))}}]),o}(pn.Interactable)}return tr(t,[{key:"addListeners",value:function(t,e){this.listenerMaps.push({id:e,map:t})}},{key:"fire",value:function(t,e){for(var n=0;n<this.listenerMaps.length;n++){var r=this.listenerMaps[n].map[t];if(r&&!1===r(e,this,t))return!1}}},{key:"init",value:function(t){return this.isInitialized?this:rr(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||-1!==this._plugins.list.indexOf(t)}},{key:"usePlugin",value:function(t,e){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){for(var n=0,r=this.listenerMaps.length,i=t.before.reduce((function(t,e){return t[e]=!0,t[ir(e)]=!0,t}),{});n<r;n++){var o=this.listenerMaps[n].id;if(i[o]||i[ir(o)])break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,n){if(-1!==this.getDocIndex(t))return!1;var r=e.getWindow(t);n=n?(0,P.default)({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(t){var n=this.getDocIndex(t),r=e.getWindow(t),i=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:r,scope:this,options:i})}},{key:"getDocIndex",value:function(t){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return-1}},{key:"getDocOptions",value:function(t){var e=this.getDocIndex(t);return-1===e?null:this.documents[e].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();function rr(t,n){return t.isInitialized=!0,o.default.window(n)&&e.init(n),v.default.init(n),b.default.init(n),St.default.init(n),t.window=n,t.document=n.document,t.usePlugin(Rn.default),t.usePlugin(_n.default),t}function ir(t){return t&&t.replace(/\/.*$/,"")}Hn.Scope=nr;var or={};Object.defineProperty(or,"__esModule",{value:!0}),or.default=void 0;var ar=new Hn.Scope,sr=ar.interactStatic;or.default=sr;var ur="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0;ar.init(ur);var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0,cr.default=function(){};var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0,lr.default=function(){};var fr={};function hr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return dr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(fr,"__esModule",{value:!0}),fr.default=void 0,fr.default=function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(e){var n=hr(e,2),r=n[0],i=n[1];return r in t||i in t})),n=function(n,r){for(var i=t.range,o=t.limits,a=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,s=t.offset,u=void 0===s?{x:0,y:0}:s,c={range:i,grid:t,x:null,y:null},l=0;l<e.length;l++){var f=hr(e[l],2),h=f[0],d=f[1],p=Math.round((n-u.x)/t[h]),v=Math.round((r-u.y)/t[d]);c[h]=Math.max(a.left,Math.min(a.right,p*t[h]+u.x)),c[d]=Math.max(a.top,Math.min(a.bottom,v*t[d]+u.y))}return c};return n.grid=t,n.coordFields=e,n};var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),Object.defineProperty(pr,"edgeTarget",{enumerable:!0,get:function(){return cr.default}}),Object.defineProperty(pr,"elements",{enumerable:!0,get:function(){return lr.default}}),Object.defineProperty(pr,"grid",{enumerable:!0,get:function(){return fr.default}});var vr={};Object.defineProperty(vr,"__esModule",{value:!0}),vr.default=void 0;var mr={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=(0,P.default)(e.snappers||{},pr),e.createSnapGrid=e.snappers.grid}},yr=mr;vr.default=yr;var gr={};function br(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?br(Object(n),!0).forEach((function(e){xr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(gr,"__esModule",{value:!0}),gr.default=gr.aspectRatio=void 0;var wr={start:function(t){var e=t.state,n=t.rect,r=t.edges,i=t.pageCoords,o=e.options.ratio,a=e.options,s=a.equalDelta,u=a.modifiers;"preserve"===o&&(o=n.width/n.height),e.startCoords=(0,P.default)({},i),e.startRect=(0,P.default)({},n),e.ratio=o,e.equalDelta=s;var c=e.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(e.xIsPrimaryAxis=!(!r.left&&!r.right),e.equalDelta){var l=(c.left?1:-1)*(c.top?1:-1);e.edgeSign={x:l,y:l}}else e.edgeSign={x:c.left?-1:1,y:c.top?-1:1};if((0,P.default)(t.edges,c),u&&u.length){var f=new ve.default(t.interaction);f.copyFrom(t.interaction.modification),f.prepareStates(u),e.subModification=f,f.startAll(_r({},t))}},set:function(t){var e=t.state,n=t.rect,r=t.coords,i=(0,P.default)({},r),o=e.equalDelta?Er:Tr;if(o(e,e.xIsPrimaryAxis,r,n),!e.subModification)return null;var a=(0,P.default)({},n);(0,C.addEdges)(e.linkedEdges,a,{x:r.x-i.x,y:r.y-i.y});var s=e.subModification.setAll(_r(_r({},t),{},{rect:a,edges:e.linkedEdges,pageCoords:r,prevCoords:r,prevRect:a})),u=s.delta;return s.changed&&(o(e,Math.abs(u.x)>Math.abs(u.y),s.coords,s.rect),(0,P.default)(r,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Er(t,e,n){var r=t.startCoords,i=t.edgeSign;e?n.y=r.y+(n.x-r.x)*i.y:n.x=r.x+(n.y-r.y)*i.x}function Tr(t,e,n,r){var i=t.startRect,o=t.startCoords,a=t.ratio,s=t.edgeSign;if(e){var u=r.width/a;n.y=o.y+(u-i.height)*s.y}else{var c=r.height*a;n.x=o.x+(c-i.width)*s.x}}gr.aspectRatio=wr;var Sr=(0,we.makeModifier)(wr,"aspectRatio");gr.default=Sr;var kr={};Object.defineProperty(kr,"__esModule",{value:!0}),kr.default=void 0;var Or=function(){};Or._defaults={};var Ar=Or;kr.default=Ar;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0}),Object.defineProperty(Pr,"default",{enumerable:!0,get:function(){return kr.default}});var Cr={};function Rr(t,e,n){return o.default.func(t)?C.resolveRectLike(t,e.interactable,e.element,[n.x,n.y,e]):C.resolveRectLike(t,e.interactable,e.element)}Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.default=void 0,Cr.getRestrictionRect=Rr,Cr.restrict=void 0;var Nr={start:function(t){var e=t.rect,n=t.startOffset,r=t.state,i=t.interaction,o=t.pageCoords,a=r.options,s=a.elementRect,u=(0,P.default)({left:0,top:0,right:0,bottom:0},a.offset||{});if(e&&s){var c=Rr(a.restriction,i,o);if(c){var l=c.right-c.left-e.width,f=c.bottom-c.top-e.height;l<0&&(u.left+=l,u.right+=l),f<0&&(u.top+=f,u.bottom+=f)}u.left+=n.left-e.width*s.left,u.top+=n.top-e.height*s.top,u.right+=n.right-e.width*(1-s.right),u.bottom+=n.bottom-e.height*(1-s.bottom)}r.offset=u},set:function(t){var e=t.coords,n=t.interaction,r=t.state,i=r.options,o=r.offset,a=Rr(i.restriction,n,e);if(a){var s=C.xywhToTlbr(a);e.x=Math.max(Math.min(s.right-o.right,e.x),s.left+o.left),e.y=Math.max(Math.min(s.bottom-o.bottom,e.y),s.top+o.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Cr.restrict=Nr;var Mr=(0,we.makeModifier)(Nr,"restrict");Cr.default=Mr;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.restrictEdges=Ir.default=void 0;var Lr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Dr={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Fr(t,e){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var i=n[r];i in t||(t[i]=e[i])}return t}var jr={noInner:Lr,noOuter:Dr,start:function(t){var e,n=t.interaction,r=t.startOffset,i=t.state,o=i.options;if(o){var a=(0,Cr.getRestrictionRect)(o.offset,n,n.coords.start.page);e=C.rectToXY(a)}e=e||{x:0,y:0},i.offset={top:e.y+r.top,left:e.x+r.left,bottom:e.y-r.bottom,right:e.x-r.right}},set:function(t){var e=t.coords,n=t.edges,r=t.interaction,i=t.state,o=i.offset,a=i.options;if(n){var s=(0,P.default)({},e),u=(0,Cr.getRestrictionRect)(a.inner,r,s)||{},c=(0,Cr.getRestrictionRect)(a.outer,r,s)||{};Fr(u,Lr),Fr(c,Dr),n.top?e.y=Math.min(Math.max(c.top+o.top,s.y),u.top+o.top):n.bottom&&(e.y=Math.max(Math.min(c.bottom+o.bottom,s.y),u.bottom+o.bottom)),n.left?e.x=Math.min(Math.max(c.left+o.left,s.x),u.left+o.left):n.right&&(e.x=Math.max(Math.min(c.right+o.right,s.x),u.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Ir.restrictEdges=jr;var Ur=(0,we.makeModifier)(jr,"restrictEdges");Ir.default=Ur;var Br={};Object.defineProperty(Br,"__esModule",{value:!0}),Br.restrictRect=Br.default=void 0;var zr=(0,P.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},Cr.restrict.defaults),$r={start:Cr.restrict.start,set:Cr.restrict.set,defaults:zr};Br.restrictRect=$r;var qr=(0,we.makeModifier)($r,"restrictRect");Br.default=qr;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.restrictSize=Vr.default=void 0;var Hr={width:-1/0,height:-1/0},Kr={width:1/0,height:1/0},Yr={start:function(t){return Ir.restrictEdges.start(t)},set:function(t){var e=t.interaction,n=t.state,r=t.rect,i=t.edges,o=n.options;if(i){var a=C.tlbrToXywh((0,Cr.getRestrictionRect)(o.min,e,t.coords))||Hr,s=C.tlbrToXywh((0,Cr.getRestrictionRect)(o.max,e,t.coords))||Kr;n.options={endOnly:o.endOnly,inner:(0,P.default)({},Ir.restrictEdges.noInner),outer:(0,P.default)({},Ir.restrictEdges.noOuter)},i.top?(n.options.inner.top=r.bottom-a.height,n.options.outer.top=r.bottom-s.height):i.bottom&&(n.options.inner.bottom=r.top+a.height,n.options.outer.bottom=r.top+s.height),i.left?(n.options.inner.left=r.right-a.width,n.options.outer.left=r.right-s.width):i.right&&(n.options.inner.right=r.left+a.width,n.options.outer.right=r.left+s.width),Ir.restrictEdges.set(t),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Vr.restrictSize=Yr;var Gr=(0,we.makeModifier)(Yr,"restrictSize");Vr.default=Gr;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0}),Object.defineProperty(Wr,"default",{enumerable:!0,get:function(){return kr.default}});var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.snap=Qr.default=void 0;var Xr={start:function(t){var e,n=t.interaction,r=t.interactable,i=t.element,o=t.rect,a=t.state,s=t.startOffset,u=a.options,c=u.offsetWithOrigin?function(t){var e=t.interaction.element;return(0,C.rectToXY)((0,C.resolveRectLike)(t.state.options.origin,null,null,[e]))||(0,M.default)(t.interactable,e,t.interaction.prepared.name)}(t):{x:0,y:0};if("startCoords"===u.offset)e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var l=(0,C.resolveRectLike)(u.offset,r,i,[n]);(e=(0,C.rectToXY)(l)||{x:0,y:0}).x+=c.x,e.y+=c.y}var f=u.relativePoints;a.offsets=o&&f&&f.length?f.map((function(t,n){return{index:n,relativePoint:t,x:s.left-o.width*t.x+e.x,y:s.top-o.height*t.y+e.y}})):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,n=t.coords,r=t.state,i=r.options,a=r.offsets,s=(0,M.default)(e.interactable,e.element,e.prepared.name),u=(0,P.default)({},n),c=[];i.offsetWithOrigin||(u.x-=s.x,u.y-=s.y);for(var l=0;l<a.length;l++)for(var f=a[l],h=u.x-f.x,d=u.y-f.y,p=0,v=i.targets.length;p<v;p++){var m,y=i.targets[p];(m=o.default.func(y)?y(h,d,e._proxy,f,p):y)&&c.push({x:(o.default.number(m.x)?m.x:h)+f.x,y:(o.default.number(m.y)?m.y:d)+f.y,range:o.default.number(m.range)?m.range:i.range,source:y,index:p,offset:f})}for(var g={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},b=0;b<c.length;b++){var _=c[b],x=_.range,w=_.x-u.x,E=_.y-u.y,T=(0,D.default)(w,E),S=T<=x;x===1/0&&g.inRange&&g.range!==1/0&&(S=!1),g.target&&!(S?g.inRange&&x!==1/0?T/x<g.distance/g.range:x===1/0&&g.range!==1/0||T<g.distance:!g.inRange&&T<g.distance)||(g.target=_,g.distance=T,g.range=x,g.inRange=S,g.delta.x=w,g.delta.y=E)}return g.inRange&&(n.x=g.target.x,n.y=g.target.y),r.closest=g,g},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Qr.snap=Xr;var Jr=(0,we.makeModifier)(Xr,"snap");Qr.default=Jr;var Zr={};function ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.snapSize=Zr.default=void 0;var ei={start:function(t){var e=t.state,n=t.edges,r=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],Qr.snap.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e,n=t.interaction,r=t.state,i=t.coords,a=r.options,s=r.offsets,u={x:i.x-s[0].x,y:i.y-s[0].y};r.options=(0,P.default)({},a),r.options.targets=[];for(var c=0;c<(a.targets||[]).length;c++){var l=(a.targets||[])[c],f=void 0;if(f=o.default.func(l)?l(u.x,u.y,n):l){for(var h=0;h<r.targetFields.length;h++){var d=function(t){if(Array.isArray(t))return t}(e=r.targetFields[h])||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),2!==o.length);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e)||function(t,e){if(t){if("string"==typeof t)return ti(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ti(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=d[0],v=d[1];if(p in f||v in f){f.x=f[p],f.y=f[v];break}}r.options.targets.push(f)}}var m=Qr.snap.set(t);return r.options=a,m},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Zr.snapSize=ei;var ni=(0,we.makeModifier)(ei,"snapSize");Zr.default=ni;var ri={};Object.defineProperty(ri,"__esModule",{value:!0}),ri.snapEdges=ri.default=void 0;var ii={start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],Zr.snapSize.start(t)):null},set:Zr.snapSize.set,defaults:(0,P.default)((0,pe.default)(Zr.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};ri.snapEdges=ii;var oi=(0,we.makeModifier)(ii,"snapEdges");ri.default=oi;var ai={};Object.defineProperty(ai,"__esModule",{value:!0}),Object.defineProperty(ai,"default",{enumerable:!0,get:function(){return kr.default}});var si={};Object.defineProperty(si,"__esModule",{value:!0}),Object.defineProperty(si,"default",{enumerable:!0,get:function(){return kr.default}});var ui={};Object.defineProperty(ui,"__esModule",{value:!0}),ui.default=void 0;var ci={aspectRatio:gr.default,restrictEdges:Ir.default,restrict:Cr.default,restrictRect:Br.default,restrictSize:Vr.default,snapEdges:ri.default,snap:Qr.default,snapSize:Zr.default,spring:ai.default,avoid:Pr.default,transform:si.default,rubberband:Wr.default};ui.default=ci;var li={};Object.defineProperty(li,"__esModule",{value:!0}),li.default=void 0;var fi={id:"modifiers",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(we.default),t.usePlugin(vr.default),e.modifiers=ui.default,ui.default){var r=ui.default[n],i=r._defaults,o=r._methods;i._methods=o,t.defaults.perAction[n]=i}}},hi=fi;li.default=hi;var di={};function pi(t){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(t)}function vi(t,e){return vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vi(t,e)}function mi(t,e){if(e&&("object"===pi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yi(t)}function yi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gi(t){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gi(t)}Object.defineProperty(di,"__esModule",{value:!0}),di.default=di.PointerEvent=void 0;var bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vi(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gi(r);if(i){var n=gi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return mi(this,t)});function a(t,e,n,r,i,s){var u;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),u=o.call(this,i),j.pointerExtend(yi(u),n),n!==e&&j.pointerExtend(yi(u),e),u.timeStamp=s,u.originalEvent=n,u.type=t,u.pointerId=j.getPointerId(e),u.pointerType=j.getPointerType(e),u.target=r,u.currentTarget=null,"tap"===t){var c=i.getPointerIndex(e);u.dt=u.timeStamp-i.pointers[c].downTime;var l=u.timeStamp-i.tapTime;u.double=!!i.prevTap&&"doubletap"!==i.prevTap.type&&i.prevTap.target===u.target&&l<500}else"doubletap"===t&&(u.dt=e.timeStamp-i.tapTime,u.double=!0);return u}return e=a,(n=[{key:"_subtractOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this}},{key:"_addOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(H.BaseEvent);di.PointerEvent=di.default=bi;var _i={};Object.defineProperty(_i,"__esModule",{value:!0}),_i.default=void 0;var xi={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=xi,t.defaults.actions.pointerEvents=xi.defaults,(0,P.default)(t.actions.phaselessTypes,xi.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,n=t.pointerInfo;!e&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;t.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Ti(t),wi({interaction:n,pointer:r,event:i,eventTarget:o,type:"move"},e))},"interactions:down":function(t,e){!function(t,e){for(var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.pointerIndex,s=n.pointers[a].hold,u=w.getPath(o),c={interaction:n,pointer:r,event:i,eventTarget:o,type:"hold",targets:[],path:u,node:null},l=0;l<u.length;l++){var f=u[l];c.node=f,e.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var h=1/0,d=0;d<c.targets.length;d++){var p=c.targets[d].eventable.options.holdDuration;p<h&&(h=p)}s.duration=h,s.timeout=setTimeout((function(){wi({interaction:n,eventTarget:o,pointer:r,event:i,type:"hold"},e)}),h)}}(t,e),wi(t,e)},"interactions:up":function(t,e){Ti(t),wi(t,e),function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;n.pointerWasMoved||wi({interaction:n,eventTarget:o,pointer:r,event:i,type:"tap"},e)}(t,e)},"interactions:cancel":function(t,e){Ti(t),wi(t,e)}},PointerEvent:di.PointerEvent,fire:wi,collectEventTargets:Ei,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function wi(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.type,s=t.targets,u=void 0===s?Ei(t,e):s,c=new di.PointerEvent(a,r,i,o,n,e.now());e.fire("pointerEvents:new",{pointerEvent:c});for(var l={interaction:n,pointer:r,event:i,eventTarget:o,targets:u,type:a,pointerEvent:c},f=0;f<u.length;f++){var h=u[f];for(var d in h.props||{})c[d]=h.props[d];var p=(0,M.default)(h.eventable,h.node);if(c._subtractOrigin(p),c.eventable=h.eventable,c.currentTarget=h.node,h.eventable.fire(c),c._addOrigin(p),c.immediatePropagationStopped||c.propagationStopped&&f+1<u.length&&u[f+1].node!==c.currentTarget)break}if(e.fire("pointerEvents:fired",l),"tap"===a){var v=c.double?wi({interaction:n,pointer:r,event:i,eventTarget:o,type:"doubletap"},e):c;n.prevTap=v,n.tapTime=v.timeStamp}return c}function Ei(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.type,s=n.getPointerIndex(r),u=n.pointers[s];if("tap"===a&&(n.pointerWasMoved||!u||u.downTarget!==o))return[];for(var c=w.getPath(o),l={interaction:n,pointer:r,event:i,eventTarget:o,type:a,path:c,targets:[],node:null},f=0;f<c.length;f++){var h=c[f];l.node=h,e.fire("pointerEvents:collect-targets",l)}return"hold"===a&&(l.targets=l.targets.filter((function(t){var e;return t.eventable.options.holdDuration===(null==(e=n.pointers[s])?void 0:e.hold.duration)}))),l.targets}function Ti(t){var e=t.interaction,n=t.pointerIndex,r=e.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var Si=xi;_i.default=Si;var ki={};function Oi(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}Object.defineProperty(ki,"__esModule",{value:!0}),ki.default=void 0;var Ai={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(_i.default);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(t,e){return t["pointerEvents:".concat(e)]=Oi,t}),{"pointerEvents:new":function(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,r=t.pointerEvent,i=t.eventTarget,o=t.targets;if("hold"===r.type&&o.length){var a=o[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout((function(){e.pointerEvents.fire({interaction:n,eventTarget:i,type:"hold",pointer:r,event:r},e)}),a))}}})},Pi=Ai;ki.default=Pi;var Ci={};function Ri(t){return(0,P.default)(this.events.options,t),this}Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.default=void 0;var Ni={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=Ri;var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(t,e){var r=n.call(this,t,e);return r===this&&(this.events.options[t]=e),r}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,r=t.node,i=t.type,o=t.eventTarget;e.interactables.forEachMatch(r,(function(t){var e=t.events,a=e.options;e.types[i]&&e.types[i].length&&t.testIgnoreAllow(a,r,o)&&n.push({node:r,eventable:e,props:{interactable:t}})}))},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}},"interactable:set":function(t,e){var n=t.interactable,r=t.options;(0,P.default)(n.events.options,e.pointerEvents.defaults),(0,P.default)(n.events.options,r.pointerEvents||{})}}},Mi=Ni;Ci.default=Mi;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.default=void 0;var Li={id:"pointer-events",install:function(t){t.usePlugin(_i),t.usePlugin(ki.default),t.usePlugin(Ci.default)}},Di=Li;Ii.default=Di;var Fi={};function ji(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(e){return function(t,e,n){for(var r=o.default.string(t.target)?G.from(t._context.querySelectorAll(t.target)):[t.target],i=n.window.Promise,a=i?[]:null,s=function(){var o=r[u],s=t.getRect(o);if(!s)return"break";var c=G.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===t&&n.element===o&&n.prepared.name===e.name})),l=void 0;if(c)c.move(),a&&(l=c._reflowPromise||new i((function(t){c._reflowResolve=t})));else{var f=(0,C.tlbrToXywh)(s),h={page:{x:f.x,y:f.y},client:{x:f.x,y:f.y},timeStamp:n.now()},d=j.coordsToEvent(h);l=function(t,e,n,r,i){var o=t.interactions.new({pointerType:"reflow"}),a={interaction:o,event:i,pointer:i,eventTarget:n,phase:"reflow"};o.interactable=e,o.element=n,o.prevEvent=i,o.updatePointer(i,i,n,!0),j.setZeroCoords(o.coords.delta),(0,Dt.copyAction)(o.prepared,r),o._doPhase(a);var s=t.window.Promise,u=s?new s((function(t){o._reflowResolve=t})):void 0;return o._reflowPromise=u,o.start(r,e,n),o._interacting?(o.move(a),o.end(i)):(o.stop(),o._reflowResolve()),o.removePointer(i,i),u}(n,t,o,e,d)}a&&a.push(l)},u=0;u<r.length&&"break"!==s();u++);return a&&i.all(a).then((function(){return t}))}(this,e,t)}}Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.default=void 0,Fi.install=ji;var Ui={id:"reflow",install:ji,listeners:{"interactions:stop":function(t,e){var n=t.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),G.remove(e.interactions.list,n))}}},Bi=Ui;Fi.default=Bi;var zi={exports:{}};function $i(t){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(t)}Object.defineProperty(zi.exports,"__esModule",{value:!0}),zi.exports.default=void 0,or.default.use(ae.default),or.default.use(He.default),or.default.use(Ii.default),or.default.use(Ze.default),or.default.use(li.default),or.default.use(ie.default),or.default.use(Et.default),or.default.use(Ct.default),or.default.use(Fi.default);var qi=or.default;if(zi.exports.default=qi,"object"===$i(zi)&&zi)try{zi.exports=or.default}catch(t){}or.default.default=or.default,Et.default,Ct.default,ie.default,ae.default,de.default,Ze.default,or.default,li.default,He.default,Ii.default,Fi.default,zi=zi.exports;var Vi={exports:{}};function Hi(t){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(t)}Object.defineProperty(Vi.exports,"__esModule",{value:!0}),Vi.exports.default=void 0;var Ki=zi.default;if(Vi.exports.default=Ki,"object"===Hi(Vi)&&Vi)try{Vi.exports=zi.default}catch(t){}return zi.default.default=zi.default,Vi.exports}()}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{"use strict";r.r(i),r.d(i,{Component:()=>h,ComponentAttribute:()=>k,ComponentAttributeDefinition:()=>x,ComponentDefinition:()=>v,ComponentDrawOption:()=>E,ComponentLink:()=>N,ComponentLinkDefinition:()=>L,DefaultDrawer:()=>Lk,DefaultMetadata:()=>Dk,DefaultParser:()=>jk,DefaultRender:()=>Uk,FileInformation:()=>o,FileInput:()=>z,ParseError:()=>Gk});var t={};function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{Adder:()=>vt,Delaunay:()=>Ru,FormatSpecifier:()=>Il,InternMap:()=>gt,InternSet:()=>bt,Node:()=>tm,Voronoi:()=>Su,ZoomTransform:()=>vk,active:()=>ea,arc:()=>ZE,area:()=>sT,areaRadial:()=>mT,ascending:()=>$,autoType:()=>sc,axisBottom:()=>tn,axisLeft:()=>en,axisRight:()=>Ze,axisTop:()=>Je,bin:()=>Jt,bisect:()=>J,bisectCenter:()=>X,bisectLeft:()=>Q,bisectRight:()=>W,bisector:()=>V,blob:()=>zc,blur:()=>Z,blur2:()=>tt,blurImage:()=>et,brush:()=>Na,brushSelection:()=>Pa,brushX:()=>Ca,brushY:()=>Ra,buffer:()=>qc,chord:()=>Va,chordDirected:()=>Ka,chordTranspose:()=>Ha,cluster:()=>Yv,color:()=>Qr,contourDensity:()=>nu,contours:()=>Js,count:()=>at,create:()=>kE,creator:()=>lr,cross:()=>lt,csv:()=>Gc,csvFormat:()=>Gu,csvFormatBody:()=>Wu,csvFormatRow:()=>Xu,csvFormatRows:()=>Qu,csvFormatValue:()=>Ju,csvParse:()=>Ku,csvParseRows:()=>Yu,cubehelix:()=>$s,cumsum:()=>ft,curveBasis:()=>aS,curveBasisClosed:()=>uS,curveBasisOpen:()=>lS,curveBumpX:()=>_T,curveBumpY:()=>xT,curveBundle:()=>hS,curveCardinal:()=>vS,curveCardinalClosed:()=>yS,curveCardinalOpen:()=>bS,curveCatmullRom:()=>wS,curveCatmullRomClosed:()=>TS,curveCatmullRomOpen:()=>kS,curveLinear:()=>rT,curveLinearClosed:()=>AS,curveMonotoneX:()=>DS,curveMonotoneY:()=>FS,curveNatural:()=>BS,curveStep:()=>$S,curveStepAfter:()=>VS,curveStepBefore:()=>qS,descending:()=>q,deviation:()=>dt,difference:()=>De,disjoint:()=>Fe,dispatch:()=>cn,drag:()=>ju,dragDisable:()=>Cr,dragEnable:()=>Rr,dsv:()=>Yc,dsvFormat:()=>Vu,easeBack:()=>Lc,easeBackIn:()=>Mc,easeBackInOut:()=>Lc,easeBackOut:()=>Ic,easeBounce:()=>Cc,easeBounceIn:()=>Pc,easeBounceInOut:()=>Rc,easeBounceOut:()=>Cc,easeCircle:()=>Oc,easeCircleIn:()=>Sc,easeCircleInOut:()=>Oc,easeCircleOut:()=>kc,easeCubic:()=>Xo,easeCubicIn:()=>Wo,easeCubicInOut:()=>Xo,easeCubicOut:()=>Qo,easeElastic:()=>jc,easeElasticIn:()=>Fc,easeElasticInOut:()=>Uc,easeElasticOut:()=>jc,easeExp:()=>Tc,easeExpIn:()=>wc,easeExpInOut:()=>Tc,easeExpOut:()=>Ec,easeLinear:()=>cc,easePoly:()=>vc,easePolyIn:()=>dc,easePolyInOut:()=>vc,easePolyOut:()=>pc,easeQuad:()=>hc,easeQuadIn:()=>lc,easeQuadInOut:()=>hc,easeQuadOut:()=>fc,easeSin:()=>_c,easeSinIn:()=>gc,easeSinInOut:()=>_c,easeSinOut:()=>bc,every:()=>Ce,extent:()=>pt,fcumsum:()=>yt,filter:()=>Ne,flatGroup:()=>At,flatRollup:()=>Pt,forceCenter:()=>rl,forceCollide:()=>ml,forceLink:()=>bl,forceManyBody:()=>Sl,forceRadial:()=>kl,forceSimulation:()=>Tl,forceX:()=>Ol,forceY:()=>Al,format:()=>Ul,formatDefaultLocale:()=>Vl,formatLocale:()=>ql,formatPrefix:()=>Bl,formatSpecifier:()=>Ml,fsum:()=>mt,geoAlbers:()=>uv,geoAlbersUsa:()=>cv,geoArea:()=>Wf,geoAzimuthalEqualArea:()=>dv,geoAzimuthalEqualAreaRaw:()=>hv,geoAzimuthalEquidistant:()=>vv,geoAzimuthalEquidistantRaw:()=>pv,geoBounds:()=>Ch,geoCentroid:()=>$h,geoCircle:()=>Zh,geoClipAntimeridian:()=>ld,geoClipCircle:()=>fd,geoClipExtent:()=>bd,geoClipRectangle:()=>gd,geoConicConformal:()=>xv,geoConicConformalRaw:()=>_v,geoConicEqualArea:()=>sv,geoConicEqualAreaRaw:()=>av,geoConicEquidistant:()=>Sv,geoConicEquidistantRaw:()=>Tv,geoContains:()=>Dd,geoDistance:()=>Od,geoEqualEarth:()=>Nv,geoEqualEarthRaw:()=>Rv,geoEquirectangular:()=>Ev,geoEquirectangularRaw:()=>wv,geoGnomonic:()=>Iv,geoGnomonicRaw:()=>Mv,geoGraticule:()=>Ud,geoGraticule10:()=>Bd,geoIdentity:()=>Lv,geoInterpolate:()=>zd,geoLength:()=>Td,geoMercator:()=>yv,geoMercatorRaw:()=>mv,geoNaturalEarth1:()=>Fv,geoNaturalEarth1Raw:()=>Dv,geoOrthographic:()=>Uv,geoOrthographicRaw:()=>jv,geoPath:()=>Vp,geoProjection:()=>rv,geoProjectionMutator:()=>iv,geoRotation:()=>Qh,geoStereographic:()=>zv,geoStereographicRaw:()=>Bv,geoStream:()=>Sf,geoTransform:()=>Hp,geoTransverseMercator:()=>qv,geoTransverseMercatorRaw:()=>$v,gray:()=>xs,greatest:()=>oe,greatestIndex:()=>we,group:()=>St,groupSort:()=>Bt,groups:()=>kt,hcl:()=>Cs,hierarchy:()=>Wv,histogram:()=>Jt,hsl:()=>ci,html:()=>el,image:()=>Qc,index:()=>Nt,indexes:()=>Mt,interpolate:()=>Li,interpolateArray:()=>Oi,interpolateBasis:()=>vi,interpolateBasisClosed:()=>mi,interpolateBlues:()=>Zw,interpolateBrBG:()=>fw,interpolateBuGn:()=>Pw,interpolateBuPu:()=>Rw,interpolateCividis:()=>lE,interpolateCool:()=>dE,interpolateCubehelix:()=>hy,interpolateCubehelixDefault:()=>fE,interpolateCubehelixLong:()=>dy,interpolateDate:()=>Pi,interpolateDiscrete:()=>Zm,interpolateGnBu:()=>Mw,interpolateGreens:()=>eE,interpolateGreys:()=>rE,interpolateHcl:()=>cy,interpolateHclLong:()=>ly,interpolateHsl:()=>oy,interpolateHslLong:()=>ay,interpolateHue:()=>ty,interpolateInferno:()=>TE,interpolateLab:()=>sy,interpolateMagma:()=>EE,interpolateNumber:()=>Ci,interpolateNumberArray:()=>Si,interpolateObject:()=>Ri,interpolateOrRd:()=>Lw,interpolateOranges:()=>cE,interpolatePRGn:()=>dw,interpolatePiYG:()=>vw,interpolatePlasma:()=>SE,interpolatePuBu:()=>Uw,interpolatePuBuGn:()=>Fw,interpolatePuOr:()=>yw,interpolatePuRd:()=>zw,interpolatePurples:()=>oE,interpolateRainbow:()=>vE,interpolateRdBu:()=>bw,interpolateRdGy:()=>xw,interpolateRdPu:()=>qw,interpolateRdYlBu:()=>Ew,interpolateRdYlGn:()=>Sw,interpolateReds:()=>sE,interpolateRgb:()=>xi,interpolateRgbBasis:()=>Ei,interpolateRgbBasisClosed:()=>Ti,interpolateRound:()=>ey,interpolateSinebow:()=>bE,interpolateSpectral:()=>Ow,interpolateString:()=>Ii,interpolateTransformCss:()=>mo,interpolateTransformSvg:()=>yo,interpolateTurbo:()=>_E,interpolateViridis:()=>wE,interpolateWarm:()=>hE,interpolateYlGn:()=>Yw,interpolateYlGnBu:()=>Hw,interpolateYlOrBr:()=>Ww,interpolateYlOrRd:()=>Xw,interpolateZoom:()=>ry,interrupt:()=>co,intersection:()=>je,interval:()=>hk,isoFormat:()=>ck,isoParse:()=>fk,json:()=>Jc,lab:()=>ws,lch:()=>Ps,least:()=>_e,leastIndex:()=>xe,line:()=>aT,lineRadial:()=>vT,link:()=>ST,linkHorizontal:()=>kT,linkRadial:()=>AT,linkVertical:()=>OT,local:()=>AE,map:()=>Me,matcher:()=>vn,max:()=>Zt,maxIndex:()=>te,mean:()=>fe,median:()=>he,medianIndex:()=>de,merge:()=>pe,min:()=>ee,minIndex:()=>ne,mode:()=>ve,namespace:()=>Rn,namespaces:()=>Cn,nice:()=>Qt,now:()=>Gi,pack:()=>Em,packEnclose:()=>sm,packSiblings:()=>xm,pairs:()=>me,partition:()=>Pm,path:()=>ts,permute:()=>Dt,pie:()=>lT,piecewise:()=>py,pointRadial:()=>yT,pointer:()=>Fi,pointers:()=>CE,polygonArea:()=>my,polygonCentroid:()=>yy,polygonContains:()=>xy,polygonHull:()=>_y,polygonLength:()=>wy,precisionFixed:()=>Hl,precisionPrefix:()=>Kl,precisionRound:()=>Yl,quadtree:()=>ul,quantile:()=>ae,quantileIndex:()=>ue,quantileSorted:()=>se,quantize:()=>vy,quickselect:()=>re,radialArea:()=>mT,radialLine:()=>vT,randomBates:()=>Py,randomBernoulli:()=>Ny,randomBeta:()=>Ly,randomBinomial:()=>Dy,randomCauchy:()=>jy,randomExponential:()=>Cy,randomGamma:()=>Iy,randomGeometric:()=>My,randomInt:()=>Sy,randomIrwinHall:()=>Ay,randomLcg:()=>$y,randomLogNormal:()=>Oy,randomLogistic:()=>Uy,randomNormal:()=>ky,randomPareto:()=>Ry,randomPoisson:()=>By,randomUniform:()=>Ty,randomWeibull:()=>Fy,range:()=>ge,rank:()=>be,reduce:()=>Ie,reverse:()=>Le,rgb:()=>ti,ribbon:()=>fs,ribbonArrow:()=>hs,rollup:()=>Ct,rollups:()=>Rt,scaleBand:()=>Yy,scaleDiverging:()=>Yx,scaleDivergingLog:()=>Gx,scaleDivergingPow:()=>Qx,scaleDivergingSqrt:()=>Xx,scaleDivergingSymlog:()=>Wx,scaleIdentity:()=>ug,scaleImplicit:()=>Hy,scaleLinear:()=>sg,scaleLog:()=>yg,scaleOrdinal:()=>Ky,scalePoint:()=>Wy,scalePow:()=>kg,scaleQuantile:()=>Rg,scaleQuantize:()=>Ng,scaleRadial:()=>Cg,scaleSequential:()=>Bx,scaleSequentialLog:()=>zx,scaleSequentialPow:()=>qx,scaleSequentialQuantile:()=>Hx,scaleSequentialSqrt:()=>Vx,scaleSequentialSymlog:()=>$x,scaleSqrt:()=>Og,scaleSymlog:()=>xg,scaleThreshold:()=>Mg,scaleTime:()=>Dx,scaleUtc:()=>Fx,scan:()=>Ee,schemeAccent:()=>tw,schemeBlues:()=>Jw,schemeBrBG:()=>lw,schemeBuGn:()=>Aw,schemeBuPu:()=>Cw,schemeCategory10:()=>Zx,schemeDark2:()=>ew,schemeGnBu:()=>Nw,schemeGreens:()=>tE,schemeGreys:()=>nE,schemeOrRd:()=>Iw,schemeOranges:()=>uE,schemePRGn:()=>hw,schemePaired:()=>nw,schemePastel1:()=>rw,schemePastel2:()=>iw,schemePiYG:()=>pw,schemePuBu:()=>jw,schemePuBuGn:()=>Dw,schemePuOr:()=>mw,schemePuRd:()=>Bw,schemePurples:()=>iE,schemeRdBu:()=>gw,schemeRdGy:()=>_w,schemeRdPu:()=>$w,schemeRdYlBu:()=>ww,schemeRdYlGn:()=>Tw,schemeReds:()=>aE,schemeSet1:()=>ow,schemeSet2:()=>aw,schemeSet3:()=>sw,schemeSpectral:()=>kw,schemeTableau10:()=>uw,schemeYlGn:()=>Kw,schemeYlGnBu:()=>Vw,schemeYlOrBr:()=>Gw,schemeYlOrRd:()=>Qw,select:()=>Sr,selectAll:()=>RE,selection:()=>Tr,selector:()=>fn,selectorAll:()=>pn,shuffle:()=>Te,shuffler:()=>Se,some:()=>Re,sort:()=>Ft,stack:()=>WS,stackOffsetDiverging:()=>XS,stackOffsetExpand:()=>QS,stackOffsetNone:()=>HS,stackOffsetSilhouette:()=>JS,stackOffsetWiggle:()=>ZS,stackOrderAppearance:()=>tk,stackOrderAscending:()=>nk,stackOrderDescending:()=>ik,stackOrderInsideOut:()=>ok,stackOrderNone:()=>KS,stackOrderReverse:()=>ak,stratify:()=>Lm,style:()=>$n,subset:()=>$e,sum:()=>ke,superset:()=>Be,svg:()=>nl,symbol:()=>nS,symbolAsterisk:()=>CT,symbolCircle:()=>RT,symbolCross:()=>NT,symbolDiamond:()=>LT,symbolDiamond2:()=>DT,symbolPlus:()=>FT,symbolSquare:()=>jT,symbolSquare2:()=>UT,symbolStar:()=>qT,symbolTriangle:()=>HT,symbolTriangle2:()=>YT,symbolWye:()=>JT,symbolX:()=>ZT,symbols:()=>tS,symbolsFill:()=>tS,symbolsStroke:()=>eS,text:()=>Hc,thresholdFreedmanDiaconis:()=>ce,thresholdScott:()=>le,thresholdSturges:()=>Xt,tickFormat:()=>og,tickIncrement:()=>Gt,tickStep:()=>Wt,ticks:()=>Yt,timeDay:()=>nb,timeDays:()=>rb,timeFormat:()=>f_,timeFormatDefaultLocale:()=>Nx,timeFormatLocale:()=>c_,timeFriday:()=>lb,timeFridays:()=>yb,timeHour:()=>Zg,timeHours:()=>tb,timeInterval:()=>$g,timeMillisecond:()=>Vg,timeMilliseconds:()=>Hg,timeMinute:()=>Qg,timeMinutes:()=>Xg,timeMonday:()=>ab,timeMondays:()=>db,timeMonth:()=>_b,timeMonths:()=>xb,timeParse:()=>h_,timeSaturday:()=>fb,timeSaturdays:()=>gb,timeSecond:()=>Yg,timeSeconds:()=>Gg,timeSunday:()=>ob,timeSundays:()=>hb,timeThursday:()=>cb,timeThursdays:()=>mb,timeTickInterval:()=>o_,timeTicks:()=>i_,timeTuesday:()=>sb,timeTuesdays:()=>pb,timeWednesday:()=>ub,timeWednesdays:()=>vb,timeWeek:()=>ob,timeWeeks:()=>hb,timeYear:()=>Eb,timeYears:()=>Tb,timeout:()=>no,timer:()=>Xi,timerFlush:()=>Ji,transition:()=>Ko,transpose:()=>Oe,tree:()=>Vm,treemap:()=>Wm,treemapBinary:()=>Qm,treemapDice:()=>Am,treemapResquarify:()=>Jm,treemapSlice:()=>Hm,treemapSliceDice:()=>Xm,treemapSquarify:()=>Gm,tsv:()=>Wc,tsvFormat:()=>nc,tsvFormatBody:()=>rc,tsvFormatRow:()=>oc,tsvFormatRows:()=>ic,tsvFormatValue:()=>ac,tsvParse:()=>tc,tsvParseRows:()=>ec,union:()=>qe,utcDay:()=>Nb,utcDays:()=>Mb,utcFormat:()=>d_,utcFriday:()=>Bb,utcFridays:()=>Yb,utcHour:()=>Pb,utcHours:()=>Cb,utcMillisecond:()=>Vg,utcMilliseconds:()=>Hg,utcMinute:()=>kb,utcMinutes:()=>Ob,utcMonday:()=>Db,utcMondays:()=>qb,utcMonth:()=>Qb,utcMonths:()=>Xb,utcParse:()=>p_,utcSaturday:()=>zb,utcSaturdays:()=>Gb,utcSecond:()=>Yg,utcSeconds:()=>Gg,utcSunday:()=>Lb,utcSundays:()=>$b,utcThursday:()=>Ub,utcThursdays:()=>Kb,utcTickInterval:()=>r_,utcTicks:()=>n_,utcTuesday:()=>Fb,utcTuesdays:()=>Vb,utcWednesday:()=>jb,utcWednesdays:()=>Hb,utcWeek:()=>Lb,utcWeeks:()=>$b,utcYear:()=>Zb,utcYears:()=>t_,variance:()=>ht,window:()=>jn,xml:()=>tl,zip:()=>Pe,zoom:()=>kk,zoomIdentity:()=>mk,zoomTransform:()=>yk});var n=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:null};e(this,t);var r=n.path;this.path=r||null}var n,r;return n=t,(r=[{key:"fileName",get:function(){return this.path?this.path.replace(/^.*[\\/]/,""):null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();const o=n;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(r);if(i){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,name:null,definition:null,drawOption:null,attributes:[],children:[]};s(this,a),t=o.call(this,e);var n=e.id,r=e.name,i=e.definition,u=e.drawOption,c=e.attributes,l=e.children;return t.id=n||null,t.name=r||null,t.definition=i||null,t.drawOption=u||null,t.attributes=c||[],t.children=l||[],t}return e=a,(n=[{key:"addChild",value:function(t){var e=t.definition.parentTypes;this.definition.isContainer&&e.includes(this.definition.type)&&!this.children.includes(t)&&this.children.push(t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(o);const h=f;function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,icon:null,model:null,parentTypes:[],childrenTypes:[],definedAttributes:[],isContainer:!1};d(this,t);var n=e.type,r=e.icon,i=e.model,o=e.parentTypes,a=e.childrenTypes,s=e.definedAttributes,u=e.isContainer;this.type=n||null,this.icon=r||null,this.model=i||null,this.parentTypes=o||[],this.childrenTypes=a||[],this.definedAttributes=s||[],this.isContainer=void 0!==u&&u}));const v=p;function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,type:null,linkType:null,linkRef:[],containerRef:[],required:!1,definedAttributes:[],rules:{values:null,min:null,max:null,regex:null}};b(this,t);var n=e.name,r=e.type,i=e.linkType,o=e.linkRef,a=e.containerRef,s=e.definedAttributes,u=e.required,c=e.rules;this.name=n||null,this.type=r||null,this.linkType=i||null,this.linkRef=o||[],this.containerRef=a||[],this.definedAttributes=s||[],this.required=u||!1,this.rules=y({values:null,min:null,max:null,regex:null},c)}));const x=_;function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}const E=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:null,y:null,width:null,height:null};w(this,t);var n=e.x,r=e.y,i=e.width,o=e.height;this.x=n||null,this.y=r||null,this.width=i||null,this.height=o||null}));function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var S=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,value:null,type:null,definition:null};T(this,t);var n=e.name,r=e.value,i=e.type,o=e.definition;this.name=n||null,this.value=r||null,this.type=i||null,this.definition=o||null}));const k=S;function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function C(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}const N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(n);if(r){var i=R(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return C(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{source:null,target:null,definition:null};A(this,o),t=i.call(this);var n=e.source,r=e.target,a=e.definition;return t.source=n||null,t.target=r||null,t.definition=a||null,t}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(o);function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var I=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attributeRef:null,sourceRef:null,targetRef:null,type:null};M(this,t);var n=e.attributeRef,r=e.sourceRef,i=e.targetRef,o=e.type;this.attributeRef=n||null,this.sourceRef=r||null,this.targetRef=i||null,this.type=o||null}));const L=I;function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function U(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}const z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(n);if(r){var i=B(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return U(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:null,name:null,content:null};F(this,o),t=i.call(this,e);var n=e.content;return t.content=n||null,t}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(o);function $(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function q(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function V(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=$,n=(e,n)=>$(t(e),n),r=(e,n)=>t(e)-n):(e=t===$||t===q?t:H,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function H(){return 0}function K(t){return null===t?NaN:+t}function*Y(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}const G=V($),W=G.right,Q=G.left,X=V(K).center,J=W;function Z(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=ot(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const tt=nt(ot),et=nt((function(t){const e=ot(t);return(t,n,r,i,o)=>{e(t,n,0+(r<<=2),0+(i<<=2),o<<=2),e(t,n,r+1,i+1,o),e(t,n,r+2,i+2,o),e(t,n,r+3,i+3,o)}}));function nt(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(void 0!==a?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!n&&!r)return e;const s=n&&t(n),u=r&&t(r),c=i.slice();return s&&u?(rt(s,c,i,o,a),rt(s,i,c,o,a),rt(s,c,i,o,a),it(u,i,c,o,a),it(u,c,i,o,a),it(u,i,c,o,a)):s?(rt(s,i,c,o,a),rt(s,c,i,o,a),rt(s,i,c,o,a)):u&&(it(u,i,c,o,a),it(u,c,i,o,a),it(u,i,c,o,a)),e}}function rt(t,e,n,r,i){for(let o=0,a=r*i;o<a;)t(e,n,o,o+=r,1)}function it(t,e,n,r,i){for(let o=0,a=r*i;o<r;++o)t(e,n,o,o+a,r)}function ot(t){const e=Math.floor(t);if(e===t)return function(t){const e=2*t+1;return(n,r,i,o,a)=>{if(!((o-=a)>=i))return;let s=t*r[i];const u=a*t;for(let t=i,e=i+u;t<e;t+=a)s+=r[Math.min(o,t)];for(let t=i,c=o;t<=c;t+=a)s+=r[Math.min(o,t+u)],n[t]=s/e,s-=r[Math.max(i,t-u)]}}(t);const n=t-e,r=2*t+1;return(t,i,o,a,s)=>{if(!((a-=s)>=o))return;let u=e*i[o];const c=s*e,l=c+s;for(let t=o,e=o+c;t<e;t+=s)u+=i[Math.min(a,t)];for(let e=o,f=a;e<=f;e+=s)u+=i[Math.min(a,e+c)],t[e]=(u+n*(i[Math.max(o,e-l)]+i[Math.min(a,e+l)]))/r,u-=i[Math.max(o,e-c)]}}function at(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function st(t){return 0|t.length}function ut(t){return!(t>0)}function ct(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function lt(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(ct)).map(st),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(ut))return o;for(;;){o.push(i.map(((e,n)=>t[n][e])));let a=r;for(;++i[a]===n[a];){if(0===a)return e?o.map(e):o;i[a--]=0}}}function ft(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:i=>n+=+e(i,r++,t)||0)}function ht(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,o+=n*(e-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function dt(t,e){const n=ht(t,e);return n?Math.sqrt(n):n}function pt(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class vt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}function mt(t,e){const n=new vt;if(void 0===e)for(let e of t)(e=+e)&&n.add(e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function yt(t,e){const n=new vt;let r=-1;return Float64Array.from(t,void 0===e?t=>n.add(+t||0):i=>n.add(+e(i,++r,t)||0))}class gt extends Map{constructor(t,e=Et){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(_t(this,t))}has(t){return super.has(_t(this,t))}set(t,e){return super.set(xt(this,t),e)}delete(t){return super.delete(wt(this,t))}}class bt extends Set{constructor(t,e=Et){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(_t(this,t))}add(t){return super.add(xt(this,t))}delete(t){return super.delete(wt(this,t))}}function _t({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xt({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function wt({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Et(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Tt(t){return t}function St(t,...e){return Lt(t,Tt,Tt,e)}function kt(t,...e){return Lt(t,Array.from,Tt,e)}function Ot(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap((t=>t.pop().map((([e,n])=>[...t,e,n]))));return t}function At(t,...e){return Ot(kt(t,...e),e)}function Pt(t,e,...n){return Ot(Rt(t,e,...n),n)}function Ct(t,e,...n){return Lt(t,Tt,e,n)}function Rt(t,e,...n){return Lt(t,Array.from,e,n)}function Nt(t,...e){return Lt(t,Tt,It,e)}function Mt(t,...e){return Lt(t,Array.from,It,e)}function It(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function Lt(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new gt,s=r[o++];let u=-1;for(const t of i){const e=s(t,++u,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}function Dt(t,e){return Array.from(e,(e=>t[e]))}function Ft(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=Ut(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>Ut(n[t],n[e])))),Dt(t,r)}return t.sort(jt(n))}function jt(t=$){if(t===$)return Ut;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function Ut(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function Bt(t,e,n){return(2!==e.length?Ft(Ct(t,e,n),(([t,e],[n,r])=>$(e,r)||$(t,n))):Ft(St(t,n),(([t,n],[r,i])=>e(n,i)||$(t,r)))).map((([t])=>t))}var zt=Array.prototype,$t=zt.slice;function qt(t){return()=>t}zt.map;var Vt=Math.sqrt(50),Ht=Math.sqrt(10),Kt=Math.sqrt(2);function Yt(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Gt(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}function Gt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Vt?10:o>=Ht?5:o>=Kt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Vt?10:o>=Ht?5:o>=Kt?2:1)}function Wt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Vt?i*=10:o>=Ht?i*=5:o>=Kt&&(i*=2),e<t?-i:i}function Qt(t,e,n){let r;for(;;){const i=Gt(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function Xt(t){return Math.ceil(Math.log(at(t))/Math.LN2)+1}function Jt(){var t=Tt,e=pt,n=Xt;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,a,s=r.length,u=new Array(s);for(i=0;i<s;++i)u[i]=t(r[i],i,r);var c=e(u),l=c[0],f=c[1],h=n(u,l,f);if(!Array.isArray(h)){const t=f,n=+h;if(e===pt&&([l,f]=Qt(l,f,n)),(h=Yt(l,f,n))[0]<=l&&(a=Gt(l,f,n)),h[h.length-1]>=f)if(t>=f&&e===pt){const t=Gt(l,f,n);isFinite(t)&&(t>0?f=(Math.floor(f/t)+1)*t:t<0&&(f=(Math.ceil(f*-t)+1)/-t))}else h.pop()}for(var d=h.length;h[0]<=l;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,v=new Array(d+1);for(i=0;i<=d;++i)(p=v[i]=[]).x0=i>0?h[i-1]:l,p.x1=i<d?h[i]:f;if(isFinite(a)){if(a>0)for(i=0;i<s;++i)null!=(o=u[i])&&l<=o&&o<=f&&v[Math.min(d,Math.floor((o-l)/a))].push(r[i]);else if(a<0)for(i=0;i<s;++i)if(null!=(o=u[i])&&l<=o&&o<=f){const t=Math.floor((l-o)*a);v[Math.min(d,t+(h[t]<=o))].push(r[i])}}else for(i=0;i<s;++i)null!=(o=u[i])&&l<=o&&o<=f&&v[J(h,o,0,d)].push(r[i]);return v}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:qt(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:qt([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?qt($t.call(t)):qt(t),r):n},r}function Zt(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function te(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function ee(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function ne(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function re(t,e,n=0,r=t.length-1,i){for(i=void 0===i?Ut:jt(i);r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1);re(t,e,Math.max(n,Math.floor(e-a*u/o+c)),Math.min(r,Math.floor(e+(o-a)*u/o+c)),i)}const o=t[e];let a=n,s=r;for(ie(t,n,e),i(t[r],o)>0&&ie(t,n,r);a<s;){for(ie(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?ie(t,n,s):(++s,ie(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ie(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function oe(t,e=$){let n,r=!1;if(1===e.length){let i;for(const o of t){const t=e(o);(r?$(t,i)>0:0===$(t,t))&&(n=o,i=t,r=!0)}}else for(const i of t)(r?e(i,n)>0:0===e(i,i))&&(n=i,r=!0);return n}function ae(t,e,n){if(r=(t=Float64Array.from(Y(t,n))).length){if((e=+e)<=0||r<2)return ee(t);if(e>=1)return Zt(t);var r,i=(r-1)*e,o=Math.floor(i),a=Zt(re(t,o).subarray(0,o+1));return a+(ee(t.subarray(o+1))-a)*(i-o)}}function se(t,e,n=K){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function ue(t,e,n){if(r=(t=Float64Array.from(Y(t,n))).length){if((e=+e)<=0||r<2)return ne(t);if(e>=1)return te(t);var r,i=Math.floor((r-1)*e),o=re(Uint32Array.from(t,((t,e)=>e)),i,0,r-1,((e,n)=>Ut(t[e],t[n])));return oe(o.subarray(0,i+1),(e=>t[e]))}}function ce(t,e,n){return Math.ceil((n-e)/(2*(ae(t,.75)-ae(t,.25))*Math.pow(at(t),-1/3)))}function le(t,e,n){return Math.ceil((n-e)*Math.cbrt(at(t))/(3.49*dt(t)))}function fe(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function he(t,e){return ae(t,.5,e)}function de(t,e){return ue(t,.5,e)}function pe(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function ve(t,e){const n=new gt;if(void 0===e)for(let e of t)null!=e&&e>=e&&n.set(e,(n.get(e)||0)+1);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[t,e]of n)e>i&&(i=e,r=t);return r}function me(t,e=ye){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function ye(t,e){return[t,e]}function ge(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function be(t,e=$){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);2!==e.length&&(n=n.map(e),e=$);const i=(t,r)=>e(n[t],n[r]);let o,a;return Uint32Array.from(n,((t,e)=>e)).sort(e===$?(t,e)=>Ut(n[t],n[e]):jt(i)).forEach(((t,e)=>{const n=i(t,void 0===o?t:o);n>=0?((void 0===o||n>0)&&(o=t,a=e),r[t]=a):r[t]=NaN})),r}function _e(t,e=$){let n,r=!1;if(1===e.length){let i;for(const o of t){const t=e(o);(r?$(t,i)<0:0===$(t,t))&&(n=o,i=t,r=!0)}}else for(const i of t)(r?e(i,n)<0:0===e(i,i))&&(n=i,r=!0);return n}function xe(t,e=$){if(1===e.length)return ne(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?0===e(o,o):e(o,n)<0)&&(n=o,r=i);return r}function we(t,e=$){if(1===e.length)return te(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?0===e(o,o):e(o,n)>0)&&(n=o,r=i);return r}function Ee(t,e){const n=xe(t,e);return n<0?void 0:n}const Te=Se(Math.random);function Se(t){return function(e,n=0,r=e.length){let i=r-(n=+n);for(;i;){const r=t()*i--|0,o=e[i+n];e[i+n]=e[r+n],e[r+n]=o}return e}}function ke(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Oe(t){if(!(i=t.length))return[];for(var e=-1,n=ee(t,Ae),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function Ae(t){return t.length}function Pe(){return Oe(arguments)}function Ce(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function Re(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function Ne(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function Me(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}function Ie(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++a}for(;({done:i,value:o}=r.next()),!i;)n=e(n,o,++a,t);return n}function Le(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function De(t,...e){t=new bt(t);for(const n of e)for(const e of n)t.delete(e);return t}function Fe(t,e){const n=e[Symbol.iterator](),r=new bt;for(const e of t){if(r.has(e))return!1;let t,i;for(;({value:t,done:i}=n.next())&&!i;){if(Object.is(e,t))return!1;r.add(t)}}return!0}function je(t,...e){t=new bt(t),e=e.map(Ue);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Ue(t){return t instanceof bt?t:new bt(t)}function Be(t,e){const n=t[Symbol.iterator](),r=new Set;for(const t of e){const e=ze(t);if(r.has(e))continue;let i,o;for(;({value:i,done:o}=n.next());){if(o)return!1;const t=ze(i);if(r.add(t),Object.is(e,t))break}}return!0}function ze(t){return null!==t&&"object"==typeof t?t.valueOf():t}function $e(t,e){return Be(e,t)}function qe(...t){const e=new bt;for(const n of t)for(const t of n)e.add(t);return e}function Ve(t){return t}var He=1e-6;function Ke(t){return"translate("+t+",0)"}function Ye(t){return"translate(0,"+t+")"}function Ge(t){return e=>+t(e)}function We(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Qe(){return!this.__axis}function Xe(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",f=1===t||3===t?Ke:Ye;function h(h){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):Ve:i,v=Math.max(o,0)+s,m=e.range(),y=+m[0]+u,g=+m[m.length-1]+u,b=(e.bandwidth?We:Ge)(e.copy(),u),_=h.selection?h.selection():h,x=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(d,e).order(),E=w.exit(),T=w.enter().append("g").attr("class","tick"),S=w.select("line"),k=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(T),S=S.merge(T.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),k=k.merge(T.append("text").attr("fill","currentColor").attr(l,c*v).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==_&&(x=x.transition(h),w=w.transition(h),S=S.transition(h),k=k.transition(h),E=E.transition(h).attr("opacity",He).attr("transform",(function(t){return isFinite(t=b(t))?f(t+u):this.getAttribute("transform")})),T.attr("opacity",He).attr("transform",(function(t){var e=this.parentNode.__axis;return f((e&&isFinite(e=e(t))?e:b(t))+u)}))),E.remove(),x.attr("d",4===t||2===t?a?"M"+c*a+","+y+"H"+u+"V"+g+"H"+c*a:"M"+u+","+y+"V"+g:a?"M"+y+","+c*a+"V"+u+"H"+g+"V"+c*a:"M"+y+","+u+"H"+g),w.attr("opacity",1).attr("transform",(function(t){return f(b(t)+u)})),S.attr(l+"2",c*o),k.attr(l,c*v).text(p),_.filter(Qe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),_.each((function(){this.__axis=b}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h.offset=function(t){return arguments.length?(u=+t,h):u},h}function Je(t){return Xe(1,t)}function Ze(t){return Xe(2,t)}function tn(t){return Xe(3,t)}function en(t){return Xe(4,t)}var nn={value:()=>{}};function rn(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new on(r)}function on(t){this._=t}function an(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function sn(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function un(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=nn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}on.prototype=rn.prototype={constructor:on,on:function(t,e){var n,r=this._,i=an(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=un(r[n],t.name,e);else if(null==e)for(n in r)r[n]=un(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=sn(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new on(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const cn=rn;function ln(){}function fn(t){return null==t?ln:function(){return this.querySelector(t)}}function hn(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function dn(){return[]}function pn(t){return null==t?dn:function(){return this.querySelectorAll(t)}}function vn(t){return function(){return this.matches(t)}}function mn(t){return function(e){return e.matches(t)}}var yn=Array.prototype.find;function gn(){return this.firstElementChild}var bn=Array.prototype.filter;function _n(){return Array.from(this.children)}function xn(t){return new Array(t.length)}function wn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function En(t){return function(){return t}}function Tn(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new wn(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Sn(t,e,n,r,i,o,a){var s,u,c,l=new Map,f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?i[s]=u:l.set(c,u));for(s=0;s<h;++s)c=a.call(t,o[s],s,o)+"",(u=l.get(c))?(r[s]=u,u.__data__=o[s],l.delete(c)):n[s]=new wn(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l.get(d[s])===u&&(i[s]=u)}function kn(t){return t.__data__}function On(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function An(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}wn.prototype={constructor:wn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Pn="http://www.w3.org/1999/xhtml";const Cn={svg:"http://www.w3.org/2000/svg",xhtml:Pn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rn(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Cn.hasOwnProperty(e)?{space:Cn[e],local:t}:t}function Nn(t){return function(){this.removeAttribute(t)}}function Mn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function In(t,e){return function(){this.setAttribute(t,e)}}function Ln(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Dn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Fn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function jn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Un(t){return function(){this.style.removeProperty(t)}}function Bn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function zn(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function $n(t,e){return t.style.getPropertyValue(e)||jn(t).getComputedStyle(t,null).getPropertyValue(e)}function qn(t){return function(){delete this[t]}}function Vn(t,e){return function(){this[t]=e}}function Hn(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Kn(t){return t.trim().split(/^|\s+/)}function Yn(t){return t.classList||new Gn(t)}function Gn(t){this._node=t,this._names=Kn(t.getAttribute("class")||"")}function Wn(t,e){for(var n=Yn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Qn(t,e){for(var n=Yn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Xn(t){return function(){Wn(this,t)}}function Jn(t){return function(){Qn(this,t)}}function Zn(t,e){return function(){(e.apply(this,arguments)?Wn:Qn)(this,t)}}function tr(){this.textContent=""}function er(t){return function(){this.textContent=t}}function nr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function rr(){this.innerHTML=""}function ir(t){return function(){this.innerHTML=t}}function or(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ar(){this.nextSibling&&this.parentNode.appendChild(this)}function sr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ur(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Pn&&e.documentElement.namespaceURI===Pn?e.createElement(t):e.createElementNS(n,t)}}function cr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function lr(t){var e=Rn(t);return(e.local?cr:ur)(e)}function fr(){return null}function hr(){var t=this.parentNode;t&&t.removeChild(this)}function dr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vr(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function mr(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function yr(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function gr(t,e,n){var r=jn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function br(t,e){return function(){return gr(this,t,e)}}function _r(t,e){return function(){return gr(this,t,e.apply(this,arguments))}}Gn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xr=[null];function wr(t,e){this._groups=t,this._parents=e}function Er(){return new wr([[document.documentElement]],xr)}wr.prototype=Er.prototype={constructor:wr,select:function(t){"function"!=typeof t&&(t=fn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new wr(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return hn(t.apply(this,arguments))}}(t):pn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new wr(r,i)},selectChild:function(t){return this.select(null==t?gn:function(t){return function(){return yn.call(this.children,t)}}("function"==typeof t?t:mn(t)))},selectChildren:function(t){return this.selectAll(null==t?_n:function(t){return function(){return bn.call(this.children,t)}}("function"==typeof t?t:mn(t)))},filter:function(t){"function"!=typeof t&&(t=vn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new wr(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,kn);var n=e?Sn:Tn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=En(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=On(t.call(l,l&&l.__data__,c,r)),p=d.length,v=s[c]=new Array(p),m=a[c]=new Array(p),y=u[c]=new Array(h);n(l,f,v,m,y,d,e);for(var g,b,_=0,x=0;_<p;++_)if(g=v[_]){for(_>=x&&(x=_+1);!(b=m[x])&&++x<p;);g._next=b||null}}return(a=new wr(a,r))._enter=s,a._exit=u,a},enter:function(){return new wr(this._enter||this._groups.map(xn),this._parents)},exit:function(){return new wr(this._exit||this._groups.map(xn),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c,l=n[u],f=r[u],h=l.length,d=s[u]=new Array(h),p=0;p<h;++p)(c=l[p]||f[p])&&(d[p]=c);for(;u<i;++u)s[u]=n[u];return new wr(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=An);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new wr(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Rn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Mn:Nn:"function"==typeof e?n.local?Fn:Dn:n.local?Ln:In)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Un:"function"==typeof e?zn:Bn)(t,e,null==n?"":n)):$n(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?qn:"function"==typeof e?Hn:Vn)(t,e)):this.node()[t]},classed:function(t,e){var n=Kn(t+"");if(arguments.length<2){for(var r=Yn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Zn:e?Xn:Jn)(n,e))},text:function(t){return arguments.length?this.each(null==t?tr:("function"==typeof t?nr:er)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?rr:("function"==typeof t?or:ir)(t)):this.node().innerHTML},raise:function(){return this.each(ar)},lower:function(){return this.each(sr)},append:function(t){var e="function"==typeof t?t:lr(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:lr(t),r=null==e?fr:"function"==typeof e?e:fn(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(hr)},clone:function(t){return this.select(t?pr:dr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=vr(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?yr:mr,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?_r:br)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Tr=Er;function Sr(t){return"string"==typeof t?new wr([[document.querySelector(t)]],[document.documentElement]):new wr([[t]],xr)}const kr={passive:!1},Or={capture:!0,passive:!1};function Ar(t){t.stopImmediatePropagation()}function Pr(t){t.preventDefault(),t.stopImmediatePropagation()}function Cr(t){var e=t.document.documentElement,n=Sr(t).on("dragstart.drag",Pr,Or);"onselectstart"in e?n.on("selectstart.drag",Pr,Or):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Rr(t,e){var n=t.document.documentElement,r=Sr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Pr,Or),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Nr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ir(){}var Lr=.7,Dr=1/Lr,Fr="\\s*([+-]?\\d+)\\s*",jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Br=/^#([0-9a-f]{3,8})$/,zr=new RegExp(`^rgb\\(${Fr},${Fr},${Fr}\\)$`),$r=new RegExp(`^rgb\\(${Ur},${Ur},${Ur}\\)$`),qr=new RegExp(`^rgba\\(${Fr},${Fr},${Fr},${jr}\\)$`),Vr=new RegExp(`^rgba\\(${Ur},${Ur},${Ur},${jr}\\)$`),Hr=new RegExp(`^hsl\\(${jr},${Ur},${Ur}\\)$`),Kr=new RegExp(`^hsla\\(${jr},${Ur},${Ur},${jr}\\)$`),Yr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Gr(){return this.rgb().formatHex()}function Wr(){return this.rgb().formatRgb()}function Qr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Br.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Xr(e):3===n?new ei(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Jr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Jr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=zr.exec(t))?new ei(e[1],e[2],e[3],1):(e=$r.exec(t))?new ei(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=qr.exec(t))?Jr(e[1],e[2],e[3],e[4]):(e=Vr.exec(t))?Jr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Hr.exec(t))?si(e[1],e[2]/100,e[3]/100,1):(e=Kr.exec(t))?si(e[1],e[2]/100,e[3]/100,e[4]):Yr.hasOwnProperty(t)?Xr(Yr[t]):"transparent"===t?new ei(NaN,NaN,NaN,0):null}function Xr(t){return new ei(t>>16&255,t>>8&255,255&t,1)}function Jr(t,e,n,r){return r<=0&&(t=e=n=NaN),new ei(t,e,n,r)}function Zr(t){return t instanceof Ir||(t=Qr(t)),t?new ei((t=t.rgb()).r,t.g,t.b,t.opacity):new ei}function ti(t,e,n,r){return 1===arguments.length?Zr(t):new ei(t,e,n,null==r?1:r)}function ei(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ni(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}`}function ri(){const t=ii(this.opacity);return`${1===t?"rgb(":"rgba("}${oi(this.r)}, ${oi(this.g)}, ${oi(this.b)}${1===t?")":`, ${t})`}`}function ii(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function oi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ai(t){return((t=oi(t))<16?"0":"")+t.toString(16)}function si(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new li(t,e,n,r)}function ui(t){if(t instanceof li)return new li(t.h,t.s,t.l,t.opacity);if(t instanceof Ir||(t=Qr(t)),!t)return new li;if(t instanceof li)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new li(a,s,u,t.opacity)}function ci(t,e,n,r){return 1===arguments.length?ui(t):new li(t,e,n,null==r?1:r)}function li(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function fi(t){return(t=(t||0)%360)<0?t+360:t}function hi(t){return Math.max(0,Math.min(1,t||0))}function di(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function pi(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function vi(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return pi((n-r/e)*e,a,i,o,s)}}function mi(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return pi((n-r/e)*e,i,o,a,s)}}Nr(Ir,Qr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Gr,formatHex:Gr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ui(this).formatHsl()},formatRgb:Wr,toString:Wr}),Nr(ei,ti,Mr(Ir,{brighter(t){return t=null==t?Dr:Math.pow(Dr,t),new ei(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Lr:Math.pow(Lr,t),new ei(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ei(oi(this.r),oi(this.g),oi(this.b),ii(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ni,formatHex:ni,formatHex8:function(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}${ai(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ri,toString:ri})),Nr(li,ci,Mr(Ir,{brighter(t){return t=null==t?Dr:Math.pow(Dr,t),new li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Lr:Math.pow(Lr,t),new li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ei(di(t>=240?t-240:t+120,i,r),di(t,i,r),di(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new li(fi(this.h),hi(this.s),hi(this.l),ii(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ii(this.opacity);return`${1===t?"hsl(":"hsla("}${fi(this.h)}, ${100*hi(this.s)}%, ${100*hi(this.l)}%${1===t?")":`, ${t})`}`}}));const yi=t=>()=>t;function gi(t,e){return function(n){return t+n*e}}function bi(t,e){var n=e-t;return n?gi(t,n>180||n<-180?n-360*Math.round(n/360):n):yi(isNaN(t)?e:t)}function _i(t,e){var n=e-t;return n?gi(t,n):yi(isNaN(t)?e:t)}const xi=function t(e){var n=function(t){return 1==(t=+t)?_i:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):yi(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=ti(t)).r,(e=ti(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=_i(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function wi(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=ti(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var Ei=wi(vi),Ti=wi(mi);function Si(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function ki(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Oi(t,e){return(ki(e)?Si:Ai)(t,e)}function Ai(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Li(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Pi(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ci(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ri(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Li(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Ni=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mi=new RegExp(Ni.source,"g");function Ii(t,e){var n,r,i,o=Ni.lastIndex=Mi.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Ni.exec(t))&&(r=Mi.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Ci(n,r)})),o=Mi.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function Li(t,e){var n,r=typeof e;return null==e||"boolean"===r?yi(e):("number"===r?Ci:"string"===r?(n=Qr(e))?(e=n,xi):Ii:e instanceof Qr?xi:e instanceof Date?Pi:ki(e)?Si:Array.isArray(e)?Ai:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ri:Ci)(t,e)}function Di(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Fi(t,e){if(t=Di(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var ji,Ui,Bi=0,zi=0,$i=0,qi=0,Vi=0,Hi=0,Ki="object"==typeof performance&&performance.now?performance:Date,Yi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gi(){return Vi||(Yi(Wi),Vi=Ki.now()+Hi)}function Wi(){Vi=0}function Qi(){this._call=this._time=this._next=null}function Xi(t,e,n){var r=new Qi;return r.restart(t,e,n),r}function Ji(){Gi(),++Bi;for(var t,e=ji;e;)(t=Vi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Bi}function Zi(){Vi=(qi=Ki.now())+Hi,Bi=zi=0;try{Ji()}finally{Bi=0,function(){for(var t,e,n=ji,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ji=e);Ui=t,eo(r)}(),Vi=0}}function to(){var t=Ki.now(),e=t-qi;e>1e3&&(Hi-=e,qi=t)}function eo(t){Bi||(zi&&(zi=clearTimeout(zi)),t-Vi>24?(t<1/0&&(zi=setTimeout(Zi,t-Ki.now()-Hi)),$i&&($i=clearInterval($i))):($i||(qi=Ki.now(),$i=setInterval(to,1e3)),Bi=1,Yi(Zi)))}function no(t,e,n){var r=new Qi;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Qi.prototype=Xi.prototype={constructor:Qi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Gi():+n)+(null==e?0:+e),this._next||Ui===this||(Ui?Ui._next=this:ji=this,Ui=this),this._call=t,this._time=n,eo()},stop:function(){this._call&&(this._call=null,this._time=1/0,eo())}};var ro=cn("start","end","cancel","interrupt"),io=[];function oo(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var c,l,f,h;if(1!==n.state)return s();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return no(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(no((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Xi((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:ro,tween:io,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ao(t,e){var n=uo(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function so(t,e){var n=uo(t,e);if(n.state>3)throw new Error("too late; already running");return n}function uo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function co(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}var lo,fo=180/Math.PI,ho={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function po(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*fo,skewX:Math.atan(u)*fo,scaleX:a,scaleY:s}}function vo(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Ci(t,i)},{i:u-2,x:Ci(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ci(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ci(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Ci(t,n)},{i:s-2,x:Ci(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var mo=vo((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ho:po(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),yo=vo((function(t){return null==t?ho:(lo||(lo=document.createElementNS("http://www.w3.org/2000/svg","g")),lo.setAttribute("transform",t),(t=lo.transform.baseVal.consolidate())?po((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ho)}),", ",")",")");function go(t,e){var n,r;return function(){var i=so(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function bo(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=so(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function _o(t,e,n){var r=t._id;return t.each((function(){var t=so(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return uo(t,r).value[e]}}function xo(t,e){var n;return("number"==typeof e?Ci:e instanceof Qr?xi:(n=Qr(e))?(e=n,xi):Ii)(t,e)}function wo(t){return function(){this.removeAttribute(t)}}function Eo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function To(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function So(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function ko(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function Oo(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Ao(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Po(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Co(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Po(t,i)),n}return i._value=e,i}function Ro(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ao(t,i)),n}return i._value=e,i}function No(t,e){return function(){ao(this,t).delay=+e.apply(this,arguments)}}function Mo(t,e){return e=+e,function(){ao(this,t).delay=e}}function Io(t,e){return function(){so(this,t).duration=+e.apply(this,arguments)}}function Lo(t,e){return e=+e,function(){so(this,t).duration=e}}function Do(t,e){if("function"!=typeof e)throw new Error;return function(){so(this,t).ease=e}}function Fo(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ao:so;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var jo=Tr.prototype.constructor;function Uo(t){return function(){this.style.removeProperty(t)}}function Bo(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zo(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Bo(t,o,n)),r}return o._value=e,o}function $o(t){return function(e){this.textContent=t.call(this,e)}}function qo(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&$o(r)),e}return r._value=t,r}var Vo=0;function Ho(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ko(t){return Tr().transition(t)}function Yo(){return++Vo}var Go=Tr.prototype;function Wo(t){return t*t*t}function Qo(t){return--t*t*t+1}function Xo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ho.prototype=Ko.prototype={constructor:Ho,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=fn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,oo(f[h],e,n,h,f,uo(s,n)));return new Ho(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=pn(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,d=t.call(u,u.__data__,f,c),p=uo(u,n),v=0,m=d.length;v<m;++v)(h=d[v])&&oo(h,e,n,v,d,p);o.push(d),a.push(u)}return new Ho(o,a,e,n)},selectChild:Go.selectChild,selectChildren:Go.selectChildren,filter:function(t){"function"!=typeof t&&(t=vn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Ho(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new Ho(a,this._parents,this._name,this._id)},selection:function(){return new jo(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Yo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=uo(a,e);oo(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ho(r,this._parents,t,n)},call:Go.call,nodes:Go.nodes,node:Go.node,size:Go.size,empty:Go.empty,each:Go.each,on:function(t,e){var n=this._id;return arguments.length<2?uo(this.node(),n).on.on(t):this.each(Fo(n,t,e))},attr:function(t,e){var n=Rn(t),r="transform"===n?yo:xo;return this.attrTween(t,"function"==typeof e?(n.local?Oo:ko)(n,r,_o(this,"attr."+t,e)):null==e?(n.local?Eo:wo)(n):(n.local?So:To)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Rn(t);return this.tween(n,(r.local?Co:Ro)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?mo:xo;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=$n(this,t),a=(this.style.removeProperty(t),$n(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Uo(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=$n(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=$n(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,_o(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=so(this,t),c=u.on,l=null==u.value[a]?o||(o=Uo(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=$n(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,zo(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(_o(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,qo(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=uo(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?go:bo)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?No:Mo)(e,t)):uo(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Io:Lo)(e,t)):uo(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Do(e,t)):uo(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;so(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=so(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Go[Symbol.iterator]};var Jo={time:null,delay:0,duration:250,ease:Xo};function Zo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Tr.prototype.interrupt=function(t){return this.each((function(){co(this,t)}))},Tr.prototype.transition=function(t){var e,n;t instanceof Ho?(e=t._id,t=t._name):(e=Yo(),(n=Jo).time=Gi(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&oo(a,t,e,c,s,n||Zo(a,e));return new Ho(r,this._parents,t,e)};var ta=[null];function ea(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new Ho([[t]],ta,e,+r);return null}const na=t=>()=>t;function ra(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function ia(t){t.stopImmediatePropagation()}function oa(t){t.preventDefault(),t.stopImmediatePropagation()}var aa={name:"drag"},sa={name:"space"},ua={name:"handle"},ca={name:"center"};const{abs:la,max:fa,min:ha}=Math;function da(t){return[+t[0],+t[1]]}function pa(t){return[da(t[0]),da(t[1])]}var va={name:"x",handles:["w","e"].map(Ea),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ma={name:"y",handles:["n","s"].map(Ea),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ya={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ea),input:function(t){return null==t?null:pa(t)},output:function(t){return t}},ga={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ba={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_a={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},xa={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},wa={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ea(t){return{type:t}}function Ta(t){return!t.ctrlKey&&!t.button}function Sa(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ka(){return navigator.maxTouchPoints||"ontouchstart"in this}function Oa(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Aa(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Pa(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ca(){return Ma(va)}function Ra(){return Ma(ma)}function Na(){return Ma(ya)}function Ma(t){var e,n=Sa,r=Ta,i=ka,o=!0,a=cn("start","brush","end"),s=6;function u(e){var n=e.property("__brush",v).selectAll(".overlay").data([Ea("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ga.overlay).merge(n).each((function(){var t=Oa(this).extent;Sr(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Ea("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ga.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return ga[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=Sr(this),e=Oa(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new f(t,e,n):r}function f(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function h(n){if((!e||n.touches)&&r.apply(this,arguments)){var i,a,s,u,f,h,d,p,v,m,y,g=this,b=n.target.__data__.type,_="selection"===(o&&n.metaKey?b="overlay":b)?aa:o&&n.altKey?ca:ua,x=t===ma?null:xa[b],w=t===va?null:wa[b],E=Oa(g),T=E.extent,S=E.selection,k=T[0][0],O=T[0][1],A=T[1][0],P=T[1][1],C=0,R=0,N=x&&w&&o&&n.shiftKey,M=Array.from(n.touches||[n],(t=>{const e=t.identifier;return(t=Fi(t,g)).point0=t.slice(),t.identifier=e,t}));co(g);var I=l(g,arguments,!0).beforestart();if("overlay"===b){S&&(v=!0);const e=[M[0],M[1]||M[0]];E.selection=S=[[i=t===ma?k:ha(e[0][0],e[1][0]),s=t===va?O:ha(e[0][1],e[1][1])],[f=t===ma?A:fa(e[0][0],e[1][0]),d=t===va?P:fa(e[0][1],e[1][1])]],M.length>1&&U(n)}else i=S[0][0],s=S[0][1],f=S[1][0],d=S[1][1];a=i,u=s,h=f,p=d;var L=Sr(g).attr("pointer-events","none"),D=L.selectAll(".overlay").attr("cursor",ga[b]);if(n.touches)I.moved=j,I.ended=B;else{var F=Sr(n.view).on("mousemove.brush",j,!0).on("mouseup.brush",B,!0);o&&F.on("keydown.brush",z,!0).on("keyup.brush",$,!0),Cr(n.view)}c.call(g),I.start(n,_.name)}function j(t){for(const e of t.changedTouches||[t])for(const t of M)t.identifier===e.identifier&&(t.cur=Fi(e,g));if(N&&!m&&!y&&1===M.length){const t=M[0];la(t.cur[0]-t[0])>la(t.cur[1]-t[1])?y=!0:m=!0}for(const t of M)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);v=!0,oa(t),U(t)}function U(t){const e=M[0],n=e.point0;var r;switch(C=e[0]-n[0],R=e[1]-n[1],_){case sa:case aa:x&&(C=fa(k-i,ha(A-f,C)),a=i+C,h=f+C),w&&(R=fa(O-s,ha(P-d,R)),u=s+R,p=d+R);break;case ua:M[1]?(x&&(a=fa(k,ha(A,M[0][0])),h=fa(k,ha(A,M[1][0])),x=1),w&&(u=fa(O,ha(P,M[0][1])),p=fa(O,ha(P,M[1][1])),w=1)):(x<0?(C=fa(k-i,ha(A-i,C)),a=i+C,h=f):x>0&&(C=fa(k-f,ha(A-f,C)),a=i,h=f+C),w<0?(R=fa(O-s,ha(P-s,R)),u=s+R,p=d):w>0&&(R=fa(O-d,ha(P-d,R)),u=s,p=d+R));break;case ca:x&&(a=fa(k,ha(A,i-C*x)),h=fa(k,ha(A,f+C*x))),w&&(u=fa(O,ha(P,s-R*w)),p=fa(O,ha(P,d+R*w)))}h<a&&(x*=-1,r=i,i=f,f=r,r=a,a=h,h=r,b in ba&&D.attr("cursor",ga[b=ba[b]])),p<u&&(w*=-1,r=s,s=d,d=r,r=u,u=p,p=r,b in _a&&D.attr("cursor",ga[b=_a[b]])),E.selection&&(S=E.selection),m&&(a=S[0][0],h=S[1][0]),y&&(u=S[0][1],p=S[1][1]),S[0][0]===a&&S[0][1]===u&&S[1][0]===h&&S[1][1]===p||(E.selection=[[a,u],[h,p]],c.call(g),I.brush(t,_.name))}function B(t){if(ia(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Rr(t.view,v),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),D.attr("cursor",ga.overlay),E.selection&&(S=E.selection),Aa(S)&&(E.selection=null,c.call(g)),I.end(t,_.name)}function z(t){switch(t.keyCode){case 16:N=x&&w;break;case 18:_===ua&&(x&&(f=h-C*x,i=a+C*x),w&&(d=p-R*w,s=u+R*w),_=ca,U(t));break;case 32:_!==ua&&_!==ca||(x<0?f=h-C:x>0&&(i=a-C),w<0?d=p-R:w>0&&(s=u-R),_=sa,D.attr("cursor",ga.selection),U(t));break;default:return}oa(t)}function $(t){switch(t.keyCode){case 16:N&&(m=y=N=!1,U(t));break;case 18:_===ca&&(x<0?f=h:x>0&&(i=a),w<0?d=p:w>0&&(s=u),_=ua,U(t));break;case 32:_===sa&&(t.altKey?(x&&(f=h-C*x,i=a+C*x),w&&(d=p-R*w,s=u+R*w),_=ca):(x<0?f=h:x>0&&(i=a),w<0?d=p:w>0&&(s=u),_=ua),D.attr("cursor",ga[b]),U(t));break;default:return}oa(t)}}function d(t){l(this,arguments).moved(t)}function p(t){l(this,arguments).ended(t)}function v(){var e=this.__brush||{selection:null};return e.extent=pa(n.apply(this,arguments)),e.dim=t,e}return u.move=function(e,n,r){e.tween?e.on("start.brush",(function(t){l(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){l(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,i=l(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=Li(o,a);function u(t){r.selection=1===t&&null===a?null:s(t),c.call(e),i.brush()}return null!==o&&null!==a?u:u(1)})):e.each((function(){var e=this,i=arguments,o=e.__brush,a=t.input("function"==typeof n?n.apply(e,i):n,o.extent),s=l(e,i).beforestart();co(e),o.selection=null===a?null:a,c.call(e),s.start(r).brush(r).end(r)}))},u.clear=function(t,e){u.move(t,null,e)},f.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var i=Sr(this.that).datum();a.call(e,this.that,new ra(e,{sourceEvent:n,target:u,selection:t.output(this.state.selection),mode:r,dispatch:a}),i)}},u.extent=function(t){return arguments.length?(n="function"==typeof t?t:na(pa(t)),u):n},u.filter=function(t){return arguments.length?(r="function"==typeof t?t:na(!!t),u):r},u.touchable=function(t){return arguments.length?(i="function"==typeof t?t:na(!!t),u):i},u.handleSize=function(t){return arguments.length?(s=+t,u):s},u.keyModifiers=function(t){return arguments.length?(o=!!t,u):o},u.on=function(){var t=a.on.apply(a,arguments);return t===a?u:t},u}var Ia=Math.abs,La=Math.cos,Da=Math.sin,Fa=Math.PI,ja=Fa/2,Ua=2*Fa,Ba=Math.max,za=1e-12;function $a(t,e){return Array.from({length:e-t},((e,n)=>t+n))}function qa(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Va(){return Ya(!1,!1)}function Ha(){return Ya(!1,!0)}function Ka(){return Ya(!0,!1)}function Ya(t,e){var n=0,r=null,i=null,o=null;function a(a){var s,u=a.length,c=new Array(u),l=$a(0,u),f=new Array(u*u),h=new Array(u),d=0;a=Float64Array.from({length:u*u},e?(t,e)=>a[e%u][e/u|0]:(t,e)=>a[e/u|0][e%u]);for(let e=0;e<u;++e){let n=0;for(let r=0;r<u;++r)n+=a[e*u+r]+t*a[r*u+e];d+=c[e]=n}s=(d=Ba(0,Ua-n*u)/d)?n:Ua/u;{let e=0;r&&l.sort(((t,e)=>r(c[t],c[e])));for(const n of l){const r=e;if(t){const t=$a(1+~u,u).filter((t=>t<0?a[~t*u+n]:a[n*u+t]));i&&t.sort(((t,e)=>i(t<0?-a[~t*u+n]:a[n*u+t],e<0?-a[~e*u+n]:a[n*u+e])));for(const r of t)r<0?(f[~r*u+n]||(f[~r*u+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=a[~r*u+n]*d,value:a[~r*u+n]}:(f[n*u+r]||(f[n*u+r]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=a[n*u+r]*d,value:a[n*u+r]};h[n]={index:n,startAngle:r,endAngle:e,value:c[n]}}else{const t=$a(0,u).filter((t=>a[n*u+t]||a[t*u+n]));i&&t.sort(((t,e)=>i(a[n*u+t],a[n*u+e])));for(const r of t){let t;if(n<r?(t=f[n*u+r]||(f[n*u+r]={source:null,target:null}),t.source={index:n,startAngle:e,endAngle:e+=a[n*u+r]*d,value:a[n*u+r]}):(t=f[r*u+n]||(f[r*u+n]={source:null,target:null}),t.target={index:n,startAngle:e,endAngle:e+=a[n*u+r]*d,value:a[n*u+r]},n===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const e=t.source;t.source=t.target,t.target=e}}h[n]={index:n,startAngle:r,endAngle:e,value:c[n]}}e+=s}}return(f=Object.values(f)).groups=h,o?f.sort(o):f}return a.padAngle=function(t){return arguments.length?(n=Ba(0,t),a):n},a.sortGroups=function(t){return arguments.length?(r=t,a):r},a.sortSubgroups=function(t){return arguments.length?(i=t,a):i},a.sortChords=function(t){return arguments.length?(null==t?o=null:(o=qa(t))._=t,a):o&&o._},a}const Ga=Math.PI,Wa=2*Ga,Qa=1e-6,Xa=Wa-Qa;function Ja(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Za(){return new Ja}Ja.prototype=Za.prototype={constructor:Ja,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Qa)if(Math.abs(l*s-u*c)>Qa&&i){var h=n-o,d=r-a,p=s*s+u*u,v=h*h+d*d,m=Math.sqrt(p),y=Math.sqrt(f),g=i*Math.tan((Ga-Math.acos((p+f-v)/(2*m*y)))/2),b=g/y,_=g/m;Math.abs(b-1)>Qa&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Qa||Math.abs(this._y1-c)>Qa)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Wa+Wa),f>Xa?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>Qa&&(this._+="A"+n+","+n+",0,"+ +(f>=Ga)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const ts=Za;var es=Array.prototype.slice;function ns(t){return function(){return t}}function rs(t){return t.source}function is(t){return t.target}function os(t){return t.radius}function as(t){return t.startAngle}function ss(t){return t.endAngle}function us(){return 0}function cs(){return 10}function ls(t){var e=rs,n=is,r=os,i=os,o=as,a=ss,s=us,u=null;function c(){var c,l=e.apply(this,arguments),f=n.apply(this,arguments),h=s.apply(this,arguments)/2,d=es.call(arguments),p=+r.apply(this,(d[0]=l,d)),v=o.apply(this,d)-ja,m=a.apply(this,d)-ja,y=+i.apply(this,(d[0]=f,d)),g=o.apply(this,d)-ja,b=a.apply(this,d)-ja;if(u||(u=c=ts()),h>za&&(Ia(m-v)>2*h+za?m>v?(v+=h,m-=h):(v-=h,m+=h):v=m=(v+m)/2,Ia(b-g)>2*h+za?b>g?(g+=h,b-=h):(g-=h,b+=h):g=b=(g+b)/2),u.moveTo(p*La(v),p*Da(v)),u.arc(0,0,p,v,m),v!==g||m!==b)if(t){var _=+t.apply(this,arguments),x=y-_,w=(g+b)/2;u.quadraticCurveTo(0,0,x*La(g),x*Da(g)),u.lineTo(y*La(w),y*Da(w)),u.lineTo(x*La(b),x*Da(b))}else u.quadraticCurveTo(0,0,y*La(g),y*Da(g)),u.arc(0,0,y,g,b);if(u.quadraticCurveTo(0,0,p*La(v),p*Da(v)),u.closePath(),c)return u=null,c+""||null}return t&&(c.headRadius=function(e){return arguments.length?(t="function"==typeof e?e:ns(+e),c):t}),c.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:ns(+t),c):r},c.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:ns(+t),c):r},c.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:ns(+t),c):i},c.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:ns(+t),c):o},c.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:ns(+t),c):a},c.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:ns(+t),c):s},c.source=function(t){return arguments.length?(e=t,c):e},c.target=function(t){return arguments.length?(n=t,c):n},c.context=function(t){return arguments.length?(u=null==t?null:t,c):u},c}function fs(){return ls()}function hs(){return ls(cs)}const ds=Math.PI/180,ps=180/Math.PI,vs=.96422,ms=.82521,ys=4/29,gs=6/29,bs=3*gs*gs;function _s(t){if(t instanceof Es)return new Es(t.l,t.a,t.b,t.opacity);if(t instanceof Rs)return Ns(t);t instanceof ei||(t=Zr(t));var e,n,r=Os(t.r),i=Os(t.g),o=Os(t.b),a=Ts((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=Ts((.4360747*r+.3850649*i+.1430804*o)/vs),n=Ts((.0139322*r+.0971045*i+.7141733*o)/ms)),new Es(116*a-16,500*(e-a),200*(a-n),t.opacity)}function xs(t,e){return new Es(t,0,0,null==e?1:e)}function ws(t,e,n,r){return 1===arguments.length?_s(t):new Es(t,e,n,null==r?1:r)}function Es(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Ts(t){return t>.008856451679035631?Math.pow(t,1/3):t/bs+ys}function Ss(t){return t>gs?t*t*t:bs*(t-ys)}function ks(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Os(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function As(t){if(t instanceof Rs)return new Rs(t.h,t.c,t.l,t.opacity);if(t instanceof Es||(t=_s(t)),0===t.a&&0===t.b)return new Rs(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ps;return new Rs(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ps(t,e,n,r){return 1===arguments.length?As(t):new Rs(n,e,t,null==r?1:r)}function Cs(t,e,n,r){return 1===arguments.length?As(t):new Rs(t,e,n,null==r?1:r)}function Rs(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Ns(t){if(isNaN(t.h))return new Es(t.l,0,0,t.opacity);var e=t.h*ds;return new Es(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Nr(Es,ws,Mr(Ir,{brighter(t){return new Es(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Es(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new ei(ks(3.1338561*(e=vs*Ss(e))-1.6168667*(t=1*Ss(t))-.4906146*(n=ms*Ss(n))),ks(-.9787684*e+1.9161415*t+.033454*n),ks(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Nr(Rs,Cs,Mr(Ir,{brighter(t){return new Rs(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Rs(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Ns(this).rgb()}}));var Ms=-.14861,Is=1.78277,Ls=-.29227,Ds=-.90649,Fs=1.97294,js=Fs*Ds,Us=Fs*Is,Bs=Is*Ls-Ds*Ms;function zs(t){if(t instanceof qs)return new qs(t.h,t.s,t.l,t.opacity);t instanceof ei||(t=Zr(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Bs*r+js*e-Us*n)/(Bs+js-Us),o=r-i,a=(Fs*(n-i)-Ls*o)/Ds,s=Math.sqrt(a*a+o*o)/(Fs*i*(1-i)),u=s?Math.atan2(a,o)*ps-120:NaN;return new qs(u<0?u+360:u,s,i,t.opacity)}function $s(t,e,n,r){return 1===arguments.length?zs(t):new qs(t,e,n,null==r?1:r)}function qs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Nr(qs,$s,Mr(Ir,{brighter(t){return t=null==t?Dr:Math.pow(Dr,t),new qs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Lr:Math.pow(Lr,t),new qs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*ds,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new ei(255*(e+n*(Ms*r+Is*i)),255*(e+n*(Ls*r+Ds*i)),255*(e+n*(Fs*r)),this.opacity)}}));var Vs=Array.prototype.slice;function Hs(t,e){return t-e}const Ks=t=>()=>t;function Ys(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=Gs(t,e[r]))return n;return 0}function Gs(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],c=u[0],l=u[1],f=t[s],h=f[0],d=f[1];if(Ws(u,f,e))return 0;l>r!=d>r&&n<(h-c)*(r-l)/(d-l)+c&&(i=-i)}return i}function Ws(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}function Qs(){}var Xs=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Js(){var t=1,e=1,n=Xt,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Hs);else{const n=pt(t),r=Wt(n[0],n[1],e);e=Yt(Math.floor(n[0]/r)*r,Math.floor(n[1]/r-1)*r,e)}return e.map((e=>o(t,e)))}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,u,c,l,f,h=new Array,d=new Array;for(o=s=-1,c=n[0]>=r,Xs[c<<1].forEach(p);++o<t-1;)u=c,c=n[o+1]>=r,Xs[u|c<<1].forEach(p);for(Xs[c<<0].forEach(p);++s<e-1;){for(o=-1,c=n[s*t+t]>=r,l=n[s*t]>=r,Xs[c<<1|l<<2].forEach(p);++o<t-1;)u=c,c=n[s*t+t+o+1]>=r,f=l,l=n[s*t+o+1]>=r,Xs[u|c<<1|l<<2|f<<3].forEach(p);Xs[c|l<<3].forEach(p)}for(o=-1,l=n[s*t]>=r,Xs[l<<2].forEach(p);++o<t-1;)f=l,l=n[s*t+o+1]>=r,Xs[l<<2|f<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+s],u=[t[1][0]+o,t[1][1]+s],c=a(r),l=a(u);(e=d[c])?(n=h[l])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(u),i(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(u),d[e.end=l]=e):(e=h[l])?(n=d[c])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(u),i(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=c]=e):h[c]=d[l]={start:c,end:l,ring:[r,u]}}Xs[l<<3].forEach(p)}(n,i,(function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?o.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==Ys((e=o[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],u=0|a,c=0|s,l=r[c*t+u];a>0&&a<t&&u===a&&(o=r[c*t+u-1],n[0]=a+(i-o)/(l-o)-.5),s>0&&s<e&&c===s&&(o=r[(c-1)*t+u],n[1]=s+(i-o)/(l-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.floor(n[0]),o=Math.floor(n[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Ks(Vs.call(t)):Ks(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:Qs,i):r===s},i}function Zs(t){return t[0]}function tu(t){return t[1]}function eu(){return 1}function nu(){var t=Zs,e=tu,n=eu,r=960,i=500,o=20,a=2,s=3*o,u=r+2*s>>a,c=i+2*s>>a,l=Ks(20);function f(r){var i=new Float32Array(u*c),l=Math.pow(2,-a),f=-1;for(const o of r){var h=(t(o,++f,r)+s)*l,d=(e(o,f,r)+s)*l,p=+n(o,f,r);if(h>=0&&h<u&&d>=0&&d<c){var v=Math.floor(h),m=Math.floor(d),y=h-v-.5,g=d-m-.5;i[v+m*u]+=(1-y)*(1-g)*p,i[v+1+m*u]+=y*(1-g)*p,i[v+1+(m+1)*u]+=y*g*p,i[v+(m+1)*u]+=(1-y)*g*p}}return tt({data:i,width:u,height:c},o*l),i}function h(t){var e=f(t),n=l(e),r=Math.pow(2,2*a);return Array.isArray(n)||(n=Yt(Number.MIN_VALUE,Zt(e)/r,n)),Js().size([u,c]).thresholds(n.map((t=>t*r)))(e).map(((t,e)=>(t.value=+n[e],d(t))))}function d(t){return t.coordinates.forEach(p),t}function p(t){t.forEach(v)}function v(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function y(){return u=r+2*(s=3*o)>>a,c=i+2*s>>a,h}return h.contours=function(t){var e=f(t),n=Js().size([u,c]),r=Math.pow(2,2*a),i=t=>{t=+t;var i=d(n.contour(e,t*r));return i.value=t,i};return Object.defineProperty(i,"max",{get:()=>Zt(e)/r}),i},h.x=function(e){return arguments.length?(t="function"==typeof e?e:Ks(+e),h):t},h.y=function(t){return arguments.length?(e="function"==typeof t?t:Ks(+t),h):e},h.weight=function(t){return arguments.length?(n="function"==typeof t?t:Ks(+t),h):n},h.size=function(t){if(!arguments.length)return[r,i];var e=+t[0],n=+t[1];if(!(e>=0&&n>=0))throw new Error("invalid size");return r=e,i=n,y()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),y()},h.thresholds=function(t){return arguments.length?(l="function"==typeof t?t:Array.isArray(t)?Ks(Vs.call(t)):Ks(t),h):l},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*t*t+1)-1)/2,y()},h}const ru=134217729;function iu(t,e,n,r,i){let o,a,s,u,c=e[0],l=r[0],f=0,h=0;l>c==l>-c?(o=c,c=e[++f]):(o=l,l=r[++h]);let d=0;if(f<t&&h<n)for(l>c==l>-c?(a=c+o,s=o-(a-c),c=e[++f]):(a=l+o,s=o-(a-l),l=r[++h]),o=a,0!==s&&(i[d++]=s);f<t&&h<n;)l>c==l>-c?(a=o+c,u=a-o,s=o-(a-u)+(c-u),c=e[++f]):(a=o+l,u=a-o,s=o-(a-u)+(l-u),l=r[++h]),o=a,0!==s&&(i[d++]=s);for(;f<t;)a=o+c,u=a-o,s=o-(a-u)+(c-u),c=e[++f],o=a,0!==s&&(i[d++]=s);for(;h<n;)a=o+l,u=a-o,s=o-(a-u)+(l-u),l=r[++h],o=a,0!==s&&(i[d++]=s);return 0===o&&0!==d||(i[d++]=o),d}function ou(t){return new Float64Array(t)}const au=ou(4),su=ou(8),uu=ou(12),cu=ou(16),lu=ou(4);function fu(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),u=a-s;if(0===a||0===s||a>0!=s>0)return u;const c=Math.abs(a+s);return Math.abs(u)>=33306690738754716e-32*c?u:-function(t,e,n,r,i,o,a){let s,u,c,l,f,h,d,p,v,m,y,g,b,_,x,w,E,T;const S=t-i,k=n-i,O=e-o,A=r-o;_=S*A,h=ru*S,d=h-(h-S),p=S-d,h=ru*A,v=h-(h-A),m=A-v,x=p*m-(_-d*v-p*v-d*m),w=O*k,h=ru*O,d=h-(h-O),p=O-d,h=ru*k,v=h-(h-k),m=k-v,E=p*m-(w-d*v-p*v-d*m),y=x-E,f=x-y,au[0]=x-(y+f)+(f-E),g=_+y,f=g-_,b=_-(g-f)+(y-f),y=b-w,f=b-y,au[1]=b-(y+f)+(f-w),T=g+y,f=T-g,au[2]=g-(T-f)+(y-f),au[3]=T;let P=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,au),C=22204460492503146e-32*a;if(P>=C||-P>=C)return P;if(f=t-S,s=t-(S+f)+(f-i),f=n-k,c=n-(k+f)+(f-i),f=e-O,u=e-(O+f)+(f-o),f=r-A,l=r-(A+f)+(f-o),0===s&&0===u&&0===c&&0===l)return P;if(C=11093356479670487e-47*a+33306690738754706e-32*Math.abs(P),P+=S*l+A*s-(O*c+k*u),P>=C||-P>=C)return P;_=s*A,h=ru*s,d=h-(h-s),p=s-d,h=ru*A,v=h-(h-A),m=A-v,x=p*m-(_-d*v-p*v-d*m),w=u*k,h=ru*u,d=h-(h-u),p=u-d,h=ru*k,v=h-(h-k),m=k-v,E=p*m-(w-d*v-p*v-d*m),y=x-E,f=x-y,lu[0]=x-(y+f)+(f-E),g=_+y,f=g-_,b=_-(g-f)+(y-f),y=b-w,f=b-y,lu[1]=b-(y+f)+(f-w),T=g+y,f=T-g,lu[2]=g-(T-f)+(y-f),lu[3]=T;const R=iu(4,au,4,lu,su);_=S*l,h=ru*S,d=h-(h-S),p=S-d,h=ru*l,v=h-(h-l),m=l-v,x=p*m-(_-d*v-p*v-d*m),w=O*c,h=ru*O,d=h-(h-O),p=O-d,h=ru*c,v=h-(h-c),m=c-v,E=p*m-(w-d*v-p*v-d*m),y=x-E,f=x-y,lu[0]=x-(y+f)+(f-E),g=_+y,f=g-_,b=_-(g-f)+(y-f),y=b-w,f=b-y,lu[1]=b-(y+f)+(f-w),T=g+y,f=T-g,lu[2]=g-(T-f)+(y-f),lu[3]=T;const N=iu(R,su,4,lu,uu);_=s*l,h=ru*s,d=h-(h-s),p=s-d,h=ru*l,v=h-(h-l),m=l-v,x=p*m-(_-d*v-p*v-d*m),w=u*c,h=ru*u,d=h-(h-u),p=u-d,h=ru*c,v=h-(h-c),m=c-v,E=p*m-(w-d*v-p*v-d*m),y=x-E,f=x-y,lu[0]=x-(y+f)+(f-E),g=_+y,f=g-_,b=_-(g-f)+(y-f),y=b-w,f=b-y,lu[1]=b-(y+f)+(f-w),T=g+y,f=T-g,lu[2]=g-(T-f)+(y-f),lu[3]=T;const M=iu(N,uu,4,lu,cu);return cu[M-1]}(t,e,n,r,i,o,c)}ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(8),ou(8),ou(8),ou(4),ou(8),ou(8),ou(8),ou(12),ou(192),ou(192),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(4),ou(4),ou(4),ou(8),ou(16),ou(16),ou(16),ou(32),ou(32),ou(48),ou(64),ou(1152),ou(1152),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(1152),ou(1152),ou(1152),ou(1152),ou(1152),ou(2304),ou(2304),ou(3456),ou(5760),ou(8),ou(8),ou(8),ou(16),ou(24),ou(48),ou(48),ou(96),ou(192),ou(384),ou(384),ou(384),ou(768),ou(96),ou(96),ou(96),ou(1152);const hu=Math.pow(2,-52),du=new Uint32Array(512);class pu{static from(t,e=_u,n=xu){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new pu(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,u=-1/0,c=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<s&&(s=r),n>u&&(u=n),r>c&&(c=r),this._ids[e]=e}const l=(a+u)/2,f=(s+c)/2;let h,d,p,v=1/0;for(let e=0;e<o;e++){const n=vu(l,f,t[2*e],t[2*e+1]);n<v&&(h=e,v=n)}const m=t[2*h],y=t[2*h+1];v=1/0;for(let e=0;e<o;e++){if(e===h)continue;const n=vu(m,y,t[2*e],t[2*e+1]);n<v&&n>0&&(d=e,v=n)}let g=t[2*d],b=t[2*d+1],_=1/0;for(let e=0;e<o;e++){if(e===h||e===d)continue;const n=yu(m,y,g,b,t[2*e],t[2*e+1]);n<_&&(p=e,_=n)}let x=t[2*p],w=t[2*p+1];if(_===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];gu(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(fu(m,y,g,b,x,w)<0){const t=d,e=g,n=b;d=p,g=x,b=w,p=t,x=e,w=n}const E=function(t,e,n,r,i,o){const a=n-t,s=r-e,u=i-t,c=o-e,l=a*a+s*s,f=u*u+c*c,h=.5/(a*c-s*u);return{x:t+(c*l-s*f)*h,y:e+(a*f-u*l)*h}}(m,y,g,b,x,w);this._cx=E.x,this._cy=E.y;for(let e=0;e<o;e++)this._dists[e]=vu(t[2*e],t[2*e+1],E.x,E.y);gu(this._ids,this._dists,0,o-1),this._hullStart=h;let T=3;n[h]=e[p]=d,n[d]=e[h]=p,n[p]=e[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(m,y)]=h,i[this._hashKey(g,b)]=d,i[this._hashKey(x,w)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let o,a,s=0;s<this._ids.length;s++){const u=this._ids[s],c=t[2*u],l=t[2*u+1];if(s>0&&Math.abs(c-o)<=hu&&Math.abs(l-a)<=hu)continue;if(o=c,a=l,u===h||u===d||u===p)continue;let f=0;for(let t=0,e=this._hashKey(c,l);t<this._hashSize&&(f=i[(e+t)%this._hashSize],-1===f||f===n[f]);t++);f=e[f];let v,m=f;for(;v=n[m],fu(c,l,t[2*m],t[2*m+1],t[2*v],t[2*v+1])>=0;)if(m=v,m===f){m=-1;break}if(-1===m)continue;let y=this._addTriangle(m,u,n[m],-1,-1,r[m]);r[u]=this._legalize(y+2),r[m]=y,T++;let g=n[m];for(;v=n[g],fu(c,l,t[2*g],t[2*g+1],t[2*v],t[2*v+1])<0;)y=this._addTriangle(g,u,v,r[u],-1,r[g]),r[u]=this._legalize(y+2),n[g]=g,T--,g=v;if(m===f)for(;v=e[m],fu(c,l,t[2*v],t[2*v+1],t[2*m],t[2*m+1])<0;)y=this._addTriangle(v,u,m,-1,r[m],r[v]),this._legalize(y+2),r[v]=y,n[m]=m,T--,m=v;this._hullStart=e[u]=m,n[m]=e[g]=u,n[u]=g,i[this._hashKey(c,l)]=u,i[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(T);for(let t=0,e=this._hullStart;t<T;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=du[--i];continue}const u=a-a%3,c=s+(t+1)%3,l=u+(a+2)%3,f=e[o],h=e[t],d=e[c],p=e[l];if(mu(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=f;const r=n[l];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===l){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,l);const s=u+(a+1)%3;i<du.length&&(du[i++]=s)}else{if(0===i)break;t=du[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function vu(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function mu(t,e,n,r,i,o,a,s){const u=t-a,c=e-s,l=n-a,f=r-s,h=i-a,d=o-s,p=l*l+f*f,v=h*h+d*d;return u*(f*v-p*d)-c*(l*v-p*h)+(u*u+c*c)*(l*d-f*h)<0}function yu(t,e,n,r,i,o){const a=n-t,s=r-e,u=i-t,c=o-e,l=a*a+s*s,f=u*u+c*c,h=.5/(a*c-s*u),d=(c*l-s*f)*h,p=(a*f-u*l)*h;return d*d+p*p}function gu(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;bu(t,n+r>>1,i),e[t[n]]>e[t[r]]&&bu(t,n,r),e[t[i]]>e[t[r]]&&bu(t,i,r),e[t[n]]>e[t[i]]&&bu(t,n,i);const a=t[i],s=e[a];for(;;){do{i++}while(e[t[i]]<s);do{o--}while(e[t[o]]>s);if(o<i)break;bu(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(gu(t,e,i,r),gu(t,e,n,o-1)):(gu(t,e,n,o-1),gu(t,e,i,r))}}function bu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _u(t){return t[0]}function xu(t){return t[1]}const wu=1e-6;class Eu{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>wu||Math.abs(this._y1-i)>wu)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Tu{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Su{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,r,o=0,a=0,s=n.length;o<s;o+=3,a+=2){const s=2*n[o],u=2*n[o+1],c=2*n[o+2],l=t[s],f=t[s+1],h=t[u],d=t[u+1],p=t[c],v=t[c+1],m=h-l,y=d-f,g=p-l,b=v-f,_=2*(m*b-y*g);if(Math.abs(_)<1e-9){let i=1e9;const o=2*n[0];i*=Math.sign((t[o]-l)*b-(t[o+1]-f)*g),e=(l+p)/2-i*b,r=(f+v)/2+i*g}else{const t=1/_,n=m*m+y*y,i=g*g+b*b;e=l+(b*n-y*i)*t,r=f+(m*i-g*n)*t}i[a]=e,i[a+1]=r}let o,a,s,u=e[e.length-1],c=4*u,l=t[2*u],f=t[2*u+1];r.fill(0);for(let n=0;n<e.length;++n)u=e[n],o=c,a=l,s=f,c=4*u,l=t[2*u],f=t[2*u+1],r[o+2]=r[c]=s-f,r[o+3]=r[c+1]=l-a}render(t){const e=null==t?t=new Eu:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),s=o[i],u=o[i+1],c=o[a],l=o[a+1];this._renderSegment(s,u,c,l,t)}let s,u=i[i.length-1];for(let e=0;e<i.length;++e){s=u,u=i[e];const n=2*Math.floor(r[u]/3),c=o[n],l=o[n+1],f=4*s,h=this._project(c,l,a[f+2],a[f+3]);h&&this._renderSegment(c,l,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Eu:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Eu:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new Tu;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+a-2)%a]&&e[(r+3)%i]==t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(e[2*n],e[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,a,s=null,u=e[n-2],c=e[n-1],l=this._regioncode(u,c),f=0;for(let h=0;h<n;h+=2)if(r=u,i=c,u=e[h],c=e[h+1],o=l,l=this._regioncode(u,c),0===o&&0===l)a=f,f=0,s?s.push(u,c):s=[u,c];else{let e,n,h,d,p;if(0===o){if(null===(e=this._clipSegment(r,i,u,c,o,l)))continue;[n,h,d,p]=e}else{if(null===(e=this._clipSegment(u,c,r,i,l,o)))continue;[d,p,n,h]=e,a=f,f=this._edgecode(n,h),a&&f&&this._edge(t,a,f,s,s.length),s?s.push(n,h):s=[n,h]}a=f,f=this._edgecode(d,p),a&&f&&this._edge(t,a,f,s,s.length),s?s.push(d,p):s=[d,p]}if(s)a=f,f=this._edgecode(s[0],s[1]),a&&f&&this._edge(t,a,f,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let a,s,u=i||o;8&u?(a=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&u?(a=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):2&u?(s=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=s,i=this._regioncode(t,e)):(n=a,r=s,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,s=Array.from(e);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let e,n=0,r=s.length,i=this._edgecode(s[r-2],s[r-1]);n<r;n+=2)e=i,i=this._edgecode(s[n],s[n+1]),e&&i&&(n=this._edge(t,e,i,s,n),r=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const e=(t+2)%r.length,n=(t+4)%r.length;(r[t]===r[e]&&r[e]===r[n]||r[t+1]===r[e+1]&&r[e+1]===r[n+1])&&(r.splice(e,2),t-=2)}return i}_project(t,e,n,r){let i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const ku=2*Math.PI,Ou=Math.pow;function Au(t){return t[0]}function Pu(t){return t[1]}function Cu(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Ru{static from(t,e=Au,n=Pu,r){return new Ru("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new pu(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=Cu(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new pu(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Su(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const s=e[t];if(-1===s)return;let u=s,c=-1;do{if(yield c=o[u],u=u%3==2?u-2:u+1,o[u]!==t)return;if(u=i[u],-1===u){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(u!==s)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:u}=this;if(-1===r[t]||!u.length)return(t+1)%(u.length>>1);let c=t,l=Ou(e-u[2*t],2)+Ou(n-u[2*t+1],2);const f=r[t];let h=f;do{let r=s[h];const f=Ou(e-u[2*r],2)+Ou(n-u[2*r+1],2);if(f<l&&(l=f,c=r),h=h%3==2?h-2:h+1,s[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&Ou(e-u[2*h],2)+Ou(n-u[2*h+1],2)<l)return h;break}}while(h!==f);return c}render(t){const e=null==t?t=new Eu:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],s=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new Eu:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,ku)}return n&&n.value()}renderHull(t){const e=null==t?t=new Eu:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Tu;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Eu:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Tu;return this.renderTriangle(t,e),e.value()}}const Nu=t=>()=>t;function Mu(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}function Iu(t){return!t.ctrlKey&&!t.button}function Lu(){return this.parentNode}function Du(t,e){return null==e?{x:t.x,y:t.y}:e}function Fu(){return navigator.maxTouchPoints||"ontouchstart"in this}function ju(){var t,e,n,r,i=Iu,o=Lu,a=Du,s=Fu,u={},c=cn("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",m).on("touchmove.drag",y,kr).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(a,s){if(!r&&i.call(this,a,s)){var u=b(this,o.call(this,a,s),a,s,"mouse");u&&(Sr(a.view).on("mousemove.drag",p,Or).on("mouseup.drag",v,Or),Cr(a.view),Ar(a),n=!1,t=a.clientX,e=a.clientY,u("start",a))}}function p(r){if(Pr(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>f}u.mouse("drag",r)}function v(t){Sr(t.view).on("mousemove.drag mouseup.drag",null),Rr(t.view,n),Pr(t),u.mouse("end",t)}function m(t,e){if(i.call(this,t,e)){var n,r,a=t.changedTouches,s=o.call(this,t,e),u=a.length;for(n=0;n<u;++n)(r=b(this,s,t,e,a[n].identifier,a[n]))&&(Ar(t),r("start",t,a[n]))}}function y(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=u[r[e].identifier])&&(Pr(t),n("drag",t,r[e]))}function g(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=u[i[e].identifier])&&(Ar(t),n("end",t,i[e]))}function b(t,e,n,r,i,o){var s,f,d,p=c.copy(),v=Fi(o||n,e);if(null!=(d=a.call(t,new Mu("beforestart",{sourceEvent:n,target:h,identifier:i,active:l,x:v[0],y:v[1],dx:0,dy:0,dispatch:p}),r)))return s=d.x-v[0]||0,f=d.y-v[1]||0,function n(o,a,c){var m,y=v;switch(o){case"start":u[i]=n,m=l++;break;case"end":delete u[i],--l;case"drag":v=Fi(c||a,e),m=l}p.call(o,t,new Mu(o,{sourceEvent:a,subject:d,target:h,identifier:i,active:m,x:v[0]+s,y:v[1]+f,dx:v[0]-y[0],dy:v[1]-y[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:Nu(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:Nu(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:Nu(t),h):a},h.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Nu(!!t),h):s},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}Mu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Uu={},Bu={};function zu(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function $u(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function qu(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Vu(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return Bu;if(c)return c=!1,Uu;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?u=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==Bu;){for(var f=[];r!==Uu&&r!==Bu;)f.push(r),r=l();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?function(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+qu(-t,6):t>9999?"+"+qu(t,6):qu(t,4)}(t.getUTCFullYear())+"-"+qu(t.getUTCMonth()+1,2)+"-"+qu(t.getUTCDate(),2)+(i?"T"+qu(e,2)+":"+qu(n,2)+":"+qu(r,2)+"."+qu(i,3)+"Z":r?"T"+qu(e,2)+":"+qu(n,2)+":"+qu(r,2)+"Z":n||e?"T"+qu(e,2)+":"+qu(n,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=zu(t);return function(r,i){return e(n(r),i,t)}}(t,e):zu(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=$u(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=$u(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var Hu=Vu(","),Ku=Hu.parse,Yu=Hu.parseRows,Gu=Hu.format,Wu=Hu.formatBody,Qu=Hu.formatRows,Xu=Hu.formatRow,Ju=Hu.formatValue,Zu=Vu("\t"),tc=Zu.parse,ec=Zu.parseRows,nc=Zu.format,rc=Zu.formatBody,ic=Zu.formatRows,oc=Zu.formatRow,ac=Zu.formatValue;function sc(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;uc&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const uc=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),cc=t=>+t;function lc(t){return t*t}function fc(t){return t*(2-t)}function hc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var dc=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),pc=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),vc=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),mc=Math.PI,yc=mc/2;function gc(t){return 1==+t?1:1-Math.cos(t*yc)}function bc(t){return Math.sin(t*yc)}function _c(t){return(1-Math.cos(mc*t))/2}function xc(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function wc(t){return xc(1-+t)}function Ec(t){return 1-xc(t)}function Tc(t){return((t*=2)<=1?xc(1-t):2-xc(t-1))/2}function Sc(t){return 1-Math.sqrt(1-t*t)}function kc(t){return Math.sqrt(1- --t*t)}function Oc(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Ac=7.5625;function Pc(t){return 1-Cc(1-t)}function Cc(t){return(t=+t)<.36363636363636365?Ac*t*t:t<.7272727272727273?Ac*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Ac*(t-=.8181818181818182)*t+.9375:Ac*(t-=.9545454545454546)*t+.984375}function Rc(t){return((t*=2)<=1?1-Cc(1-t):Cc(t-1)+1)/2}var Nc=1.70158,Mc=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(Nc),Ic=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(Nc),Lc=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Nc),Dc=2*Math.PI,Fc=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Dc);function i(t){return e*xc(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Dc)},i.period=function(n){return t(e,n)},i}(1,.3),jc=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Dc);function i(t){return 1-e*xc(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Dc)},i.period=function(n){return t(e,n)},i}(1,.3),Uc=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Dc);function i(t){return((t=2*t-1)<0?e*xc(-t)*Math.sin((r-t)/n):2-e*xc(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Dc)},i.period=function(n){return t(e,n)},i}(1,.3);function Bc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function zc(t,e){return fetch(t,e).then(Bc)}function $c(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function qc(t,e){return fetch(t,e).then($c)}function Vc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Hc(t,e){return fetch(t,e).then(Vc)}function Kc(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Hc(e,n).then((function(e){return t(e,r)}))}}function Yc(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=Vu(t);return Hc(e,n).then((function(t){return i.parse(t,r)}))}var Gc=Kc(Ku),Wc=Kc(tc);function Qc(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function Xc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Jc(t,e){return fetch(t,e).then(Xc)}function Zc(t){return(e,n)=>Hc(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}const tl=Zc("application/xml");var el=Zc("text/html"),nl=Zc("image/svg+xml");function rl(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=n[i]).x,u+=o.y;for(s=(s/a-t)*r,u=(u/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function il(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,f,h,d=t._root,p={data:r},v=t._x0,m=t._y0,y=t._x1,g=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(v+y)/2))?v=o:y=o,(l=n>=(a=(m+g)/2))?m=a:g=a,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(v+y)/2))?v=o:y=o,(l=n>=(a=(m+g)/2))?m=a:g=a}while((f=l<<1|c)==(h=(u>=a)<<1|s>=o));return i[h]=d,i[f]=p,t}function ol(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function al(t){return t[0]}function sl(t){return t[1]}function ul(t,e,n){var r=new cl(null==e?al:e,null==n?sl:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function cl(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ll(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var fl=ul.prototype=cl.prototype;function hl(t){return function(){return t}}function dl(t){return 1e-6*(t()-.5)}function pl(t){return t.x+t.vx}function vl(t){return t.y+t.vy}function ml(t){var e,n,r,i=1,o=1;function a(){for(var t,a,u,c,l,f,h,d=e.length,p=0;p<o;++p)for(a=ul(e,pl,vl).visitAfter(s),t=0;t<d;++t)u=e[t],f=n[u.index],h=f*f,c=u.x+u.vx,l=u.y+u.vy,a.visit(v);function v(t,e,n,o,a){var s=t.data,d=t.r,p=f+d;if(!s)return e>c+p||o<c-p||n>l+p||a<l-p;if(s.index>u.index){var v=c-s.x-s.vx,m=l-s.y-s.vy,y=v*v+m*m;y<p*p&&(0===v&&(y+=(v=dl(r))*v),0===m&&(y+=(m=dl(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,u.vx+=(v*=y)*(p=(d*=d)/(h+d)),u.vy+=(m*=y)*p,s.vx-=v*(p=1-p),s.vy-=m*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=hl(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,u()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:hl(+e),u(),a):t},a}function yl(t){return t.index}function gl(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function bl(t){var e,n,r,i,o,a,s=yl,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=hl(30),l=1;function f(r){for(var i=0,s=t.length;i<l;++i)for(var u,c,f,h,d,p,v,m=0;m<s;++m)c=(u=t[m]).source,h=(f=u.target).x+f.vx-c.x-c.vx||dl(a),d=f.y+f.vy-c.y-c.vy||dl(a),h*=p=((p=Math.sqrt(h*h+d*d))-n[m])/p*r*e[m],d*=p,f.vx-=h*(v=o[m]),f.vy-=d*v,c.vx+=h*(v=1-v),c.vy+=d*v}function h(){if(r){var a,u,c=r.length,l=t.length,f=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(a=0,i=new Array(c);a<l;++a)(u=t[a]).index=a,"object"!=typeof u.source&&(u.source=gl(f,u.source)),"object"!=typeof u.target&&(u.target=gl(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(l);a<l;++a)u=t[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(l),d(),n=new Array(l),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){r=t,a=e,h()},f.links=function(e){return arguments.length?(t=e,h(),f):t},f.id=function(t){return arguments.length?(s=t,f):s},f.iterations=function(t){return arguments.length?(l=+t,f):l},f.strength=function(t){return arguments.length?(u="function"==typeof t?t:hl(+t),d(),f):u},f.distance=function(t){return arguments.length?(c="function"==typeof t?t:hl(+t),p(),f):c},f}fl.copy=function(){var t,e,n=new cl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ll(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=ll(e));return n},fl.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return il(this.cover(e,n),e,n,t)},fl.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<o;++n)il(this,a[n],s[n],t[n]);return this},fl.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},fl.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},fl.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},fl.find=function(t,e,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new ol(v,l,f,h,d)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>h||(o=u.y0)>d||(a=u.x1)<l||(s=u.y1)<f))if(v.length){var m=(i+a)/2,y=(o+s)/2;p.push(new ol(v[3],m,y,a,s),new ol(v[2],i,y,m,s),new ol(v[1],m,o,a,y),new ol(v[0],i,o,m,y)),(c=(e>=y)<<1|t>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var g=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),_=g*g+b*b;if(_<n){var x=Math.sqrt(n=_);l=t-x,f=e-x,h=t+x,d=e+x,r=v.data}}return r},fl.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,f,h,d=this._root,p=this._x0,v=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+m)/2))?p=s:m=s,(l=a>=(u=(v+y)/2))?v=u:y=u,e=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},fl.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},fl.root=function(){return this._root},fl.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},fl.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new ol(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new ol(n,c,l,o,a)),(n=u[2])&&s.push(new ol(n,r,l,c,a)),(n=u[1])&&s.push(new ol(n,c,i,o,l)),(n=u[0])&&s.push(new ol(n,r,i,c,l))}return this},fl.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new ol(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new ol(o,a,s,l,f)),(o=i[1])&&n.push(new ol(o,l,s,u,f)),(o=i[2])&&n.push(new ol(o,a,f,l,c)),(o=i[3])&&n.push(new ol(o,l,f,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},fl.x=function(t){return arguments.length?(this._x=t,this):this._x},fl.y=function(t){return arguments.length?(this._y=t,this):this._y};const _l=4294967296;function xl(t){return t.x}function wl(t){return t.y}var El=Math.PI*(3-Math.sqrt(5));function Tl(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=Xi(f),c=cn("tick","end"),l=function(){let t=1;return()=>(t=(1664525*t+1013904223)%_l)/_l}();function f(){h(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function h(r){var u,c,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),u=0;u<l;++u)null==(c=t[u]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*El;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,l),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return u.restart(f),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(l=t,s.forEach(p),e):l},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function Sl(){var t,e,n,r,i,o=hl(-30),a=1,s=1/0,u=.81;function c(n){var i,o=t.length,a=ul(t,xl,wl).visitAfter(f);for(r=n,i=0;i<o;++i)e=t[i],a.visit(h)}function l(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function f(t){var e,n,r,o,a,s=0,u=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,r+=n*e.x,o+=n*e.y);t.x=r/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function h(t,o,c,l){if(!t.value)return!0;var f=t.x-e.x,h=t.y-e.y,d=l-o,p=f*f+h*h;if(d*d/u<p)return p<s&&(0===f&&(p+=(f=dl(n))*f),0===h&&(p+=(h=dl(n))*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=f*t.value*r/p,e.vy+=h*t.value*r/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===f&&(p+=(f=dl(n))*f),0===h&&(p+=(h=dl(n))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=f*d,e.vy+=h*d)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,l()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:hl(+t),l(),c):o},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.theta=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c}function kl(t,e,n){var r,i,o,a=hl(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var u=r[a],c=u.x-e||1e-6,l=u.y-n||1e-6,f=Math.sqrt(c*c+l*l),h=(o[a]-f)*i[a]*t/f;u.vx+=c*h,u.vy+=l*h}}function u(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=hl(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,u()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:hl(+t),u(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:hl(+e),u(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s}function Ol(t){var e,n,r,i=hl(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=hl(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:hl(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:hl(+e),a(),o):t},o}function Al(t){var e,n,r,i=hl(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=hl(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:hl(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:hl(+e),a(),o):t},o}function Pl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Cl(t){return(t=Pl(Math.abs(t)))?t[1]:NaN}var Rl,Nl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ml(t){if(!(e=Nl.exec(t)))throw new Error("invalid format: "+t);var e;return new Il({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Il(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ll(t,e){var n=Pl(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ml.prototype=Il.prototype,Il.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Dl={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ll(100*t,e),r:Ll,s:function(t,e){var n=Pl(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Rl=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pl(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fl(t){return t}var jl,Ul,Bl,zl=Array.prototype.map,$l=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ql(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Fl:(e=zl.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Fl:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(zl.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Ml(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,m=t.precision,y=t.trim,g=t.type;"n"===g?(v=!0,g="g"):Dl[g]||(void 0===m&&(m=12),y=!0,g="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",_="$"===h?o:/[%p]/.test(g)?u:"",x=Dl[g],w=/[defgprs%]/.test(g);function E(t){var i,o,u,h=b,E=_;if("c"===g)E=x(t)+E,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),T&&0==+t&&"+"!==f&&(T=!1),h=(T?"("===f?f:c:"-"===f||"("===f?"":f)+h,E=("s"===g?$l[8+Rl/3]:"")+E+(T&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){E=(46===u?a+t.slice(i+1):t.slice(i))+E,t=t.slice(0,i);break}}v&&!d&&(t=r(t,1/0));var S=h.length+t.length+E.length,k=S<p?new Array(p-S+1).join(e):"";switch(v&&d&&(t=r(k+t,k.length?p-E.length:1/0),k=""),n){case"<":t=h+t+E+k;break;case"=":t=h+k+t+E;break;case"^":t=k.slice(0,S=k.length>>1)+h+t+E+k.slice(S);break;default:t=k+h+t+E}return s(t)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),E.toString=function(){return t+""},E}return{format:f,formatPrefix:function(t,e){var n=f(((t=Ml(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Cl(e)/3))),i=Math.pow(10,-r),o=$l[8+r/3];return function(t){return n(i*t)+o}}}}function Vl(t){return jl=ql(t),Ul=jl.format,Bl=jl.formatPrefix,jl}function Hl(t){return Math.max(0,-Cl(Math.abs(t)))}function Kl(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Cl(e)/3)))-Cl(Math.abs(t)))}function Yl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Cl(e)-Cl(t))+1}Vl({thousands:",",grouping:[3],currency:["$",""]});var Gl=1e-6,Wl=1e-12,Ql=Math.PI,Xl=Ql/2,Jl=Ql/4,Zl=2*Ql,tf=180/Ql,ef=Ql/180,nf=Math.abs,rf=Math.atan,of=Math.atan2,af=Math.cos,sf=Math.ceil,uf=Math.exp,cf=(Math.floor,Math.hypot),lf=Math.log,ff=Math.pow,hf=Math.sin,df=Math.sign||function(t){return t>0?1:t<0?-1:0},pf=Math.sqrt,vf=Math.tan;function mf(t){return t>1?0:t<-1?Ql:Math.acos(t)}function yf(t){return t>1?Xl:t<-1?-Xl:Math.asin(t)}function gf(t){return(t=hf(t/2))*t}function bf(){}function _f(t,e){t&&wf.hasOwnProperty(t.type)&&wf[t.type](t,e)}var xf={Feature:function(t,e){_f(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_f(n[r].geometry,e)}},wf={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ef(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ef(n[r],e,0)},Polygon:function(t,e){Tf(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Tf(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_f(n[r],e)}};function Ef(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Tf(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Ef(t[n],e,1);e.polygonEnd()}function Sf(t,e){t&&xf.hasOwnProperty(t.type)?xf[t.type](t,e):_f(t,e)}var kf,Of,Af,Pf,Cf,Rf,Nf,Mf,If,Lf,Df,Ff,jf,Uf,Bf,zf,$f=new vt,qf=new vt,Vf={point:bf,lineStart:bf,lineEnd:bf,polygonStart:function(){$f=new vt,Vf.lineStart=Hf,Vf.lineEnd=Kf},polygonEnd:function(){var t=+$f;qf.add(t<0?Zl+t:t),this.lineStart=this.lineEnd=this.point=bf},sphere:function(){qf.add(Zl)}};function Hf(){Vf.point=Yf}function Kf(){Gf(kf,Of)}function Yf(t,e){Vf.point=Gf,kf=t,Of=e,Af=t*=ef,Pf=af(e=(e*=ef)/2+Jl),Cf=hf(e)}function Gf(t,e){var n=(t*=ef)-Af,r=n>=0?1:-1,i=r*n,o=af(e=(e*=ef)/2+Jl),a=hf(e),s=Cf*a,u=Pf*o+s*af(i),c=s*r*hf(i);$f.add(of(c,u)),Af=t,Pf=o,Cf=a}function Wf(t){return qf=new vt,Sf(t,Vf),2*qf}function Qf(t){return[of(t[1],t[0]),yf(t[2])]}function Xf(t){var e=t[0],n=t[1],r=af(n);return[r*af(e),r*hf(e),hf(n)]}function Jf(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Zf(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function th(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function eh(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function nh(t){var e=pf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var rh,ih,oh,ah,sh,uh,ch,lh,fh,hh,dh,ph,vh,mh,yh,gh,bh={point:_h,lineStart:wh,lineEnd:Eh,polygonStart:function(){bh.point=Th,bh.lineStart=Sh,bh.lineEnd=kh,Uf=new vt,Vf.polygonStart()},polygonEnd:function(){Vf.polygonEnd(),bh.point=_h,bh.lineStart=wh,bh.lineEnd=Eh,$f<0?(Rf=-(Mf=180),Nf=-(If=90)):Uf>Gl?If=90:Uf<-1e-6&&(Nf=-90),zf[0]=Rf,zf[1]=Mf},sphere:function(){Rf=-(Mf=180),Nf=-(If=90)}};function _h(t,e){Bf.push(zf=[Rf=t,Mf=t]),e<Nf&&(Nf=e),e>If&&(If=e)}function xh(t,e){var n=Xf([t*ef,e*ef]);if(jf){var r=Zf(jf,n),i=Zf([r[1],-r[0],0],r);nh(i),i=Qf(i);var o,a=t-Lf,s=a>0?1:-1,u=i[0]*tf*s,c=nf(a)>180;c^(s*Lf<u&&u<s*t)?(o=i[1]*tf)>If&&(If=o):c^(s*Lf<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*tf)<Nf&&(Nf=o):(e<Nf&&(Nf=e),e>If&&(If=e)),c?t<Lf?Oh(Rf,t)>Oh(Rf,Mf)&&(Mf=t):Oh(t,Mf)>Oh(Rf,Mf)&&(Rf=t):Mf>=Rf?(t<Rf&&(Rf=t),t>Mf&&(Mf=t)):t>Lf?Oh(Rf,t)>Oh(Rf,Mf)&&(Mf=t):Oh(t,Mf)>Oh(Rf,Mf)&&(Rf=t)}else Bf.push(zf=[Rf=t,Mf=t]);e<Nf&&(Nf=e),e>If&&(If=e),jf=n,Lf=t}function wh(){bh.point=xh}function Eh(){zf[0]=Rf,zf[1]=Mf,bh.point=_h,jf=null}function Th(t,e){if(jf){var n=t-Lf;Uf.add(nf(n)>180?n+(n>0?360:-360):n)}else Df=t,Ff=e;Vf.point(t,e),xh(t,e)}function Sh(){Vf.lineStart()}function kh(){Th(Df,Ff),Vf.lineEnd(),nf(Uf)>Gl&&(Rf=-(Mf=180)),zf[0]=Rf,zf[1]=Mf,jf=null}function Oh(t,e){return(e-=t)<0?e+360:e}function Ah(t,e){return t[0]-e[0]}function Ph(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Ch(t){var e,n,r,i,o,a,s;if(If=Mf=-(Rf=Nf=1/0),Bf=[],Sf(t,bh),n=Bf.length){for(Bf.sort(Ah),e=1,o=[r=Bf[0]];e<n;++e)Ph(r,(i=Bf[e])[0])||Ph(r,i[1])?(Oh(r[0],i[1])>Oh(r[0],r[1])&&(r[1]=i[1]),Oh(i[0],r[1])>Oh(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=Oh(r[1],i[0]))>a&&(a=s,Rf=i[0],Mf=r[1])}return Bf=zf=null,Rf===1/0||Nf===1/0?[[NaN,NaN],[NaN,NaN]]:[[Rf,Nf],[Mf,If]]}var Rh={sphere:bf,point:Nh,lineStart:Ih,lineEnd:Fh,polygonStart:function(){Rh.lineStart=jh,Rh.lineEnd=Uh},polygonEnd:function(){Rh.lineStart=Ih,Rh.lineEnd=Fh}};function Nh(t,e){t*=ef;var n=af(e*=ef);Mh(n*af(t),n*hf(t),hf(e))}function Mh(t,e,n){++rh,oh+=(t-oh)/rh,ah+=(e-ah)/rh,sh+=(n-sh)/rh}function Ih(){Rh.point=Lh}function Lh(t,e){t*=ef;var n=af(e*=ef);mh=n*af(t),yh=n*hf(t),gh=hf(e),Rh.point=Dh,Mh(mh,yh,gh)}function Dh(t,e){t*=ef;var n=af(e*=ef),r=n*af(t),i=n*hf(t),o=hf(e),a=of(pf((a=yh*o-gh*i)*a+(a=gh*r-mh*o)*a+(a=mh*i-yh*r)*a),mh*r+yh*i+gh*o);ih+=a,uh+=a*(mh+(mh=r)),ch+=a*(yh+(yh=i)),lh+=a*(gh+(gh=o)),Mh(mh,yh,gh)}function Fh(){Rh.point=Nh}function jh(){Rh.point=Bh}function Uh(){zh(ph,vh),Rh.point=Nh}function Bh(t,e){ph=t,vh=e,t*=ef,e*=ef,Rh.point=zh;var n=af(e);mh=n*af(t),yh=n*hf(t),gh=hf(e),Mh(mh,yh,gh)}function zh(t,e){t*=ef;var n=af(e*=ef),r=n*af(t),i=n*hf(t),o=hf(e),a=yh*o-gh*i,s=gh*r-mh*o,u=mh*i-yh*r,c=cf(a,s,u),l=yf(c),f=c&&-l/c;fh.add(f*a),hh.add(f*s),dh.add(f*u),ih+=l,uh+=l*(mh+(mh=r)),ch+=l*(yh+(yh=i)),lh+=l*(gh+(gh=o)),Mh(mh,yh,gh)}function $h(t){rh=ih=oh=ah=sh=uh=ch=lh=0,fh=new vt,hh=new vt,dh=new vt,Sf(t,Rh);var e=+fh,n=+hh,r=+dh,i=cf(e,n,r);return i<Wl&&(e=uh,n=ch,r=lh,ih<Gl&&(e=oh,n=ah,r=sh),(i=cf(e,n,r))<Wl)?[NaN,NaN]:[of(n,e)*tf,yf(r/i)*tf]}function qh(t){return function(){return t}}function Vh(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Hh(t,e){return[nf(t)>Ql?t+Math.round(-t/Zl)*Zl:t,e]}function Kh(t,e,n){return(t%=Zl)?e||n?Vh(Gh(t),Wh(e,n)):Gh(t):e||n?Wh(e,n):Hh}function Yh(t){return function(e,n){return[(e+=t)>Ql?e-Zl:e<-Ql?e+Zl:e,n]}}function Gh(t){var e=Yh(t);return e.invert=Yh(-t),e}function Wh(t,e){var n=af(t),r=hf(t),i=af(e),o=hf(e);function a(t,e){var a=af(e),s=af(t)*a,u=hf(t)*a,c=hf(e),l=c*n+s*r;return[of(u*i-l*o,s*n-c*r),yf(l*i+u*o)]}return a.invert=function(t,e){var a=af(e),s=af(t)*a,u=hf(t)*a,c=hf(e),l=c*i-u*o;return[of(u*i+c*o,s*n+l*r),yf(l*n-s*r)]},a}function Qh(t){function e(e){return(e=t(e[0]*ef,e[1]*ef))[0]*=tf,e[1]*=tf,e}return t=Kh(t[0]*ef,t[1]*ef,t.length>2?t[2]*ef:0),e.invert=function(e){return(e=t.invert(e[0]*ef,e[1]*ef))[0]*=tf,e[1]*=tf,e},e}function Xh(t,e,n,r,i,o){if(n){var a=af(e),s=hf(e),u=r*n;null==i?(i=e+r*Zl,o=e-u/2):(i=Jh(a,i),o=Jh(a,o),(r>0?i<o:i>o)&&(i+=r*Zl));for(var c,l=i;r>0?l>o:l<o;l-=u)c=Qf([a,-s*af(l),-s*hf(l)]),t.point(c[0],c[1])}}function Jh(t,e){(e=Xf(e))[0]-=t,nh(e);var n=mf(-e[1]);return((-e[2]<0?-n:n)+Zl-Gl)%Zl}function Zh(){var t,e,n=qh([0,0]),r=qh(90),i=qh(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=tf,n[1]*=tf}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*ef,u=i.apply(this,arguments)*ef;return t=[],e=Kh(-a[0]*ef,-a[1]*ef,0).invert,Xh(o,s,u,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:qh([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:qh(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:qh(+t),a):i},a}function td(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:bf,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ed(t,e){return nf(t[0]-e[0])<Gl&&nf(t[1]-e[1])<Gl}function nd(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function rd(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(ed(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new nd(r,t,null,!0)),u.push(n.o=new nd(r,null,n,!1)),s.push(n=new nd(a,t,null,!1)),u.push(n.o=new nd(a,null,n,!0))}})),s.length){for(u.sort(e),id(s),id(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var c,l,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function id(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function od(t){return nf(t[0])<=Ql?t[0]:df(t[0])*((nf(t[0])+Ql)%Zl-Ql)}function ad(t,e){var n=od(e),r=e[1],i=hf(r),o=[hf(n),-af(n),0],a=0,s=0,u=new vt;1===i?r=Xl+Gl:-1===i&&(r=-Xl-Gl);for(var c=0,l=t.length;c<l;++c)if(h=(f=t[c]).length)for(var f,h,d=f[h-1],p=od(d),v=d[1]/2+Jl,m=hf(v),y=af(v),g=0;g<h;++g,p=_,m=w,y=E,d=b){var b=f[g],_=od(b),x=b[1]/2+Jl,w=hf(x),E=af(x),T=_-p,S=T>=0?1:-1,k=S*T,O=k>Ql,A=m*w;if(u.add(of(A*S*hf(k),y*E+A*af(k))),a+=O?T+S*Zl:T,O^p>=n^_>=n){var P=Zf(Xf(d),Xf(b));nh(P);var C=Zf(o,P);nh(C);var R=(O^T>=0?-1:1)*yf(C[2]);(r>R||r===R&&(P[0]||P[1]))&&(s+=O^T>=0?1:-1)}}return(a<-1e-6||a<Gl&&u<-1e-12)^1&s}function sd(t,e,n,r){return function(i){var o,a,s,u=e(i),c=td(),l=e(c),f=!1,h={point:d,lineStart:v,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=g,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=m,a=pe(a);var t=ad(o,r);a.length?(f||(i.polygonStart(),f=!0),rd(a,cd,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){u.point(t,e)}function v(){h.point=p,u.lineStart()}function m(){h.point=d,u.lineEnd()}function y(t,e){s.push([t,e]),l.point(t,e)}function g(){l.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),l.lineEnd();var t,e,n,r,u=l.clean(),h=c.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&u){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&h.push(h.pop().concat(h.shift())),a.push(h.filter(ud))}return h}}function ud(t){return t.length>1}function cd(t,e){return((t=t.x)[0]<0?t[1]-Xl-Gl:Xl-t[1])-((e=e.x)[0]<0?e[1]-Xl-Gl:Xl-e[1])}Hh.invert=Hh;const ld=sd((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ql:-Ql,u=nf(o-n);nf(u-Ql)<Gl?(t.point(n,r=(r+a)/2>0?Xl:-Xl),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Ql&&(nf(n-i)<Gl&&(n-=i*Gl),nf(o-s)<Gl&&(o-=s*Gl),r=function(t,e,n,r){var i,o,a=hf(t-n);return nf(a)>Gl?rf((hf(e)*(o=af(r))*hf(n)-hf(r)*(i=af(e))*hf(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Xl,r.point(-Ql,i),r.point(0,i),r.point(Ql,i),r.point(Ql,0),r.point(Ql,-i),r.point(0,-i),r.point(-Ql,-i),r.point(-Ql,0),r.point(-Ql,i);else if(nf(t[0]-e[0])>Gl){var o=t[0]<e[0]?Ql:-Ql;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Ql,-Xl]);function fd(t){var e=af(t),n=6*ef,r=e>0,i=nf(e)>Gl;function o(t,n){return af(t)*af(n)>e}function a(t,n,r){var i=[1,0,0],o=Zf(Xf(t),Xf(n)),a=Jf(o,o),s=o[0],u=a-s*s;if(!u)return!r&&t;var c=e*a/u,l=-e*s/u,f=Zf(i,o),h=eh(i,c);th(h,eh(o,l));var d=f,p=Jf(h,d),v=Jf(d,d),m=p*p-v*(Jf(h,h)-1);if(!(m<0)){var y=pf(m),g=eh(d,(-p-y)/v);if(th(g,h),g=Qf(g),!r)return g;var b,_=t[0],x=n[0],w=t[1],E=n[1];x<_&&(b=_,_=x,x=b);var T=x-_,S=nf(T-Ql)<Gl;if(!S&&E<w&&(b=w,w=E,E=b),S||T<Gl?S?w+E>0^g[1]<(nf(g[0]-_)<Gl?w:E):w<=g[1]&&g[1]<=E:T>Ql^(_<=g[0]&&g[0]<=x)){var k=eh(d,(-p+y)/v);return th(k,h),[g,Qf(k)]}}}function s(e,n){var i=r?t:Ql-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return sd(o,(function(t){var e,n,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,h){var d,p=[f,h],v=o(f,h),m=r?v?0:s(f,h):v?s(f+(f<0?Ql:-Ql),h):0;if(!e&&(c=u=v)&&t.lineStart(),v!==u&&(!(d=a(e,p))||ed(e,d)||ed(p,d))&&(p[2]=1),v!==u)l=0,v?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^v){var y;m&n||!(y=a(p,e,!0))||(l=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!v||e&&ed(e,p)||t.point(p[0],p[1]),e=p,u=v,n=m},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}}),(function(e,r,i,o){Xh(o,t,n,i,e,r)}),r?[0,-t]:[-Ql,t-Ql])}var hd,dd,pd,vd,md=1e9,yd=-md;function gd(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var l=0,f=0;if(null==i||(l=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return nf(r[0]-t)<Gl?i>0?0:3:nf(r[0]-n)<Gl?i>0?2:1:nf(r[1]-e)<Gl?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var u,c,l,f,h,d,p,v,m,y,g,b=a,_=td(),x={point:w,lineStart:function(){x.point=E,c&&c.push(l=[]),y=!0,m=!1,p=v=NaN},lineEnd:function(){u&&(E(f,h),d&&m&&_.rejoin(),u.push(_.result())),x.point=w,m&&b.lineEnd()},polygonStart:function(){b=_,u=[],c=[],g=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],u=1,l=s.length,f=s[0],h=f[0],d=f[1];u<l;++u)o=h,a=d,h=(f=s[u])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=g&&e,i=(u=pe(u)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&rd(u,s,e,o,a),a.polygonEnd()),b=a,u=c=l=null}};function w(t,e){i(t,e)&&b.point(t,e)}function E(o,a){var s=i(o,a);if(c&&l.push([o,a]),y)f=o,h=a,d=s,y=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&m)b.point(o,a);else{var u=[p=Math.max(yd,Math.min(md,p)),v=Math.max(yd,Math.min(md,v))],_=[o=Math.max(yd,Math.min(md,o)),a=Math.max(yd,Math.min(md,a))];!function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,f=e[0]-s,h=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*f,t[1]=u+c*h),l<1&&(e[0]=s+l*f,e[1]=u+l*h),!0}}}}}(u,_,t,e,n,r)?s&&(b.lineStart(),b.point(o,a),g=!1):(m||(b.lineStart(),b.point(u[0],u[1])),b.point(_[0],_[1]),s||b.lineEnd(),g=!1)}p=o,v=a,m=s}return x}}function bd(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=gd(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}}var _d={sphere:bf,point:bf,lineStart:function(){_d.point=wd,_d.lineEnd=xd},lineEnd:bf,polygonStart:bf,polygonEnd:bf};function xd(){_d.point=_d.lineEnd=bf}function wd(t,e){dd=t*=ef,pd=hf(e*=ef),vd=af(e),_d.point=Ed}function Ed(t,e){t*=ef;var n=hf(e*=ef),r=af(e),i=nf(t-dd),o=af(i),a=r*hf(i),s=vd*n-pd*r*o,u=pd*n+vd*r*o;hd.add(of(pf(a*a+s*s),u)),dd=t,pd=n,vd=r}function Td(t){return hd=new vt,Sf(t,_d),+hd}var Sd=[null,null],kd={type:"LineString",coordinates:Sd};function Od(t,e){return Sd[0]=t,Sd[1]=e,Td(kd)}var Ad={Feature:function(t,e){return Cd(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Cd(n[r].geometry,e))return!0;return!1}},Pd={Sphere:function(){return!0},Point:function(t,e){return Rd(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Rd(n[r],e))return!0;return!1},LineString:function(t,e){return Nd(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Nd(n[r],e))return!0;return!1},Polygon:function(t,e){return Md(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Md(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Cd(n[r],e))return!0;return!1}};function Cd(t,e){return!(!t||!Pd.hasOwnProperty(t.type))&&Pd[t.type](t,e)}function Rd(t,e){return 0===Od(t,e)}function Nd(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Od(t[o],e)))return!0;if(o>0&&(i=Od(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Wl*i)return!0;n=r}return!1}function Md(t,e){return!!ad(t.map(Id),Ld(e))}function Id(t){return(t=t.map(Ld)).pop(),t}function Ld(t){return[t[0]*ef,t[1]*ef]}function Dd(t,e){return(t&&Ad.hasOwnProperty(t.type)?Ad[t.type]:Cd)(t,e)}function Fd(t,e,n){var r=ge(t,e-Gl,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function jd(t,e,n){var r=ge(t,e-Gl,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Ud(){var t,e,n,r,i,o,a,s,u,c,l,f,h=10,d=h,p=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:g()}}function g(){return ge(sf(r/p)*p,n,p).map(l).concat(ge(sf(s/v)*v,a,v).map(f)).concat(ge(sf(e/h)*h,t,h).filter((function(t){return nf(t%p)>Gl})).map(u)).concat(ge(sf(o/d)*d,i,d).filter((function(t){return nf(t%v)>Gl})).map(c))}return y.lines=function(){return g().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(a).slice(1),l(n).reverse().slice(1),f(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),y.precision(m)):[[r,s],[n,a]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(m)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],y):[p,v]},y.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],y):[h,d]},y.precision=function(h){return arguments.length?(m=+h,u=Fd(o,i,90),c=jd(e,t,m),l=Fd(s,a,90),f=jd(r,n,m),y):m},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Bd(){return Ud()()}function zd(t,e){var n=t[0]*ef,r=t[1]*ef,i=e[0]*ef,o=e[1]*ef,a=af(r),s=hf(r),u=af(o),c=hf(o),l=a*af(n),f=a*hf(n),h=u*af(i),d=u*hf(i),p=2*yf(pf(gf(o-r)+a*u*gf(i-n))),v=hf(p),m=p?function(t){var e=hf(t*=p)/v,n=hf(p-t)/v,r=n*l+e*h,i=n*f+e*d,o=n*s+e*c;return[of(i,r)*tf,of(o,pf(r*r+i*i))*tf]}:function(){return[n*tf,r*tf]};return m.distance=p,m}const $d=t=>t;var qd,Vd,Hd,Kd,Yd=new vt,Gd=new vt,Wd={point:bf,lineStart:bf,lineEnd:bf,polygonStart:function(){Wd.lineStart=Qd,Wd.lineEnd=Zd},polygonEnd:function(){Wd.lineStart=Wd.lineEnd=Wd.point=bf,Yd.add(nf(Gd)),Gd=new vt},result:function(){var t=Yd/2;return Yd=new vt,t}};function Qd(){Wd.point=Xd}function Xd(t,e){Wd.point=Jd,qd=Hd=t,Vd=Kd=e}function Jd(t,e){Gd.add(Kd*t-Hd*e),Hd=t,Kd=e}function Zd(){Jd(qd,Vd)}const tp=Wd;var ep=1/0,np=ep,rp=-ep,ip=rp,op={point:function(t,e){t<ep&&(ep=t),t>rp&&(rp=t),e<np&&(np=e),e>ip&&(ip=e)},lineStart:bf,lineEnd:bf,polygonStart:bf,polygonEnd:bf,result:function(){var t=[[ep,np],[rp,ip]];return rp=ip=-(np=ep=1/0),t}};const ap=op;var sp,up,cp,lp,fp=0,hp=0,dp=0,pp=0,vp=0,mp=0,yp=0,gp=0,bp=0,_p={point:xp,lineStart:wp,lineEnd:Sp,polygonStart:function(){_p.lineStart=kp,_p.lineEnd=Op},polygonEnd:function(){_p.point=xp,_p.lineStart=wp,_p.lineEnd=Sp},result:function(){var t=bp?[yp/bp,gp/bp]:mp?[pp/mp,vp/mp]:dp?[fp/dp,hp/dp]:[NaN,NaN];return fp=hp=dp=pp=vp=mp=yp=gp=bp=0,t}};function xp(t,e){fp+=t,hp+=e,++dp}function wp(){_p.point=Ep}function Ep(t,e){_p.point=Tp,xp(cp=t,lp=e)}function Tp(t,e){var n=t-cp,r=e-lp,i=pf(n*n+r*r);pp+=i*(cp+t)/2,vp+=i*(lp+e)/2,mp+=i,xp(cp=t,lp=e)}function Sp(){_p.point=xp}function kp(){_p.point=Ap}function Op(){Pp(sp,up)}function Ap(t,e){_p.point=Pp,xp(sp=cp=t,up=lp=e)}function Pp(t,e){var n=t-cp,r=e-lp,i=pf(n*n+r*r);pp+=i*(cp+t)/2,vp+=i*(lp+e)/2,mp+=i,yp+=(i=lp*t-cp*e)*(cp+t),gp+=i*(lp+e),bp+=3*i,xp(cp=t,lp=e)}const Cp=_p;function Rp(t){this._context=t}Rp.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Zl)}},result:bf};var Np,Mp,Ip,Lp,Dp,Fp=new vt,jp={point:bf,lineStart:function(){jp.point=Up},lineEnd:function(){Np&&Bp(Mp,Ip),jp.point=bf},polygonStart:function(){Np=!0},polygonEnd:function(){Np=null},result:function(){var t=+Fp;return Fp=new vt,t}};function Up(t,e){jp.point=Bp,Mp=Lp=t,Ip=Dp=e}function Bp(t,e){Lp-=t,Dp-=e,Fp.add(pf(Lp*Lp+Dp*Dp)),Lp=t,Dp=e}const zp=jp;function $p(){this._string=[]}function qp(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Vp(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Sf(t,n(r))),r.result()}return o.area=function(t){return Sf(t,n(tp)),tp.result()},o.measure=function(t){return Sf(t,n(zp)),zp.result()},o.bounds=function(t){return Sf(t,n(ap)),ap.result()},o.centroid=function(t){return Sf(t,n(Cp)),Cp.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,$d):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new $p):new Rp(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function Hp(t){return{stream:Kp(t)}}function Kp(t){return function(e){var n=new Yp;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Yp(){}function Gp(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Sf(n,t.stream(ap)),e(ap.result()),null!=r&&t.clipExtent(r),t}function Wp(t,e,n){return Gp(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function Qp(t,e,n){return Wp(t,[[0,0],e],n)}function Xp(t,e,n){return Gp(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function Jp(t,e,n){return Gp(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}$p.prototype={_radius:4.5,_circle:qp(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=qp(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Yp.prototype={constructor:Yp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Zp=af(30*ef);function tv(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,c,l,f,h,d,p,v,m){var y=c-r,g=l-i,b=y*y+g*g;if(b>4*e&&v--){var _=a+h,x=s+d,w=u+p,E=pf(_*_+x*x+w*w),T=yf(w/=E),S=nf(nf(w)-1)<Gl||nf(o-f)<Gl?(o+f)/2:of(x,_),k=t(S,T),O=k[0],A=k[1],P=O-r,C=A-i,R=g*P-y*C;(R*R/b>e||nf((y*P+g*C)/b-.5)>.3||a*h+s*d+u*p<Zp)&&(n(r,i,o,a,s,u,O,A,S,_/=E,x/=E,w,v,m),m.point(O,A),n(O,A,S,_,x,w,c,l,f,h,d,p,v,m))}}return function(e){var r,i,o,a,s,u,c,l,f,h,d,p,v={point:m,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),v.lineStart=_},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){l=NaN,v.point=g,e.lineStart()}function g(r,i){var o=Xf([r,i]),a=t(r,i);n(l,f,c,h,d,p,l=a[0],f=a[1],c=r,h=o[0],d=o[1],p=o[2],16,e),e.point(l,f)}function b(){v.point=m,e.lineEnd()}function _(){y(),v.point=x,v.lineEnd=w}function x(t,e){g(r=t,e),i=l,o=f,a=h,s=d,u=p,v.point=g}function w(){n(l,f,c,h,d,p,i,o,r,a,s,u,16,e),v.lineEnd=b,b()}return v}}(t,e):function(t){return Kp({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var ev=Kp({point:function(t,e){this.stream.point(t*ef,e*ef)}});function nv(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=af(o),s=hf(o),u=a*t,c=s*t,l=a/t,f=s/t,h=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return[u*(t*=r)-c*(o*=i)+e,n-c*t-u*o]}return p.invert=function(t,e){return[r*(l*t-f*e+h),i*(d-f*t-l*e)]},p}function rv(t){return iv((function(){return t}))()}function iv(t){var e,n,r,i,o,a,s,u,c,l,f=150,h=480,d=250,p=0,v=0,m=0,y=0,g=0,b=0,_=1,x=1,w=null,E=ld,T=null,S=$d,k=.5;function O(t){return u(t[0]*ef,t[1]*ef)}function A(t){return(t=u.invert(t[0],t[1]))&&[t[0]*tf,t[1]*tf]}function P(){var t=nv(f,0,0,_,x,b).apply(null,e(p,v)),r=nv(f,h-t[0],d-t[1],_,x,b);return n=Kh(m,y,g),s=Vh(e,r),u=Vh(n,s),a=tv(s,k),C()}function C(){return c=l=null,O}return O.stream=function(t){return c&&l===t?c:c=ev(function(t){return Kp({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(E(a(S(l=t)))))},O.preclip=function(t){return arguments.length?(E=t,w=void 0,C()):E},O.postclip=function(t){return arguments.length?(S=t,T=r=i=o=null,C()):S},O.clipAngle=function(t){return arguments.length?(E=+t?fd(w=t*ef):(w=null,ld),C()):w*tf},O.clipExtent=function(t){return arguments.length?(S=null==t?(T=r=i=o=null,$d):gd(T=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==T?null:[[T,r],[i,o]]},O.scale=function(t){return arguments.length?(f=+t,P()):f},O.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],P()):[h,d]},O.center=function(t){return arguments.length?(p=t[0]%360*ef,v=t[1]%360*ef,P()):[p*tf,v*tf]},O.rotate=function(t){return arguments.length?(m=t[0]%360*ef,y=t[1]%360*ef,g=t.length>2?t[2]%360*ef:0,P()):[m*tf,y*tf,g*tf]},O.angle=function(t){return arguments.length?(b=t%360*ef,P()):b*tf},O.reflectX=function(t){return arguments.length?(_=t?-1:1,P()):_<0},O.reflectY=function(t){return arguments.length?(x=t?-1:1,P()):x<0},O.precision=function(t){return arguments.length?(a=tv(s,k=t*t),C()):pf(k)},O.fitExtent=function(t,e){return Wp(O,t,e)},O.fitSize=function(t,e){return Qp(O,t,e)},O.fitWidth=function(t,e){return Xp(O,t,e)},O.fitHeight=function(t,e){return Jp(O,t,e)},function(){return e=t.apply(this,arguments),O.invert=e.invert&&A,P()}}function ov(t){var e=0,n=Ql/3,r=iv(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*ef,n=t[1]*ef):[e*tf,n*tf]},i}function av(t,e){var n=hf(t),r=(n+hf(e))/2;if(nf(r)<Gl)return function(t){var e=af(t);function n(t,n){return[t*e,hf(n)/e]}return n.invert=function(t,n){return[t/e,yf(n*e)]},n}(t);var i=1+n*(2*r-n),o=pf(i)/r;function a(t,e){var n=pf(i-2*r*hf(e))/r;return[n*hf(t*=r),o-n*af(t)]}return a.invert=function(t,e){var n=o-e,a=of(t,nf(n))*df(n);return n*r<0&&(a-=Ql*df(t)*df(n)),[a/r,yf((i-(t*t+n*n)*r*r)/(2*r))]},a}function sv(){return ov(av).scale(155.424).center([0,33.6442])}function uv(){return sv().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function cv(){var t,e,n,r,i,o,a=uv(),s=sv().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=sv().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,l}return l.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),u.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),f()):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],l=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(c),r=s.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+Gl,l+.12*e+Gl],[o-.214*e-Gl,l+.234*e-Gl]]).stream(c),i=u.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+Gl,l+.166*e+Gl],[o-.115*e-Gl,l+.234*e-Gl]]).stream(c),f()},l.fitExtent=function(t,e){return Wp(l,t,e)},l.fitSize=function(t,e){return Qp(l,t,e)},l.fitWidth=function(t,e){return Xp(l,t,e)},l.fitHeight=function(t,e){return Jp(l,t,e)},l.scale(1070)}function lv(t){return function(e,n){var r=af(e),i=af(n),o=t(r*i);return o===1/0?[2,0]:[o*i*hf(e),o*hf(n)]}}function fv(t){return function(e,n){var r=pf(e*e+n*n),i=t(r),o=hf(i),a=af(i);return[of(e*o,r*a),yf(r&&n*o/r)]}}var hv=lv((function(t){return pf(2/(1+t))}));function dv(){return rv(hv).scale(124.75).clipAngle(179.999)}hv.invert=fv((function(t){return 2*yf(t/2)}));var pv=lv((function(t){return(t=mf(t))&&t/hf(t)}));function vv(){return rv(pv).scale(79.4188).clipAngle(179.999)}function mv(t,e){return[t,lf(vf((Xl+e)/2))]}function yv(){return gv(mv).scale(961/Zl)}function gv(t){var e,n,r,i=rv(t),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,c=null;function l(){var o=Ql*a(),s=i(Qh(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===mv?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(s(t),l()):s()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,e],[n,r]]},l()}function bv(t){return vf((Xl+t)/2)}function _v(t,e){var n=af(t),r=t===e?hf(t):lf(n/af(e))/lf(bv(e)/bv(t)),i=n*ff(bv(t),r)/r;if(!r)return mv;function o(t,e){i>0?e<-Xl+Gl&&(e=-Xl+Gl):e>Xl-Gl&&(e=Xl-Gl);var n=i/ff(bv(e),r);return[n*hf(r*t),i-n*af(r*t)]}return o.invert=function(t,e){var n=i-e,o=df(r)*pf(t*t+n*n),a=of(t,nf(n))*df(n);return n*r<0&&(a-=Ql*df(t)*df(n)),[a/r,2*rf(ff(i/o,1/r))-Xl]},o}function xv(){return ov(_v).scale(109.5).parallels([30,30])}function wv(t,e){return[t,e]}function Ev(){return rv(wv).scale(152.63)}function Tv(t,e){var n=af(t),r=t===e?hf(t):(n-af(e))/(e-t),i=n/r+t;if(nf(r)<Gl)return wv;function o(t,e){var n=i-e,o=r*t;return[n*hf(o),i-n*af(o)]}return o.invert=function(t,e){var n=i-e,o=of(t,nf(n))*df(n);return n*r<0&&(o-=Ql*df(t)*df(n)),[o/r,i-df(r)*pf(t*t+n*n)]},o}function Sv(){return ov(Tv).scale(131.154).center([0,13.9389])}pv.invert=fv((function(t){return t})),mv.invert=function(t,e){return[t,2*rf(uf(e))-Xl]},wv.invert=wv;var kv=1.340264,Ov=-.081106,Av=893e-6,Pv=.003796,Cv=pf(3)/2;function Rv(t,e){var n=yf(Cv*hf(e)),r=n*n,i=r*r*r;return[t*af(n)/(Cv*(kv+3*Ov*r+i*(7*Av+9*Pv*r))),n*(kv+Ov*r+i*(Av+Pv*r))]}function Nv(){return rv(Rv).scale(177.158)}function Mv(t,e){var n=af(e),r=af(t)*n;return[n*hf(t)/r,hf(e)/r]}function Iv(){return rv(Mv).scale(144.049).clipAngle(60)}function Lv(){var t,e,n,r,i,o,a,s=1,u=0,c=0,l=1,f=1,h=0,d=null,p=1,v=1,m=Kp({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),y=$d;function g(){return p=s*l,v=s*f,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*v;if(h){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+u,i+c]}return b.invert=function(n){var r=n[0]-u,i=n[1]-c;if(h){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/v]},b.stream=function(t){return o&&a===t?o:o=m(y(a=t))},b.postclip=function(t){return arguments.length?(y=t,d=n=r=i=null,g()):y},b.clipExtent=function(t){return arguments.length?(y=null==t?(d=n=r=i=null,$d):gd(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),g()):null==d?null:[[d,n],[r,i]]},b.scale=function(t){return arguments.length?(s=+t,g()):s},b.translate=function(t){return arguments.length?(u=+t[0],c=+t[1],g()):[u,c]},b.angle=function(n){return arguments.length?(e=hf(h=n%360*ef),t=af(h),g()):h*tf},b.reflectX=function(t){return arguments.length?(l=t?-1:1,g()):l<0},b.reflectY=function(t){return arguments.length?(f=t?-1:1,g()):f<0},b.fitExtent=function(t,e){return Wp(b,t,e)},b.fitSize=function(t,e){return Qp(b,t,e)},b.fitWidth=function(t,e){return Xp(b,t,e)},b.fitHeight=function(t,e){return Jp(b,t,e)},b}function Dv(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Fv(){return rv(Dv).scale(175.295)}function jv(t,e){return[af(e)*hf(t),hf(e)]}function Uv(){return rv(jv).scale(249.5).clipAngle(90.000001)}function Bv(t,e){var n=af(e),r=1+af(t)*n;return[n*hf(t)/r,hf(e)/r]}function zv(){return rv(Bv).scale(250).clipAngle(142)}function $v(t,e){return[lf(vf((Xl+e)/2)),-t]}function qv(){var t=gv($v),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function Vv(t,e){return t.parent===e.parent?1:2}function Hv(t,e){return t+e.x}function Kv(t,e){return Math.max(t,e.y)}function Yv(){var t=Vv,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Hv,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Kv,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,u)/2,l=u.x+t(u,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(l-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Gv(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Wv(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Xv)):void 0===e&&(e=Qv);for(var n,r,i,o,a,s=new tm(t),u=[s];n=u.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)u.push(r=i[o]=new tm(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Zv)}function Qv(t){return t.children}function Xv(t){return Array.isArray(t)?t[1]:null}function Jv(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Zv(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function tm(t){this.data=t,this.depth=this.height=0,this.parent=null}function em(t){return null==t?null:nm(t)}function nm(t){if("function"!=typeof t)throw new Error;return t}function rm(){return 0}function im(t){return function(){return t}}Rv.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(kv+Ov*i+o*(Av+Pv*i))-e)/(kv+3*Ov*i+o*(7*Av+9*Pv*i)))*r)*i*i,!(nf(n)<Wl));++a);return[Cv*t*(kv+3*Ov*i+o*(7*Av+9*Pv*i))/af(r),yf(hf(r)/Cv)]},Mv.invert=fv(rf),Dv.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(nf(n)>Gl&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},jv.invert=fv(yf),Bv.invert=fv((function(t){return 2*rf(t)})),$v.invert=function(t,e){return[-e,2*rf(uf(t))-Xl]},tm.prototype=Wv.prototype={constructor:tm,count:function(){return this.eachAfter(Gv)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],s=[],u=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++u,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Wv(this).eachBefore(Jv)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};const om=4294967296;function am(){let t=1;return()=>(t=(1664525*t+1013904223)%om)/om}function sm(t){return um(t,am())}function um(t,e){for(var n,r,i=0,o=(t=function(t,e){let n,r,i=t.length;for(;i;)r=e()*i--|0,n=t[i],t[i]=t[r],t[r]=n;return t}(Array.from(t),e)).length,a=[];i<o;)n=t[i],r&&fm(r,n)?++i:(r=dm(a=cm(a,n)),i=0);return r}function cm(t,e){var n,r;if(hm(e,t))return[e];for(n=0;n<t.length;++n)if(lm(e,t[n])&&hm(pm(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(lm(pm(t[n],t[r]),e)&&lm(pm(t[n],e),t[r])&&lm(pm(t[r],e),t[n])&&hm(vm(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function lm(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function fm(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function hm(t,e){for(var n=0;n<e.length;++n)if(!fm(t,e[n]))return!1;return!0}function dm(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return pm(t[0],t[1]);case 3:return vm(t[0],t[1],t[2])}var e}function pm(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function vm(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,h=r-a,d=r-c,p=i-s,v=i-l,m=u-o,y=f-o,g=r*r+i*i-o*o,b=g-a*a-s*s+u*u,_=g-c*c-l*l+f*f,x=d*p-h*v,w=(p*_-v*b)/(2*x)-r,E=(v*m-p*y)/x,T=(d*b-h*_)/(2*x)-i,S=(h*y-d*m)/x,k=E*E+S*S-1,O=2*(o+w*E+T*S),A=w*w+T*T-o*o,P=-(Math.abs(k)>1e-6?(O+Math.sqrt(O*O-4*k*A))/(2*k):A/O);return{x:r+w+E*P,y:i+T+S*P,r:P}}function mm(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*s-o*u,n.y=t.y-r*u+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-o*u,n.y=e.y+r*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function ym(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function gm(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function bm(t){this._=t,this.next=null,this.previous=null}function _m(t,e){if(!(a=(n=t,t="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,r,i,o,a,s,u,c,l,f,h,d;if((r=t[0]).x=0,r.y=0,!(a>1))return r.r;if(i=t[1],r.x=-i.r,i.x=r.r,i.y=0,!(a>2))return r.r+i.r;mm(i,r,o=t[2]),r=new bm(r),i=new bm(i),o=new bm(o),r.next=o.previous=i,i.next=r.previous=o,o.next=i.previous=r;t:for(c=3;c<a;++c){mm(r._,i._,o=t[c]),o=new bm(o),l=i.next,f=r.previous,h=i._.r,d=r._.r;do{if(h<=d){if(ym(l._,o._)){i=l,r.next=i,i.previous=r,--c;continue t}h+=l._.r,l=l.next}else{if(ym(f._,o._)){(r=f).next=i,i.previous=r,--c;continue t}d+=f._.r,f=f.previous}}while(l!==f.next);for(o.previous=r,o.next=i,r.next=i.previous=i=o,s=gm(r);(o=o.next)!==i;)(u=gm(o))<s&&(r=o,s=u);i=r.next}for(r=[i._],o=i;(o=o.next)!==i;)r.push(o._);for(o=um(r,e),c=0;c<a;++c)(r=t[c]).x-=o.x,r.y-=o.y;return o.r}function xm(t){return _m(t,am()),t}function wm(t){return Math.sqrt(t.value)}function Em(){var t=null,e=1,n=1,r=rm;function i(i){const o=am();return i.x=e/2,i.y=n/2,t?i.eachBefore(Tm(t)).eachAfter(Sm(r,.5,o)).eachBefore(km(1)):i.eachBefore(Tm(wm)).eachAfter(Sm(rm,1,o)).eachAfter(Sm(r,i.r/Math.min(e,n),o)).eachBefore(km(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=em(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:im(+t),i):r},i}function Tm(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Sm(t,e,n){return function(r){if(i=r.children){var i,o,a,s=i.length,u=t(r)*e||0;if(u)for(o=0;o<s;++o)i[o].r+=u;if(a=_m(i,n),u)for(o=0;o<s;++o)i[o].r-=u;r.r=a+u}}}function km(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Om(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Am(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function Pm(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&Am(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(Om),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}var Cm={depth:-1},Rm={},Nm={};function Mm(t){return t.id}function Im(t){return t.parentId}function Lm(){var t,e=Mm,n=Im;function r(r){var i,o,a,s,u,c,l,f,h=Array.from(r),d=e,p=n,v=new Map;if(null!=t){const e=h.map(((e,n)=>function(t){let e=(t=`${t}`).length;return Fm(t,e-1)&&!Fm(t,e-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:`/${t}`}(t(e,n,r)))),n=e.map(Dm),i=new Set(e).add("");for(const t of n)i.has(t)||(i.add(t),e.push(t),n.push(Dm(t)),h.push(Nm));d=(t,n)=>e[n],p=(t,e)=>n[e]}for(a=0,i=h.length;a<i;++a)o=h[a],c=h[a]=new tm(o),null!=(l=d(o,a,r))&&(l+="")&&(f=c.id=l,v.set(f,v.has(f)?Rm:c)),null!=(l=p(o,a,r))&&(l+="")&&(c.parent=l);for(a=0;a<i;++a)if(l=(c=h[a]).parent){if(!(u=v.get(l)))throw new Error("missing: "+l);if(u===Rm)throw new Error("ambiguous: "+l);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(s)throw new Error("multiple roots");s=c}if(!s)throw new Error("no root");if(null!=t){for(;s.data===Nm&&1===s.children.length;)s=s.children[0],--i;for(let t=h.length-1;t>=0&&(c=h[t],c.data===Nm);--t)c.data=null}if(s.parent=Cm,s.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(Zv),s.parent=null,i>0)throw new Error("cycle");return s}return r.id=function(t){return arguments.length?(e=em(t),r):e},r.parentId=function(t){return arguments.length?(n=em(t),r):n},r.path=function(e){return arguments.length?(t=em(e),r):t},r}function Dm(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Fm(t,e););return t.slice(0,e)}function Fm(t,e){if("/"===t[e]){let n=0;for(;e>0&&"\\"===t[--e];)++n;if(0==(1&n))return!0}return!1}function jm(t,e){return t.parent===e.parent?1:2}function Um(t){var e=t.children;return e?e[0]:t.t}function Bm(t){var e=t.children;return e?e[e.length-1]:t.t}function zm(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function $m(t,e,n){return t.a.parent===e.parent?t.a:n}function qm(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Vm(){var t=jm,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,o,a=new qm(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new qm(r[i],i)),n.parent=e;return(a.parent=new qm(null,0)).children=[a],a}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(s);else{var c=i,l=i,f=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)}));var h=c===l?1:t(c,l)/2,d=h-c.x,p=e/(l.x+h+d),v=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,u=o.parent.children[0],c=o.m,l=a.m,f=s.m,h=u.m;s=Bm(s),o=Um(o),s&&o;)u=Um(u),(a=Bm(a)).a=e,(i=s.z+f-o.z-c+t(s._,o._))>0&&(zm($m(s,e,r),e,i),c+=i,l+=i),f+=s.m,c+=o.m,h+=u.m,l+=a.m;s&&!Bm(a)&&(a.t=s,a.m+=f-l),o&&!Um(u)&&(u.t=o,u.m+=c-h,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Hm(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}qm.prototype=Object.create(tm.prototype);var Km=(1+Math.sqrt(5))/2;function Ym(t,e,n,r,i,o){for(var a,s,u,c,l,f,h,d,p,v,m,y=[],g=e.children,b=0,_=0,x=g.length,w=e.value;b<x;){u=i-n,c=o-r;do{l=g[_++].value}while(!l&&_<x);for(f=h=l,m=l*l*(v=Math.max(c/u,u/c)/(w*t)),p=Math.max(h/m,m/f);_<x;++_){if(l+=s=g[_].value,s<f&&(f=s),s>h&&(h=s),m=l*l*v,(d=Math.max(h/m,m/f))>p){l-=s;break}p=d}y.push(a={value:l,dice:u<c,children:g.slice(b,_)}),a.dice?Am(a,n,r,i,w?r+=c*l/w:o):Hm(a,n,r,w?n+=u*l/w:i,o),w-=l,b=_}return y}const Gm=function t(e){function n(t,n,r,i,o){Ym(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Km);function Wm(){var t=Gm,e=!1,n=1,r=1,i=[0],o=rm,a=rm,s=rm,u=rm,c=rm;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(Om),t}function f(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),e.x0=r,e.y0=l,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,l+=a(e)-n,(f-=s(e)-n)<r&&(r=f=(r+f)/2),(h-=u(e)-n)<l&&(l=h=(l+h)/2),t(e,r,l,f,h))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=nm(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:im(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:im(+t),l):a},l.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:im(+t),l):s},l.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:im(+t),l):u},l.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:im(+t),l):c},l}function Qm(t,e,n,r,i){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=u)}for(var f=c[e],h=r/2+f,d=e+1,p=n-1;d<p;){var v=d+p>>>1;c[v]<h?d=v+1:p=v}h-c[d-1]<c[d]-h&&e+1<d&&--d;var m=c[d]-f,y=r-m;if(a-i>u-o){var g=r?(i*y+a*m)/r:a;t(e,d,m,i,o,g,u),t(d,n,y,g,o,a,u)}else{var b=r?(o*y+u*m)/r:u;t(e,d,m,i,o,a,b),t(d,n,y,i,b,a,u)}}(0,u,t.value,e,n,r,i)}function Xm(t,e,n,r,i){(1&t.depth?Hm:Am)(t,e,n,r,i)}const Jm=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,c,l,f=-1,h=a.length,d=t.value;++f<h;){for(u=(s=a[f]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?Am(s,n,r,i,d?r+=(o-r)*s.value/d:o):Hm(s,n,r,d?n+=(i-n)*s.value/d:i,o),d-=s.value}else t._squarify=a=Ym(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Km);function Zm(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function ty(t,e){var n=bi(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function ey(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ny(t){return((t=Math.exp(t))+1/t)/2}const ry=function t(e,n,r){function i(t,i){var o,a,s=t[0],u=t[1],c=t[2],l=i[0],f=i[1],h=i[2],d=l-s,p=f-u,v=d*d+p*p;if(v<1e-12)a=Math.log(h/c)/e,o=function(t){return[s+t*d,u+t*p,c*Math.exp(e*t*a)]};else{var m=Math.sqrt(v),y=(h*h-c*c+r*v)/(2*c*n*m),g=(h*h-c*c-r*v)/(2*h*n*m),b=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(g*g+1)-g);a=(_-b)/e,o=function(t){var r,i=t*a,o=ny(b),l=c/(n*m)*(o*(r=e*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[s+l*d,u+l*p,c*o/ny(e*i+b)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function iy(t){return function(e,n){var r=t((e=ci(e)).h,(n=ci(n)).h),i=_i(e.s,n.s),o=_i(e.l,n.l),a=_i(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const oy=iy(bi);var ay=iy(_i);function sy(t,e){var n=_i((t=ws(t)).l,(e=ws(e)).l),r=_i(t.a,e.a),i=_i(t.b,e.b),o=_i(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function uy(t){return function(e,n){var r=t((e=Cs(e)).h,(n=Cs(n)).h),i=_i(e.c,n.c),o=_i(e.l,n.l),a=_i(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const cy=uy(bi);var ly=uy(_i);function fy(t){return function e(n){function r(e,r){var i=t((e=$s(e)).h,(r=$s(r)).h),o=_i(e.s,r.s),a=_i(e.l,r.l),s=_i(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}const hy=fy(bi);var dy=fy(_i);function py(t,e){void 0===e&&(e=t,t=Li);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function vy(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function my(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}function yy(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]}function gy(t,e){return t[0]-e[0]||t[1]-e[1]}function by(t){const e=t.length,n=[0,1];let r,i=2;for(r=2;r<e;++r){for(;i>1&&(o=t[n[i-2]],a=t[n[i-1]],s=t[r],(a[0]-o[0])*(s[1]-o[1])-(a[1]-o[1])*(s[0]-o[0])<=0);)--i;n[i++]=r}var o,a,s;return n.slice(0,i)}function _y(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(gy),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=by(r),a=by(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+s;e<a.length-u;++e)c.push(t[r[a[e]][2]]);return c}function xy(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],c=o[1],l=!1,f=0;f<i;++f)n=(o=t[f])[0],(r=o[1])>s!=c>s&&a<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l}function wy(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.hypot(e,n);return u}const Ey=Math.random,Ty=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Ey),Sy=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(Ey),ky=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Ey),Oy=function t(e){var n=ky.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(Ey),Ay=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,r=t;r>1;--r)n+=e();return n+r*e()}}return n.source=t,n}(Ey),Py=function t(e){var n=Ay.source(e);function r(t){if(0==(t=+t))return e;var r=n(t);return function(){return r()/t}}return r.source=t,r}(Ey),Cy=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(Ey),Ry=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(Ey),Ny=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(Ey),My=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(Ey),Iy=function t(e){var n=ky.source(e)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-e())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),a=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),s=1+o*t}while(s<=0);s*=s*s;var u=1-e()}while(u>=1-.0331*t*t*t*t&&Math.log(u)>=.5*t*t+i*(1-s+Math.log(s)));return i*s*a()*r}}return r.source=t,r}(Ey),Ly=function t(e){var n=Iy.source(e);function r(t,e){var r=n(t),i=n(e);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(Ey),Dy=function t(e){var n=My.source(e),r=Ly.source(e);function i(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var i=0,o=t,a=e;o*a>16&&o*(1-a)>16;){var s=Math.floor((o+1)*a),u=r(s,o-s+1)();u<=a?(i+=s,o-=s,a=(a-u)/(1-u)):(o=s-1,a/=u)}for(var c=a<.5,l=n(c?a:1-a),f=l(),h=0;f<=o;++h)f+=l();return i+(c?h:o-h)}}return i.source=t,i}(Ey),Fy=function t(e){function n(t,n,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=e=>Math.pow(e,t)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-e()))}}return n.source=t,n}(Ey),jy=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(Ey),Uy=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var r=e();return t+n*Math.log(r/(1-r))}}return n.source=t,n}(Ey),By=function t(e){var n=Iy.source(e),r=Dy.source(e);function i(t){return function(){for(var i=0,o=t;o>16;){var a=Math.floor(.875*o),s=n(a)();if(s>o)return i+r(a-1,o/s)();i+=a,o-=s}for(var u=-Math.log1p(-e()),c=0;u<=o;++c)u-=Math.log1p(-e());return i+c}}return i.source=t,i}(Ey),zy=1/4294967296;function $y(t=Math.random()){let e=0|(0<=t&&t<1?t/zy:Math.abs(t));return()=>(e=1664525*e+1013904223|0,zy*(e>>>0))}function qy(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Vy(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Hy=Symbol("implicit");function Ky(){var t=new gt,e=[],n=[],r=Hy;function i(i){let o=t.get(i);if(void 0===o){if(r!==Hy)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new gt;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ky(e,n).unknown(r)},qy.apply(i,arguments),i}function Yy(){var t,e,n=Ky().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,u=0,c=0,l=.5;function f(){var n=r().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,n-u+2*c),s&&(t=Math.floor(t)),h+=(d-h-t*(n-u))*l,e=t*(1-u),s&&(h=Math.round(h),e=Math.round(e));var p=ge(n).map((function(e){return h+t*e}));return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),f()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),f()):u},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),f()):l},n.copy=function(){return Yy(r(),[o,a]).round(s).paddingInner(u).paddingOuter(c).align(l)},qy.apply(f(),arguments)}function Gy(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Gy(e())},t}function Wy(){return Gy(Yy.apply(null,arguments).paddingInner(1))}function Qy(t){return+t}var Xy=[0,1];function Jy(t){return t}function Zy(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function tg(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Zy(i,r),o=n(a,o)):(r=Zy(r,i),o=n(o,a)),function(t){return o(r(t))}}function eg(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Zy(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=J(t,e,1,r)-1;return o[n](i[n](e))}}function ng(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rg(){var t,e,n,r,i,o,a=Xy,s=Xy,u=Li,c=Jy;function l(){var t,e,n,u=Math.min(a.length,s.length);return c!==Jy&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?eg:tg,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),Ci)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Qy),l()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),u=ey,l()},f.clamp=function(t){return arguments.length?(c=!!t||Jy,l()):c!==Jy},f.interpolate=function(t){return arguments.length?(u=t,l()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function ig(){return rg()(Jy,Jy)}function og(t,e,n,r){var i,o=Wt(t,e,n);switch((r=Ml(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Kl(o,a))||(r.precision=i),Bl(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Yl(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Hl(o))||(r.precision=i-2*("%"===r.type))}return Ul(r)}function ag(t){var e=t.domain;return t.ticks=function(t){var n=e();return Yt(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return og(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;for(c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);l-- >0;){if((i=Gt(u,c,n))===r)return o[a]=u,o[s]=c,e(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function sg(){var t=ig();return t.copy=function(){return ng(t,sg())},qy.apply(t,arguments),ag(t)}function ug(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Qy),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return ug(t).unknown(e)},t=arguments.length?Array.from(t,Qy):[0,1],ag(n)}function cg(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function lg(t){return Math.log(t)}function fg(t){return Math.exp(t)}function hg(t){return-Math.log(-t)}function dg(t){return-Math.exp(-t)}function pg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vg(t){return(e,n)=>-t(-e,n)}function mg(t){const e=t(lg,fg),n=e.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?pg:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=vg(r),i=vg(i),t(hg,dg)):t(lg,fg),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],s=e[e.length-1];const u=s<a;u&&([a,s]=[s,a]);let c,l,f=r(a),h=r(s);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-f<d){if(f=Math.floor(f),h=Math.ceil(h),a>0){for(;f<=h;++f)for(c=1;c<o;++c)if(l=f<0?c/i(-f):c*i(f),!(l<a)){if(l>s)break;p.push(l)}}else for(;f<=h;++f)for(c=o-1;c>=1;--c)if(l=f>0?c/i(-f):c*i(f),!(l<a)){if(l>s)break;p.push(l)}2*p.length<d&&(p=Yt(a,s,d))}else p=Yt(f,h,Math.min(h-f,d)).map(i);return u?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=Ml(n)).precision||(n.trim=!0),n=Ul(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n(cg(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function yg(){const t=mg(rg()).domain([1,10]);return t.copy=()=>ng(t,yg()).base(t.base()),qy.apply(t,arguments),t}function gg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _g(t){var e=1,n=t(gg(e),bg(e));return n.constant=function(n){return arguments.length?t(gg(e=+n),bg(e)):e},ag(n)}function xg(){var t=_g(rg());return t.copy=function(){return ng(t,xg()).constant(t.constant())},qy.apply(t,arguments)}function wg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Eg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Tg(t){return t<0?-t*t:t*t}function Sg(t){var e=t(Jy,Jy),n=1;function r(){return 1===n?t(Jy,Jy):.5===n?t(Eg,Tg):t(wg(n),wg(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},ag(e)}function kg(){var t=Sg(rg());return t.copy=function(){return ng(t,kg()).exponent(t.exponent())},qy.apply(t,arguments),t}function Og(){return kg.apply(null,arguments).exponent(.5)}function Ag(t){return Math.sign(t)*t*t}function Pg(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Cg(){var t,e=ig(),n=[0,1],r=!1;function i(n){var i=Pg(e(n));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return e.invert(Ag(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,Qy)).map(Ag)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Cg(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},qy.apply(i,arguments),ag(i)}function Rg(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=se(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[J(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort($),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return Rg().domain(e).range(n).unknown(t)},qy.apply(o,arguments)}function Ng(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return null!=e&&e<=e?o[J(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Ng().domain([e,n]).range(o).unknown(t)},qy.apply(ag(a),arguments)}function Mg(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[J(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Mg().domain(e).range(n).unknown(t)},qy.apply(i,arguments)}const Ig=1e3,Lg=6e4,Dg=36e5,Fg=864e5,jg=6048e5,Ug=31536e6;var Bg=new Date,zg=new Date;function $g(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return $g((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Bg.setTime(+e),zg.setTime(+r),t(Bg),t(zg),Math.floor(n(Bg,zg))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var qg=$g((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));qg.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?$g((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):qg:null};const Vg=qg;var Hg=qg.range,Kg=$g((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Ig)}),(function(t,e){return(e-t)/Ig}),(function(t){return t.getUTCSeconds()}));const Yg=Kg;var Gg=Kg.range,Wg=$g((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ig)}),(function(t,e){t.setTime(+t+e*Lg)}),(function(t,e){return(e-t)/Lg}),(function(t){return t.getMinutes()}));const Qg=Wg;var Xg=Wg.range,Jg=$g((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ig-t.getMinutes()*Lg)}),(function(t,e){t.setTime(+t+e*Dg)}),(function(t,e){return(e-t)/Dg}),(function(t){return t.getHours()}));const Zg=Jg;var tb=Jg.range,eb=$g((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Lg)/Fg),(t=>t.getDate()-1));const nb=eb;var rb=eb.range;function ib(t){return $g((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Lg)/jg}))}var ob=ib(0),ab=ib(1),sb=ib(2),ub=ib(3),cb=ib(4),lb=ib(5),fb=ib(6),hb=ob.range,db=ab.range,pb=sb.range,vb=ub.range,mb=cb.range,yb=lb.range,gb=fb.range,bb=$g((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const _b=bb;var xb=bb.range,wb=$g((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));wb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$g((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const Eb=wb;var Tb=wb.range,Sb=$g((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Lg)}),(function(t,e){return(e-t)/Lg}),(function(t){return t.getUTCMinutes()}));const kb=Sb;var Ob=Sb.range,Ab=$g((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Dg)}),(function(t,e){return(e-t)/Dg}),(function(t){return t.getUTCHours()}));const Pb=Ab;var Cb=Ab.range,Rb=$g((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Fg}),(function(t){return t.getUTCDate()-1}));const Nb=Rb;var Mb=Rb.range;function Ib(t){return $g((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/jg}))}var Lb=Ib(0),Db=Ib(1),Fb=Ib(2),jb=Ib(3),Ub=Ib(4),Bb=Ib(5),zb=Ib(6),$b=Lb.range,qb=Db.range,Vb=Fb.range,Hb=jb.range,Kb=Ub.range,Yb=Bb.range,Gb=zb.range,Wb=$g((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const Qb=Wb;var Xb=Wb.range,Jb=$g((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Jb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$g((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Zb=Jb;var t_=Jb.range;function e_(t,e,n,r,i,o){const a=[[Yg,1,Ig],[Yg,5,5e3],[Yg,15,15e3],[Yg,30,3e4],[o,1,Lg],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Dg],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Fg],[r,2,1728e5],[n,1,jg],[e,1,2592e6],[e,3,7776e6],[t,1,Ug]];function s(e,n,r){const i=Math.abs(n-e)/r,o=V((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(Wt(e/Ug,n/Ug,r));if(0===o)return Vg.every(Math.max(Wt(e,n,r),1));const[s,u]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(u)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:s(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},s]}const[n_,r_]=e_(Zb,Qb,Lb,Nb,Pb,kb),[i_,o_]=e_(Eb,_b,ob,nb,Zg,Qg);function a_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function s_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function u_(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function c_(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=x_(i),l=w_(i),f=x_(o),h=w_(o),d=x_(a),p=w_(a),v=x_(s),m=w_(s),y=x_(u),g=w_(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:q_,e:q_,f:G_,g:ox,G:sx,H:V_,I:H_,j:K_,L:Y_,m:W_,M:Q_,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Cx,s:Rx,S:X_,u:J_,U:Z_,V:ex,w:nx,W:rx,x:null,X:null,y:ix,Y:ax,Z:ux,"%":Px},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:cx,e:cx,f:px,g:Sx,G:Ox,H:lx,I:fx,j:hx,L:dx,m:vx,M:mx,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Cx,s:Rx,S:yx,u:gx,U:bx,V:xx,w:wx,W:Ex,x:null,X:null,y:Tx,Y:kx,Z:Ax,"%":Px},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return T(t,e,n,r)},d:M_,e:M_,f:U_,g:P_,G:A_,H:L_,I:L_,j:I_,L:j_,m:N_,M:D_,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:R_,Q:z_,s:$_,S:F_,u:T_,U:S_,V:k_,w:E_,W:O_,x:function(t,e,r){return T(t,n,e,r)},X:function(t,e,n){return T(t,r,e,n)},y:P_,Y:A_,Z:C_,"%":B_};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=v_[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function E(t,e){return function(n){var r,i,o=u_(1900,void 0,1);if(T(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=s_(u_(o.y,0,1))).getUTCDay(),r=i>4||0===i?Db.ceil(r):Db(r),r=Nb.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=a_(u_(o.y,0,1))).getDay(),r=i>4||0===i?ab.ceil(r):ab(r),r=nb.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?s_(u_(o.y,0,1)).getUTCDay():a_(u_(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,s_(o)):a_(o)}}function T(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in v_?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),_.x=w(n,_),_.X=w(r,_),_.c=w(e,_),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t+="",!0);return e.toString=function(){return t},e}}}var l_,f_,h_,d_,p_,v_={"-":"",_:" ",0:"0"},m_=/^\s*\d+/,y_=/^%/,g_=/[\\^$*+?|[\]().{}]/g;function b_(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function __(t){return t.replace(g_,"\\$&")}function x_(t){return new RegExp("^(?:"+t.map(__).join("|")+")","i")}function w_(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function E_(t,e,n){var r=m_.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function T_(t,e,n){var r=m_.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function S_(t,e,n){var r=m_.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function k_(t,e,n){var r=m_.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function O_(t,e,n){var r=m_.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function A_(t,e,n){var r=m_.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function P_(t,e,n){var r=m_.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function C_(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function R_(t,e,n){var r=m_.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function N_(t,e,n){var r=m_.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function M_(t,e,n){var r=m_.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function I_(t,e,n){var r=m_.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function L_(t,e,n){var r=m_.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function D_(t,e,n){var r=m_.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function F_(t,e,n){var r=m_.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function j_(t,e,n){var r=m_.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function U_(t,e,n){var r=m_.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function B_(t,e,n){var r=y_.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function z_(t,e,n){var r=m_.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $_(t,e,n){var r=m_.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function q_(t,e){return b_(t.getDate(),e,2)}function V_(t,e){return b_(t.getHours(),e,2)}function H_(t,e){return b_(t.getHours()%12||12,e,2)}function K_(t,e){return b_(1+nb.count(Eb(t),t),e,3)}function Y_(t,e){return b_(t.getMilliseconds(),e,3)}function G_(t,e){return Y_(t,e)+"000"}function W_(t,e){return b_(t.getMonth()+1,e,2)}function Q_(t,e){return b_(t.getMinutes(),e,2)}function X_(t,e){return b_(t.getSeconds(),e,2)}function J_(t){var e=t.getDay();return 0===e?7:e}function Z_(t,e){return b_(ob.count(Eb(t)-1,t),e,2)}function tx(t){var e=t.getDay();return e>=4||0===e?cb(t):cb.ceil(t)}function ex(t,e){return t=tx(t),b_(cb.count(Eb(t),t)+(4===Eb(t).getDay()),e,2)}function nx(t){return t.getDay()}function rx(t,e){return b_(ab.count(Eb(t)-1,t),e,2)}function ix(t,e){return b_(t.getFullYear()%100,e,2)}function ox(t,e){return b_((t=tx(t)).getFullYear()%100,e,2)}function ax(t,e){return b_(t.getFullYear()%1e4,e,4)}function sx(t,e){var n=t.getDay();return b_((t=n>=4||0===n?cb(t):cb.ceil(t)).getFullYear()%1e4,e,4)}function ux(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+b_(e/60|0,"0",2)+b_(e%60,"0",2)}function cx(t,e){return b_(t.getUTCDate(),e,2)}function lx(t,e){return b_(t.getUTCHours(),e,2)}function fx(t,e){return b_(t.getUTCHours()%12||12,e,2)}function hx(t,e){return b_(1+Nb.count(Zb(t),t),e,3)}function dx(t,e){return b_(t.getUTCMilliseconds(),e,3)}function px(t,e){return dx(t,e)+"000"}function vx(t,e){return b_(t.getUTCMonth()+1,e,2)}function mx(t,e){return b_(t.getUTCMinutes(),e,2)}function yx(t,e){return b_(t.getUTCSeconds(),e,2)}function gx(t){var e=t.getUTCDay();return 0===e?7:e}function bx(t,e){return b_(Lb.count(Zb(t)-1,t),e,2)}function _x(t){var e=t.getUTCDay();return e>=4||0===e?Ub(t):Ub.ceil(t)}function xx(t,e){return t=_x(t),b_(Ub.count(Zb(t),t)+(4===Zb(t).getUTCDay()),e,2)}function wx(t){return t.getUTCDay()}function Ex(t,e){return b_(Db.count(Zb(t)-1,t),e,2)}function Tx(t,e){return b_(t.getUTCFullYear()%100,e,2)}function Sx(t,e){return b_((t=_x(t)).getUTCFullYear()%100,e,2)}function kx(t,e){return b_(t.getUTCFullYear()%1e4,e,4)}function Ox(t,e){var n=t.getUTCDay();return b_((t=n>=4||0===n?Ub(t):Ub.ceil(t)).getUTCFullYear()%1e4,e,4)}function Ax(){return"+0000"}function Px(){return"%"}function Cx(t){return+t}function Rx(t){return Math.floor(+t/1e3)}function Nx(t){return l_=c_(t),f_=l_.format,h_=l_.parse,d_=l_.utcFormat,p_=l_.utcParse,l_}function Mx(t){return new Date(t)}function Ix(t){return t instanceof Date?+t:+new Date(+t)}function Lx(t,e,n,r,i,o,a,s,u,c){var l=ig(),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),v=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),_=c("%Y");function x(t){return(u(t)<t?d:s(t)<t?p:a(t)<t?v:o(t)<t?m:r(t)<t?i(t)<t?y:g:n(t)<t?b:_)(t)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(Array.from(t,Ix)):h().map(Mx)},l.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},l.tickFormat=function(t,e){return null==e?x:c(e)},l.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(cg(n,t)):l},l.copy=function(){return ng(l,Lx(t,e,n,r,i,o,a,s,u,c))},l}function Dx(){return qy.apply(Lx(i_,o_,Eb,_b,ob,nb,Zg,Qg,Yg,f_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fx(){return qy.apply(Lx(n_,r_,Zb,Qb,Lb,Nb,Pb,kb,Yg,d_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jx(){var t,e,n,r,i,o=0,a=1,s=Jy,u=!1;function c(e){return null==e||isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}function l(t){return function(e){var n,r;return arguments.length?([n,r]=e,s=t(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.range=l(Li),c.rangeRound=l(ey),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function Ux(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Bx(){var t=ag(jx()(Jy));return t.copy=function(){return Ux(t,Bx())},Vy.apply(t,arguments)}function zx(){var t=mg(jx()).domain([1,10]);return t.copy=function(){return Ux(t,zx()).base(t.base())},Vy.apply(t,arguments)}function $x(){var t=_g(jx());return t.copy=function(){return Ux(t,$x()).constant(t.constant())},Vy.apply(t,arguments)}function qx(){var t=Sg(jx());return t.copy=function(){return Ux(t,qx()).exponent(t.exponent())},Vy.apply(t,arguments)}function Vx(){return qx.apply(null,arguments).exponent(.5)}function Hx(){var t=[],e=Jy;function n(n){if(null!=n&&!isNaN(n=+n))return e((J(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort($),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>ae(t,r/e)))},n.copy=function(){return Hx(e).domain(t)},Vy.apply(n,arguments)}function Kx(){var t,e,n,r,i,o,a,s=0,u=.5,c=1,l=1,f=Jy,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(l*t<l*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,f=py(t,[n,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){return arguments.length?([s,u,c]=a,t=o(s=+s),e=o(u=+u),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d):[s,u,c]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(Li),d.rangeRound=p(ey),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(u),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d}}function Yx(){var t=ag(Kx()(Jy));return t.copy=function(){return Ux(t,Yx())},Vy.apply(t,arguments)}function Gx(){var t=mg(Kx()).domain([.1,1,10]);return t.copy=function(){return Ux(t,Gx()).base(t.base())},Vy.apply(t,arguments)}function Wx(){var t=_g(Kx());return t.copy=function(){return Ux(t,Wx()).constant(t.constant())},Vy.apply(t,arguments)}function Qx(){var t=Sg(Kx());return t.copy=function(){return Ux(t,Qx()).exponent(t.exponent())},Vy.apply(t,arguments)}function Xx(){return Qx.apply(null,arguments).exponent(.5)}function Jx(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}Nx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Zx=Jx("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),tw=Jx("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ew=Jx("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),nw=Jx("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),rw=Jx("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),iw=Jx("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ow=Jx("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),aw=Jx("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),sw=Jx("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),uw=Jx("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),cw=t=>Ei(t[t.length-1]);var lw=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Jx);const fw=cw(lw);var hw=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Jx);const dw=cw(hw);var pw=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Jx);const vw=cw(pw);var mw=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Jx);const yw=cw(mw);var gw=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Jx);const bw=cw(gw);var _w=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Jx);const xw=cw(_w);var ww=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Jx);const Ew=cw(ww);var Tw=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Jx);const Sw=cw(Tw);var kw=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Jx);const Ow=cw(kw);var Aw=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Jx);const Pw=cw(Aw);var Cw=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Jx);const Rw=cw(Cw);var Nw=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Jx);const Mw=cw(Nw);var Iw=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Jx);const Lw=cw(Iw);var Dw=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Jx);const Fw=cw(Dw);var jw=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Jx);const Uw=cw(jw);var Bw=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Jx);const zw=cw(Bw);var $w=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Jx);const qw=cw($w);var Vw=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Jx);const Hw=cw(Vw);var Kw=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Jx);const Yw=cw(Kw);var Gw=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Jx);const Ww=cw(Gw);var Qw=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Jx);const Xw=cw(Qw);var Jw=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Jx);const Zw=cw(Jw);var tE=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Jx);const eE=cw(tE);var nE=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Jx);const rE=cw(nE);var iE=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Jx);const oE=cw(iE);var aE=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Jx);const sE=cw(aE);var uE=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Jx);const cE=cw(uE);function lE(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const fE=dy($s(300,.5,0),$s(-240,.5,1));var hE=dy($s(-100,.75,.35),$s(80,1.5,.8)),dE=dy($s(260,.75,.35),$s(80,1.5,.8)),pE=$s();function vE(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return pE.h=360*t-100,pE.s=1.5-1.5*e,pE.l=.8-.9*e,pE+""}var mE=ti(),yE=Math.PI/3,gE=2*Math.PI/3;function bE(t){var e;return t=(.5-t)*Math.PI,mE.r=255*(e=Math.sin(t))*e,mE.g=255*(e=Math.sin(t+yE))*e,mE.b=255*(e=Math.sin(t+gE))*e,mE+""}function _E(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function xE(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const wE=xE(Jx("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var EE=xE(Jx("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),TE=xE(Jx("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),SE=xE(Jx("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function kE(t){return Sr(lr(t).call(document.documentElement))}var OE=0;function AE(){return new PE}function PE(){this._="@"+(++OE).toString(36)}function CE(t,e){return t.target&&(t=Di(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>Fi(t,e)))}function RE(t){return"string"==typeof t?new wr([document.querySelectorAll(t)],[document.documentElement]):new wr([hn(t)],xr)}function NE(t){return function(){return t}}PE.prototype=AE.prototype={constructor:PE,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};const ME=Math.abs,IE=Math.atan2,LE=Math.cos,DE=Math.max,FE=Math.min,jE=Math.sin,UE=Math.sqrt,BE=1e-12,zE=Math.PI,$E=zE/2,qE=2*zE;function VE(t){return t>1?0:t<-1?zE:Math.acos(t)}function HE(t){return t>=1?$E:t<=-1?-$E:Math.asin(t)}function KE(t){return t.innerRadius}function YE(t){return t.outerRadius}function GE(t){return t.startAngle}function WE(t){return t.endAngle}function QE(t){return t&&t.padAngle}function XE(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,f=s-o,h=f*u-l*c;if(!(h*h<BE))return[t+(h=(l*(e-o)-f*(t-i))/h)*u,e+h*c]}function JE(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/UE(s*s+u*u),l=c*u,f=-c*s,h=t+l,d=e+f,p=n+l,v=r+f,m=(h+p)/2,y=(d+v)/2,g=p-h,b=v-d,_=g*g+b*b,x=i-o,w=h*v-p*d,E=(b<0?-1:1)*UE(DE(0,x*x*_-w*w)),T=(w*b-g*E)/_,S=(-w*g-b*E)/_,k=(w*b+g*E)/_,O=(-w*g+b*E)/_,A=T-m,P=S-y,C=k-m,R=O-y;return A*A+P*P>C*C+R*R&&(T=k,S=O),{cx:T,cy:S,x01:-l,y01:-f,x11:T*(i/x-1),y11:S*(i/x-1)}}function ZE(){var t=KE,e=YE,n=NE(0),r=null,i=GE,o=WE,a=QE,s=null;function u(){var u,c,l=+t.apply(this,arguments),f=+e.apply(this,arguments),h=i.apply(this,arguments)-$E,d=o.apply(this,arguments)-$E,p=ME(d-h),v=d>h;if(s||(s=u=ts()),f<l&&(c=f,f=l,l=c),f>BE)if(p>qE-BE)s.moveTo(f*LE(h),f*jE(h)),s.arc(0,0,f,h,d,!v),l>BE&&(s.moveTo(l*LE(d),l*jE(d)),s.arc(0,0,l,d,h,v));else{var m,y,g=h,b=d,_=h,x=d,w=p,E=p,T=a.apply(this,arguments)/2,S=T>BE&&(r?+r.apply(this,arguments):UE(l*l+f*f)),k=FE(ME(f-l)/2,+n.apply(this,arguments)),O=k,A=k;if(S>BE){var P=HE(S/l*jE(T)),C=HE(S/f*jE(T));(w-=2*P)>BE?(_+=P*=v?1:-1,x-=P):(w=0,_=x=(h+d)/2),(E-=2*C)>BE?(g+=C*=v?1:-1,b-=C):(E=0,g=b=(h+d)/2)}var R=f*LE(g),N=f*jE(g),M=l*LE(x),I=l*jE(x);if(k>BE){var L,D=f*LE(b),F=f*jE(b),j=l*LE(_),U=l*jE(_);if(p<zE&&(L=XE(R,N,j,U,D,F,M,I))){var B=R-L[0],z=N-L[1],$=D-L[0],q=F-L[1],V=1/jE(VE((B*$+z*q)/(UE(B*B+z*z)*UE($*$+q*q)))/2),H=UE(L[0]*L[0]+L[1]*L[1]);O=FE(k,(l-H)/(V-1)),A=FE(k,(f-H)/(V+1))}}E>BE?A>BE?(m=JE(j,U,R,N,f,A,v),y=JE(D,F,M,I,f,A,v),s.moveTo(m.cx+m.x01,m.cy+m.y01),A<k?s.arc(m.cx,m.cy,A,IE(m.y01,m.x01),IE(y.y01,y.x01),!v):(s.arc(m.cx,m.cy,A,IE(m.y01,m.x01),IE(m.y11,m.x11),!v),s.arc(0,0,f,IE(m.cy+m.y11,m.cx+m.x11),IE(y.cy+y.y11,y.cx+y.x11),!v),s.arc(y.cx,y.cy,A,IE(y.y11,y.x11),IE(y.y01,y.x01),!v))):(s.moveTo(R,N),s.arc(0,0,f,g,b,!v)):s.moveTo(R,N),l>BE&&w>BE?O>BE?(m=JE(M,I,D,F,l,-O,v),y=JE(R,N,j,U,l,-O,v),s.lineTo(m.cx+m.x01,m.cy+m.y01),O<k?s.arc(m.cx,m.cy,O,IE(m.y01,m.x01),IE(y.y01,y.x01),!v):(s.arc(m.cx,m.cy,O,IE(m.y01,m.x01),IE(m.y11,m.x11),!v),s.arc(0,0,l,IE(m.cy+m.y11,m.cx+m.x11),IE(y.cy+y.y11,y.cx+y.x11),v),s.arc(y.cx,y.cy,O,IE(y.y11,y.x11),IE(y.y01,y.x01),!v))):s.arc(0,0,l,x,_,v):s.lineTo(M,I)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-zE/2;return[LE(r)*n,jE(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:NE(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:NE(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:NE(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:NE(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:NE(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:NE(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:NE(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u}var tT=Array.prototype.slice;function eT(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function nT(t){this._context=t}function rT(t){return new nT(t)}function iT(t){return t[0]}function oT(t){return t[1]}function aT(t,e){var n=NE(!0),r=null,i=rT,o=null;function a(a){var s,u,c,l=(a=eT(a)).length,f=!1;for(null==r&&(o=i(c=ts())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?iT:NE(t),e="function"==typeof e?e:void 0===e?oT:NE(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:NE(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:NE(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:NE(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function sT(t,e,n){var r=null,i=NE(!0),o=null,a=rT,s=null;function u(u){var c,l,f,h,d,p=(u=eT(u)).length,v=!1,m=new Array(p),y=new Array(p);for(null==o&&(s=a(d=ts())),c=0;c<=p;++c){if(!(c<p&&i(h=u[c],c,u))===v)if(v=!v)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=l;--f)s.point(m[f],y[f]);s.lineEnd(),s.areaEnd()}v&&(m[c]=+t(h,c,u),y[c]=+e(h,c,u),s.point(r?+r(h,c,u):m[c],n?+n(h,c,u):y[c]))}if(d)return s=null,d+""||null}function c(){return aT().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?iT:NE(+t),e="function"==typeof e?e:NE(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?oT:NE(+n),u.x=function(e){return arguments.length?(t="function"==typeof e?e:NE(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:NE(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:NE(+t),u):r},u.y=function(t){return arguments.length?(e="function"==typeof t?t:NE(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"==typeof t?t:NE(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:NE(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:NE(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u}function uT(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function cT(t){return t}function lT(){var t=cT,e=uT,n=null,r=NE(0),i=NE(qE),o=NE(0);function a(a){var s,u,c,l,f,h=(a=eT(a)).length,d=0,p=new Array(h),v=new Array(h),m=+r.apply(this,arguments),y=Math.min(qE,Math.max(-qE,i.apply(this,arguments)-m)),g=Math.min(Math.abs(y)/h,o.apply(this,arguments)),b=g*(y<0?-1:1);for(s=0;s<h;++s)(f=v[p[s]=s]=+t(a[s],s,a))>0&&(d+=f);for(null!=e?p.sort((function(t,n){return e(v[t],v[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,c=d?(y-h*b)/d:0;s<h;++s,m=l)u=p[s],l=m+((f=v[u])>0?f*c:0)+b,v[u]={data:a[u],index:s,value:f,startAngle:m,endAngle:l,padAngle:g};return v}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:NE(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:NE(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:NE(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:NE(+t),a):o},a}nT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var fT=dT(rT);function hT(t){this._curve=t}function dT(t){function e(e){return new hT(t(e))}return e._curve=t,e}function pT(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(dT(t)):e()._curve},t}function vT(){return pT(aT().curve(fT))}function mT(){var t=sT().curve(fT),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return pT(n())},delete t.lineX0,t.lineEndAngle=function(){return pT(r())},delete t.lineX1,t.lineInnerRadius=function(){return pT(i())},delete t.lineY0,t.lineOuterRadius=function(){return pT(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(dT(t)):e()._curve},t}function yT(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}hT.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};class gT{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}class bT{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0==this._point++)this._x0=t,this._y0=e;else{const n=yT(this._x0,this._y0),r=yT(this._x0,this._y0=(this._y0+e)/2),i=yT(t,this._y0),o=yT(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...o)}}}function _T(t){return new gT(t,!0)}function xT(t){return new gT(t,!1)}function wT(t){return new bT(t)}function ET(t){return t.source}function TT(t){return t.target}function ST(t){let e=ET,n=TT,r=iT,i=oT,o=null,a=null;function s(){let s;const u=tT.call(arguments),c=e.apply(this,u),l=n.apply(this,u);if(null==o&&(a=t(s=ts())),a.lineStart(),u[0]=c,a.point(+r.apply(this,u),+i.apply(this,u)),u[0]=l,a.point(+r.apply(this,u),+i.apply(this,u)),a.lineEnd(),s)return a=null,s+""||null}return s.source=function(t){return arguments.length?(e=t,s):e},s.target=function(t){return arguments.length?(n=t,s):n},s.x=function(t){return arguments.length?(r="function"==typeof t?t:NE(+t),s):r},s.y=function(t){return arguments.length?(i="function"==typeof t?t:NE(+t),s):i},s.context=function(e){return arguments.length?(null==e?o=a=null:a=t(o=e),s):o},s}function kT(){return ST(_T)}function OT(){return ST(xT)}function AT(){const t=ST(wT);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const PT=UE(3),CT={draw(t,e){const n=.59436*UE(e+FE(e/28,.75)),r=n/2,i=r*PT;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},RT={draw(t,e){const n=UE(e/zE);t.moveTo(n,0),t.arc(0,0,n,0,qE)}},NT={draw(t,e){const n=UE(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},MT=UE(1/3),IT=2*MT,LT={draw(t,e){const n=UE(e/IT),r=n*MT;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},DT={draw(t,e){const n=.62625*UE(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},FT={draw(t,e){const n=.87559*UE(e-FE(e/7,2));t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},jT={draw(t,e){const n=UE(e),r=-n/2;t.rect(r,r,n,n)}},UT={draw(t,e){const n=.4431*UE(e);t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},BT=jE(zE/10)/jE(7*zE/10),zT=jE(qE/10)*BT,$T=-LE(qE/10)*BT,qT={draw(t,e){const n=UE(.8908130915292852*e),r=zT*n,i=$T*n;t.moveTo(0,-n),t.lineTo(r,i);for(let e=1;e<5;++e){const o=qE*e/5,a=LE(o),s=jE(o);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}},VT=UE(3),HT={draw(t,e){const n=-UE(e/(3*VT));t.moveTo(0,2*n),t.lineTo(-VT*n,-n),t.lineTo(VT*n,-n),t.closePath()}},KT=UE(3),YT={draw(t,e){const n=.6824*UE(e),r=n/2,i=n*KT/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},GT=-.5,WT=UE(3)/2,QT=1/UE(12),XT=3*(QT/2+1),JT={draw(t,e){const n=UE(e/XT),r=n/2,i=n*QT,o=r,a=n*QT+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(GT*r-WT*i,WT*r+GT*i),t.lineTo(GT*o-WT*a,WT*o+GT*a),t.lineTo(GT*s-WT*u,WT*s+GT*u),t.lineTo(GT*r+WT*i,GT*i-WT*r),t.lineTo(GT*o+WT*a,GT*a-WT*o),t.lineTo(GT*s+WT*u,GT*u-WT*s),t.closePath()}},ZT={draw(t,e){const n=.6189*UE(e-FE(e/6,1.7));t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},tS=[RT,NT,LT,jT,qT,HT,JT],eS=[RT,FT,ZT,YT,CT,UT,DT];function nS(t,e){let n=null;function r(){let r;if(n||(n=r=ts()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"==typeof t?t:NE(t||RT),e="function"==typeof e?e:NE(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"==typeof e?e:NE(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:NE(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}function rS(){}function iS(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oS(t){this._context=t}function aS(t){return new oS(t)}function sS(t){this._context=t}function uS(t){return new sS(t)}function cS(t){this._context=t}function lS(t){return new cS(t)}function fS(t,e){this._basis=new oS(t),this._beta=e}oS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iS(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},sS.prototype={areaStart:rS,areaEnd:rS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:iS(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},cS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:iS(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},fS.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const hS=function t(e){function n(t){return 1===e?new oS(t):new fS(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function dS(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function pS(t,e){this._context=t,this._k=(1-e)/6}pS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:dS(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:dS(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const vS=function t(e){function n(t){return new pS(t,e)}return n.tension=function(e){return t(+e)},n}(0);function mS(t,e){this._context=t,this._k=(1-e)/6}mS.prototype={areaStart:rS,areaEnd:rS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dS(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yS=function t(e){function n(t){return new mS(t,e)}return n.tension=function(e){return t(+e)},n}(0);function gS(t,e){this._context=t,this._k=(1-e)/6}gS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dS(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const bS=function t(e){function n(t){return new gS(t,e)}return n.tension=function(e){return t(+e)},n}(0);function _S(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>BE){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>BE){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function xS(t,e){this._context=t,this._alpha=e}xS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:_S(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const wS=function t(e){function n(t){return e?new xS(t,e):new pS(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function ES(t,e){this._context=t,this._alpha=e}ES.prototype={areaStart:rS,areaEnd:rS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:_S(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const TS=function t(e){function n(t){return e?new ES(t,e):new mS(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function SS(t,e){this._context=t,this._alpha=e}SS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_S(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const kS=function t(e){function n(t){return e?new SS(t,e):new gS(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function OS(t){this._context=t}function AS(t){return new OS(t)}function PS(t){return t<0?-1:1}function CS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(PS(o)+PS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function RS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function NS(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function MS(t){this._context=t}function IS(t){this._context=new LS(t)}function LS(t){this._context=t}function DS(t){return new MS(t)}function FS(t){return new IS(t)}function jS(t){this._context=t}function US(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function BS(t){return new jS(t)}function zS(t,e){this._context=t,this._t=e}function $S(t){return new zS(t,.5)}function qS(t){return new zS(t,0)}function VS(t){return new zS(t,1)}function HS(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function KS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function YS(t,e){return t[e]}function GS(t){const e=[];return e.key=t,e}function WS(){var t=NE([]),e=KS,n=HS,r=YS;function i(i){var o,a,s=Array.from(t.apply(this,arguments),GS),u=s.length,c=-1;for(const t of i)for(o=0,++c;o<u;++o)(s[o][c]=[0,+r(t,s[o].key,c,i)]).data=t;for(o=0,a=eT(e(s));o<u;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:NE(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:NE(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?KS:"function"==typeof t?t:NE(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?HS:t,i):n},i}function QS(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}HS(t,e)}}function XS(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function JS(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}HS(t,e)}}function ZS(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}u+=f,c+=h*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,HS(t,e)}}function tk(t){var e=t.map(ek);return KS(t).sort((function(t,n){return e[t]-e[n]}))}function ek(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function nk(t){var e=t.map(rk);return KS(t).sort((function(t,n){return e[t]-e[n]}))}function rk(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function ik(t){return nk(t).reverse()}function ok(t){var e,n,r=t.length,i=t.map(rk),o=tk(t),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)}function ak(t){return KS(t).reverse()}OS.prototype={areaStart:rS,areaEnd:rS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},MS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:NS(this,this._t0,RS(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,NS(this,RS(this,n=CS(this,t,e)),n);break;default:NS(this,this._t0,n=CS(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(IS.prototype=Object.create(MS.prototype)).point=function(t,e){MS.prototype.point.call(this,e,t)},LS.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},jS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=US(t),i=US(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},zS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var sk="%Y-%m-%dT%H:%M:%S.%LZ",uk=Date.prototype.toISOString?function(t){return t.toISOString()}:d_(sk);const ck=uk;var lk=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:p_(sk);const fk=lk;function hk(t,e,n){var r=new Qi,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?Gi():+n,r._restart((function o(a){a+=i,r._restart(o,i+=e,n),t(a)}),e,n)},r.restart(t,e,n),r)}const dk=t=>()=>t;function pk(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function vk(t,e,n){this.k=t,this.x=e,this.y=n}vk.prototype={constructor:vk,scale:function(t){return 1===t?this:new vk(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new vk(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var mk=new vk(1,0,0);function yk(t){for(;!t.__zoom;)if(!(t=t.parentNode))return mk;return t.__zoom}function gk(t){t.stopImmediatePropagation()}function bk(t){t.preventDefault(),t.stopImmediatePropagation()}function _k(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function xk(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function wk(){return this.__zoom||mk}function Ek(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Tk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sk(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function kk(){var t,e,n,r=_k,i=xk,o=Sk,a=Ek,s=Tk,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,f=ry,h=cn("start","zoom","end"),d=500,p=0,v=10;function m(t){t.property("__zoom",wk).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",S).filter(s).on("touchstart.zoom",k).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new vk(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new vk(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n,r){t.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=x(t,o).event(r),s=i.apply(t,o),u=null==n?b(s):"function"==typeof n?n.apply(t,o):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=t.__zoom,h="function"==typeof e?e.apply(t,o):e,d=f(l.invert(u).concat(c/l.k),h.invert(u).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=c/e[2];t=new vk(n,u[0]-e[0]*n,u[1]-e[1]*n)}a.zoom(null,t)}}))}function x(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function E(t,...e){if(r.apply(this,arguments)){var n=x(this,e).event(t),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,a.apply(this,arguments)))),l=Fi(t);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=i.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[l,i.invert(l)],co(this),n.start()}bk(t),n.wheel=setTimeout(f,150),n.zoom("mouse",o(g(y(i,s),n.mouse[0],n.mouse[1]),n.extent,c))}function f(){n.wheel=null,n.end()}}function T(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,a=x(this,e,!0).event(t),s=Sr(t.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",d,!0),u=Fi(t,i),l=t.clientX,f=t.clientY;Cr(t.view),gk(t),a.mouse=[u,this.__zoom.invert(u)],co(this),a.start()}function h(t){if(bk(t),!a.moved){var e=t.clientX-l,n=t.clientY-f;a.moved=e*e+n*n>p}a.event(t).zoom("mouse",o(g(a.that.__zoom,a.mouse[0]=Fi(t,i),a.mouse[1]),a.extent,c))}function d(t){s.on("mousemove.zoom mouseup.zoom",null),Rr(t.view,a.moved),bk(t),a.event(t).end()}}function S(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=Fi(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),u=n.k*(t.shiftKey?.5:2),f=o(g(y(n,u),a,s),i.apply(this,e),c);bk(t),l>0?Sr(this).transition().duration(l).call(_,f,a,t):Sr(this).call(m.transform,f,a,t)}}function k(n,...i){if(r.apply(this,arguments)){var o,a,s,u,c=n.touches,l=c.length,f=x(this,i,n.changedTouches.length===l).event(n);for(gk(n),a=0;a<l;++a)u=[u=Fi(s=c[a],this),this.__zoom.invert(u),s.identifier],f.touch0?f.touch1||f.touch0[2]===u[2]||(f.touch1=u,f.taps=0):(f.touch0=u,o=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(f.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),d)),co(this),f.start())}}function O(t,...e){if(this.__zooming){var n,r,i,a,s=x(this,e).event(t),u=t.changedTouches,l=u.length;for(bk(t),n=0;n<l;++n)i=Fi(r=u[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var f=s.touch0[0],h=s.touch0[1],d=s.touch1[0],p=s.touch1[1],v=(v=d[0]-f[0])*v+(v=d[1]-f[1])*v,m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m;r=y(r,Math.sqrt(v/m)),i=[(f[0]+d[0])/2,(f[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(g(r,i,a),s.extent,c))}}function A(t,...r){if(this.__zooming){var i,o,a=x(this,r).event(t),s=t.changedTouches,u=s.length;for(gk(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),i=0;i<u;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Fi(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<v)){var c=Sr(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return m.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",wk),t!==i?_(t,e,n,r):i.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e,n,r){m.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},m.scaleTo=function(t,e,n,r){m.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?b(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),u="function"==typeof e?e.apply(this,arguments):e;return o(g(y(r,u),a,s),t,c)}),n,r)},m.translateBy=function(t,e,n,r){m.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},m.translateTo=function(t,e,n,r,a){m.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?b(t):"function"==typeof r?r.apply(this,arguments):r;return o(mk.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,a)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Sr(this.that).datum();h.call(t,this.that,new pk(t,{sourceEvent:this.sourceEvent,target:m,type:t,transform:this.that.__zoom,dispatch:h}),e)}},m.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:dk(+t),m):a},m.filter=function(t){return arguments.length?(r="function"==typeof t?t:dk(!!t),m):r},m.touchable=function(t){return arguments.length?(s="function"==typeof t?t:dk(!!t),m):s},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:dk([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],m):[u[0],u[1]]},m.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(t){return arguments.length?(o=t,m):o},m.duration=function(t){return arguments.length?(l=+t,m):l},m.interpolate=function(t){return arguments.length?(f=t,m):f},m.on=function(){var t=h.on.apply(h,arguments);return t===h?m:t},m.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,m):Math.sqrt(p)},m.tapDistance=function(t){return arguments.length?(v=+t,m):v},m}yk.prototype=vk.prototype;var Ok=r(316),Ak=r.n(Ok),Pk=r(496),Ck=r.n(Pk);function Rk(t){return function(t){if(Array.isArray(t))return Nk(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Nk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nk(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ik=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";Mk(this,e),this.d3=t,this.pack=Ak(),this.interact=Ck(),this.rootId=r,this.resources=n,this.margin=6,this.actions={selection:{current:null,style:"2px solid hsl(205, 100%, 50%)",offset:"3px"},drag:{state:!1,startX:0,startY:0}}}var n,r;return n=e,r=[{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootId,r=this.d3.select(n===this.rootId?"#".concat(n):"#".concat(n," .component-container")).selectAll(".".concat(n,".component")).data(e,(function(t){return t.id})),i=r.enter().append("svg");return i.attr("id",(function(t){return t.id})).attr("class",(function(t){return"".concat(n," ").concat(t.definition.type," component component-").concat(t.definition.model," ").concat(t.definition.isContainer?"isContainer":"")})).html((function(e){return t.resources.models[e.definition.model]})),this.__drawModels(e,n),e.forEach((function(e){t.setSelectionAction(e),e.children.length>0&&t.draw(e.children,e.id)})),this.initializeComponents(i,e,n),n===this.rootId&&(this.setComponentAction(e),this.setViewPortAction(this.d3.select("#".concat(this.rootId)))),this.d3.select(n===this.rootId?"#".concat(n):"#".concat(n," .component-container")).selectAll(".".concat(n,".component")).transition().duration(250).attr("x",(function(t){return t.drawOption.x})).attr("y",(function(t){return t.drawOption.y})),r.exit().remove(),!0}},{key:"setViewPortAction",value:function(t){var e=this;t.on("mousedown",(function(){e.__unselectComponent()}))}},{key:"setSelectionAction",value:function(t){var e=this;this.d3.select("#".concat(t.id)).call(this.d3.drag().on("start",(function(){e.actions.drag.state=!1})).on("drag",(function(t,n){e.__selectComponent(n.id),e.actions.drag.state=!0})).on("end",(function(t,n){e.actions.drag.state||e.__toggleComponentSelection(n.id),e.actions.drag.state=!1})))}},{key:"setComponentAction",value:function(t){var e=this;this.__drag(),this.__dropToRoot(t),t.forEach((function(n){n.definition.isContainer&&e.__dropToContainer(t,n)}))}},{key:"__drag",value:function(){var t=this;this.interact(".component").unset(),this.interact(".component").draggable({onstart:function(e){t.actions.drag.startX=t.d3.select("#".concat(e.target.id)).datum().drawOption.x,t.actions.drag.startY=t.d3.select("#".concat(e.target.id)).datum().drawOption.y},onmove:function(e){t.actions.drag.state=!0;var n=t.d3.select("#".concat(e.target.id));n.datum().drawOption.x+=e.dx,n.datum().drawOption.y+=e.dy,n.attr("x",(function(t){return t.drawOption.x})).attr("y",(function(t){return t.drawOption.y}))}})}},{key:"__dropToRoot",value:function(t){var e=this;this.interact("#".concat(this.rootId)).unset(),this.interact("#".concat(this.rootId)).dropzone({accept:".component",overlap:"pointer",ondrop:function(n){var r=e.d3.select("#".concat(n.relatedTarget.id));if(!Rk(r.node().classList).includes(e.rootId)){var i=e.d3.select("#".concat(r.node().classList[0])).datum();t.push(r.datum()),i.children=i.children.filter((function(t){return t.id!==n.relatedTarget.id})),i.children.forEach((function(t){t.drawOption=null})),e.draw(i.children,i.id),e.__resetDrawOption(t,r)}}})}},{key:"__dropToContainer",value:function(t,e){var n,r,i=this;this.interact("#".concat(e.id)).unset(),this.interact("#".concat(e.id)).dropzone({accept:".component",overlap:"pointer",ondropactivate:function(t){r=i.d3.select("#".concat(t.relatedTarget.id)),n=[],r.datum().definition.isContainer&&i.__getChildrenContainer(r.datum().children,n)},ondrop:function(o){if(!n.includes(o.target.id)){if(!e.definition.childrenTypes.includes(r.datum().definition.type)){var a=i.actions.drag,s=a.startX,u=a.startY;return r.datum().drawOption.x=s,r.datum().drawOption.y=u,void i.draw(t)}var c=i.d3.select("#".concat(o.target.id)).datum();if(Rk(r.node().classList).includes(i.rootId)){c.children.push(r.datum());for(var l=0;l<t.length;l+=1)if(t[l].id===r.datum().id){t.splice(l,1);break}i.__resetDrawOption(t,r)}else if(r.node().classList[0]!==o.target.id){var f=i.d3.select("#".concat(r.node().classList[0])).datum();c.children.push(r.datum()),f.children=f.children.filter((function(t){return t.id!==o.relatedTarget.id})),f.children.forEach((function(t){t.drawOption=null})),i.draw(f.children,f.id),i.__resetDrawOption(t,r)}}}})}},{key:"__unselectComponent",value:function(){this.actions.selection.current&&(this.d3.select("#".concat(this.actions.selection.current)).style("outline",""),this.actions.selection.current=null)}},{key:"__selectComponent",value:function(t){this.__unselectComponent(),this.d3.select("#".concat(t)).style("outline",this.actions.selection.style).style("outline-offset",this.actions.selection.offset),this.actions.selection.current=t}},{key:"__toggleComponentSelection",value:function(t){this.actions.selection.current===t?this.__unselectComponent():this.__selectComponent(t)}},{key:"__getChildrenContainer",value:function(t,e){var n=this;t.forEach((function(t){t.definition.isContainer&&(e.push(t.id),n.__getChildrenContainer(t.children,e))}))}},{key:"__resetDrawOption",value:function(t,e){this.d3.selectAll(".component").each((function(t){t.drawOption=null})),e.datum().drawOption=null,this.draw(t)}},{key:"initializeComponents",value:function(t,e,n){var r=e.filter((function(t){return null===t.drawOption&&(t.drawOption=new E,!0)}));this.storeComponentSize(e,n);var i=this.setContainerSize(e,n);this.setComponentPosition(r,i.items),t.attr("x",(function(t){return t.drawOption.x})).attr("y",(function(t){return t.drawOption.y})).attr("width",(function(t){return t.drawOption.width})).attr("height",(function(t){return t.drawOption.height})).select(".template").attr("width","100%").attr("height","100%")}},{key:"setContainerSize",value:function(t,e){var n=this,r=t.map((function(t){return{width:t.drawOption.width+n.margin,height:t.drawOption.height+n.margin,id:t.id}}));if(r=this.pack(r),e!==this.rootId)if(this.d3.select("#".concat(e)).datum().children.length>0){var i=parseInt(this.d3.select("#".concat(e," .component-container")).attr("y"),10);this.d3.select("#".concat(e)).attr("width",r.width+4*this.margin).attr("height",r.height+i+3*this.margin).select(".template").attr("width",r.width+3*this.margin).attr("height",r.height+i+2*this.margin).select(".component-container").attr("width",r.width+this.margin).attr("height",r.height+this.margin)}else{var o=parseInt(this.d3.select("#".concat(e," .component-container")).attr("y"),10);this.d3.select("#".concat(e)).attr("width",230).attr("height",r.height+o+3*this.margin).select(".template").attr("width",230).attr("height",r.height+o+3*this.margin).select(".component-container").attr("width",230-2*this.margin).attr("height",r.height+2*this.margin)}return r}},{key:"setComponentPosition",value:function(t,e){var n=this;t.forEach((function(t){var r=e.find((function(e){return e.item.id===t.id}));t.drawOption.x=r.x+n.margin,t.drawOption.y=r.y+n.margin}))}},{key:"storeComponentSize",value:function(t){var e=this;t.forEach((function(t){var n=e.getComponentSize(t.id),r=n.width,i=n.height;t.drawOption.width=r,t.drawOption.height=i}))}},{key:"getComponentSize",value:function(t){var e=this.d3.select("#".concat(t)).node().getBBox();return{width:e.width,height:e.height}}},{key:"__drawModels",value:function(t,e){var n=this;Rk(new Set(t.map((function(t){return t.definition.model})))).forEach((function(t){var r=n.d3.selectAll(".".concat(e,".component-").concat(t));n["draw".concat(t)]&&n["draw".concat(t)](r)}))}},{key:"drawDefaultModel",value:function(t){var e=this;t.select(".component-name").text((function(t){return t.name})),t.select(".component-type").text((function(t){return t.definition.type})),t.select(".component-icon").html((function(t){return e.resources.icons[t.definition.icon]}))}},{key:"drawDefaultContainer",value:function(t){this.drawDefaultModel(t)}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();const Lk=Ik,Dk=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"validate",value:function(){return!0}},{key:"getDefinitions",value:function(){return{components:[],links:[]}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Fk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}const jk=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Fk(this,t),this.definitions=e}var e,n;return e=t,(n=[{key:"parse",value:function(){return{components:[],links:[],errors:[]}}},{key:"isParsable",value:function(t){return null!=t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Uk=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"render",value:function(){return[]}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Bk(t){return Bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bk(t)}function zk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $k(t,e){if(e&&("object"===Bk(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qk(t){var e="function"==typeof Map?new Map:void 0;return qk=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Vk(t,arguments,Yk(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Kk(r,t)},qk(t)}function Vk(t,e,n){return Vk=Hk()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Kk(i,n.prototype),i},Vk.apply(null,arguments)}function Hk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Kk(t,e){return Kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kk(t,e)}function Yk(t){return Yk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yk(t)}const Gk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kk(t,e)}(o,t);var e,n,r,i=(e=o,n=Hk(),function(){var t,r=Yk(e);if(n){var i=Yk(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return $k(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Error happened when trying to parse.",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Error";return zk(this,o),(t=i.call(this,e)).name="ParseError",t.startLine=n,t.startColumn=r,t.endLine=a,t.endColumn=s,t.severity=u,t}return r=o,Object.defineProperty(r,"prototype",{writable:!1}),r}(qk(Error))})();var o=e;for(var a in i)o[a]=i[a];i.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})()},985:function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){"use strict";var r=Array.prototype,i=Object.prototype,o={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},a=/[&"'<>]/g;function s(t,e){return i.hasOwnProperty.call(t,e)}function u(t){return o[t]}function c(t,e,n){var r,i,o;if(t instanceof Error&&(t=(i=t).name+": "+i.message),Object.setPrototypeOf?(r=new Error(t),Object.setPrototypeOf(r,c.prototype)):(r=this,Object.defineProperty(r,"message",{enumerable:!1,writable:!0,value:t})),Object.defineProperty(r,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(r,this.constructor),i){var a=Object.getOwnPropertyDescriptor(i,"stack");(o=a&&(a.get||function(){return a.value}))||(o=function(){return i.stack})}else{var s=new Error(t).stack;o=function(){return s}}return Object.defineProperty(r,"stack",{get:function(){return o.call(r)}}),Object.defineProperty(r,"cause",{value:i}),r.lineno=e,r.colno=n,r.firstUpdate=!0,r.Update=function(t){var e="("+(t||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?e+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(e+=" [Line "+this.lineno+"]")),e+="\n ",this.firstUpdate&&(e+=" "),this.message=e+(this.message||""),this.firstUpdate=!1,this},r}function l(t){return"[object Function]"===i.toString.call(t)}function f(t){return"[object Array]"===i.toString.call(t)}function h(t){return"[object String]"===i.toString.call(t)}function d(t){return"[object Object]"===i.toString.call(t)}function p(t){var e,n=(e=t)?"string"==typeof e?e.split("."):[e]:[];return function(t){for(var e=t,r=0;r<n.length;r++){var i=n[r];if(!s(e,i))return;e=e[i]}return e}}function v(t){return Array.prototype.slice.call(t)}function m(t,e,n){return Array.prototype.indexOf.call(t||[],e,n)}function y(t){var e=[];for(var n in t)s(t,n)&&e.push(n);return e}(e=t.exports={}).hasOwnProp=s,e._prettifyError=function(t,n,r){if(r.Update||(r=new e.TemplateError(r)),r.Update(t),!n){var i=r;(r=new Error(i.message)).name=i.name}return r},Object.setPrototypeOf?Object.setPrototypeOf(c.prototype,Error.prototype):c.prototype=Object.create(Error.prototype,{constructor:{value:c}}),e.TemplateError=c,e.escape=function(t){return t.replace(a,u)},e.isFunction=l,e.isArray=f,e.isString=h,e.isObject=d,e.getAttrGetter=p,e.groupBy=function(t,e,n){for(var r={},i=l(e)?e:p(e),o=0;o<t.length;o++){var a=t[o],s=i(a,o);if(void 0===s&&!0===n)throw new TypeError('groupby: attribute "'+e+'" resolved to undefined');(r[s]||(r[s]=[])).push(a)}return r},e.toArray=v,e.without=function(t){var e=[];if(!t)return e;for(var n=t.length,r=v(arguments).slice(1),i=-1;++i<n;)-1===m(r,t[i])&&e.push(t[i]);return e},e.repeat=function(t,e){for(var n="",r=0;r<e;r++)n+=t;return n},e.each=function(t,e,n){if(null!=t)if(r.forEach&&t.forEach===r.forEach)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)},e.map=function(t,e){var n=[];if(null==t)return n;if(r.map&&t.map===r.map)return t.map(e);for(var i=0;i<t.length;i++)n[n.length]=e(t[i],i);return t.length===+t.length&&(n.length=t.length),n},e.asyncIter=function(t,e,n){var r=-1;!function i(){++r<t.length?e(t[r],r,i,n):n()}()},e.asyncFor=function(t,e,n){var r=y(t||{}),i=r.length,o=-1;!function a(){o++;var s=r[o];o<i?e(s,t[s],o,i,a):n()}()},e.indexOf=m,e.keys=y,e._entries=function(t){return y(t).map((function(e){return[e,t[e]]}))},e._values=function(t){return y(t).map((function(e){return t[e]}))},e._assign=e.extend=function(t,e){return t=t||{},y(e).forEach((function(n){t[n]=e[n]})),t},e.inOperator=function(t,e){if(f(e)||h(e))return-1!==e.indexOf(t);if(d(e))return t in e;throw new Error('Cannot use "in" operator to search for "'+t+'" in unexpected types.')}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a(t,e)}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}var s=n(16),u=n(0);function c(t,e,n){n=n||{},u.keys(n).forEach((function(e){var r,i;n[e]=(r=t.prototype[e],i=n[e],"function"!=typeof r||"function"!=typeof i?i:function(){var t=this.parent;this.parent=r;var e=i.apply(this,arguments);return this.parent=t,e})}));var r=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),i(n,[{key:"typename",get:function(){return e}}]),n}(t);return u._assign(r.prototype,n),r}var l=function(){function t(){this.init.apply(this,arguments)}return t.prototype.init=function(){},t.extend=function(t,e){return"object"==typeof t&&(e=t,t="anonymous"),c(this,t,e)},i(t,[{key:"typename",get:function(){return this.constructor.name}}]),t}(),f=function(t){function e(){var e,n;return(e=n=t.call(this)||this).init.apply(e,arguments),n}return o(e,t),e.prototype.init=function(){},e.extend=function(t,e){return"object"==typeof t&&(e=t,t="anonymous"),c(this,t,e)},i(e,[{key:"typename",get:function(){return this.constructor.name}}]),e}(s);t.exports={Obj:l,EmitterObj:f}},function(t,e,n){"use strict";var r=n(0),i=Array.from,o="function"==typeof Symbol&&Symbol.iterator&&"function"==typeof i,a=function(){function t(t,e){this.variables=Object.create(null),this.parent=t,this.topLevel=!1,this.isolateWrites=e}var e=t.prototype;return e.set=function(t,e,n){var r=t.split("."),i=this.variables,o=this;if(n&&(o=this.resolve(r[0],!0)))o.set(t,e);else{for(var a=0;a<r.length-1;a++){var s=r[a];i[s]||(i[s]={}),i=i[s]}i[r[r.length-1]]=e}},e.get=function(t){var e=this.variables[t];return void 0!==e?e:null},e.lookup=function(t){var e=this.parent,n=this.variables[t];return void 0!==n?n:e&&e.lookup(t)},e.resolve=function(t,e){var n=e&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[t]?this:n&&n.resolve(t)},e.push=function(e){return new t(this,e)},e.pop=function(){return this.parent},t}();function s(t){return t&&Object.prototype.hasOwnProperty.call(t,"__keywords")}function u(t){var e=t.length;if(e){var n=t[e-1];if(s(n))return n}return{}}function c(t){var e=t.length;return 0===e?0:s(t[e-1])?e-1:e}function l(t){if("string"!=typeof t)return t;this.val=t,this.length=t.length}l.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),l.prototype.valueOf=function(){return this.val},l.prototype.toString=function(){return this.val},t.exports={Frame:a,makeMacro:function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a,s=c(i),l=u(i);if(s>t.length)a=i.slice(0,t.length),i.slice(a.length,s).forEach((function(t,n){n<e.length&&(l[e[n]]=t)})),a.push(l);else if(s<t.length){a=i.slice(0,s);for(var f=s;f<t.length;f++){var h=t[f];a.push(l[h]),delete l[h]}a.push(l)}else a=i;return n.apply(this,a)}},makeKeywordArgs:function(t){return t.__keywords=!0,t},numArgs:c,suppressValue:function(t,e){return t=null!=t?t:"",!e||t instanceof l||(t=r.escape(t.toString())),t},ensureDefined:function(t,e,n){if(null==t)throw new r.TemplateError("attempted to output null or undefined value",e+1,n+1);return t},memberLookup:function(t,e){if(null!=t)return"function"==typeof t[e]?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t[e].apply(t,r)}:t[e]},contextOrFrameLookup:function(t,e,n){var r=e.lookup(n);return void 0!==r?r:t.lookup(n)},callWrap:function(t,e,n,r){if(!t)throw new Error("Unable to call `"+e+"`, which is undefined or falsey");if("function"!=typeof t)throw new Error("Unable to call `"+e+"`, which is not a function");return t.apply(n,r)},handleError:function(t,e,n){return t.lineno?t:new r.TemplateError(t,e,n)},isArray:r.isArray,keys:r.keys,SafeString:l,copySafeness:function(t,e){return t instanceof l?new l(e):e.toString()},markSafe:function(t){var e=typeof t;return"string"===e?new l(t):"function"!==e?t:function(e){var n=t.apply(this,arguments);return"string"==typeof n?new l(n):n}},asyncEach:function(t,e,n,i){if(r.isArray(t)){var o=t.length;r.asyncIter(t,(function(t,r,i){switch(e){case 1:n(t,r,o,i);break;case 2:n(t[0],t[1],r,o,i);break;case 3:n(t[0],t[1],t[2],r,o,i);break;default:t.push(r,o,i),n.apply(this,t)}}),i)}else r.asyncFor(t,(function(t,e,r,i,o){n(t,e,r,i,o)}),i)},asyncAll:function(t,e,n,i){var o,a,s=0;function u(t,e){s++,a[t]=e,s===o&&i(null,a.join(""))}if(r.isArray(t))if(o=t.length,a=new Array(o),0===o)i(null,"");else for(var c=0;c<t.length;c++){var l=t[c];switch(e){case 1:n(l,c,o,u);break;case 2:n(l[0],l[1],c,o,u);break;case 3:n(l[0],l[1],l[2],c,o,u);break;default:l.push(c,o,u),n.apply(this,l)}}else{var f=r.keys(t||{});if(o=f.length,a=new Array(o),0===o)i(null,"");else for(var h=0;h<f.length;h++){var d=f[h];n(d,t[d],h,o,u)}}},inOperator:r.inOperator,fromIterator:function(t){return"object"!=typeof t||null===t||r.isArray(t)?t:o&&Symbol.iterator in t?i(t):t}}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a(t,e)}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function s(t,e,n){t instanceof e&&n.push(t),t instanceof u&&t.findAll(e,n)}var u=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.init=function(t,e){for(var n=arguments,r=this,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];this.lineno=t,this.colno=e,this.fields.forEach((function(t,e){var i=n[e+2];void 0===i&&(i=null),r[t]=i}))},n.findAll=function(t,e){var n=this;return e=e||[],this instanceof l?this.children.forEach((function(n){return s(n,t,e)})):this.fields.forEach((function(r){return s(n[r],t,e)})),e},n.iterFields=function(t){var e=this;this.fields.forEach((function(n){t(e[n],n)}))},e}(n(1).Obj),c=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),i(e,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),e}(u),l=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.init=function(e,n,r){t.prototype.init.call(this,e,n,r||[])},n.addChild=function(t){this.children.push(t)},i(e,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),e}(u),f=l.extend("Root"),h=c.extend("Literal"),d=c.extend("Symbol"),p=l.extend("Group"),v=l.extend("Array"),m=u.extend("Pair",{fields:["key","value"]}),y=l.extend("Dict"),g=u.extend("LookupVal",{fields:["target","val"]}),b=u.extend("If",{fields:["cond","body","else_"]}),_=b.extend("IfAsync"),x=u.extend("InlineIf",{fields:["cond","body","else_"]}),w=u.extend("For",{fields:["arr","name","body","else_"]}),E=w.extend("AsyncEach"),T=w.extend("AsyncAll"),S=u.extend("Macro",{fields:["name","args","body"]}),k=S.extend("Caller"),O=u.extend("Import",{fields:["template","target","withContext"]}),A=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(e,n,r,i,o){t.prototype.init.call(this,e,n,r,i||new l,o)},i(e,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),e}(u),P=u.extend("FunCall",{fields:["name","args"]}),C=P.extend("Filter"),R=C.extend("FilterAsync",{fields:["name","args","symbol"]}),N=y.extend("KeywordArgs"),M=u.extend("Block",{fields:["name","body"]}),I=u.extend("Super",{fields:["blockName","symbol"]}),L=u.extend("TemplateRef",{fields:["template"]}).extend("Extends"),D=u.extend("Include",{fields:["template","ignoreMissing"]}),F=u.extend("Set",{fields:["targets","value"]}),j=u.extend("Switch",{fields:["expr","cases","default"]}),U=u.extend("Case",{fields:["cond","body"]}),B=l.extend("Output"),z=u.extend("Capture",{fields:["body"]}),$=h.extend("TemplateData"),q=u.extend("UnaryOp",{fields:["target"]}),V=u.extend("BinOp",{fields:["left","right"]}),H=V.extend("In"),K=V.extend("Is"),Y=V.extend("Or"),G=V.extend("And"),W=q.extend("Not"),Q=V.extend("Add"),X=V.extend("Concat"),J=V.extend("Sub"),Z=V.extend("Mul"),tt=V.extend("Div"),et=V.extend("FloorDiv"),nt=V.extend("Mod"),rt=V.extend("Pow"),it=q.extend("Neg"),ot=q.extend("Pos"),at=u.extend("Compare",{fields:["expr","ops"]}),st=u.extend("CompareOperand",{fields:["expr","type"]}),ut=u.extend("CallExtension",{init:function(t,e,n,r){this.parent(),this.extName=t.__name||t,this.prop=e,this.args=n||new l,this.contentArgs=r||[],this.autoescape=t.autoescape},fields:["extName","prop","args","contentArgs"]}),ct=ut.extend("CallExtensionAsync");function lt(t,e,n){var r=t.split("\n");r.forEach((function(t,i){t&&(n&&i>0||!n)&&process.stdout.write(" ".repeat(e));var o=i===r.length-1?"":"\n";process.stdout.write(""+t+o)}))}t.exports={Node:u,Root:f,NodeList:l,Value:c,Literal:h,Symbol:d,Group:p,Array:v,Pair:m,Dict:y,Output:B,Capture:z,TemplateData:$,If:b,IfAsync:_,InlineIf:x,For:w,AsyncEach:E,AsyncAll:T,Macro:S,Caller:k,Import:O,FromImport:A,FunCall:P,Filter:C,FilterAsync:R,KeywordArgs:N,Block:M,Super:I,Extends:L,Include:D,Set:F,Switch:j,Case:U,LookupVal:g,BinOp:V,In:H,Is:K,Or:Y,And:G,Not:W,Add:Q,Concat:X,Sub:J,Mul:Z,Div:tt,FloorDiv:et,Mod:nt,Pow:rt,Neg:it,Pos:ot,Compare:at,CompareOperand:st,CallExtension:ut,CallExtensionAsync:ct,printNodes:function t(e,n){if(n=n||0,lt(e.typename+": ",n),e instanceof l)lt("\n"),e.children.forEach((function(e){t(e,n+2)}));else if(e instanceof ut)lt(e.extName+"."+e.prop+"\n"),e.args&&t(e.args,n+2),e.contentArgs&&e.contentArgs.forEach((function(e){t(e,n+2)}));else{var r=[],i=null;e.iterFields((function(t,e){t instanceof u?r.push([e,t]):(i=i||{})[e]=t})),i?lt(JSON.stringify(i,null,2)+"\n",null,!0):lt("\n"),r.forEach((function(e){var r=e[0],i=e[1];lt("["+r+"] =>",n+2),t(i,n+4)}))}}}},function(t,e){},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(8),o=n(17),a=n(3),s=n(0).TemplateError,u=n(2).Frame,c=n(1).Obj,l={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},f=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var o=i.prototype;return o.init=function(t,e){this.templateName=t,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=e},o.fail=function(t,e,n){throw void 0!==e&&(e+=1),void 0!==n&&(n+=1),new s(t,e,n)},o._pushBuffer=function(){var t=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=t,this._emit("var "+this.buffer+' = "";'),t},o._popBuffer=function(){this.buffer=this.bufferStack.pop()},o._emit=function(t){this.codebuf.push(t)},o._emitLine=function(t){this._emit(t+"\n")},o._emitLines=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e){return t._emitLine(e)}))},o._emitFuncBegin=function(t,e){this.buffer="output",this._scopeClosers="",this._emitLine("function "+e+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+t.lineno+";"),this._emitLine("var colno = "+t.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},o._emitFuncEnd=function(t){t||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},o._addScopeLevel=function(){this._scopeClosers+="})"},o._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},o._withScopedSyntax=function(t){var e=this._scopeClosers;this._scopeClosers="",t.call(this),this._closeScopeLevels(),this._scopeClosers=e},o._makeCallback=function(t){var e=this._tmpid();return"function("+e+(t?","+t:"")+") {\nif("+e+") { cb("+e+"); return; }"},o._tmpid=function(){return this.lastId++,"t_"+this.lastId},o._templateName=function(){return null==this.templateName?"undefined":JSON.stringify(this.templateName)},o._compileChildren=function(t,e){var n=this;t.children.forEach((function(t){n.compile(t,e)}))},o._compileAggregate=function(t,e,n,r){var i=this;n&&this._emit(n),t.children.forEach((function(t,n){n>0&&i._emit(","),i.compile(t,e)})),r&&this._emit(r)},o._compileExpression=function(t,e){this.assertType(t,a.Literal,a.Symbol,a.Group,a.Array,a.Dict,a.FunCall,a.Caller,a.Filter,a.LookupVal,a.Compare,a.InlineIf,a.In,a.Is,a.And,a.Or,a.Not,a.Add,a.Concat,a.Sub,a.Mul,a.Div,a.FloorDiv,a.Mod,a.Pow,a.Neg,a.Pos,a.Compare,a.NodeList),this.compile(t,e)},o.assertType=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.some((function(e){return t instanceof e}))||this.fail("assertType: invalid type: "+t.typename,t.lineno,t.colno)},o.compileCallExtension=function(t,e,n){var r=this,i=t.args,o=t.contentArgs,s="boolean"!=typeof t.autoescape||t.autoescape;if(n||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+t.extName+'")["'+t.prop+'"]('),this._emit("context"),(i||o)&&this._emit(","),i&&(i instanceof a.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),i.children.forEach((function(t,n){r._compileExpression(t,e),(n!==i.children.length-1||o.length)&&r._emit(",")}))),o.length&&o.forEach((function(t,n){if(n>0&&r._emit(","),t){r._emitLine("function(cb) {"),r._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var i=r._pushBuffer();r._withScopedSyntax((function(){r.compile(t,e),r._emitLine("cb(null, "+i+");")})),r._popBuffer(),r._emitLine("return "+i+";"),r._emitLine("}")}else r._emit("null")})),n){var u=this._tmpid();this._emitLine(", "+this._makeCallback(u)),this._emitLine(this.buffer+" += runtime.suppressValue("+u+", "+s+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+s+" && env.opts.autoescape);\n")},o.compileCallExtensionAsync=function(t,e){this.compileCallExtension(t,e,!0)},o.compileNodeList=function(t,e){this._compileChildren(t,e)},o.compileLiteral=function(t){if("string"==typeof t.value){var e=t.value.replace(/\\/g,"\\\\");e=(e=(e=(e=(e=e.replace(/"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t")).replace(/\u2028/g,"\\u2028"),this._emit('"'+e+'"')}else null===t.value?this._emit("null"):this._emit(t.value.toString())},o.compileSymbol=function(t,e){var n=t.value,r=e.lookup(n);r?this._emit(r):this._emit('runtime.contextOrFrameLookup(context, frame, "'+n+'")')},o.compileGroup=function(t,e){this._compileAggregate(t,e,"(",")")},o.compileArray=function(t,e){this._compileAggregate(t,e,"[","]")},o.compileDict=function(t,e){this._compileAggregate(t,e,"{","}")},o.compilePair=function(t,e){var n=t.key,r=t.value;n instanceof a.Symbol?n=new a.Literal(n.lineno,n.colno,n.value):n instanceof a.Literal&&"string"==typeof n.value||this.fail("compilePair: Dict keys must be strings or names",n.lineno,n.colno),this.compile(n,e),this._emit(": "),this._compileExpression(r,e)},o.compileInlineIf=function(t,e){this._emit("("),this.compile(t.cond,e),this._emit("?"),this.compile(t.body,e),this._emit(":"),null!==t.else_?this.compile(t.else_,e):this._emit('""'),this._emit(")")},o.compileIn=function(t,e){this._emit("runtime.inOperator("),this.compile(t.left,e),this._emit(","),this.compile(t.right,e),this._emit(")")},o.compileIs=function(t,e){var n=t.right.name?t.right.name.value:t.right.value;this._emit('env.getTest("'+n+'").call(context, '),this.compile(t.left,e),t.right.args&&(this._emit(","),this.compile(t.right.args,e)),this._emit(") === true")},o._binOpEmitter=function(t,e,n){this.compile(t.left,e),this._emit(n),this.compile(t.right,e)},o.compileOr=function(t,e){return this._binOpEmitter(t,e," || ")},o.compileAnd=function(t,e){return this._binOpEmitter(t,e," && ")},o.compileAdd=function(t,e){return this._binOpEmitter(t,e," + ")},o.compileConcat=function(t,e){return this._binOpEmitter(t,e,' + "" + ')},o.compileSub=function(t,e){return this._binOpEmitter(t,e," - ")},o.compileMul=function(t,e){return this._binOpEmitter(t,e," * ")},o.compileDiv=function(t,e){return this._binOpEmitter(t,e," / ")},o.compileMod=function(t,e){return this._binOpEmitter(t,e," % ")},o.compileNot=function(t,e){this._emit("!"),this.compile(t.target,e)},o.compileFloorDiv=function(t,e){this._emit("Math.floor("),this.compile(t.left,e),this._emit(" / "),this.compile(t.right,e),this._emit(")")},o.compilePow=function(t,e){this._emit("Math.pow("),this.compile(t.left,e),this._emit(", "),this.compile(t.right,e),this._emit(")")},o.compileNeg=function(t,e){this._emit("-"),this.compile(t.target,e)},o.compilePos=function(t,e){this._emit("+"),this.compile(t.target,e)},o.compileCompare=function(t,e){var n=this;this.compile(t.expr,e),t.ops.forEach((function(t){n._emit(" "+l[t.type]+" "),n.compile(t.expr,e)}))},o.compileLookupVal=function(t,e){this._emit("runtime.memberLookup(("),this._compileExpression(t.target,e),this._emit("),"),this._compileExpression(t.val,e),this._emit(")")},o._getNodeName=function(t){switch(t.typename){case"Symbol":return t.value;case"FunCall":return"the return value of ("+this._getNodeName(t.name)+")";case"LookupVal":return this._getNodeName(t.target)+'["'+this._getNodeName(t.val)+'"]';case"Literal":return t.value.toString();default:return"--expression--"}},o.compileFunCall=function(t,e){this._emit("(lineno = "+t.lineno+", colno = "+t.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(t.name,e),this._emit(', "'+this._getNodeName(t.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(t.args,e,"[","])"),this._emit(")")},o.compileFilter=function(t,e){var n=t.name;this.assertType(n,a.Symbol),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(t.args,e),this._emit(")")},o.compileFilterAsync=function(t,e){var n=t.name,r=t.symbol.value;this.assertType(n,a.Symbol),e.set(r,r),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(t.args,e),this._emitLine(", "+this._makeCallback(r)),this._addScopeLevel()},o.compileKeywordArgs=function(t,e){this._emit("runtime.makeKeywordArgs("),this.compileDict(t,e),this._emit(")")},o.compileSet=function(t,e){var n=this,r=[];t.targets.forEach((function(t){var i=t.value,o=e.lookup(i);null==o&&(o=n._tmpid(),n._emitLine("var "+o+";")),r.push(o)})),t.value?(this._emit(r.join(" = ")+" = "),this._compileExpression(t.value,e),this._emitLine(";")):(this._emit(r.join(" = ")+" = "),this.compile(t.body,e),this._emitLine(";")),t.targets.forEach((function(t,e){var i=r[e],o=t.value;n._emitLine('frame.set("'+o+'", '+i+", true);"),n._emitLine("if(frame.topLevel) {"),n._emitLine('context.setVariable("'+o+'", '+i+");"),n._emitLine("}"),"_"!==o.charAt(0)&&(n._emitLine("if(frame.topLevel) {"),n._emitLine('context.addExport("'+o+'", '+i+");"),n._emitLine("}"))}))},o.compileSwitch=function(t,e){var n=this;this._emit("switch ("),this.compile(t.expr,e),this._emit(") {"),t.cases.forEach((function(t,r){n._emit("case "),n.compile(t.cond,e),n._emit(": "),n.compile(t.body,e),t.body.children.length&&n._emitLine("break;")})),t.default&&(this._emit("default:"),this.compile(t.default,e)),this._emit("}")},o.compileIf=function(t,e,n){var r=this;this._emit("if("),this._compileExpression(t.cond,e),this._emitLine(") {"),this._withScopedSyntax((function(){r.compile(t.body,e),n&&r._emit("cb()")})),t.else_?(this._emitLine("}\nelse {"),this._withScopedSyntax((function(){r.compile(t.else_,e),n&&r._emit("cb()")}))):n&&(this._emitLine("}\nelse {"),this._emit("cb()")),this._emitLine("}")},o.compileIfAsync=function(t,e){this._emit("(function(cb) {"),this.compileIf(t,e,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},o._emitLoopBindings=function(t,e,n,r){var i=this;[{name:"index",val:n+" + 1"},{name:"index0",val:n},{name:"revindex",val:r+" - "+n},{name:"revindex0",val:r+" - "+n+" - 1"},{name:"first",val:n+" === 0"},{name:"last",val:n+" === "+r+" - 1"},{name:"length",val:r}].forEach((function(t){i._emitLine('frame.set("loop.'+t.name+'", '+t.val+");")}))},o.compileFor=function(t,e){var n=this,r=this._tmpid(),i=this._tmpid(),o=this._tmpid();if(e=e.push(),this._emitLine("frame = frame.push();"),this._emit("var "+o+" = "),this._compileExpression(t.arr,e),this._emitLine(";"),this._emit("if("+o+") {"),this._emitLine(o+" = runtime.fromIterator("+o+");"),t.name instanceof a.Array){this._emitLine("var "+r+";"),this._emitLine("if(runtime.isArray("+o+")) {"),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for("+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),t.name.children.forEach((function(i,a){var s=n._tmpid();n._emitLine("var "+s+" = "+o+"["+r+"]["+a+"];"),n._emitLine('frame.set("'+i+'", '+o+"["+r+"]["+a+"]);"),e.set(t.name.children[a].value,s)})),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}"),this._emitLine("} else {");var s=t.name.children,u=s[0],c=s[1],l=this._tmpid(),f=this._tmpid();e.set(u.value,l),e.set(c.value,f),this._emitLine(r+" = -1;"),this._emitLine("var "+i+" = runtime.keys("+o+").length;"),this._emitLine("for(var "+l+" in "+o+") {"),this._emitLine(r+"++;"),this._emitLine("var "+f+" = "+o+"["+l+"];"),this._emitLine('frame.set("'+u.value+'", '+l+");"),this._emitLine('frame.set("'+c.value+'", '+f+");"),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}"),this._emitLine("}")}else{var h=this._tmpid();e.set(t.name.value,h),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for(var "+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),this._emitLine("var "+h+" = "+o+"["+r+"];"),this._emitLine('frame.set("'+t.name.value+'", '+h+");"),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}")}this._emitLine("}"),t.else_&&(this._emitLine("if (!"+i+") {"),this.compile(t.else_,e),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o._compileAsyncLoop=function(t,e,n){var r=this,i=this._tmpid(),o=this._tmpid(),s=this._tmpid(),u=n?"asyncAll":"asyncEach";if(e=e.push(),this._emitLine("frame = frame.push();"),this._emit("var "+s+" = runtime.fromIterator("),this._compileExpression(t.arr,e),this._emitLine(");"),t.name instanceof a.Array){var c=t.name.children.length;this._emit("runtime."+u+"("+s+", "+c+", function("),t.name.children.forEach((function(t){r._emit(t.value+",")})),this._emit(i+","+o+",next) {"),t.name.children.forEach((function(t){var n=t.value;e.set(n,n),r._emitLine('frame.set("'+n+'", '+n+");")}))}else{var l=t.name.value;this._emitLine("runtime."+u+"("+s+", 1, function("+l+", "+i+", "+o+",next) {"),this._emitLine('frame.set("'+l+'", '+l+");"),e.set(l,l)}this._emitLoopBindings(t,s,i,o),this._withScopedSyntax((function(){var o;n&&(o=r._pushBuffer()),r.compile(t.body,e),r._emitLine("next("+i+(o?","+o:"")+");"),n&&r._popBuffer()}));var f=this._tmpid();this._emitLine("}, "+this._makeCallback(f)),this._addScopeLevel(),n&&this._emitLine(this.buffer+" += "+f+";"),t.else_&&(this._emitLine("if (!"+s+".length) {"),this.compile(t.else_,e),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o.compileAsyncEach=function(t,e){this._compileAsyncLoop(t,e)},o.compileAsyncAll=function(t,e){this._compileAsyncLoop(t,e,!0)},o._compileMacro=function(t,e){var n=this,r=[],i=null,o="macro_"+this._tmpid(),s=void 0!==e;t.args.children.forEach((function(e,o){o===t.args.children.length-1&&e instanceof a.Dict?i=e:(n.assertType(e,a.Symbol),r.push(e))}));var c,l=[].concat(r.map((function(t){return"l_"+t.value})),["kwargs"]),f=r.map((function(t){return'"'+t.value+'"'})),h=(i&&i.children||[]).map((function(t){return'"'+t.key.value+'"'}));c=s?e.push(!0):new u,this._emitLines("var "+o+" = runtime.makeMacro(","["+f.join(", ")+"], ","["+h.join(", ")+"], ","function ("+l.join(", ")+") {","var callerFrame = frame;","frame = "+(s?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),r.forEach((function(t){n._emitLine('frame.set("'+t.value+'", l_'+t.value+");"),c.set(t.value,"l_"+t.value)})),i&&i.children.forEach((function(t){var e=t.key.value;n._emit('frame.set("'+e+'", '),n._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+e+'")'),n._emit(' ? kwargs["'+e+'"] : '),n._compileExpression(t.value,c),n._emit(");")}));var d=this._pushBuffer();return this._withScopedSyntax((function(){n.compile(t.body,c)})),this._emitLine("frame = "+(s?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+d+");"),this._emitLine("});"),this._popBuffer(),o},o.compileMacro=function(t,e){var n=this._compileMacro(t),r=t.name.value;e.set(r,n),e.parent?this._emitLine('frame.set("'+r+'", '+n+");"):("_"!==t.name.value.charAt(0)&&this._emitLine('context.addExport("'+r+'");'),this._emitLine('context.setVariable("'+r+'", '+n+");"))},o.compileCaller=function(t,e){this._emit("(function (){");var n=this._compileMacro(t,e);this._emit("return "+n+";})()")},o._compileGetTemplate=function(t,e,n,r){var i=this._tmpid(),o=this._templateName(),a=this._makeCallback(i),s=n?"true":"false",u=r?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(t.template,e),this._emitLine(", "+s+", "+o+", "+u+", "+a),i},o.compileImport=function(t,e){var n=t.target.value,r=this._compileGetTemplate(t,e,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),e.set(n,r),e.parent?this._emitLine('frame.set("'+n+'", '+r+");"):this._emitLine('context.setVariable("'+n+'", '+r+");")},o.compileFromImport=function(t,e){var n=this,r=this._compileGetTemplate(t,e,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),t.names.children.forEach((function(t){var i,o,s=n._tmpid();t instanceof a.Pair?(i=t.key.value,o=t.value.value):o=i=t.value,n._emitLine("if(Object.prototype.hasOwnProperty.call("+r+', "'+i+'")) {'),n._emitLine("var "+s+" = "+r+"."+i+";"),n._emitLine("} else {"),n._emitLine("cb(new Error(\"cannot import '"+i+"'\")); return;"),n._emitLine("}"),e.set(o,s),e.parent?n._emitLine('frame.set("'+o+'", '+s+");"):n._emitLine('context.setVariable("'+o+'", '+s+");")}))},o.compileBlock=function(t){var e=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+t.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(e)),this._emitLine(this.buffer+" += "+e+";"),this._addScopeLevel()},o.compileSuper=function(t,e){var n=t.blockName.value,r=t.symbol.value,i=this._makeCallback(r);this._emitLine('context.getSuper(env, "'+n+'", b_'+n+", frame, runtime, "+i),this._emitLine(r+" = runtime.markSafe("+r+");"),this._addScopeLevel(),e.set(r,r)},o.compileExtends=function(t,e){var n=this._tmpid(),r=this._compileGetTemplate(t,e,!0,!1);this._emitLine("parentTemplate = "+r),this._emitLine("for(var "+n+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+n+", parentTemplate.blocks["+n+"]);"),this._emitLine("}"),this._addScopeLevel()},o.compileInclude=function(t,e){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var n=this._compileGetTemplate(t,e,!1,t.ignoreMissing);this._emitLine("callback(null,"+n+");});"),this._emitLine("});");var r=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(r)),this._emitLine("callback(null,"+r+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},o.compileTemplateData=function(t,e){this.compileLiteral(t,e)},o.compileCapture=function(t,e){var n=this,r=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=r},o.compileOutput=function(t,e){var n=this;t.children.forEach((function(r){r instanceof a.TemplateData?r.value&&(n._emit(n.buffer+" += "),n.compileLiteral(r,e),n._emitLine(";")):(n._emit(n.buffer+" += runtime.suppressValue("),n.throwOnUndefined&&n._emit("runtime.ensureDefined("),n.compile(r,e),n.throwOnUndefined&&n._emit(","+t.lineno+","+t.colno+")"),n._emit(", env.opts.autoescape);\n"))}))},o.compileRoot=function(t,e){var n=this;e&&this.fail("compileRoot: root node can't have frame"),e=new u,this._emitFuncBegin(t,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(t,e),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var r=[],i=t.findAll(a.Block);i.forEach((function(t,e){var i=t.name.value;if(-1!==r.indexOf(i))throw new Error('Block "'+i+'" defined more than once.');r.push(i),n._emitFuncBegin(t,"b_"+i);var o=new u;n._emitLine("var frame = frame.push(true);"),n.compile(t.body,o),n._emitFuncEnd()})),this._emitLine("return {"),i.forEach((function(t,e){var r="b_"+t.name.value;n._emitLine(r+": "+r+",")})),this._emitLine("root: root\n};")},o.compile=function(t,e){var n=this["compile"+t.typename];n?n.call(this,t,e):this.fail("compile: Cannot compile node: "+t.typename,t.lineno,t.colno)},o.getCode=function(){return this.codebuf.join("")},i}(c);t.exports={compile:function(t,e,n,r,a){void 0===a&&(a={});var s=new f(r,a.throwOnUndefined),u=(n||[]).map((function(t){return t.preprocess})).filter((function(t){return!!t})).reduce((function(t,e){return e(t)}),t);return s.compile(o.transform(i.parse(u,n,a),e,r)),s.getCode()},Compiler:f}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(4),o=n(1).EmitterObj;t.exports=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var a=o.prototype;return a.resolve=function(t,e){return i.resolve(i.dirname(t),e)},a.isRelative=function(t){return 0===t.indexOf("./")||0===t.indexOf("../")},o}(o)},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}var o=n(12),a=n(15),s=n(0),u=n(5),c=n(18),l=n(10),f=l.FileSystemLoader,h=l.WebLoader,d=l.PrecompiledLoader,p=n(20),v=n(21),m=n(1),y=m.Obj,g=m.EmitterObj,b=n(2),_=b.handleError,x=b.Frame,w=n(22);function E(t,e,n){o((function(){t(e,n)}))}var T={type:"code",obj:{root:function(t,e,n,r,i){try{i(null,"")}catch(t){i(_(t,null,null))}}}},S=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e){var n=this;e=this.opts=e||{},this.opts.dev=!!e.dev,this.opts.autoescape=null==e.autoescape||e.autoescape,this.opts.throwOnUndefined=!!e.throwOnUndefined,this.opts.trimBlocks=!!e.trimBlocks,this.opts.lstripBlocks=!!e.lstripBlocks,this.loaders=[],t?this.loaders=s.isArray(t)?t:[t]:f?this.loaders=[new f("views")]:h&&(this.loaders=[new h("/views")]),"undefined"!=typeof window&&window.nunjucksPrecompiled&&this.loaders.unshift(new d(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=v(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],s._entries(c).forEach((function(t){var e=t[0],r=t[1];return n.addFilter(e,r)})),s._entries(p).forEach((function(t){var e=t[0],r=t[1];return n.addTest(e,r)}))},n._initLoaders=function(){var t=this;this.loaders.forEach((function(e){e.cache={},"function"==typeof e.on&&(e.on("update",(function(n,r){e.cache[n]=null,t.emit("update",n,r,e)})),e.on("load",(function(n,r){t.emit("load",n,r,e)})))}))},n.invalidateCache=function(){this.loaders.forEach((function(t){t.cache={}}))},n.addExtension=function(t,e){return e.__name=t,this.extensions[t]=e,this.extensionsList.push(e),this},n.removeExtension=function(t){var e=this.getExtension(t);e&&(this.extensionsList=s.without(this.extensionsList,e),delete this.extensions[t])},n.getExtension=function(t){return this.extensions[t]},n.hasExtension=function(t){return!!this.extensions[t]},n.addGlobal=function(t,e){return this.globals[t]=e,this},n.getGlobal=function(t){if(void 0===this.globals[t])throw new Error("global not found: "+t);return this.globals[t]},n.addFilter=function(t,e,n){var r=e;return n&&this.asyncFilters.push(t),this.filters[t]=r,this},n.getFilter=function(t){if(!this.filters[t])throw new Error("filter not found: "+t);return this.filters[t]},n.addTest=function(t,e){return this.tests[t]=e,this},n.getTest=function(t){if(!this.tests[t])throw new Error("test not found: "+t);return this.tests[t]},n.resolveTemplate=function(t,e,n){return t.isRelative&&e&&t.isRelative(n)&&t.resolve?t.resolve(e,n):n},n.getTemplate=function(t,e,n,r,i){var o,a=this,u=this,c=null;if(t&&t.raw&&(t=t.raw),s.isFunction(n)&&(i=n,n=null,e=e||!1),s.isFunction(e)&&(i=e,e=!1),t instanceof O)c=t;else{if("string"!=typeof t)throw new Error("template names must be a string: "+t);for(var l=0;l<this.loaders.length;l++){var f=this.loaders[l];if(c=f.cache[this.resolveTemplate(f,n,t)])break}}return c?(e&&c.compile(),i?void i(null,c):c):(s.asyncIter(this.loaders,(function(e,r,i,o){function a(t,n){t?o(t):n?(n.loader=e,o(null,n)):i()}t=u.resolveTemplate(e,n,t),e.async?e.getSource(t,a):a(null,e.getSource(t))}),(function(n,s){if(s||n||r||(n=new Error("template not found: "+t)),n){if(i)return void i(n);throw n}var u;s?(u=new O(s.src,a,s.path,e),s.noCache||(s.loader.cache[t]=u)):u=new O(T,a,"",e),i?i(null,u):o=u})),o)},n.express=function(t){return w(this,t)},n.render=function(t,e,n){s.isFunction(e)&&(n=e,e=null);var r=null;return this.getTemplate(t,(function(t,i){if(t&&n)E(n,t);else{if(t)throw t;r=i.render(e,n)}})),r},n.renderString=function(t,e,n,r){return s.isFunction(n)&&(r=n,n={}),new O(t,this,(n=n||{}).path).render(e,r)},n.waterfall=function(t,e,n){return a(t,e,n)},e}(g),k=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e,n){var r=this;this.env=n||new S,this.ctx=s.extend({},t),this.blocks={},this.exported=[],s.keys(e).forEach((function(t){r.addBlock(t,e[t])}))},n.lookup=function(t){return t in this.env.globals&&!(t in this.ctx)?this.env.globals[t]:this.ctx[t]},n.setVariable=function(t,e){this.ctx[t]=e},n.getVariables=function(){return this.ctx},n.addBlock=function(t,e){return this.blocks[t]=this.blocks[t]||[],this.blocks[t].push(e),this},n.getBlock=function(t){if(!this.blocks[t])throw new Error('unknown block "'+t+'"');return this.blocks[t][0]},n.getSuper=function(t,e,n,r,i,o){var a=s.indexOf(this.blocks[e]||[],n),u=this.blocks[e][a+1];if(-1===a||!u)throw new Error('no super block available for "'+e+'"');u(t,this,r,i,o)},n.addExport=function(t){this.exported.push(t)},n.getExported=function(){var t=this,e={};return this.exported.forEach((function(n){e[n]=t.ctx[n]})),e},e}(y),O=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e,n,r){if(this.env=e||new S,s.isObject(t))switch(t.type){case"code":this.tmplProps=t.obj;break;case"string":this.tmplStr=t.obj;break;default:throw new Error("Unexpected template object type "+t.type+"; expected 'code', or 'string'")}else{if(!s.isString(t))throw new Error("src must be a string or an object describing the source");this.tmplStr=t}if(this.path=n,r)try{this._compile()}catch(t){throw s._prettifyError(this.path,this.env.opts.dev,t)}else this.compiled=!1},n.render=function(t,e,n){var r=this;"function"==typeof t?(n=t,t={}):"function"==typeof e&&(n=e,e=null);var i=!e;try{this.compile()}catch(t){var o=s._prettifyError(this.path,this.env.opts.dev,t);if(n)return E(n,o);throw o}var a=new k(t||{},this.blocks,this.env),u=e?e.push(!0):new x;u.topLevel=!0;var c=null,l=!1;return this.rootRenderFunc(this.env,a,u,b,(function(t,e){if(!l||!n||void 0===e)if(t&&(t=s._prettifyError(r.path,r.env.opts.dev,t),l=!0),n)i?E(n,t,e):n(t,e);else{if(t)throw t;c=e}})),c},n.getExported=function(t,e,n){"function"==typeof t&&(n=t,t={}),"function"==typeof e&&(n=e,e=null);try{this.compile()}catch(t){if(n)return n(t);throw t}var r=e?e.push():new x;r.topLevel=!0;var i=new k(t||{},this.blocks,this.env);this.rootRenderFunc(this.env,i,r,b,(function(t){t?n(t,null):n(null,i.getExported())}))},n.compile=function(){this.compiled||this._compile()},n._compile=function(){var t;if(this.tmplProps)t=this.tmplProps;else{var e=u.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);t=new Function(e)()}this.blocks=this._getBlocks(t),this.rootRenderFunc=t.root,this.compiled=!0},n._getBlocks=function(t){var e={};return s.keys(t).forEach((function(n){"b_"===n.slice(0,2)&&(e[n.slice(2)]=t[n])})),e},e}(y);t.exports={Environment:S,Template:O}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(9),o=n(3),a=n(1).Obj,s=n(0),u=function(t){var e,n;function a(){return t.apply(this,arguments)||this}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var u=a.prototype;return u.init=function(t){this.tokens=t,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},u.nextToken=function(t){var e;if(this.peeked){if(t||this.peeked.type!==i.TOKEN_WHITESPACE)return e=this.peeked,this.peeked=null,e;this.peeked=null}if(e=this.tokens.nextToken(),!t)for(;e&&e.type===i.TOKEN_WHITESPACE;)e=this.tokens.nextToken();return e},u.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},u.pushToken=function(t){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=t},u.error=function(t,e,n){if(void 0===e||void 0===n){var r=this.peekToken()||{};e=r.lineno,n=r.colno}return void 0!==e&&(e+=1),void 0!==n&&(n+=1),new s.TemplateError(t,e,n)},u.fail=function(t,e,n){throw this.error(t,e,n)},u.skip=function(t){var e=this.nextToken();return!(!e||e.type!==t)||(this.pushToken(e),!1)},u.expect=function(t){var e=this.nextToken();return e.type!==t&&this.fail("expected "+t+", got "+e.type,e.lineno,e.colno),e},u.skipValue=function(t,e){var n=this.nextToken();return!(!n||n.type!==t||n.value!==e)||(this.pushToken(n),!1)},u.skipSymbol=function(t){return this.skipValue(i.TOKEN_SYMBOL,t)},u.advanceAfterBlockEnd=function(t){var e;return t||((e=this.peekToken())||this.fail("unexpected end of file"),e.type!==i.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),t=this.nextToken().value),(e=this.nextToken())&&e.type===i.TOKEN_BLOCK_END?"-"===e.value.charAt(0)&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+t+" statement"),e},u.advanceAfterVariableEnd=function(){var t=this.nextToken();t&&t.type===i.TOKEN_VARIABLE_END?this.dropLeadingWhitespace="-"===t.value.charAt(t.value.length-this.tokens.tags.VARIABLE_END.length-1):(this.pushToken(t),this.fail("expected variable end"))},u.parseFor=function(){var t,e,n=this.peekToken();if(this.skipSymbol("for")?(t=new o.For(n.lineno,n.colno),e="endfor"):this.skipSymbol("asyncEach")?(t=new o.AsyncEach(n.lineno,n.colno),e="endeach"):this.skipSymbol("asyncAll")?(t=new o.AsyncAll(n.lineno,n.colno),e="endall"):this.fail("parseFor: expected for{Async}",n.lineno,n.colno),t.name=this.parsePrimary(),t.name instanceof o.Symbol||this.fail("parseFor: variable name expected for loop"),this.peekToken().type===i.TOKEN_COMMA){var r=t.name;for(t.name=new o.Array(r.lineno,r.colno),t.name.addChild(r);this.skip(i.TOKEN_COMMA);){var a=this.parsePrimary();t.name.addChild(a)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',n.lineno,n.colno),t.arr=this.parseExpression(),this.advanceAfterBlockEnd(n.value),t.body=this.parseUntilBlocks(e,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),t.else_=this.parseUntilBlocks(e)),this.advanceAfterBlockEnd(),t},u.parseMacro=function(){var t=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var e=this.parsePrimary(!0),n=this.parseSignature(),r=new o.Macro(t.lineno,t.colno,e,n);return this.advanceAfterBlockEnd(t.value),r.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),r},u.parseCall=function(){var t=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var e=this.parseSignature(!0)||new o.NodeList,n=this.parsePrimary();this.advanceAfterBlockEnd(t.value);var r=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var i=new o.Symbol(t.lineno,t.colno,"caller"),a=new o.Caller(t.lineno,t.colno,i,e,r),s=n.args.children;return s[s.length-1]instanceof o.KeywordArgs||s.push(new o.KeywordArgs),s[s.length-1].addChild(new o.Pair(t.lineno,t.colno,i,a)),new o.Output(t.lineno,t.colno,[n])},u.parseWithContext=function(){var t=this.peekToken(),e=null;return this.skipSymbol("with")?e=!0:this.skipSymbol("without")&&(e=!1),null!==e&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",t.lineno,t.colno)),e},u.parseImport=function(){var t=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",t.lineno,t.colno);var e=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',t.lineno,t.colno);var n=this.parseExpression(),r=this.parseWithContext(),i=new o.Import(t.lineno,t.colno,e,n,r);return this.advanceAfterBlockEnd(t.value),i},u.parseFrom=function(){var t=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var e=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",t.lineno,t.colno);for(var n,r=new o.NodeList;;){var a=this.peekToken();if(a.type===i.TOKEN_BLOCK_END){r.children.length||this.fail("parseFrom: Expected at least one import name",t.lineno,t.colno),"-"===a.value.charAt(0)&&(this.dropLeadingWhitespace=!0),this.nextToken();break}r.children.length>0&&!this.skip(i.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",t.lineno,t.colno);var s=this.parsePrimary();if("_"===s.value.charAt(0)&&this.fail("parseFrom: names starting with an underscore cannot be imported",s.lineno,s.colno),this.skipSymbol("as")){var u=this.parsePrimary();r.addChild(new o.Pair(s.lineno,s.colno,s,u))}else r.addChild(s);n=this.parseWithContext()}return new o.FromImport(t.lineno,t.colno,e,r,n)},u.parseBlock=function(){var t=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",t.lineno,t.colno);var e=new o.Block(t.lineno,t.colno);e.name=this.parsePrimary(),e.name instanceof o.Symbol||this.fail("parseBlock: variable name expected",t.lineno,t.colno),this.advanceAfterBlockEnd(t.value),e.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(e.name.value);var n=this.peekToken();return n||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(n.value),e},u.parseExtends=function(){var t=this.peekToken();this.skipSymbol("extends")||this.fail("parseTemplateRef: expected extends");var e=new o.Extends(t.lineno,t.colno);return e.template=this.parseExpression(),this.advanceAfterBlockEnd(t.value),e},u.parseInclude=function(){var t=this.peekToken();this.skipSymbol("include")||this.fail("parseInclude: expected include");var e=new o.Include(t.lineno,t.colno);return e.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(e.ignoreMissing=!0),this.advanceAfterBlockEnd(t.value),e},u.parseIf=function(){var t,e=this.peekToken();this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?t=new o.If(e.lineno,e.colno):this.skipSymbol("ifAsync")?t=new o.IfAsync(e.lineno,e.colno):this.fail("parseIf: expected if, elif, or elseif",e.lineno,e.colno),t.cond=this.parseExpression(),this.advanceAfterBlockEnd(e.value),t.body=this.parseUntilBlocks("elif","elseif","else","endif");var n=this.peekToken();switch(n&&n.value){case"elseif":case"elif":t.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),t.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":t.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return t},u.parseSet=function(){var t=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",t.lineno,t.colno);for(var e,n=new o.Set(t.lineno,t.colno,[]);(e=this.parsePrimary())&&(n.targets.push(e),this.skip(i.TOKEN_COMMA)););return this.skipValue(i.TOKEN_OPERATOR,"=")?(n.value=this.parseExpression(),this.advanceAfterBlockEnd(t.value)):this.skip(i.TOKEN_BLOCK_END)?(n.body=new o.Capture(t.lineno,t.colno,this.parseUntilBlocks("endset")),n.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",t.lineno,t.colno),n},u.parseSwitch=function(){var t="switch",e="endswitch",n="case",r="default",i=this.peekToken();this.skipSymbol(t)||this.skipSymbol(n)||this.skipSymbol(r)||this.fail('parseSwitch: expected "switch," "case" or "default"',i.lineno,i.colno);var a=this.parseExpression();this.advanceAfterBlockEnd(t),this.parseUntilBlocks(n,r,e);var s,u=this.peekToken(),c=[];do{this.skipSymbol(n);var l=this.parseExpression();this.advanceAfterBlockEnd(t);var f=this.parseUntilBlocks(n,r,e);c.push(new o.Case(u.line,u.col,l,f)),u=this.peekToken()}while(u&&u.value===n);switch(u.value){case r:this.advanceAfterBlockEnd(),s=this.parseUntilBlocks(e),this.advanceAfterBlockEnd();break;case e:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new o.Switch(i.lineno,i.colno,a,c,s)},u.parseStatement=function(){var t=this.peekToken();if(t.type!==i.TOKEN_SYMBOL&&this.fail("tag name expected",t.lineno,t.colno),this.breakOnBlocks&&-1!==s.indexOf(this.breakOnBlocks,t.value))return null;switch(t.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var e=0;e<this.extensions.length;e++){var n=this.extensions[e];if(-1!==s.indexOf(n.tags||[],t.value))return n.parse(this,o,i)}this.fail("unknown block tag: "+t.value,t.lineno,t.colno)}},u.parseRaw=function(t){for(var e="end"+(t=t||"raw"),n=new RegExp("([\\s\\S]*?){%\\s*("+t+"|"+e+")\\s*(?=%})%}"),r=1,i="",a=null,s=this.advanceAfterBlockEnd();(a=this.tokens._extractRegex(n))&&r>0;){var u=a[0],c=a[1],l=a[2];l===t?r+=1:l===e&&(r-=1),0===r?(i+=c,this.tokens.backN(u.length-c.length)):i+=u}return new o.Output(s.lineno,s.colno,[new o.TemplateData(s.lineno,s.colno,i)])},u.parsePostfix=function(t){for(var e,n=this.peekToken();n;){if(n.type===i.TOKEN_LEFT_PAREN)t=new o.FunCall(n.lineno,n.colno,t,this.parseSignature());else if(n.type===i.TOKEN_LEFT_BRACKET)(e=this.parseAggregate()).children.length>1&&this.fail("invalid index"),t=new o.LookupVal(n.lineno,n.colno,t,e.children[0]);else{if(n.type!==i.TOKEN_OPERATOR||"."!==n.value)break;this.nextToken();var r=this.nextToken();r.type!==i.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+r.value,r.lineno,r.colno),e=new o.Literal(r.lineno,r.colno,r.value),t=new o.LookupVal(n.lineno,n.colno,t,e)}n=this.peekToken()}return t},u.parseExpression=function(){return this.parseInlineIf()},u.parseInlineIf=function(){var t=this.parseOr();if(this.skipSymbol("if")){var e=this.parseOr(),n=t;(t=new o.InlineIf(t.lineno,t.colno)).body=n,t.cond=e,this.skipSymbol("else")?t.else_=this.parseOr():t.else_=null}return t},u.parseOr=function(){for(var t=this.parseAnd();this.skipSymbol("or");){var e=this.parseAnd();t=new o.Or(t.lineno,t.colno,t,e)}return t},u.parseAnd=function(){for(var t=this.parseNot();this.skipSymbol("and");){var e=this.parseNot();t=new o.And(t.lineno,t.colno,t,e)}return t},u.parseNot=function(){var t=this.peekToken();return this.skipSymbol("not")?new o.Not(t.lineno,t.colno,this.parseNot()):this.parseIn()},u.parseIn=function(){for(var t=this.parseIs();;){var e=this.nextToken();if(!e)break;var n=e.type===i.TOKEN_SYMBOL&&"not"===e.value;if(n||this.pushToken(e),!this.skipSymbol("in")){n&&this.pushToken(e);break}var r=this.parseIs();t=new o.In(t.lineno,t.colno,t,r),n&&(t=new o.Not(t.lineno,t.colno,t))}return t},u.parseIs=function(){var t=this.parseCompare();if(this.skipSymbol("is")){var e=this.skipSymbol("not"),n=this.parseCompare();t=new o.Is(t.lineno,t.colno,t,n),e&&(t=new o.Not(t.lineno,t.colno,t))}return t},u.parseCompare=function(){for(var t=["==","===","!=","!==","<",">","<=",">="],e=this.parseConcat(),n=[];;){var r=this.nextToken();if(!r)break;if(-1===t.indexOf(r.value)){this.pushToken(r);break}n.push(new o.CompareOperand(r.lineno,r.colno,this.parseConcat(),r.value))}return n.length?new o.Compare(n[0].lineno,n[0].colno,e,n):e},u.parseConcat=function(){for(var t=this.parseAdd();this.skipValue(i.TOKEN_TILDE,"~");){var e=this.parseAdd();t=new o.Concat(t.lineno,t.colno,t,e)}return t},u.parseAdd=function(){for(var t=this.parseSub();this.skipValue(i.TOKEN_OPERATOR,"+");){var e=this.parseSub();t=new o.Add(t.lineno,t.colno,t,e)}return t},u.parseSub=function(){for(var t=this.parseMul();this.skipValue(i.TOKEN_OPERATOR,"-");){var e=this.parseMul();t=new o.Sub(t.lineno,t.colno,t,e)}return t},u.parseMul=function(){for(var t=this.parseDiv();this.skipValue(i.TOKEN_OPERATOR,"*");){var e=this.parseDiv();t=new o.Mul(t.lineno,t.colno,t,e)}return t},u.parseDiv=function(){for(var t=this.parseFloorDiv();this.skipValue(i.TOKEN_OPERATOR,"/");){var e=this.parseFloorDiv();t=new o.Div(t.lineno,t.colno,t,e)}return t},u.parseFloorDiv=function(){for(var t=this.parseMod();this.skipValue(i.TOKEN_OPERATOR,"//");){var e=this.parseMod();t=new o.FloorDiv(t.lineno,t.colno,t,e)}return t},u.parseMod=function(){for(var t=this.parsePow();this.skipValue(i.TOKEN_OPERATOR,"%");){var e=this.parsePow();t=new o.Mod(t.lineno,t.colno,t,e)}return t},u.parsePow=function(){for(var t=this.parseUnary();this.skipValue(i.TOKEN_OPERATOR,"**");){var e=this.parseUnary();t=new o.Pow(t.lineno,t.colno,t,e)}return t},u.parseUnary=function(t){var e,n=this.peekToken();return e=this.skipValue(i.TOKEN_OPERATOR,"-")?new o.Neg(n.lineno,n.colno,this.parseUnary(!0)):this.skipValue(i.TOKEN_OPERATOR,"+")?new o.Pos(n.lineno,n.colno,this.parseUnary(!0)):this.parsePrimary(),t||(e=this.parseFilter(e)),e},u.parsePrimary=function(t){var e,n=this.nextToken(),r=null;if(n?n.type===i.TOKEN_STRING?e=n.value:n.type===i.TOKEN_INT?e=parseInt(n.value,10):n.type===i.TOKEN_FLOAT?e=parseFloat(n.value):n.type===i.TOKEN_BOOLEAN?"true"===n.value?e=!0:"false"===n.value?e=!1:this.fail("invalid boolean: "+n.value,n.lineno,n.colno):n.type===i.TOKEN_NONE?e=null:n.type===i.TOKEN_REGEX&&(e=new RegExp(n.value.body,n.value.flags)):this.fail("expected expression, got end of file"),void 0!==e?r=new o.Literal(n.lineno,n.colno,e):n.type===i.TOKEN_SYMBOL?r=new o.Symbol(n.lineno,n.colno,n.value):(this.pushToken(n),r=this.parseAggregate()),t||(r=this.parsePostfix(r)),r)return r;throw this.error("unexpected token: "+n.value,n.lineno,n.colno)},u.parseFilterName=function(){for(var t=this.expect(i.TOKEN_SYMBOL),e=t.value;this.skipValue(i.TOKEN_OPERATOR,".");)e+="."+this.expect(i.TOKEN_SYMBOL).value;return new o.Symbol(t.lineno,t.colno,e)},u.parseFilterArgs=function(t){return this.peekToken().type===i.TOKEN_LEFT_PAREN?this.parsePostfix(t).args.children:[]},u.parseFilter=function(t){for(;this.skip(i.TOKEN_PIPE);){var e=this.parseFilterName();t=new o.Filter(e.lineno,e.colno,e,new o.NodeList(e.lineno,e.colno,[t].concat(this.parseFilterArgs(t))))}return t},u.parseFilterStatement=function(){var t=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var e=this.parseFilterName(),n=this.parseFilterArgs(e);this.advanceAfterBlockEnd(t.value);var r=new o.Capture(e.lineno,e.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var i=new o.Filter(e.lineno,e.colno,e,new o.NodeList(e.lineno,e.colno,[r].concat(n)));return new o.Output(e.lineno,e.colno,[i])},u.parseAggregate=function(){var t,e=this.nextToken();switch(e.type){case i.TOKEN_LEFT_PAREN:t=new o.Group(e.lineno,e.colno);break;case i.TOKEN_LEFT_BRACKET:t=new o.Array(e.lineno,e.colno);break;case i.TOKEN_LEFT_CURLY:t=new o.Dict(e.lineno,e.colno);break;default:return null}for(;;){var n=this.peekToken().type;if(n===i.TOKEN_RIGHT_PAREN||n===i.TOKEN_RIGHT_BRACKET||n===i.TOKEN_RIGHT_CURLY){this.nextToken();break}if(t.children.length>0&&(this.skip(i.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",e.lineno,e.colno)),t instanceof o.Dict){var r=this.parsePrimary();this.skip(i.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",e.lineno,e.colno);var a=this.parseExpression();t.addChild(new o.Pair(r.lineno,r.colno,r,a))}else{var s=this.parseExpression();t.addChild(s)}}return t},u.parseSignature=function(t,e){var n=this.peekToken();if(!e&&n.type!==i.TOKEN_LEFT_PAREN){if(t)return null;this.fail("expected arguments",n.lineno,n.colno)}n.type===i.TOKEN_LEFT_PAREN&&(n=this.nextToken());for(var r=new o.NodeList(n.lineno,n.colno),a=new o.KeywordArgs(n.lineno,n.colno),s=!1;;){if(n=this.peekToken(),!e&&n.type===i.TOKEN_RIGHT_PAREN){this.nextToken();break}if(e&&n.type===i.TOKEN_BLOCK_END)break;if(s&&!this.skip(i.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",n.lineno,n.colno);else{var u=this.parseExpression();this.skipValue(i.TOKEN_OPERATOR,"=")?a.addChild(new o.Pair(u.lineno,u.colno,u,this.parseExpression())):r.addChild(u)}s=!0}return a.children.length&&r.addChild(a),r},u.parseUntilBlocks=function(){for(var t=this.breakOnBlocks,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.breakOnBlocks=n;var i=this.parse();return this.breakOnBlocks=t,i},u.parseNodes=function(){for(var t,e=[];t=this.nextToken();)if(t.type===i.TOKEN_DATA){var n=t.value,r=this.peekToken(),a=r&&r.value;this.dropLeadingWhitespace&&(n=n.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),r&&(r.type===i.TOKEN_BLOCK_START&&"-"===a.charAt(a.length-1)||r.type===i.TOKEN_VARIABLE_START&&"-"===a.charAt(this.tokens.tags.VARIABLE_START.length)||r.type===i.TOKEN_COMMENT&&"-"===a.charAt(this.tokens.tags.COMMENT_START.length))&&(n=n.replace(/\s*$/,"")),e.push(new o.Output(t.lineno,t.colno,[new o.TemplateData(t.lineno,t.colno,n)]))}else if(t.type===i.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var s=this.parseStatement();if(!s)break;e.push(s)}else if(t.type===i.TOKEN_VARIABLE_START){var u=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),e.push(new o.Output(t.lineno,t.colno,[u]))}else t.type===i.TOKEN_COMMENT?this.dropLeadingWhitespace="-"===t.value.charAt(t.value.length-this.tokens.tags.COMMENT_END.length-1):this.fail("Unexpected token at top-level: "+t.type,t.lineno,t.colno);return e},u.parse=function(){return new o.NodeList(0,0,this.parseNodes())},u.parseAsRoot=function(){return new o.Root(0,0,this.parseNodes())},a}(a);t.exports={parse:function(t,e,n){var r=new u(i.lex(t,n));return void 0!==e&&(r.extensions=e),r.parseAsRoot()},Parser:u}},function(t,e,n){"use strict";var r=n(0),i=" \n\t\r",o="()[]{}%*-+~/#,:|.<>=!",a="string",s="whitespace",u="data",c="block-start",l="block-end",f="variable-start",h="variable-end",d="comment",p="left-paren",v="right-paren",m="left-bracket",y="right-bracket",g="left-curly",b="right-curly",_="operator",x="comma",w="colon",E="tilde",T="pipe",S="float",k="boolean",O="none",A="symbol",P="regex";function C(t,e,n,r){return{type:t,value:e,lineno:n,colno:r}}var R=function(){function t(t,e){this.str=t,this.index=0,this.len=t.length,this.lineno=0,this.colno=0,this.in_code=!1;var n=(e=e||{}).tags||{};this.tags={BLOCK_START:n.blockStart||"{%",BLOCK_END:n.blockEnd||"%}",VARIABLE_START:n.variableStart||"{{",VARIABLE_END:n.variableEnd||"}}",COMMENT_START:n.commentStart||"{#",COMMENT_END:n.commentEnd||"#}"},this.trimBlocks=!!e.trimBlocks,this.lstripBlocks=!!e.lstripBlocks}var e=t.prototype;return e.nextToken=function(){var t,e=this.lineno,n=this.colno;if(this.in_code){var R=this.current();if(this.isFinished())return null;if('"'===R||"'"===R)return C(a,this._parseString(R),e,n);if(t=this._extract(i))return C(s,t,e,n);if((t=this._extractString(this.tags.BLOCK_END))||(t=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&("\n"===(R=this.current())?this.forward():"\r"===R&&(this.forward(),"\n"===(R=this.current())?this.forward():this.back())),C(l,t,e,n);if((t=this._extractString(this.tags.VARIABLE_END))||(t=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,C(h,t,e,n);if("r"===R&&"/"===this.str.charAt(this.index+1)){this.forwardN(2);for(var N="";!this.isFinished();){if("/"===this.current()&&"\\"!==this.previous()){this.forward();break}N+=this.current(),this.forward()}for(var M=["g","i","m","y"],I="";!this.isFinished()&&-1!==M.indexOf(this.current());)I+=this.current(),this.forward();return C(P,{body:N,flags:I},e,n)}if(-1!==o.indexOf(R)){this.forward();var L,D=["==","===","!=","!==","<=",">=","//","**"],F=R+this.current();switch(-1!==r.indexOf(D,F)&&(this.forward(),R=F,-1!==r.indexOf(D,F+this.current())&&(R=F+this.current(),this.forward())),R){case"(":L=p;break;case")":L=v;break;case"[":L=m;break;case"]":L=y;break;case"{":L=g;break;case"}":L=b;break;case",":L=x;break;case":":L=w;break;case"~":L=E;break;case"|":L=T;break;default:L=_}return C(L,R,e,n)}if((t=this._extractUntil(i+o)).match(/^[-+]?[0-9]+$/)){if("."===this.current()){this.forward();var j=this._extract("0123456789");return C(S,t+"."+j,e,n)}return C("int",t,e,n)}if(t.match(/^(true|false)$/))return C(k,t,e,n);if("none"===t)return C(O,t,e,n);if("null"===t)return C(O,t,e,n);if(t)return C(A,t,e,n);throw new Error("Unexpected value while parsing: "+t)}var U,B=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((t=this._extractString(this.tags.BLOCK_START+"-"))||(t=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,C(c,t,e,n);if((t=this._extractString(this.tags.VARIABLE_START+"-"))||(t=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,C(f,t,e,n);t="";var z=!1;for(this._matches(this.tags.COMMENT_START)&&(z=!0,t=this._extractString(this.tags.COMMENT_START));null!==(U=this._extractUntil(B));){if(t+=U,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!z){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=t.length){var $=t.slice(-this.colno);if(/^\s+$/.test($)&&!(t=t.slice(0,-this.colno)).length)return this.nextToken()}break}if(this._matches(this.tags.COMMENT_END)){if(!z)throw new Error("unexpected end of comment");t+=this._extractString(this.tags.COMMENT_END);break}t+=this.current(),this.forward()}if(null===U&&z)throw new Error("expected end of comment, got end of file");return C(z?d:u,t,e,n)},e._parseString=function(t){this.forward();for(var e="";!this.isFinished()&&this.current()!==t;){var n=this.current();if("\\"===n){switch(this.forward(),this.current()){case"n":e+="\n";break;case"t":e+="\t";break;case"r":e+="\r";break;default:e+=this.current()}this.forward()}else e+=n,this.forward()}return this.forward(),e},e._matches=function(t){return this.index+t.length>this.len?null:this.str.slice(this.index,this.index+t.length)===t},e._extractString=function(t){return this._matches(t)?(this.forwardN(t.length),t):null},e._extractUntil=function(t){return this._extractMatching(!0,t||"")},e._extract=function(t){return this._extractMatching(!1,t)},e._extractMatching=function(t,e){if(this.isFinished())return null;var n=e.indexOf(this.current());if(t&&-1===n||!t&&-1!==n){var r=this.current();this.forward();for(var i=e.indexOf(this.current());(t&&-1===i||!t&&-1!==i)&&!this.isFinished();)r+=this.current(),this.forward(),i=e.indexOf(this.current());return r}return""},e._extractRegex=function(t){var e=this.currentStr().match(t);return e?(this.forwardN(e[0].length),e):null},e.isFinished=function(){return this.index>=this.len},e.forwardN=function(t){for(var e=0;e<t;e++)this.forward()},e.forward=function(){this.index++,"\n"===this.previous()?(this.lineno++,this.colno=0):this.colno++},e.backN=function(t){for(var e=0;e<t;e++)this.back()},e.back=function(){if(this.index--,"\n"===this.current()){this.lineno--;var t=this.src.lastIndexOf("\n",this.index-1);this.colno=-1===t?this.index:this.index-t}else this.colno--},e.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},e.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},e.previous=function(){return this.str.charAt(this.index-1)},t}();t.exports={lex:function(t,e){return new R(t,e)},TOKEN_STRING:a,TOKEN_WHITESPACE:s,TOKEN_DATA:u,TOKEN_BLOCK_START:c,TOKEN_BLOCK_END:l,TOKEN_VARIABLE_START:f,TOKEN_VARIABLE_END:h,TOKEN_COMMENT:d,TOKEN_LEFT_PAREN:p,TOKEN_RIGHT_PAREN:v,TOKEN_LEFT_BRACKET:m,TOKEN_RIGHT_BRACKET:y,TOKEN_LEFT_CURLY:g,TOKEN_RIGHT_CURLY:b,TOKEN_OPERATOR:_,TOKEN_COMMA:x,TOKEN_COLON:w,TOKEN_TILDE:E,TOKEN_PIPE:T,TOKEN_INT:"int",TOKEN_FLOAT:S,TOKEN_BOOLEAN:k,TOKEN_NONE:O,TOKEN_SYMBOL:A,TOKEN_SPECIAL:"special",TOKEN_REGEX:P}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(6),o=n(19).PrecompiledLoader,a=function(t){var e,n;function i(e,n){var r;return(r=t.call(this)||this).baseURL=e||".",n=n||{},r.useCache=!!n.useCache,r.async=!!n.async,r}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var o=i.prototype;return o.resolve=function(t,e){throw new Error("relative templates not support in the browser yet")},o.getSource=function(t,e){var n,r=this,i=this.useCache;return this.fetch(this.baseURL+"/"+t,(function(o,a){if(o)if(e)e(o.content);else{if(404!==o.status)throw o.content;n=null}else n={src:a,path:t,noCache:!i},r.emit("load",t,n),e&&e(null,n)})),n},o.fetch=function(t,e){if("undefined"==typeof window)throw new Error("WebLoader can only by used in a browser");var n=new XMLHttpRequest,r=!0;n.onreadystatechange=function(){4===n.readyState&&r&&(r=!1,0===n.status||200===n.status?e(null,n.responseText):e({status:n.status,content:n.responseText}))},t+=(-1===t.indexOf("?")?"?":"&")+"s="+(new Date).getTime(),n.open("GET",t,this.async),n.send()},i}(i);t.exports={WebLoader:a,PrecompiledLoader:o}},function(t,e,n){"use strict";var r,i=n(0),o=n(7),a=o.Environment,s=o.Template,u=n(6),c=n(10),l=n(23),f=n(5),h=n(8),d=n(9),p=n(2),v=n(3),m=n(25);function y(t,e){var n;return e=e||{},i.isObject(t)&&(e=t,t=null),c.FileSystemLoader?n=new c.FileSystemLoader(t,{watch:e.watch,noCache:e.noCache}):c.WebLoader&&(n=new c.WebLoader(t,{useCache:e.web&&e.web.useCache,async:e.web&&e.web.async})),r=new a(n,e),e&&e.express&&r.express(e.express),r}t.exports={Environment:a,Template:s,Loader:u,FileSystemLoader:c.FileSystemLoader,NodeResolveLoader:c.NodeResolveLoader,PrecompiledLoader:c.PrecompiledLoader,WebLoader:c.WebLoader,compiler:f,parser:h,lexer:d,runtime:p,lib:i,nodes:v,installJinjaCompat:m,configure:y,reset:function(){r=void 0},compile:function(t,e,n,i){return r||y(),new s(t,e,n,i)},render:function(t,e,n){return r||y(),r.render(t,e,n)},renderString:function(t,e,n){return r||y(),r.renderString(t,e,n)},precompile:l?l.precompile:void 0,precompileString:l?l.precompileString:void 0}},function(t,e,n){"use strict";var r=n(13),i=[],o=[],a=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function s(t){var e;(e=i.length?i.pop():new u).task=t,r(e)}function u(){this.task=null}t.exports=s,u.prototype.call=function(){try{this.task.call()}catch(t){s.onerror?s.onerror(t):(o.push(t),a())}finally{this.task=null,i[i.length]=this}}},function(t,e,n){"use strict";(function(e){function n(t){i.length||r(),i[i.length]=t}t.exports=n;var r,i=[],o=0;function a(){for(;o<i.length;){var t=o;if(o+=1,i[t].call(),o>1024){for(var e=0,n=i.length-o;e<n;e++)i[e]=i[e+o];i.length-=o,o=0}}i.length=0,o=0}var s,u,c,l=void 0!==e?e:self,f=l.MutationObserver||l.WebKitMutationObserver;function h(t){return function(){var e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}"function"==typeof f?(s=1,u=new f(a),c=document.createTextNode(""),u.observe(c,{characterData:!0}),r=function(){s=-s,c.data=s}):r=h(a),n.requestFlush=r,n.makeRequestCallFromTimer=h}).call(e,n(14))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r;!function(n){"use strict";var i=function(){var t=Array.prototype.slice.call(arguments);"function"==typeof t[0]&&t[0].apply(null,t.splice(1))},o=function(t){"function"==typeof setImmediate?setImmediate(t):"undefined"!=typeof process&&process.nextTick?process.nextTick(t):setTimeout(t,0)},a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=function(t,e,n){var r=n?o:i;if(e=e||function(){},!a(t)){var s=new Error("First argument to waterfall must be an array of functions");return e(s)}if(!t.length)return e();var u=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=t.next();o?i.push(u(o)):i.push(e),r((function(){t.apply(null,i)}))}}};u(function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)}(t))()};void 0===(r=function(){return s}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,r){function i(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,i),r(n)},t.once("error",o)),t.once(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,o,a,s;if(c(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function v(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var c=u.length,l=m(u,c);for(n=0;n<c;++n)o(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,d(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,d(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var r=n(3),i=n(0),o=0;function a(){return"hole_"+o++}function s(t,e){for(var n=null,r=0;r<t.length;r++){var i=e(t[r]);i!==t[r]&&(n||(n=t.slice()),n[r]=i)}return n||t}function u(t,e,n){if(!(t instanceof r.Node))return t;if(!n){var i=e(t);if(i&&i!==t)return i}if(t instanceof r.NodeList){var o=s(t.children,(function(t){return u(t,e,n)}));o!==t.children&&(t=new r[t.typename](t.lineno,t.colno,o))}else if(t instanceof r.CallExtension){var a=u(t.args,e,n),c=s(t.contentArgs,(function(t){return u(t,e,n)}));a===t.args&&c===t.contentArgs||(t=new r[t.typename](t.extName,t.prop,a,c))}else{var l=t.fields.map((function(e){return t[e]})),f=s(l,(function(t){return u(t,e,n)}));f!==l&&(t=new r[t.typename](t.lineno,t.colno),f.forEach((function(e,n){t[t.fields[n]]=e})))}return n&&e(t)||t}function c(t,e){return u(t,e,!0)}function l(t,e,n){var o=[],s=c(n?t[n]:t,(function(t){var n;return t instanceof r.Block?t:((t instanceof r.Filter&&-1!==i.indexOf(e,t.name.value)||t instanceof r.CallExtensionAsync)&&(n=new r.Symbol(t.lineno,t.colno,a()),o.push(new r.FilterAsync(t.lineno,t.colno,t.name,t.args,n))),n)}));return n?t[n]=s:t=s,o.length?(o.push(t),new r.NodeList(t.lineno,t.colno,o)):t}t.exports={transform:function(t,e){return function(t,e){return function(t){return c(t,(function(t){if(t instanceof r.If||t instanceof r.For){var e=!1;if(u(t,(function(t){if(t instanceof r.FilterAsync||t instanceof r.IfAsync||t instanceof r.AsyncEach||t instanceof r.AsyncAll||t instanceof r.CallExtensionAsync)return e=!0,t})),e){if(t instanceof r.If)return new r.IfAsync(t.lineno,t.colno,t.cond,t.body,t.else_);if(t instanceof r.For&&!(t instanceof r.AsyncAll))return new r.AsyncEach(t.lineno,t.colno,t.arr,t.name,t.body,t.else_)}}}))}(function(t){return u(t,(function(t){if(t instanceof r.Block){var e=!1,n=a();t.body=u(t.body,(function(t){if(t instanceof r.FunCall&&"super"===t.name.value)return e=!0,new r.Symbol(t.lineno,t.colno,n)})),e&&t.body.children.unshift(new r.Super(0,0,t.name,new r.Symbol(0,0,n)))}}))}(function(t,e){return c(t,(function(t){return t instanceof r.Output?l(t,e):t instanceof r.Set?l(t,e,"value"):t instanceof r.For?l(t,e,"arr"):t instanceof r.If?l(t,e,"cond"):t instanceof r.CallExtension?l(t,e,"args"):void 0}))}(t,e)))}(t,e||[])}}},function(t,e,n){"use strict";var r=n(0),i=n(2);function o(t,e){return null==t||!1===t?e:t}function a(t){return t!=t}function s(t){var e=(t=o(t,"")).toLowerCase();return i.copySafeness(t,e.charAt(0).toUpperCase()+e.slice(1))}function u(t){if(r.isString(t))return t.split("");if(r.isObject(t))return r._entries(t||{}).map((function(t){return{key:t[0],value:t[1]}}));if(r.isArray(t))return t;throw new r.TemplateError("list filter: type not iterable")}function c(t){return function(e,n,i){void 0===n&&(n="truthy");var o=this,a=o.env.getTest(n);return r.toArray(e).filter((function(e){return a.call(o,e,i)===t}))}}function l(t){return i.copySafeness(t,t.replace(/^\s*|\s*$/g,""))}(e=t.exports={}).abs=Math.abs,e.batch=function(t,e,n){var r,i=[],o=[];for(r=0;r<t.length;r++)r%e==0&&o.length&&(i.push(o),o=[]),o.push(t[r]);if(o.length){if(n)for(r=o.length;r<e;r++)o.push(n);i.push(o)}return i},e.capitalize=s,e.center=function(t,e){if(e=e||80,(t=o(t,"")).length>=e)return t;var n=e-t.length,a=r.repeat(" ",n/2-n%2),s=r.repeat(" ",n/2);return i.copySafeness(t,a+t+s)},e.default=function(t,e,n){return n?t||e:void 0!==t?t:e},e.dictsort=function(t,e,n){if(!r.isObject(t))throw new r.TemplateError("dictsort filter: val must be an object");var i,o=[];for(var a in t)o.push([a,t[a]]);if(void 0===n||"key"===n)i=0;else{if("value"!==n)throw new r.TemplateError("dictsort filter: You can only sort by either key or value");i=1}return o.sort((function(t,n){var o=t[i],a=n[i];return e||(r.isString(o)&&(o=o.toUpperCase()),r.isString(a)&&(a=a.toUpperCase())),o>a?1:o===a?0:-1})),o},e.dump=function(t,e){return JSON.stringify(t,null,e)},e.escape=function(t){return t instanceof i.SafeString?t:(t=null==t?"":t,i.markSafe(r.escape(t.toString())))},e.safe=function(t){return t instanceof i.SafeString?t:(t=null==t?"":t,i.markSafe(t.toString()))},e.first=function(t){return t[0]},e.forceescape=function(t){return t=null==t?"":t,i.markSafe(r.escape(t.toString()))},e.groupby=function(t,e){return r.groupBy(t,e,this.env.opts.throwOnUndefined)},e.indent=function(t,e,n){if(""===(t=o(t,"")))return"";e=e||4;var a=t.split("\n"),s=r.repeat(" ",e),u=a.map((function(t,e){return 0!==e||n?""+s+t:t})).join("\n");return i.copySafeness(t,u)},e.join=function(t,e,n){return e=e||"",n&&(t=r.map(t,(function(t){return t[n]}))),t.join(e)},e.last=function(t){return t[t.length-1]},e.length=function(t){var e=o(t,"");return void 0!==e?"function"==typeof Map&&e instanceof Map||"function"==typeof Set&&e instanceof Set?e.size:!r.isObject(e)||e instanceof i.SafeString?e.length:r.keys(e).length:0},e.list=u,e.lower=function(t){return(t=o(t,"")).toLowerCase()},e.nl2br=function(t){return null==t?"":i.copySafeness(t,t.replace(/\r\n|\n/g,"<br />\n"))},e.random=function(t){return t[Math.floor(Math.random()*t.length)]},e.reject=c(!1),e.rejectattr=function(t,e){return t.filter((function(t){return!t[e]}))},e.select=c(!0),e.selectattr=function(t,e){return t.filter((function(t){return!!t[e]}))},e.replace=function(t,e,n,r){var o=t;if(e instanceof RegExp)return t.replace(e,n);void 0===r&&(r=-1);var a="";if("number"==typeof e)e=""+e;else if("string"!=typeof e)return t;if("number"==typeof t&&(t=""+t),"string"!=typeof t&&!(t instanceof i.SafeString))return t;if(""===e)return a=n+t.split("").join(n)+n,i.copySafeness(t,a);var s=t.indexOf(e);if(0===r||-1===s)return t;for(var u=0,c=0;s>-1&&(-1===r||c<r);)a+=t.substring(u,s)+n,u=s+e.length,c++,s=t.indexOf(e,u);return u<t.length&&(a+=t.substring(u)),i.copySafeness(o,a)},e.reverse=function(t){var e;return(e=r.isString(t)?u(t):r.map(t,(function(t){return t}))).reverse(),r.isString(t)?i.copySafeness(t,e.join("")):e},e.round=function(t,e,n){e=e||0;var r=Math.pow(10,e);return("ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round)(t*r)/r},e.slice=function(t,e,n){for(var r=Math.floor(t.length/e),i=t.length%e,o=[],a=0,s=0;s<e;s++){var u=a+s*r;s<i&&a++;var c=a+(s+1)*r,l=t.slice(u,c);n&&s>=i&&l.push(n),o.push(l)}return o},e.sum=function(t,e,n){return void 0===n&&(n=0),e&&(t=r.map(t,(function(t){return t[e]}))),n+t.reduce((function(t,e){return t+e}),0)},e.sort=i.makeMacro(["value","reverse","case_sensitive","attribute"],[],(function(t,e,n,i){var o=this,a=r.map(t,(function(t){return t})),s=r.getAttrGetter(i);return a.sort((function(t,a){var u=i?s(t):t,c=i?s(a):a;if(o.env.opts.throwOnUndefined&&i&&(void 0===u||void 0===c))throw new TypeError('sort: attribute "'+i+'" resolved to undefined');return!n&&r.isString(u)&&r.isString(c)&&(u=u.toLowerCase(),c=c.toLowerCase()),u<c?e?1:-1:u>c?e?-1:1:0})),a})),e.string=function(t){return i.copySafeness(t,t)},e.striptags=function(t,e){var n,r=l((t=o(t,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,""));return n=e?r.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):r.replace(/\s+/gi," "),i.copySafeness(t,n)},e.title=function(t){var e=(t=o(t,"")).split(" ").map((function(t){return s(t)}));return i.copySafeness(t,e.join(" "))},e.trim=l,e.truncate=function(t,e,n,r){var a=t;if(e=e||255,(t=o(t,"")).length<=e)return t;if(n)t=t.substring(0,e);else{var s=t.lastIndexOf(" ",e);-1===s&&(s=e),t=t.substring(0,s)}return t+=null!=r?r:"...",i.copySafeness(a,t)},e.upper=function(t){return(t=o(t,"")).toUpperCase()},e.urlencode=function(t){var e=encodeURIComponent;return r.isString(t)?e(t):(r.isArray(t)?t:r._entries(t)).map((function(t){var n=t[0],r=t[1];return e(n)+"="+e(r)})).join("&")};var f=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,h=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,d=/^https?:\/\/.*$/,p=/^www\./,v=/\.(?:org|net|com)(?:\:|\/|$)/;e.urlize=function(t,e,n){a(e)&&(e=1/0);var r=!0===n?' rel="nofollow"':"";return t.split(/(\s+)/).filter((function(t){return t&&t.length})).map((function(t){var n=t.match(f),i=n?n[1]:t,o=i.substr(0,e);return d.test(i)?'<a href="'+i+'"'+r+">"+o+"</a>":p.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":h.test(i)?'<a href="mailto:'+i+'">'+i+"</a>":v.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":t})).join("")},e.wordcount=function(t){var e=(t=o(t,""))?t.match(/\w+/g):null;return e?e.length:null},e.float=function(t,e){var n=parseFloat(t);return a(n)?e:n};var m=i.makeMacro(["value","default","base"],[],(function(t,e,n){void 0===n&&(n=10);var r=parseInt(t,n);return a(r)?e:r}));e.int=m,e.d=e.default,e.e=e.escape},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}var i=function(t){var e,n;function i(e){var n;return(n=t.call(this)||this).precompiled=e||{},n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.getSource=function(t){return this.precompiled[t]?{src:{type:"code",obj:this.precompiled[t]},path:t}:null},i}(n(6));t.exports={PrecompiledLoader:i}},function(t,e,n){"use strict";var r=n(2).SafeString;e.callable=function(t){return"function"==typeof t},e.defined=function(t){return void 0!==t},e.divisibleby=function(t,e){return t%e==0},e.escaped=function(t){return t instanceof r},e.equalto=function(t,e){return t===e},e.eq=e.equalto,e.sameas=e.equalto,e.even=function(t){return t%2==0},e.falsy=function(t){return!t},e.ge=function(t,e){return t>=e},e.greaterthan=function(t,e){return t>e},e.gt=e.greaterthan,e.le=function(t,e){return t<=e},e.lessthan=function(t,e){return t<e},e.lt=e.lessthan,e.lower=function(t){return t.toLowerCase()===t},e.ne=function(t,e){return t!==e},e.null=function(t){return null===t},e.number=function(t){return"number"==typeof t},e.odd=function(t){return t%2==1},e.string=function(t){return"string"==typeof t},e.truthy=function(t){return!!t},e.undefined=function(t){return void 0===t},e.upper=function(t){return t.toUpperCase()===t},e.iterable=function(t){return"undefined"!=typeof Symbol?!!t[Symbol.iterator]:Array.isArray(t)||"string"==typeof t},e.mapping=function(t){var e=null!=t&&"object"==typeof t&&!Array.isArray(t);return Set?e&&!(t instanceof Set):e}},function(t,e,n){"use strict";function r(t){var e=-1;return{current:null,reset:function(){e=-1,this.current=null},next:function(){return++e>=t.length&&(e=0),this.current=t[e],this.current}}}t.exports=function(){return{range:function(t,e,n){void 0===e?(e=t,t=0,n=1):n||(n=1);var r=[];if(n>0)for(var i=t;i<e;i+=n)r.push(i);else for(var o=t;o>e;o+=n)r.push(o);return r},cycler:function(){return r(Array.prototype.slice.call(arguments))},joiner:function(t){return function(t){t=t||",";var e=!0;return function(){var n=e?"":t;return e=!1,n}}(t)}}}},function(t,e,n){var r=n(4);t.exports=function(t,e){function n(t,e){if(this.name=t,this.path=t,this.defaultEngine=e.defaultEngine,this.ext=r.extname(t),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return n.prototype.render=function(e,n){t.render(this.name,e,n)},e.set("view",n),e.set("nunjucksEnv",t),t}},function(t,e,n){"use strict";var r=n(4),i=n(4),o=n(0)._prettifyError,a=n(5),s=n(7).Environment,u=n(24);function c(t,e){return!!Array.isArray(e)&&e.some((function(e){return t.match(e)}))}function l(t,e){(e=e||{}).isString=!0;var n=e.env||new s([]),r=e.wrapper||u;if(!e.name)throw new Error('the "name" option is required when compiling a string');return r([f(t,e.name,n)],e)}function f(t,e,n){var r,i=(n=n||new s([])).asyncFilters,u=n.extensionsList;e=e.replace(/\\/g,"/");try{r=a.compile(t,i,u,e,n.opts)}catch(t){throw o(e,!1,t)}return{name:e,template:r}}t.exports={precompile:function(t,e){var n=(e=e||{}).env||new s([]),o=e.wrapper||u;if(e.isString)return l(t,e);var a=r.existsSync(t)&&r.statSync(t),h=[],d=[];if(a.isFile())h.push(f(r.readFileSync(t,"utf-8"),e.name||t,n));else if(a.isDirectory()){!function n(o){r.readdirSync(o).forEach((function(a){var s=i.join(o,a),u=s.substr(i.join(t,"/").length),l=r.statSync(s);l&&l.isDirectory()?c(u+="/",e.exclude)||n(s):c(u,e.include)&&d.push(s)}))}(t);for(var p=0;p<d.length;p++){var v=d[p].replace(i.join(t,"/"),"");try{h.push(f(r.readFileSync(d[p],"utf-8"),v,n))}catch(t){if(!e.force)throw t;console.error(t)}}}return o(h,e)},precompileString:l}},function(t,e,n){"use strict";t.exports=function(t,e){var n="";e=e||{};for(var r=0;r<t.length;r++){var i=JSON.stringify(t[r].name);n+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+i+"] = (function() {\n"+t[r].template+"\n})();\n",e.asFunction&&(n+="return function(ctx, cb) { return nunjucks.render("+i+", ctx, cb); }\n"),n+="})();\n"}return n}},function(t,e,n){t.exports=function(){"use strict";var t,e,n=this.runtime,r=this.lib,i=this.compiler.Compiler,o=this.parser.Parser,a=this.nodes,s=this.lexer,u=n.contextOrFrameLookup,c=n.memberLookup;function l(t){return{index:t.index,lineno:t.lineno,colno:t.colno}}if(i&&(t=i.prototype.assertType),o&&(e=o.prototype.parseAggregate),n.contextOrFrameLookup=function(t,e,n){var r=u.apply(this,arguments);if(void 0!==r)return r;switch(n){case"True":return!0;case"False":return!1;case"None":return null;default:return}},a&&i&&o){var f=a.Node.extend("Slice",{fields:["start","stop","step"],init:function(t,e,n,r,i){n=n||new a.Literal(t,e,null),r=r||new a.Literal(t,e,null),i=i||new a.Literal(t,e,1),this.parent(t,e,n,r,i)}});i.prototype.assertType=function(e){e instanceof f||t.apply(this,arguments)},i.prototype.compileSlice=function(t,e){this._emit("("),this._compileExpression(t.start,e),this._emit("),("),this._compileExpression(t.stop,e),this._emit("),("),this._compileExpression(t.step,e),this._emit(")")},o.prototype.parseAggregate=function(){var t=this,n=l(this.tokens);n.colno--,n.index--;try{return e.apply(this)}catch(e){var i=l(this.tokens),o=function(){return r._assign(t.tokens,i),e};r._assign(this.tokens,n),this.peeked=!1;var u=this.peekToken();if(u.type!==s.TOKEN_LEFT_BRACKET)throw o();this.nextToken();for(var c=new f(u.lineno,u.colno),h=!1,d=0;d<=c.fields.length&&!this.skip(s.TOKEN_RIGHT_BRACKET);d++){if(d===c.fields.length){if(!h)break;this.fail("parseSlice: too many slice components",u.lineno,u.colno)}this.skip(s.TOKEN_COLON)?h=!0:(c[c.fields[d]]=this.parseExpression(),h=this.skip(s.TOKEN_COLON)||h)}if(!h)throw o();return new a.Array(u.lineno,u.colno,[c])}}}function h(t,e,r,i){t=t||[],null===e&&(e=i<0?t.length-1:0),null===r?r=i<0?-1:t.length:r<0&&(r+=t.length),e<0&&(e+=t.length);for(var o=[],a=e;!(a<0||a>t.length||i>0&&a>=r||i<0&&a<=r);a+=i)o.push(n.memberLookup(t,a));return o}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var p={pop:function(t){if(void 0===t)return this.pop();if(t>=this.length||t<0)throw new Error("KeyError");return this.splice(t,1)},append:function(t){return this.push(t)},remove:function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return this.splice(e,1);throw new Error("ValueError")},count:function(t){for(var e=0,n=0;n<this.length;n++)this[n]===t&&e++;return e},index:function(t){var e;if(-1===(e=this.indexOf(t)))throw new Error("ValueError");return e},find:function(t){return this.indexOf(t)},insert:function(t,e){return this.splice(t,0,e)}},v={items:function(){return r._entries(this)},values:function(){return r._values(this)},keys:function(){return r.keys(this)},get:function(t,e){var n=this[t];return void 0===n&&(n=e),n},has_key:function(t){return d(this,t)},pop:function(t,e){var n=this[t];if(void 0===n&&void 0!==e)n=e;else{if(void 0===n)throw new Error("KeyError");delete this[t]}return n},popitem:function(){var t=r.keys(this);if(!t.length)throw new Error("KeyError");var e=t[0],n=this[e];return delete this[e],[e,n]},setdefault:function(t,e){return void 0===e&&(e=null),t in this||(this[t]=e),this[t]},update:function(t){return r._assign(this,t),null}};return v.iteritems=v.items,v.itervalues=v.values,v.iterkeys=v.keys,n.memberLookup=function(t,e,n){return 4===arguments.length?h.apply(this,arguments):(t=t||{},r.isArray(t)&&d(p,e)?p[e].bind(t):r.isObject(t)&&d(v,e)?v[e].bind(t):c.apply(this,arguments))},function(){n.contextOrFrameLookup=u,n.memberLookup=c,i&&(i.prototype.assertType=t),o&&(o.prototype.parseAggregate=e)}}}])},t.exports=e()},540:function(t,e){!function(t){"use strict";function e(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length>1){e[0]=e[0].slice(0,-1);for(var r=e.length-1,i=1;i<r;++i)e[i]=e[i].slice(1,-1);return e[r]=e[r].slice(1),e.join("")}return e[0]}function n(t){return"(?:"+t+")"}function r(t){return void 0===t?"undefined":null===t?"null":Object.prototype.toString.call(t).split(" ").pop().split("]").shift().toLowerCase()}function i(t){return t.toUpperCase()}function o(t){var r="[A-Za-z]",i="[0-9]",o=e(i,"[A-Fa-f]"),a=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=e("[\\:\\/\\?\\#\\[\\]\\@]",s),c=t?"[\\uE000-\\uF8FF]":"[]",l=e(r,i,"[\\-\\.\\_\\~]",t?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),f=n(r+e(r,i,"[\\+\\-\\.]")+"*"),h=n(n(a+"|"+e(l,s,"[\\:]"))+"*"),d=(n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|"+i),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?"+i)),p=n(d+"\\."+d+"\\."+d+"\\."+d),v=n(o+"{1,4}"),m=n(n(v+"\\:"+v)+"|"+p),y=n(n(v+"\\:")+"{6}"+m),g=n("\\:\\:"+n(v+"\\:")+"{5}"+m),b=n(n(v)+"?\\:\\:"+n(v+"\\:")+"{4}"+m),_=n(n(n(v+"\\:")+"{0,1}"+v)+"?\\:\\:"+n(v+"\\:")+"{3}"+m),x=n(n(n(v+"\\:")+"{0,2}"+v)+"?\\:\\:"+n(v+"\\:")+"{2}"+m),w=n(n(n(v+"\\:")+"{0,3}"+v)+"?\\:\\:"+v+"\\:"+m),E=n(n(n(v+"\\:")+"{0,4}"+v)+"?\\:\\:"+m),T=n(n(n(v+"\\:")+"{0,5}"+v)+"?\\:\\:"+v),S=n(n(n(v+"\\:")+"{0,6}"+v)+"?\\:\\:"),k=n([y,g,b,_,x,w,E,T,S].join("|")),O=n(n(l+"|"+a)+"+"),A=(n(k+"\\%25"+O),n(k+n("\\%25|\\%(?!"+o+"{2})")+O)),P=n("[vV]"+o+"+\\."+e(l,s,"[\\:]")+"+"),C=n("\\["+n(A+"|"+k+"|"+P)+"\\]"),R=n(n(a+"|"+e(l,s))+"*"),N=n(C+"|"+p+"(?!"+R+")|"+R),M=n("[0-9]*"),I=n(n(h+"@")+"?"+N+n("\\:"+M)+"?"),L=n(a+"|"+e(l,s,"[\\:\\@]")),D=n(L+"*"),F=n(L+"+"),j=n(n(a+"|"+e(l,s,"[\\@]"))+"+"),U=n(n("\\/"+D)+"*"),B=n("\\/"+n(F+U)+"?"),z=n(j+U),$=n(F+U),q="(?!"+L+")",V=(n(U+"|"+B+"|"+z+"|"+$+"|"+q),n(n(L+"|"+e("[\\/\\?]",c))+"*")),H=n(n(L+"|[\\/\\?]")+"*"),K=n(n("\\/\\/"+I+U)+"|"+B+"|"+$+"|"+q),Y=n(f+"\\:"+K+n("\\?"+V)+"?"+n("\\#"+H)+"?"),G=n(n("\\/\\/"+I+U)+"|"+B+"|"+z+"|"+q),W=n(G+n("\\?"+V)+"?"+n("\\#"+H)+"?");return n(Y+"|"+W),n(f+"\\:"+K+n("\\?"+V)+"?"),n(n("\\/\\/("+n("("+h+")@")+"?("+N+")"+n("\\:("+M+")")+"?)")+"?("+U+"|"+B+"|"+$+"|"+q+")"),n("\\?("+V+")"),n("\\#("+H+")"),n(n("\\/\\/("+n("("+h+")@")+"?("+N+")"+n("\\:("+M+")")+"?)")+"?("+U+"|"+B+"|"+z+"|"+q+")"),n("\\?("+V+")"),n("\\#("+H+")"),n(n("\\/\\/("+n("("+h+")@")+"?("+N+")"+n("\\:("+M+")")+"?)")+"?("+U+"|"+B+"|"+$+"|"+q+")"),n("\\?("+V+")"),n("\\#("+H+")"),n("("+h+")@"),n("\\:("+M+")"),{NOT_SCHEME:new RegExp(e("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",l,s),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",l,s),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",l,s),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",l,s),"g"),NOT_QUERY:new RegExp(e("[^\\%]",l,s,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",l,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",l,s),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",l,u),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+k+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+O+")")+"?\\]?$")}}var a=o(!1),s=o(!0),u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=36,f=/^xn--/,h=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,m=String.fromCharCode;function y(t){throw new RangeError(p[t])}function g(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+function(t,e){for(var n=[],r=t.length;r--;)n[r]=e(t[r]);return n}((t=t.replace(d,".")).split("."),e).join(".")}function b(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}var _=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},x=function(t,e,n){var r=0;for(t=n?v(t/700):t>>1,t+=v(t/e);t>455;r+=l)t=v(t/35);return v(r+36*t/(t+38))},w=function(t){var e,n=[],r=t.length,i=0,o=128,a=72,s=t.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)t.charCodeAt(u)>=128&&y("not-basic"),n.push(t.charCodeAt(u));for(var f=s>0?s+1:0;f<r;){for(var h=i,d=1,p=l;;p+=l){f>=r&&y("invalid-input");var m=(e=t.charCodeAt(f++))-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l;(m>=l||m>v((c-i)/d))&&y("overflow"),i+=m*d;var g=p<=a?1:p>=a+26?26:p-a;if(m<g)break;var b=l-g;d>v(c/b)&&y("overflow"),d*=b}var _=n.length+1;a=x(i-h,_,0==h),v(i/_)>c-o&&y("overflow"),o+=v(i/_),i%=_,n.splice(i++,0,o)}return String.fromCodePoint.apply(String,n)},E=function(t){var e=[],n=(t=b(t)).length,r=128,i=0,o=72,a=!0,s=!1,u=void 0;try{for(var f,h=t[Symbol.iterator]();!(a=(f=h.next()).done);a=!0){var d=f.value;d<128&&e.push(m(d))}}catch(t){s=!0,u=t}finally{try{!a&&h.return&&h.return()}finally{if(s)throw u}}var p=e.length,g=p;for(p&&e.push("-");g<n;){var w=c,E=!0,T=!1,S=void 0;try{for(var k,O=t[Symbol.iterator]();!(E=(k=O.next()).done);E=!0){var A=k.value;A>=r&&A<w&&(w=A)}}catch(t){T=!0,S=t}finally{try{!E&&O.return&&O.return()}finally{if(T)throw S}}var P=g+1;w-r>v((c-i)/P)&&y("overflow"),i+=(w-r)*P,r=w;var C=!0,R=!1,N=void 0;try{for(var M,I=t[Symbol.iterator]();!(C=(M=I.next()).done);C=!0){var L=M.value;if(L<r&&++i>c&&y("overflow"),L==r){for(var D=i,F=l;;F+=l){var j=F<=o?1:F>=o+26?26:F-o;if(D<j)break;var U=D-j,B=l-j;e.push(m(_(j+U%B,0))),D=v(U/B)}e.push(m(_(D,0))),o=x(i,P,g==p),i=0,++g}}}catch(t){R=!0,N=t}finally{try{!C&&I.return&&I.return()}finally{if(R)throw N}}++i,++r}return e.join("")},T=function(t){return g(t,(function(t){return h.test(t)?"xn--"+E(t):t}))},S=function(t){return g(t,(function(t){return f.test(t)?w(t.slice(4).toLowerCase()):t}))},k={};function O(t){var e=t.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function A(t){for(var e="",n=0,r=t.length;n<r;){var i=parseInt(t.substr(n+1,2),16);if(i<128)e+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(t.substr(n+4,2),16);e+=String.fromCharCode((31&i)<<6|63&o)}else e+=t.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var a=parseInt(t.substr(n+4,2),16),s=parseInt(t.substr(n+7,2),16);e+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else e+=t.substr(n,9);n+=9}else e+=t.substr(n,3),n+=3}return e}function P(t,e){function n(t){var n=A(t);return n.match(e.UNRESERVED)?n:t}return t.scheme&&(t.scheme=String(t.scheme).replace(e.PCT_ENCODED,n).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==t.userinfo&&(t.userinfo=String(t.userinfo).replace(e.PCT_ENCODED,n).replace(e.NOT_USERINFO,O).replace(e.PCT_ENCODED,i)),void 0!==t.host&&(t.host=String(t.host).replace(e.PCT_ENCODED,n).toLowerCase().replace(e.NOT_HOST,O).replace(e.PCT_ENCODED,i)),void 0!==t.path&&(t.path=String(t.path).replace(e.PCT_ENCODED,n).replace(t.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,O).replace(e.PCT_ENCODED,i)),void 0!==t.query&&(t.query=String(t.query).replace(e.PCT_ENCODED,n).replace(e.NOT_QUERY,O).replace(e.PCT_ENCODED,i)),void 0!==t.fragment&&(t.fragment=String(t.fragment).replace(e.PCT_ENCODED,n).replace(e.NOT_FRAGMENT,O).replace(e.PCT_ENCODED,i)),t}function C(t){return t.replace(/^0*(.*)/,"$1")||"0"}function R(t,e){var n=t.match(e.IPV4ADDRESS)||[],r=u(n,2)[1];return r?r.split(".").map(C).join("."):t}function N(t,e){var n=t.match(e.IPV6ADDRESS)||[],r=u(n,3),i=r[1],o=r[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=u(a,2),c=s[0],l=s[1],f=l?l.split(":").map(C):[],h=c.split(":").map(C),d=e.IPV4ADDRESS.test(h[h.length-1]),p=d?7:8,v=h.length-p,m=Array(p),y=0;y<p;++y)m[y]=f[y]||h[v+y]||"";d&&(m[p-1]=R(m[p-1],e));var g=m.reduce((function(t,e,n){if(!e||"0"===e){var r=t[t.length-1];r&&r.index+r.length===n?r.length++:t.push({index:n,length:1})}return t}),[]).sort((function(t,e){return e.length-t.length}))[0],b=void 0;if(g&&g.length>1){var _=m.slice(0,g.index),x=m.slice(g.index+g.length);b=_.join(":")+"::"+x.join(":")}else b=m.join(":");return o&&(b+="%"+o),b}return t}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,I=void 0==="".match(/(){0}/)[1];function L(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==e.iri?s:a;"suffix"===e.reference&&(t=(e.scheme?e.scheme+":":"")+"//"+t);var i=t.match(M);if(i){I?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==t.indexOf("@")?i[3]:void 0,n.host=-1!==t.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==t.indexOf("?")?i[7]:void 0,n.fragment=-1!==t.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=t.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=N(R(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",e.reference&&"suffix"!==e.reference&&e.reference!==n.reference&&(n.error=n.error||"URI is not a "+e.reference+" reference.");var o=k[(e.scheme||n.scheme||"").toLowerCase()];if(e.unicodeSupport||o&&o.unicodeSupport)P(n,r);else{if(n.host&&(e.domainHost||o&&o.domainHost))try{n.host=T(n.host.replace(r.PCT_ENCODED,A).toLowerCase())}catch(t){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+t}P(n,a)}o&&o.parse&&o.parse(n,e)}else n.error=n.error||"URI can not be parsed.";return n}function D(t,e){var n=!1!==e.iri?s:a,r=[];return void 0!==t.userinfo&&(r.push(t.userinfo),r.push("@")),void 0!==t.host&&r.push(N(R(String(t.host),n),n).replace(n.IPV6ADDRESS,(function(t,e,n){return"["+e+(n?"%25"+n:"")+"]"}))),"number"!=typeof t.port&&"string"!=typeof t.port||(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0}var F=/^\.\.?\//,j=/^\/\.(\/|$)/,U=/^\/\.\.(\/|$)/,B=/^\/?(?:.|\n)*?(?=\/|$)/;function z(t){for(var e=[];t.length;)if(t.match(F))t=t.replace(F,"");else if(t.match(j))t=t.replace(j,"/");else if(t.match(U))t=t.replace(U,"/"),e.pop();else if("."===t||".."===t)t="";else{var n=t.match(B);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];t=t.slice(r.length),e.push(r)}return e.join("")}function $(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.iri?s:a,r=[],i=k[(e.scheme||t.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(t,e),t.host)if(n.IPV6ADDRESS.test(t.host));else if(e.domainHost||i&&i.domainHost)try{t.host=e.iri?S(t.host):T(t.host.replace(n.PCT_ENCODED,A).toLowerCase())}catch(n){t.error=t.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+n}P(t,n),"suffix"!==e.reference&&t.scheme&&(r.push(t.scheme),r.push(":"));var o=D(t,e);if(void 0!==o&&("suffix"!==e.reference&&r.push("//"),r.push(o),t.path&&"/"!==t.path.charAt(0)&&r.push("/")),void 0!==t.path){var u=t.path;e.absolutePath||i&&i.absolutePath||(u=z(u)),void 0===o&&(u=u.replace(/^\/\//,"/%2F")),r.push(u)}return void 0!==t.query&&(r.push("?"),r.push(t.query)),void 0!==t.fragment&&(r.push("#"),r.push(t.fragment)),r.join("")}function q(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(t=L($(t,n),n),e=L($(e,n),n)),!(n=n||{}).tolerant&&e.scheme?(r.scheme=e.scheme,r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=z(e.path||""),r.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=z(e.path||""),r.query=e.query):(e.path?("/"===e.path.charAt(0)?r.path=z(e.path):(void 0===t.userinfo&&void 0===t.host&&void 0===t.port||t.path?t.path?r.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:r.path=e.path:r.path="/"+e.path,r.path=z(r.path)),r.query=e.query):(r.path=t.path,void 0!==e.query?r.query=e.query:r.query=t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=e.fragment,r}function V(t,e){return t&&t.toString().replace(e&&e.iri?s.PCT_ENCODED:a.PCT_ENCODED,A)}var H={scheme:"http",domainHost:!0,parse:function(t,e){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t},serialize:function(t,e){var n="https"===String(t.scheme).toLowerCase();return t.port!==(n?443:80)&&""!==t.port||(t.port=void 0),t.path||(t.path="/"),t}},K={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize};function Y(t){return"boolean"==typeof t.secure?t.secure:"wss"===String(t.scheme).toLowerCase()}var G={scheme:"ws",domainHost:!0,parse:function(t,e){var n=t;return n.secure=Y(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(t,e){if(t.port!==(Y(t)?443:80)&&""!==t.port||(t.port=void 0),"boolean"==typeof t.secure&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){var n=t.resourceName.split("?"),r=u(n,2),i=r[0],o=r[1];t.path=i&&"/"!==i?i:void 0,t.query=o,t.resourceName=void 0}return t.fragment=void 0,t}},W={scheme:"wss",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize},Q={},X="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",J="[0-9A-Fa-f]",Z=n(n("%[EFef][0-9A-Fa-f]%"+J+J+"%"+J+J)+"|"+n("%[89A-Fa-f][0-9A-Fa-f]%"+J+J)+"|"+n("%"+J+J)),tt=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),et=new RegExp(X,"g"),nt=new RegExp(Z,"g"),rt=new RegExp(e("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',tt),"g"),it=new RegExp(e("[^]",X,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ot=it;function at(t){var e=A(t);return e.match(et)?e:t}var st={scheme:"mailto",parse:function(t,e){var n=t,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},a=n.query.split("&"),s=0,u=a.length;s<u;++s){var c=a[s].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),f=0,h=l.length;f<h;++f)r.push(l[f]);break;case"subject":n.subject=V(c[1],e);break;case"body":n.body=V(c[1],e);break;default:i=!0,o[V(c[0],e)]=V(c[1],e)}}i&&(n.headers=o)}n.query=void 0;for(var d=0,p=r.length;d<p;++d){var v=r[d].split("@");if(v[0]=V(v[0]),e.unicodeSupport)v[1]=V(v[1],e).toLowerCase();else try{v[1]=T(V(v[1],e).toLowerCase())}catch(t){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}r[d]=v.join("@")}return n},serialize:function(t,e){var n,r=t,o=null!=(n=t.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var a=0,s=o.length;a<s;++a){var u=String(o[a]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(nt,at).replace(nt,i).replace(rt,O),f=u.slice(c+1);try{f=e.iri?S(f):T(V(f,e).toLowerCase())}catch(t){r.error=r.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+t}o[a]=l+"@"+f}r.path=o.join(",")}var h=t.headers=t.headers||{};t.subject&&(h.subject=t.subject),t.body&&(h.body=t.body);var d=[];for(var p in h)h[p]!==Q[p]&&d.push(p.replace(nt,at).replace(nt,i).replace(it,O)+"="+h[p].replace(nt,at).replace(nt,i).replace(ot,O));return d.length&&(r.query=d.join("&")),r}},ut=/^([^\:]+)\:(.*)/,ct={scheme:"urn",parse:function(t,e){var n=t.path&&t.path.match(ut),r=t;if(n){var i=e.scheme||r.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=i+":"+(e.nid||o),u=k[s];r.nid=o,r.nss=a,r.path=void 0,u&&(r=u.parse(r,e))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(t,e){var n=e.scheme||t.scheme||"urn",r=t.nid,i=n+":"+(e.nid||r),o=k[i];o&&(t=o.serialize(t,e));var a=t,s=t.nss;return a.path=(r||e.nid)+":"+s,a}},lt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ft={scheme:"urn:uuid",parse:function(t,e){var n=t;return n.uuid=n.nss,n.nss=void 0,e.tolerant||n.uuid&&n.uuid.match(lt)||(n.error=n.error||"UUID is not valid."),n},serialize:function(t,e){var n=t;return n.nss=(t.uuid||"").toLowerCase(),n}};k[H.scheme]=H,k[K.scheme]=K,k[G.scheme]=G,k[W.scheme]=W,k[st.scheme]=st,k[ct.scheme]=ct,k[ft.scheme]=ft,t.SCHEMES=k,t.pctEncChar=O,t.pctDecChars=A,t.parse=L,t.removeDotSegments=z,t.serialize=$,t.resolveComponents=q,t.resolve=function(t,e,n){var r=function(t,e){var n=t;if(e)for(var r in e)n[r]=e[r];return n}({scheme:"null"},n);return $(q(L(t,r),L(e,r),r,!0),r)},t.normalize=function(t,e){return"string"==typeof t?t=$(L(t,e),e):"object"===r(t)&&(t=L($(t,e),e)),t},t.equal=function(t,e,n){return"string"==typeof t?t=$(L(t,n),n):"object"===r(t)&&(t=$(t,n)),"string"==typeof e?e=$(L(e,n),n):"object"===r(e)&&(e=$(e,n)),t===e},t.escapeComponent=function(t,e){return t&&t.toString().replace(e&&e.iri?s.ESCAPE:a.ESCAPE,O)},t.unescapeComponent=V,Object.defineProperty(t,"__esModule",{value:!0})}(e)},654:()=>{},894:t=>{"use strict";t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},680:t=>{"use strict";t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{default:()=>mr});var t=n(181);function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function a(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}const u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(c,t);var e,n,r,u=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(n);if(r){var i=s(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return a(this,t)});function c(){return i(this,c),u.apply(this,arguments)}return e=c,Object.defineProperty(e,"prototype",{writable:!1}),e}(t.DefaultDrawer);var c=n(96),l=n.n(c);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}const m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(n);if(r){var i=v(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return p(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{blockType:null,provider:null};return h(this,o),(t=i.call(this,e)).blockType=e.blockType||null,t.provider=e.provider||null,t}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(t.ComponentDefinition),y={$id:"https://ditrit.io/schemas",type:"object",properties:{name:{type:"string"},model:{type:"string"},icon:{type:"string"},attributes:{type:"array",items:{$ref:"#/definitions/attribute"}},data:{type:"array",items:{$ref:"#/definitions/data"}},modules:{type:"array",items:{$ref:"#/definitions/module"}},resources:{type:"array",items:{$ref:"#/definitions/resource"}},variables:{type:"array",items:{$ref:"#/definitions/variable"}}},required:["name","attributes","data","modules","resources","variables"],definitions:{defaultObject:{type:"object",properties:{type:{type:"string"},model:{type:"string"},icon:{type:"string"},isContainer:{type:"boolean"},attributes:{type:"array",items:{$ref:"#/definitions/attribute"}}},required:["type","attributes"]},attribute:{type:"object",properties:{name:{type:"string"},type:{type:"string",pattern:"(String|Boolean|Number|Array|Object|Link|Reference)"},required:{type:"boolean"},linkType:{type:"string"},linkRef:{type:"string"},attributes:{type:"array",items:{$ref:"#/definitions/attribute"}},rules:{$ref:"#/definitions/rule"}},required:["name","type"]},rule:{type:"object",properties:{values:{type:"array",items:{type:"string"}},min:{type:"integer"},max:{type:"integer"},regex:{type:"string"}}},data:{$ref:"#/definitions/defaultObject"},module:{$ref:"#/definitions/defaultObject"},resource:{$ref:"#/definitions/defaultObject"},variable:{$ref:"#/definitions/defaultObject"}}},g={aws:JSON.parse('{"name":"aws","isContainer":false,"attributes":[{"name":"region","type":"String","required":true}],"data":[{"type":"aws_ami","model":"DefaultModel","icon":"Aws_EC2_AMI","isContainer":false,"attributes":[]}],"modules":[{"type":"server","model":"DefaultModel","icon":"Aws_Servers","isContainer":false,"attributes":[]}],"resources":[{"type":"aws_security_group","model":"DefaultModel","icon":"AwsSecurityGroup","isContainer":false,"attributes":[{"name":"vpc_id","type":"Link","required":false,"linkType":"default","linkRef":"aws_vpc","attributes":[],"rules":{}}]},{"type":"aws_instance","model":"DefaultModel","icon":"Aws_EC2-Instance","isContainer":false,"attributes":[{"name":"security_groups","type":"Link","required":false,"linkType":"inverse","linkRef":"aws_security_group","attributes":[],"rules":{}},{"name":"vpc_security_group_ids","type":"Link","required":false,"linkType":"inverse","linkRef":"aws_security_group","attributes":[],"rules":{}},{"name":"subnet_id","type":"Link","required":false,"linkType":"default","linkRef":"aws_subnet","attributes":[],"rules":{}}]},{"type":"aws_volume_attachment","model":"DefaultModel","icon":"Aws_Elastic-Block-Store_Volume","isContainer":false,"attributes":[{"name":"device_name","type":"String","required":false},{"name":"volume_id","type":"Link","required":false,"linkType":"Default","linkRef":"aws_ebs_volume","attributes":[],"rules":{}},{"name":"instance_id","type":"Link","required":false,"linkType":"Default","linkRef":"aws_instance","attributes":[],"rules":{}}]},{"type":"aws_ebs_volume","model":"DefaultModel","icon":"Aws_Elastic-Block-Store_Volume","isContainer":false,"attributes":[{"name":"availability_zone","type":"String","required":false,"attributes":[],"rules":{}}]},{"type":"aws_elb","model":"DefaultModel","icon":"Aws_Elastic-Load-Balancing_Network-Load-Balancer","isContainer":false,"attributes":[{"name":"listener","type":"Object","required":true,"attributes":[{"name":"instance_port","type":"String","required":true,"attributes":[],"rules":{}},{"name":"lb_port","type":"Number","required":true,"attributes":[],"rules":{}},{"name":"lb_protocol","type":"String","required":true,"attributes":[],"rules":{}},{"name":"instance_protocol","type":"String","required":true,"attributes":[],"rules":{}}],"rules":{}},{"name":"subnets","type":"Link","required":false,"linkType":"Default","linkRef":"aws_subnet","attributes":[],"rules":{}},{"name":"security_groups","type":"Link","required":false,"linkType":"Default","linkRef":"aws_security_group","attributes":[],"rules":{}},{"name":"instances","type":"Link","required":false,"linkType":"Default","linkRef":"aws_instance","attributes":[],"rules":{}}]},{"type":"aws_vpc","model":"DefaultModel","icon":"Aws_Virtual-Private-Cloud","isContainer":true,"containerRef":[],"attributes":[]},{"type":"aws_internet_gateway","model":"DefaultModel","icon":"Aws_VPC_Internet-Gateway","isContainer":false,"required":false,"attributes":[{"name":"vpc_id","type":"Reference","required":false,"reference":"aws_vpc","attributes":[],"rules":{}}]},{"type":"aws_route","model":"DefaultModel","icon":"Aws_Route-53","isContainer":false,"attributes":[{"name":"route_table_id","type":"Reference","required":true,"linkType":"","reference":"aws_route","attributes":[],"rules":{}},{"name":"gateway_id","type":"Link","required":false,"linkType":"Default","linkRef":"aws_internet_gateway","attributes":[],"rules":{}}]},{"type":"aws_subnet","model":"DefaultModel","icon":"AwsSubnet","isContainer":false,"attributes":[{"name":"vpc_id","type":"Reference","required":false,"reference":"aws_vpc","attributes":[],"rules":{}},{"name":"gateway_id","type":"Link","required":false,"linkType":"Default","linkRef":"aws_internet_gateway","attributes":[],"rules":{}}]},{"type":"aws_db_subnet_group","model":"DefaultModel","icon":"AwsDbSubnetGroup","isContainer":true,"attributes":[{"name":"subnet_ids","type":"Reference","required":true,"reference":"aws_subnet","attributes":[],"rules":{}}]},{"type":"aws_route53_zone","model":"DefaultModel","icon":"Aws_Route-53-Hosted-Zone","isContainer":true,"attributes":[{"name":"name","type":"String","required":true,"linkType":"","linkRef":"","attributes":[],"rules":{}}]},{"type":"aws_route53_record","model":"DefaultModel","icon":"Aws_Route-53_Route-Table","isContainer":false,"attributes":[{"name":"zone_id","type":"Reference","required":true,"reference":"aws_route53_zone","attributes":[],"rules":{}},{"name":"records","type":"Link","required":false,"linkType":"Default","linkRef":"aws_route53_record","attributes":[],"rules":{}}]},{"type":"aws_db_instance","model":"DefaultModel","icon":"","isContainer":false,"attributes":[{"name":"instance_class","type":"String","required":true,"attributes":[],"rules":{}},{"name":"db_subnet_group_name","type":"Link","required":false,"linkType":"Default","linkRef":"aws_db_subnet_group","attributes":[],"rules":{}},{"name":"vpc_security_group_ids","type":"Link","required":true,"linkType":"Default","linkRef":"aws_security_group","attributes":[],"rules":{}}]},{"type":"aws_key_pair","model":"DefaultModel","icon":"Aws_Identity-Access-Management_Long-Term-Security-Credential","isContainer":false,"attributes":[]}],"variables":[{"type":"image_id","model":"DefaultModel","icon":"variable","isContainer":false,"attributes":[]}]}')};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function k(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return O(t)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}const P=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=A(i);if(o){var n=A(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return k(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).providers=g,t.ajv=new(l()),t.schema=y,t.getAttributeDefinition=t.getAttributeDefinition.bind(O(t)),t}return n=s,r=[{key:"validate",value:function(){var t=this,e=[];if(Object.keys(this.providers).forEach((function(n){var r=t.ajv.compile(t.schema);r(t.providers[n])||e.push({provider:n,errors:r.errors})})),e.length>0)throw new Error("Metadata are not valid",{cause:e});return!0}},{key:"getDefinitions",value:function(){var t=this.getComponentDefinitions();return{components:t,links:this.getLinkDefinitions(t)}}},{key:"getLinkDefinitions",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){t.definedAttributes.forEach((function(r){return e.setLinkDefinition(n,t.type,r)}))})),n}},{key:"setLinkDefinition",value:function(e,n,r){var i=this;if(r.definedAttributes.length>0&&r.definedAttributes.forEach((function(t){return i.setLinkDefinition(e,n,t)})),"Link"===r.type){var o=new t.ComponentLinkDefinition({type:r.linkType});"Reverse"===r.linkType?(o.sourceRef=r.linkRef,o.targetRef=n):(o.sourceRef=n,o.targetRef=r.linkRef),o.attributeRef=r.name,e.push(o)}}},{key:"getComponentDefinitions",value:function(){var t=this,e=[];return Object.keys(this.providers).map((function(e){return t.providers[e]})).forEach((function(n){var r=[];r.push(t.getProviderDefinition(n)),n.data.forEach((function(e){return r.push(t.getBlockDefinition("data",n.name,e))})),n.modules.forEach((function(e){return r.push(t.getBlockDefinition("module",n.name,e))})),n.resources.forEach((function(e){return r.push(t.getBlockDefinition("resource",n.name,e))})),n.variables.forEach((function(e){return r.push(t.getBlockDefinition("variable",n.name,e))})),t.setChildrenTypes(r),r.forEach((function(t){e.push(t)}))})),e}},{key:"getProviderDefinition",value:function(t){var e=new m({blockType:"provider",provider:t.name,type:t.name,icon:t.icon,model:t.model,definedAttributes:t.attributes.map(this.getAttributeDefinition),isContainer:t.isContainer});return e.parentTypes=this.getParentTypes(e),e}},{key:"getBlockDefinition",value:function(t,e,n){var r=new m({blockType:t,provider:e,type:n.type,model:n.model,icon:n.icon,isContainer:n.isContainer,definedAttributes:n.attributes.map(this.getAttributeDefinition)});return r.parentTypes=this.getParentTypes(r),r}},{key:"getAttributeDefinition",value:function(e){var n=e.attributes||[];return new t.ComponentAttributeDefinition(w(w({},e),{},{definedAttributes:n.map(this.getAttributeDefinition)}))}},{key:"getParentTypes",value:function(t){var e=[];return t.definedAttributes.filter((function(t){return"Reference"===t.type})).map((function(t){return t.containerRef})).filter((function(t){return!e.includes(t)})).forEach((function(t){return e.push(t)})),e}},{key:"setChildrenTypes",value:function(t){var e=t.filter((function(t){return t.parentTypes.length>0})).reduce((function(t,e){return e.parentTypes.forEach((function(n){var r;t[n]=[].concat(function(t){if(Array.isArray(t))return _(t)}(r=t[n]||[])||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.type])})),t}),{});t.filter((function(t){return e[t.type]})).forEach((function(t){t.childrenTypes=e[t.type]}))}}],r&&T(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.DefaultMetadata);String.prototype.seed=String.prototype.seed||Math.round(Math.random()*Math.pow(2,32)),String.prototype.hashCode=function(){const t=this.toString();let e,n;const r=3&t.length,i=t.length-r;let o=String.prototype.seed;const a=3432918353,s=461845907;let u=0;for(;u<i;)n=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,n=(65535&n)*a+(((n>>>16)*a&65535)<<16)&4294967295,n=n<<15|n>>>17,n=(65535&n)*s+(((n>>>16)*s&65535)<<16)&4294967295,o^=n,o=o<<13|o>>>19,e=5*(65535&o)+((5*(o>>>16)&65535)<<16)&4294967295,o=27492+(65535&e)+((58964+(e>>>16)&65535)<<16);switch(n=0,r){case 3:n^=(255&t.charCodeAt(u+2))<<16;case 2:n^=(255&t.charCodeAt(u+1))<<8;case 1:n^=255&t.charCodeAt(u),n=(65535&n)*a+(((n>>>16)*a&65535)<<16)&4294967295,n=n<<15|n>>>17,n=(65535&n)*s+(((n>>>16)*s&65535)<<16)&4294967295,o^=n}return o^=t.length,o^=o>>>16,o=2246822507*(65535&o)+((2246822507*(o>>>16)&65535)<<16)&4294967295,o^=o>>>13,o=3266489909*(65535&o)+((3266489909*(o>>>16)&65535)<<16)&4294967295,o^=o>>>16,o>>>0},String.prototype.codePointAt||function(){var t=function(){let t;try{const e={},n=Object.defineProperty;t=n(e,e,e)&&n}catch(t){}return t}();const e=function(t){if(null==this)throw TypeError();const e=String(this),n=e.length;let r=t?Number(t):0;if(r!=r&&(r=0),r<0||r>=n)return;const i=e.charCodeAt(r);let o;return i>=55296&&i<=56319&&n>r+1&&(o=e.charCodeAt(r+1),o>=56320&&o<=57343)?1024*(i-55296)+o-56320+65536:i};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}(),String.fromCodePoint||function(){const t=function(){let t;try{const e={},n=Object.defineProperty;t=n(e,e,e)&&n}catch(t){}return t}(),e=String.fromCharCode,n=Math.floor,r=function(t){const r=16384,i=[];let o,a,s=-1;const u=arguments.length;if(!u)return"";let c="";for(;++s<u;){let t=Number(arguments[s]);if(!isFinite(t)||t<0||t>1114111||n(t)!==t)throw RangeError("Invalid code point: "+t);t<=65535?i.push(t):(t-=65536,o=55296+(t>>10),a=t%1024+56320,i.push(o,a)),(s+1===u||i.length>r)&&(c+=e.apply(null,i),i.length=0)}return c};t?t(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}();class C{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t){this._text=t}}function R(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}C.INVALID_TYPE=0,C.EPSILON=-2,C.MIN_USER_TOKEN_TYPE=1,C.EOF=-1,C.DEFAULT_CHANNEL=0,C.HIDDEN_CHANNEL=1;class N{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){const e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{let t=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":t=e;break;case"string":t=e.hashCode();break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}t*=3432918353,t=t<<15|t>>>17,t*=461845907,this.count=this.count+1;let n=this.hash^t;n=n<<13|n>>>19,n=5*n+3864292196,this.hash=n}}}finish(){let t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,t*=3266489909,t^=t>>>16,t}static hashStuff(){const t=new N;return t.update.apply(t,arguments),t.finish()}}function M(t){return t?t.hashCode():-1}function I(t,e){return t?t.equals(e):t===e}function L(t){return null===t?"null":t}function D(t){return Array.isArray(t)?"["+t.map(L).join(", ")+"]":"null"}const F="h-";class j{constructor(t,e){this.data={},this.hashFunction=t||M,this.equalsFunction=e||I}add(t){const e=F+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e];return n.push(t),t}return this.data[e]=[t],t}has(t){return null!=this.get(t)}get(t){const e=F+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e]}return null}values(){return Object.keys(this.data).filter((t=>t.startsWith(F))).flatMap((t=>this.data[t]),this)}toString(){return D(this.values())}get length(){return Object.keys(this.data).filter((t=>t.startsWith(F))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}class U{hashCode(){const t=new N;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(null===t||t===U.NONE)return e;if(null===e||e===U.NONE)return t;const n=new B(t,e);return 1===n.opnds.length?n.opnds[0]:n}static orContext(t,e){if(null===t)return e;if(null===e)return t;if(t===U.NONE||e===U.NONE)return U.NONE;const n=new z(t,e);return 1===n.opnds.length?n.opnds[0]:n}}class B extends U{constructor(t,e){super();const n=new j;t instanceof B?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof B?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=$(n);if(r.length>0){let t=null;r.map((function(e){(null===t||e.precedence<t.precedence)&&(t=e)})),n.add(t)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof B&&R(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const o=this.opnds[i],a=o.evalPrecedence(t,e);if(n|=a!==o,null===a)return null;a!==U.NONE&&r.push(a)}if(!n)return this;if(0===r.length)return U.NONE;let i=null;return r.map((function(t){i=null===i?t:U.andContext(i,t)})),i}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("&&")}}class z extends U{constructor(t,e){super();const n=new j;t instanceof z?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof z?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=$(n);if(r.length>0){const t=r.sort((function(t,e){return t.compareTo(e)})),e=t[t.length-1];n.add(e)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof z&&R(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const o=this.opnds[i],a=o.evalPrecedence(t,e);if(n|=a!==o,a===U.NONE)return U.NONE;null!==a&&r.push(a)}if(!n)return this;if(0===r.length)return null;return r.map((function(t){return t})),null}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("||")}}function $(t){const e=[];return t.values().map((function(t){t instanceof U.PrecedencePredicate&&e.push(t)})),e}function q(t,e){if(null===t){const t={state:null,alt:null,context:null,semanticContext:null};return e&&(t.reachesIntoOuterContext=0),t}{const n={};return n.state=t.state||null,n.alt=void 0===t.alt?null:t.alt,n.context=t.context||null,n.semanticContext=t.semanticContext||null,e&&(n.reachesIntoOuterContext=t.reachesIntoOuterContext||0,n.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),n}}class V{constructor(t,e){this.checkContext(t,e),t=q(t),e=q(e,!0),this.state=null!==t.state?t.state:e.state,this.alt=null!==t.alt?t.alt:e.alt,this.context=null!==t.context?t.context:e.context,this.semanticContext=null!==t.semanticContext?t.semanticContext:null!==e.semanticContext?e.semanticContext:U.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}hashCode(){const t=new N;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t||t instanceof V&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(null===this.context?null===t.context:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed}hashCodeForConfigSet(){const t=new N;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t||t instanceof V&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext)}toString(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==U.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class H{constructor(t,e){this.start=t,this.stop=e}clone(){return new H(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}H.INVALID_INTERVAL=new H(-1,-2);class K{constructor(){this.intervals=null,this.readOnly=!1}first(t){return null===this.intervals||0===this.intervals.length?C.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new H(t,t+1))}addRange(t,e){this.addInterval(new H(t,e+1))}addInterval(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new H(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new H(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}addSet(t){return null!==t.intervals&&t.intervals.forEach((t=>this.addInterval(t)),this),this}reduce(t){if(t<this.intervals.length-1){const e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new H(e.start,n.stop),this.intervals.splice(t+1,1))}}complement(t,e){const n=new K;return n.addInterval(new H(t,e+1)),null!==this.intervals&&this.intervals.forEach((t=>n.removeRange(t))),n}contains(t){if(null===this.intervals)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals){let e=0;for(let n=0;n<this.intervals.length;n++){const n=this.intervals[e];if(t.stop<=n.start)return;if(t.start>n.start&&t.stop<n.stop){this.intervals[e]=new H(n.start,t.start);const r=new H(t.stop,n.stop);return void this.intervals.splice(e,0,r)}t.start<=n.start&&t.stop>=n.stop?(this.intervals.splice(e,1),e-=1):t.start<n.stop?this.intervals[e]=new H(n.start,t.start):t.stop<n.stop&&(this.intervals[e]=new H(t.stop,n.stop)),e+=1}}}removeOne(t){if(null!==this.intervals)for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new H(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new H(n.start,n.stop-1));if(t<n.stop-1){const r=new H(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}toString(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}toCharString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===C.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(n.start)+"'"):t.push("'"+String.fromCharCode(n.start)+"'..'"+String.fromCharCode(n.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}toIndexString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===C.EOF?t.push("<EOF>"):t.push(n.start.toString()):t.push(n.start.toString()+".."+(n.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}toTokenString(t,e){const n=[];for(let r=0;r<this.intervals.length;r++){const i=this.intervals[r];for(let r=i.start;r<i.stop;r++)n.push(this.elementName(t,e,r))}return n.length>1?"{"+n.join(", ")+"}":n[0]}elementName(t,e,n){return n===C.EOF?"<EOF>":n===C.EPSILON?"<EPSILON>":t[n]||e[n]}get length(){return this.intervals.map((t=>t.length)).reduce(((t,e)=>t+e))}}class Y{constructor(){this.atn=null,this.stateNumber=Y.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t){return t instanceof Y&&this.stateNumber===t.stateNumber}isNonGreedyExitState(){return!1}addTransition(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}Y.INVALID_TYPE=0,Y.BASIC=1,Y.RULE_START=2,Y.BLOCK_START=3,Y.PLUS_BLOCK_START=4,Y.STAR_BLOCK_START=5,Y.TOKEN_START=6,Y.RULE_STOP=7,Y.BLOCK_END=8,Y.STAR_LOOP_BACK=9,Y.STAR_LOOP_ENTRY=10,Y.PLUS_LOOP_BACK=11,Y.LOOP_END=12,Y.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],Y.INVALID_STATE_NUMBER=-1;class G extends Y{constructor(){return super(),this.stateType=Y.RULE_STOP,this}}class W{constructor(t){if(null==t)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}}W.EPSILON=1,W.RANGE=2,W.RULE=3,W.PREDICATE=4,W.ATOM=5,W.ACTION=6,W.SET=7,W.NOT_SET=8,W.WILDCARD=9,W.PRECEDENCE=10,W.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],W.serializationTypes={EpsilonTransition:W.EPSILON,RangeTransition:W.RANGE,RuleTransition:W.RULE,PredicateTransition:W.PREDICATE,AtomTransition:W.ATOM,ActionTransition:W.ACTION,SetTransition:W.SET,NotSetTransition:W.NOT_SET,WildcardTransition:W.WILDCARD,PrecedencePredicateTransition:W.PRECEDENCE};class Q extends W{constructor(t,e,n,r){super(t),this.ruleIndex=e,this.precedence=n,this.followState=r,this.serializationType=W.RULE,this.isEpsilon=!0}matches(t,e,n){return!1}}class X extends W{constructor(t,e){super(t),this.serializationType=W.SET,null!=e?this.label=e:(this.label=new K,this.label.addOne(C.INVALID_TYPE))}matches(t,e,n){return this.label.contains(t)}toString(){return this.label.toString()}}class J extends X{constructor(t,e){super(t,e),this.serializationType=W.NOT_SET}matches(t,e,n){return t>=e&&t<=n&&!super.matches(t,e,n)}toString(){return"~"+super.toString()}}class Z extends W{constructor(t){super(t),this.serializationType=W.WILDCARD}matches(t,e,n){return t>=e&&t<=n}toString(){return"."}}class tt extends W{constructor(t){super(t)}}class et extends class extends class{}{}{}class nt extends et{getRuleContext(){throw new Error("missing interface implementation")}}class rt extends et{}class it extends rt{}const ot={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);let r=ot.getNodeText(t,e);r=function(t,e){return t=t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);const i=t.getChildCount();if(0===i)return r;let o="("+r+" ";i>0&&(r=ot.toStringTree(t.getChild(0),e),o=o.concat(r));for(let n=1;n<i;n++)r=ot.toStringTree(t.getChild(n),e),o=o.concat(" "+r);return o=o.concat(")"),o},getNodeText:function(t,e,n){if(e=e||null,null!==(n=n||null)&&(e=n.ruleNames),null!==e){if(t instanceof nt){const n=t.getRuleContext().getAltNumber();return 0!=n?e[t.ruleIndex]+":"+n:e[t.ruleIndex]}if(t instanceof it)return t.toString();if(t instanceof rt&&null!==t.symbol)return t.symbol.text}const r=t.getPayload();return r instanceof C?r.text:t.getPayload().toString()},getChildren:function(t){const e=[];for(let n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){let e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return ot.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return ot.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){const r=[];return ot._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof rt?t.symbol.type===e&&r.push(t):!n&&t instanceof nt&&t.ruleIndex===e&&r.push(t);for(let i=0;i<t.getChildCount();i++)ot._findAllNodes(t.getChild(i),e,n,r)},descendants:function(t){let e=[t];for(let n=0;n<t.getChildCount();n++)e=e.concat(ot.descendants(t.getChild(n)));return e}},at=ot;class st extends nt{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;null!==e;)e=e.parentCtx,t+=1;return t}isEmpty(){return-1===this.invokingState}getSourceInterval(){return H.INVALID_INTERVAL}getRuleContext(){return this}getPayload(){return this}getText(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return at.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let n=this,r="[";for(;null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{const e=n.ruleIndex;r+=e>=0&&e<t.length?t[e]:""+e}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+="]",r}}class ut{constructor(t){this.cachedHashCode=t}isEmpty(){return this===ut.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===ut.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}}ut.EMPTY=null,ut.EMPTY_RETURN_STATE=2147483647,ut.globalNodeCount=1,ut.id=ut.globalNodeCount;class ct extends ut{constructor(t,e){const n=new N;return n.update(t,e),super(n.finish()),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===ut.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t||t instanceof ct&&this.hashCode()===t.hashCode()&&R(this.returnStates,t.returnStates)&&R(this.parents,t.parents)}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==ut.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}}get length(){return this.returnStates.length}}class lt extends ut{constructor(t,e){let n=0;const r=new N;null!==t?r.update(t,e):r.update(1),n=r.finish(),super(n),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t||t instanceof lt&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}toString(){const t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===ut.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}get length(){return 1}static create(t,e){return e===ut.EMPTY_RETURN_STATE&&null===t?ut.EMPTY:new lt(t,e)}}class ft extends lt{constructor(){super(null,ut.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}}ut.EMPTY=new ft;const ht="h-";class dt{constructor(t,e){this.data={},this.hashFunction=t||M,this.equalsFunction=e||I}set(t,e){const n=ht+this.hashFunction(t);if(n in this.data){const r=this.data[n];for(let n=0;n<r.length;n++){const i=r[n];if(this.equalsFunction(t,i.key)){const t=i.value;return i.value=e,t}}return r.push({key:t,value:e}),e}return this.data[n]=[{key:t,value:e}],e}containsKey(t){const e=ht+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return!0}}return!1}get(t){const e=ht+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return r.value}}return null}entries(){return Object.keys(this.data).filter((t=>t.startsWith(ht))).flatMap((t=>this.data[t]),this)}getKeys(){return this.entries().map((t=>t.key))}getValues(){return this.entries().map((t=>t.value))}toString(){return"["+this.entries().map((t=>"{"+t.key+":"+t.value+"}")).join(", ")+"]"}get length(){return Object.keys(this.data).filter((t=>t.startsWith(ht))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}function pt(t,e){if(null==e&&(e=st.EMPTY),null===e.parentCtx||e===st.EMPTY)return ut.EMPTY;const n=pt(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return lt.create(n,r.followState.stateNumber)}function vt(t,e,n){if(t.isEmpty())return t;let r=n.get(t)||null;if(null!==r)return r;if(r=e.get(t),null!==r)return n.set(t,r),r;let i=!1,o=[];for(let r=0;r<o.length;r++){const a=vt(t.getParent(r),e,n);if(i||a!==t.getParent(r)){if(!i){o=[];for(let e=0;e<t.length;e++)o[e]=t.getParent(e);i=!0}o[r]=a}}if(!i)return e.add(t),n.set(t,t),t;let a=null;return a=0===o.length?ut.EMPTY:1===o.length?lt.create(o[0],t.getReturnState(0)):new ct(o,t.returnStates),e.add(a),n.set(a,a),n.set(t,a),a}function mt(t,e,n,r){if(t===e)return t;if(t instanceof lt&&e instanceof lt)return function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}const i=function(t,e,n){if(n){if(t===ut.EMPTY)return ut.EMPTY;if(e===ut.EMPTY)return ut.EMPTY}else{if(t===ut.EMPTY&&e===ut.EMPTY)return ut.EMPTY;if(t===ut.EMPTY){const t=[e.returnState,ut.EMPTY_RETURN_STATE],n=[e.parentCtx,null];return new ct(n,t)}if(e===ut.EMPTY){const e=[t.returnState,ut.EMPTY_RETURN_STATE],n=[t.parentCtx,null];return new ct(n,e)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){const i=mt(t.parentCtx,e.parentCtx,n,r);if(i===t.parentCtx)return t;if(i===e.parentCtx)return e;const o=lt.create(i,t.returnState);return null!==r&&r.set(t,e,o),o}{let n=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(n=t.parentCtx),null!==n){const i=[t.returnState,e.returnState];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState);const o=new ct([n,n],i);return null!==r&&r.set(t,e,o),o}const i=[t.returnState,e.returnState];let o=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState,o=[e.parentCtx,t.parentCtx]);const a=new ct(o,i);return null!==r&&r.set(t,e,a),a}}(t,e,n,r);if(n){if(t instanceof ft)return t;if(e instanceof ft)return e}return t instanceof lt&&(t=new ct([t.getParent()],[t.returnState])),e instanceof lt&&(e=new ct([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}let i=0,o=0,a=0,s=[],u=[];for(;i<t.returnStates.length&&o<e.returnStates.length;){const c=t.parents[i],l=e.parents[o];if(t.returnStates[i]===e.returnStates[o]){const e=t.returnStates[i],f=null!==c&&null!==l&&c===l;e===ut.EMPTY_RETURN_STATE&&null===c&&null===l||f?(u[a]=c,s[a]=e):(u[a]=mt(c,l,n,r),s[a]=e),i+=1,o+=1}else t.returnStates[i]<e.returnStates[o]?(u[a]=c,s[a]=t.returnStates[i],i+=1):(u[a]=l,s[a]=e.returnStates[o],o+=1);a+=1}if(i<t.returnStates.length)for(let e=i;e<t.returnStates.length;e++)u[a]=t.parents[e],s[a]=t.returnStates[e],a+=1;else for(let t=o;t<e.returnStates.length;t++)u[a]=e.parents[t],s[a]=e.returnStates[t],a+=1;if(a<u.length){if(1===a){const n=lt.create(u[0],s[0]);return null!==r&&r.set(t,e,n),n}u=u.slice(0,a),s=s.slice(0,a)}const c=new ct(u,s);return c===t?(null!==r&&r.set(t,e,t),t):c===e?(null!==r&&r.set(t,e,e),e):(function(t){const e=new dt;for(let n=0;n<t.length;n++){const r=t[n];e.containsKey(r)||e.set(r,r)}for(let n=0;n<t.length;n++)t[n]=e.get(t[n])}(u),null!==r&&r.set(t,e,c),c)}(t,e,n,r)}class yt{constructor(){this.data=[]}add(t){this.data[t]=!0}or(t){Object.keys(t.data).map((t=>this.add(t)),this)}remove(t){delete this.data[t]}has(t){return!0===this.data[t]}values(){return Object.keys(this.data)}minValue(){return Math.min.apply(null,this.values())}hashCode(){return N.hashStuff(this.values())}equals(t){return t instanceof yt&&R(this.data,t.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.values().length}}class gt{constructor(t){this.atn=t}getDecisionLookahead(t){if(null===t)return null;const e=t.transitions.length,n=[];for(let r=0;r<e;r++){n[r]=new K;const e=new j,i=!1;this._LOOK(t.transition(r).target,null,ut.EMPTY,n[r],e,new yt,i,!1),(0===n[r].length||n[r].contains(gt.HIT_PRED))&&(n[r]=null)}return n}LOOK(t,e,n){const r=new K,i=null!==(n=n||null)?pt(t.atn,n):null;return this._LOOK(t,e,i,r,new j,new yt,!0,!0),r}_LOOK(t,e,n,r,i,o,a,s){const u=new V({state:t,alt:0,context:n},null);if(!i.has(u)){if(i.add(u),t===e){if(null===n)return void r.addOne(C.EPSILON);if(n.isEmpty()&&s)return void r.addOne(C.EOF)}if(t instanceof G){if(null===n)return void r.addOne(C.EPSILON);if(n.isEmpty()&&s)return void r.addOne(C.EOF);if(n!==ut.EMPTY){const u=o.has(t.ruleIndex);try{o.remove(t.ruleIndex);for(let t=0;t<n.length;t++){const u=this.atn.states[n.getReturnState(t)];this._LOOK(u,e,n.getParent(t),r,i,o,a,s)}}finally{u&&o.add(t.ruleIndex)}return}}for(let u=0;u<t.transitions.length;u++){const c=t.transitions[u];if(c.constructor===Q){if(o.has(c.target.ruleIndex))continue;const t=lt.create(n,c.followState.stateNumber);try{o.add(c.target.ruleIndex),this._LOOK(c.target,e,t,r,i,o,a,s)}finally{o.remove(c.target.ruleIndex)}}else if(c instanceof tt)a?this._LOOK(c.target,e,n,r,i,o,a,s):r.addOne(gt.HIT_PRED);else if(c.isEpsilon)this._LOOK(c.target,e,n,r,i,o,a,s);else if(c.constructor===Z)r.addRange(C.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let t=c.label;null!==t&&(c instanceof J&&(t=t.complement(C.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),r.addSet(t))}}}}}gt.HIT_PRED=C.INVALID_TYPE;class bt{constructor(t,e){this.grammarType=t,this.maxTokenType=e,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t,e){return new gt(this).LOOK(t,null,e)}nextTokensNoContext(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}nextTokens(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}addState(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}removeState(t){this.states[t.stateNumber]=null}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}getDecisionState(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}getExpectedTokens(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";const n=this.states[t];let r=this.nextTokens(n);if(!r.contains(C.EPSILON))return r;const i=new K;for(i.addSet(r),i.removeOne(C.EPSILON);null!==e&&e.invokingState>=0&&r.contains(C.EPSILON);){const t=this.states[e.invokingState].transitions[0];r=this.nextTokens(t.followState),i.addSet(r),i.removeOne(C.EPSILON),e=e.parentCtx}return r.contains(C.EPSILON)&&i.addOne(C.EOF),i}}bt.INVALID_ALT_NUMBER=0;class _t extends Y{constructor(){super(),this.stateType=Y.BASIC}}class xt extends Y{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class wt extends xt{constructor(){return super(),this.endState=null,this}}class Et extends Y{constructor(){return super(),this.stateType=Y.BLOCK_END,this.startState=null,this}}class Tt extends Y{constructor(){return super(),this.stateType=Y.LOOP_END,this.loopBackState=null,this}}class St extends Y{constructor(){return super(),this.stateType=Y.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class kt extends xt{constructor(){return super(),this.stateType=Y.TOKEN_START,this}}class Ot extends xt{constructor(){return super(),this.stateType=Y.PLUS_LOOP_BACK,this}}class At extends Y{constructor(){return super(),this.stateType=Y.STAR_LOOP_BACK,this}}class Pt extends xt{constructor(){return super(),this.stateType=Y.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class Ct extends wt{constructor(){return super(),this.stateType=Y.PLUS_BLOCK_START,this.loopBackState=null,this}}class Rt extends wt{constructor(){return super(),this.stateType=Y.STAR_BLOCK_START,this}}class Nt extends wt{constructor(){return super(),this.stateType=Y.BLOCK_START,this}}class Mt extends W{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=W.ATOM}makeLabel(){const t=new K;return t.addOne(this.label_),t}matches(t,e,n){return this.label_===t}toString(){return this.label_}}class It extends W{constructor(t,e,n){super(t),this.serializationType=W.RANGE,this.start=e,this.stop=n,this.label=this.makeLabel()}makeLabel(){const t=new K;return t.addRange(this.start,this.stop),t}matches(t,e,n){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class Lt extends W{constructor(t,e,n,r){super(t),this.serializationType=W.ACTION,this.ruleIndex=e,this.actionIndex=void 0===n?-1:n,this.isCtxDependent=void 0!==r&&r,this.isEpsilon=!0}matches(t,e,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class Dt extends W{constructor(t,e){super(t),this.serializationType=W.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,n){return!1}toString(){return"epsilon"}}class Ft extends U{constructor(t,e,n){super(),this.ruleIndex=void 0===t?-1:t,this.predIndex=void 0===e?-1:e,this.isCtxDependent=void 0!==n&&n}evaluate(t,e){const n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t||t instanceof Ft&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}U.NONE=new Ft;class jt extends tt{constructor(t,e,n,r){super(t),this.serializationType=W.PREDICATE,this.ruleIndex=e,this.predIndex=n,this.isCtxDependent=r,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new Ft(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class Ut extends U{constructor(t){super(),this.precedence=void 0===t?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?U.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t||t instanceof Ut&&this.precedence===t.precedence}toString(){return"{"+this.precedence+">=prec}?"}}U.PrecedencePredicate=Ut;class Bt extends tt{constructor(t,e){super(t),this.serializationType=W.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new Ut(this.precedence)}toString(){return this.precedence+" >= _p"}}class zt{constructor(t){void 0===t&&(t=null),this.readOnly=!1,this.verifyATN=null===t||t.verifyATN,this.generateRuleBypassTransitions=null!==t&&t.generateRuleBypassTransitions}}zt.defaultOptions=new zt,zt.defaultOptions.readOnly=!0;class $t{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){const t=new N;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}}class qt extends $t{constructor(){super(6)}execute(t){t.skip()}toString(){return"skip"}}qt.INSTANCE=new qt;class Vt extends $t{constructor(t){super(0),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t||t instanceof Vt&&this.channel===t.channel}toString(){return"channel("+this.channel+")"}}class Ht extends $t{constructor(t,e){super(1),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t||t instanceof Ht&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}class Kt extends $t{constructor(){super(3)}execute(t){t.more()}toString(){return"more"}}Kt.INSTANCE=new Kt;class Yt extends $t{constructor(t){super(7),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t||t instanceof Yt&&this.type===t.type}toString(){return"type("+this.type+")"}}class Gt extends $t{constructor(t){super(5),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof Gt&&this.mode===t.mode}toString(){return"pushMode("+this.mode+")"}}class Wt extends $t{constructor(){super(4)}execute(t){t.popMode()}toString(){return"popMode"}}Wt.INSTANCE=new Wt;class Qt extends $t{constructor(t){super(2),this.mode=t}execute(t){t.mode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof Qt&&this.mode===t.mode}toString(){return"mode("+this.mode+")"}}function Xt(t,e){const n=[];return n[t-1]=e,n.map((function(t){return e}))}class Jt{constructor(t){null==t&&(t=zt.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}deserialize(t){const e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();const n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);const r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}reset(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){const e=function(t){const e=t.charCodeAt(0);return e>1?e-2:e+65534},n=t.split("").map(e);return n[0]=t.charCodeAt(0),this.data=n,this.pos=0,!0}return this.data=t,this.pos=0,!1}skipUUID(){let t=0;for(;t++<8;)this.readInt()}checkVersion(t){const e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}readATN(){const t=this.readInt(),e=this.readInt();return new bt(t,e)}readStates(t,e){let n,r,i;const o=[],a=[],s=this.readInt();for(let n=0;n<s;n++){const n=this.readInt();if(n===Y.INVALID_TYPE){t.addState(null);continue}let r=this.readInt();e&&65535===r&&(r=-1);const i=this.stateFactory(n,r);if(n===Y.LOOP_END){const t=this.readInt();o.push([i,t])}else if(i instanceof wt){const t=this.readInt();a.push([i,t])}t.addState(i)}for(n=0;n<o.length;n++)r=o[n],r[0].loopBackState=t.states[r[1]];for(n=0;n<a.length;n++)r=a[n],r[0].endState=t.states[r[1]];let u=this.readInt();for(n=0;n<u;n++)i=this.readInt(),t.states[i].nonGreedy=!0;let c=this.readInt();for(n=0;n<c;n++)i=this.readInt(),t.states[i].isPrecedenceRule=!0}readRules(t,e){let n;const r=this.readInt();for(0===t.grammarType&&(t.ruleToTokenType=Xt(r,0)),t.ruleToStartState=Xt(r,0),n=0;n<r;n++){const r=this.readInt();if(t.ruleToStartState[n]=t.states[r],0===t.grammarType){let r=this.readInt();e&&65535===r&&(r=C.EOF),t.ruleToTokenType[n]=r}}for(t.ruleToStopState=Xt(r,0),n=0;n<t.states.length;n++){const e=t.states[n];e instanceof G&&(t.ruleToStopState[e.ruleIndex]=e,t.ruleToStartState[e.ruleIndex].stopState=e)}}readModes(t){const e=this.readInt();for(let n=0;n<e;n++){let e=this.readInt();t.modeToStartState.push(t.states[e])}}readSets(t,e,n){const r=this.readInt();for(let t=0;t<r;t++){const t=new K;e.push(t);const r=this.readInt();0!==this.readInt()&&t.addOne(-1);for(let e=0;e<r;e++){const e=n(),r=n();t.addRange(e,r)}}}readEdges(t,e){let n,r,i,o,a;const s=this.readInt();for(n=0;n<s;n++){const n=this.readInt(),r=this.readInt(),i=this.readInt(),a=this.readInt(),s=this.readInt(),u=this.readInt();o=this.edgeFactory(t,i,n,r,a,s,u,e),t.states[n].addTransition(o)}for(n=0;n<t.states.length;n++)for(i=t.states[n],r=0;r<i.transitions.length;r++){const e=i.transitions[r];if(!(e instanceof Q))continue;let n=-1;t.ruleToStartState[e.target.ruleIndex].isPrecedenceRule&&0===e.precedence&&(n=e.target.ruleIndex),o=new Dt(e.followState,n),t.ruleToStopState[e.target.ruleIndex].addTransition(o)}for(n=0;n<t.states.length;n++){if(i=t.states[n],i instanceof wt){if(null===i.endState)throw"IllegalState";if(null!==i.endState.startState)throw"IllegalState";i.endState.startState=i}if(i instanceof Ot)for(r=0;r<i.transitions.length;r++)a=i.transitions[r].target,a instanceof Ct&&(a.loopBackState=i);else if(i instanceof At)for(r=0;r<i.transitions.length;r++)a=i.transitions[r].target,a instanceof Pt&&(a.loopBackState=i)}}readDecisions(t){const e=this.readInt();for(let n=0;n<e;n++){const e=this.readInt(),r=t.states[e];t.decisionToState.push(r),r.decision=n}}readLexerActions(t,e){if(0===t.grammarType){const n=this.readInt();t.lexerActions=Xt(n,null);for(let r=0;r<n;r++){const n=this.readInt();let i=this.readInt();e&&65535===i&&(i=-1);let o=this.readInt();e&&65535===o&&(o=-1),t.lexerActions[r]=this.lexerActionFactory(n,i,o)}}}generateRuleBypassTransitions(t){let e;const n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let n,r;const i=new Nt;i.ruleIndex=e,t.addState(i);const o=new Et;o.ruleIndex=e,t.addState(o),i.endState=o,t.defineDecisionState(i),o.startState=i;let a=null,s=null;if(t.ruleToStartState[e].isPrecedenceRule){for(s=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){s=r,a=r.loopBackState.transitions[0];break}if(null===a)throw"Couldn't identify final state of the precedence rule prefix section."}else s=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(let t=0;t<r.transitions.length;t++){const e=r.transitions[t];e!==a&&e.target===s&&(e.target=o)}}const u=t.ruleToStartState[e],c=u.transitions.length;for(;c>0;)i.addTransition(u.transitions[c-1]),u.transitions=u.transitions.slice(-1);t.ruleToStartState[e].addTransition(new Dt(i)),o.addTransition(new Dt(s));const l=new _t;t.addState(l),l.addTransition(new Mt(o,t.ruleToTokenType[e])),i.addTransition(new Dt(l))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof Pt))return null;const n=t.transitions[t.transitions.length-1].target;return n instanceof Tt&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof G?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){const n=t.states[e];if(n instanceof Pt&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){const t=n.transitions[n.transitions.length-1].target;t instanceof Tt&&t.epsilonOnlyTransitions&&t.transitions[0].target instanceof G&&(n.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){const n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof Ct)this.checkCondition(null!==n.loopBackState);else if(n instanceof Pt)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof Rt)this.checkCondition(n.transitions[1].target instanceof Tt),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof Tt))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof Rt),this.checkCondition(n.nonGreedy)}else n instanceof At?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof Pt)):n instanceof Tt?this.checkCondition(null!==n.loopBackState):n instanceof St?this.checkCondition(null!==n.stopState):n instanceof wt?this.checkCondition(null!==n.endState):n instanceof Et?this.checkCondition(null!==n.startState):n instanceof xt?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof G)}}checkCondition(t,e){if(!t)throw null==e&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(t,e,n,r,i,o,a,s){const u=t.states[r];switch(e){case W.EPSILON:return new Dt(u);case W.RANGE:return new It(u,0!==a?C.EOF:i,o);case W.RULE:return new Q(t.states[i],o,a,u);case W.PREDICATE:return new jt(u,i,o,0!==a);case W.PRECEDENCE:return new Bt(u,i);case W.ATOM:return new Mt(u,0!==a?C.EOF:i);case W.ACTION:return new Lt(u,i,o,0!==a);case W.SET:return new X(u,s[i]);case W.NOT_SET:return new J(u,s[i]);case W.WILDCARD:return new Z(u);default:throw"The specified transition type: "+e+" is not valid."}}stateFactory(t,e){if(null===this.stateFactories){const t=[];t[Y.INVALID_TYPE]=null,t[Y.BASIC]=()=>new _t,t[Y.RULE_START]=()=>new St,t[Y.BLOCK_START]=()=>new Nt,t[Y.PLUS_BLOCK_START]=()=>new Ct,t[Y.STAR_BLOCK_START]=()=>new Rt,t[Y.TOKEN_START]=()=>new kt,t[Y.RULE_STOP]=()=>new G,t[Y.BLOCK_END]=()=>new Et,t[Y.STAR_LOOP_BACK]=()=>new At,t[Y.STAR_LOOP_ENTRY]=()=>new Pt,t[Y.PLUS_LOOP_BACK]=()=>new Ot,t[Y.LOOP_END]=()=>new Tt,this.stateFactories=t}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";{const n=this.stateFactories[t]();if(null!==n)return n.ruleIndex=e,n}}lexerActionFactory(t,e,n){if(null===this.actionFactories){const t=[];t[0]=(t,e)=>new Vt(t),t[1]=(t,e)=>new Ht(t,e),t[2]=(t,e)=>new Qt(t),t[3]=(t,e)=>Kt.INSTANCE,t[4]=(t,e)=>Wt.INSTANCE,t[5]=(t,e)=>new Gt(t),t[6]=(t,e)=>qt.INSTANCE,t[7]=(t,e)=>new Yt(t),this.actionFactories=t}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}class Zt{syntaxError(t,e,n,r,i,o){}reportAmbiguity(t,e,n,r,i,o,a){}reportAttemptingFullContext(t,e,n,r,i,o){}reportContextSensitivity(t,e,n,r,i,o){}}class te extends Zt{constructor(){super()}syntaxError(t,e,n,r,i,o){console.error("line "+n+":"+r+" "+i)}}te.INSTANCE=new te;class ee extends Zt{constructor(t){if(super(),null===t)throw"delegates";return this.delegates=t,this}syntaxError(t,e,n,r,i,o){this.delegates.map((a=>a.syntaxError(t,e,n,r,i,o)))}reportAmbiguity(t,e,n,r,i,o,a){this.delegates.map((s=>s.reportAmbiguity(t,e,n,r,i,o,a)))}reportAttemptingFullContext(t,e,n,r,i,o){this.delegates.map((a=>a.reportAttemptingFullContext(t,e,n,r,i,o)))}reportContextSensitivity(t,e,n,r,i,o){this.delegates.map((a=>a.reportContextSensitivity(t,e,n,r,i,o)))}}class ne{constructor(){this._listeners=[te.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t){"4.11.0"!==t&&console.log("ANTLR runtime and generated code versions disagree: 4.11.0!="+t)}addErrorListener(t){this._listeners.push(t)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(let r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";let e=this.tokenTypeMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),e.EOF=C.EOF,this.tokenTypeMapCache[t]=e),e}getRuleIndexMap(){const t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";let e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}getTokenType(t){const e=this.getTokenTypeMap()[t];return void 0!==e?e:C.INVALID_TYPE}getErrorHeader(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===C.EOF?"<EOF>":"<"+t.type+">"),e=e.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"),"'"+e+"'"}getErrorListenerDispatch(){return new ee(this._listeners)}sempred(t,e,n){return!0}precpred(t,e){return!0}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}ne.tokenTypeMapCache={},ne.ruleIndexMapCache={};class re extends C{constructor(t,e,n,r,i){super(),this.source=void 0!==t?t:re.EMPTY_SOURCE,this.type=void 0!==e?e:null,this.channel=void 0!==n?n:C.DEFAULT_CHANNEL,this.start=void 0!==r?r:-1,this.stop=void 0!==i?i:-1,this.tokenIndex=-1,null!==this.source[0]?(this.line=t[0].line,this.column=t[0].column):this.column=-1}clone(){const t=new re(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}toString(){let t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(null!==this._text)return this._text;const t=this.getInputStream();if(null===t)return null;const e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"}set text(t){this._text=t}}re.EMPTY_SOURCE=[null,null];class ie extends class{}{constructor(t){super(),this.copyText=void 0!==t&&t}create(t,e,n,r,i,o,a,s){const u=new re(t,e,r,i,o);return u.line=a,u.column=s,null!==n?u.text=n:this.copyText&&null!==t[1]&&(u.text=t[1].getText(i,o)),u}createThin(t,e){const n=new re(null,t);return n.text=e,n}}ie.DEFAULT=new ie;class oe extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,oe),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,null!==this.recognizer&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class ae extends oe{constructor(t,e,n,r){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=n,this.deadEndConfigs=r}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new H(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}class se extends ne{constructor(t){super(),this._input=t,this._factory=ie.DEFAULT,this._tokenFactorySourcePair=[this,t],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=C.DEFAULT_CHANNEL,this._type=C.INVALID_TYPE,this._modeStack=[],this._mode=se.DEFAULT_MODE,this._text=null}reset(){null!==this._input&&this._input.seek(0),this._token=null,this._type=C.INVALID_TYPE,this._channel=C.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=se.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(null===this._input)throw"nextToken requires a non-null input stream.";const t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=C.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let t=!1;for(;;){this._type=C.INVALID_TYPE;let e=se.SKIP;try{e=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof oe))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===C.EOF&&(this._hitEOF=!0),this._type===C.INVALID_TYPE&&(this._type=e),this._type===se.SKIP){t=!0;break}if(this._type!==se.MORE)break}if(!t)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}skip(){this._type=se.SKIP}more(){this._type=se.MORE}mode(t){this._mode=t}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}popMode(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const t=this.column,e=this.line,n=this._factory.create(this._tokenFactorySourcePair,C.EOF,null,C.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(n),n}getCharIndex(){return this._input.index}getAllTokens(){const t=[];let e=this.nextToken();for(;e.type!==C.EOF;)t.push(e),e=this.nextToken();return t}notifyListeners(t){const e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),i="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i,t)}getErrorDisplay(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e.join("")}getErrorDisplayForChar(t){return t.charCodeAt(0)===C.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(t){this._input.LA(1)!==C.EOF&&(t instanceof ae?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return null!==this._text?this._text:this._interp.getText(this._input)}set text(t){this._text=t}}function ue(t){return t.hashCodeForConfigSet()}function ce(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}se.DEFAULT_MODE=0,se.MORE=-2,se.SKIP=-3,se.DEFAULT_TOKEN_CHANNEL=C.DEFAULT_CHANNEL,se.HIDDEN=C.HIDDEN_CHANNEL,se.MIN_CHAR_VALUE=0,se.MAX_CHAR_VALUE=1114111;class le{constructor(t){this.configLookup=new j(ue,ce),this.fullCtx=void 0===t||t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==U.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.add(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;const r=!this.fullCtx,i=mt(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=i,!0}getStates(){const t=new j;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){const t=[];for(let e=0;e<this.configs.length;e++){const n=this.configs[e].semanticContext;n!==U.NONE&&t.push(n.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];n.context=t.getCachedContext(n.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof le&&R(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){const t=new N;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return 0===this.configs.length}contains(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new j}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return D(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==bt.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class fe{constructor(t,e){return null===t&&(t=-1),null===e&&(e=new le),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t=new j;if(null!==this.configs)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}equals(t){return this===t||t instanceof fe&&this.configs.equals(t.configs)}toString(){let t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}hashCode(){const t=new N;return t.update(this.configs),t.finish()}}class he{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(null===this.sharedContextCache)return t;const e=new dt;return vt(t,this.sharedContextCache,e)}}he.ERROR=new fe(2147483647,new le);class de extends le{constructor(){super(),this.configLookup=new j}}class pe extends V{constructor(t,e){super(t,e);const n=t.lexerActionExecutor||null;return this.lexerActionExecutor=n||(null!==e?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=null!==e&&this.checkNonGreedyDecision(e,this.state),this.hashCodeForConfigSet=pe.prototype.hashCode,this.equalsForConfigSet=pe.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof pe&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof xt&&e.nonGreedy}}class ve extends $t{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t||t instanceof ve&&this.offset===t.offset&&this.action===t.action}}class me{constructor(t){return this.lexerActions=null===t?[]:t,this.cachedHashCode=N.hashStuff(t),this}fixOffsetBeforeMatch(t){let e=null;for(let n=0;n<this.lexerActions.length;n++)!this.lexerActions[n].isPositionDependent||this.lexerActions[n]instanceof ve||(null===e&&(e=this.lexerActions.concat([])),e[n]=new ve(t,this.lexerActions[n]));return null===e?this:new me(e)}execute(t,e,n){let r=!1;const i=e.index;try{for(let o=0;o<this.lexerActions.length;o++){let a=this.lexerActions[o];if(a instanceof ve){const t=a.offset;e.seek(n+t),a=a.action,r=n+t!==i}else a.isPositionDependent&&(e.seek(i),r=!1);a.execute(t)}}finally{r&&e.seek(i)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof me){if(this.cachedHashCode!=t.cachedHashCode)return!1;if(this.lexerActions.length!=t.lexerActions.length)return!1;{const e=this.lexerActions.length;for(let n=0;n<e;++n)if(!this.lexerActions[n].equals(t.lexerActions[n]))return!1;return!0}}return!1}static append(t,e){if(null===t)return new me([e]);const n=t.lexerActions.concat([e]);return new me(n)}}function ye(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}class ge{constructor(){ye(this)}reset(){ye(this)}}class be extends he{constructor(t,e,n,r){super(e,r),this.decisionToDFA=n,this.recog=t,this.startIndex=-1,this.line=1,this.column=0,this.mode=se.DEFAULT_MODE,this.prevAccept=new ge}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;const n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const r=this.decisionToDFA[e];return null===r.s0?this.matchATN(t):this.execATN(t,r.s0)}finally{t.release(n)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=se.DEFAULT_MODE}matchATN(t){const e=this.atn.modeToStartState[this.mode];be.debug&&console.log("matchATN mode "+this.mode+" start: "+e);const n=this.mode,r=this.computeStartState(t,e),i=r.hasSemanticContext;r.hasSemanticContext=!1;const o=this.addDFAState(r);i||(this.decisionToDFA[this.mode].s0=o);const a=this.execATN(t,o);return be.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),a}execATN(t,e){be.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);let n=t.LA(1),r=e;for(;;){be.debug&&console.log("execATN loop starting closure: "+r.configs);let e=this.getExistingTargetState(r,n);if(null===e&&(e=this.computeTargetState(t,r,n)),e===he.ERROR)break;if(n!==C.EOF&&this.consume(t),e.isAcceptState&&(this.captureSimState(this.prevAccept,t,e),n===C.EOF))break;n=t.LA(1),r=e}return this.failOrAccept(this.prevAccept,t,r.configs,n)}getExistingTargetState(t,e){if(null===t.edges||e<be.MIN_DFA_EDGE||e>be.MAX_DFA_EDGE)return null;let n=t.edges[e-be.MIN_DFA_EDGE];return void 0===n&&(n=null),be.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,n){const r=new de;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,he.ERROR),he.ERROR):this.addDFAEdge(e,n,null,r)}failOrAccept(t,e,n,r){if(null!==this.prevAccept.dfaState){const n=t.dfaState.lexerActionExecutor;return this.accept(e,n,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(r===C.EOF&&e.index===this.startIndex)return C.EOF;throw new ae(this.recog,e,this.startIndex,n)}getReachableConfigSet(t,e,n,r){let i=bt.INVALID_ALT_NUMBER;for(let o=0;o<e.items.length;o++){const a=e.items[o],s=a.alt===i;if(!s||!a.passedThroughNonGreedyDecision){be.debug&&console.log("testing %s at %s\n",this.getTokenName(r),a.toString(this.recog,!0));for(let e=0;e<a.state.transitions.length;e++){const o=a.state.transitions[e],u=this.getReachableTarget(o,r);if(null!==u){let e=a.lexerActionExecutor;null!==e&&(e=e.fixOffsetBeforeMatch(t.index-this.startIndex));const o=r===C.EOF,c=new pe({state:u,lexerActionExecutor:e},a);this.closure(t,c,n,s,!0,o)&&(i=a.alt)}}}}}accept(t,e,n,r,i,o){be.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=i,this.column=o,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}getReachableTarget(t,e){return t.matches(e,0,se.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,e){const n=ut.EMPTY,r=new de;for(let i=0;i<e.transitions.length;i++){const o=e.transitions[i].target,a=new pe({state:o,alt:i+1,context:n},null);this.closure(t,a,r,!1,!1,!1)}return r}closure(t,e,n,r,i,o){let a=null;if(be.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof G){if(be.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new pe({state:e.state,context:ut.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(let s=0;s<e.context.length;s++)if(e.context.getReturnState(s)!==ut.EMPTY_RETURN_STATE){const u=e.context.getParent(s),c=this.atn.states[e.context.getReturnState(s)];a=new pe({state:c,context:u},e),r=this.closure(t,a,n,r,i,o)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(let s=0;s<e.state.transitions.length;s++){const u=e.state.transitions[s];a=this.getEpsilonTarget(t,e,u,n,i,o),null!==a&&(r=this.closure(t,a,n,r,i,o))}return r}getEpsilonTarget(t,e,n,r,i,o){let a=null;if(n.serializationType===W.RULE){const t=lt.create(e.context,n.followState.stateNumber);a=new pe({state:n.target,context:t},e)}else{if(n.serializationType===W.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(n.serializationType===W.PREDICATE)be.debug&&console.log("EVAL rule "+n.ruleIndex+":"+n.predIndex),r.hasSemanticContext=!0,this.evaluatePredicate(t,n.ruleIndex,n.predIndex,i)&&(a=new pe({state:n.target},e));else if(n.serializationType===W.ACTION)if(null===e.context||e.context.hasEmptyPath()){const t=me.append(e.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);a=new pe({state:n.target,lexerActionExecutor:t},e)}else a=new pe({state:n.target},e);else n.serializationType===W.EPSILON?a=new pe({state:n.target},e):n.serializationType!==W.ATOM&&n.serializationType!==W.RANGE&&n.serializationType!==W.SET||o&&n.matches(C.EOF,0,se.MAX_CHAR_VALUE)&&(a=new pe({state:n.target},e))}return a}evaluatePredicate(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);const i=this.column,o=this.line,a=t.index,s=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=i,this.line=o,t.seek(a),t.release(s)}}captureSimState(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}addDFAEdge(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){const t=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),t)return n}return e<be.MIN_DFA_EDGE||e>be.MAX_DFA_EDGE||(be.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-be.MIN_DFA_EDGE]=n),n}addDFAState(t){const e=new fe(null,t);let n=null;for(let e=0;e<t.items.length;e++){const r=t.items[e];if(r.state instanceof G){n=r;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);const r=this.decisionToDFA[this.mode],i=r.states.get(e);if(null!==i)return i;const o=e;return o.stateNumber=r.states.length,t.setReadonly(!0),o.configs=t,r.states.add(o),o}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}be.debug=!1,be.dfa_debug=!1,be.MIN_DFA_EDGE=0,be.MAX_DFA_EDGE=127;class _e{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}}class xe{constructor(){this.data={}}get(t){return this.data["k-"+t]||null}set(t,e){this.data["k-"+t]=e}values(){return Object.keys(this.data).filter((t=>t.startsWith("k-"))).map((t=>this.data[t]),this)}}const we={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(we.allConfigsInRuleStopStates(e))return!0;if(t===we.SLL&&e.hasSemanticContext){const t=new le;for(let n=0;n<e.items.length;n++){let r=e.items[n];r=new V({semanticContext:U.NONE},r),t.add(r)}e=t}const n=we.getConflictingAltSubsets(e);return we.hasConflictingAltSet(n)&&!we.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(let e=0;e<t.items.length;e++)if(t.items[e].state instanceof G)return!0;return!1},allConfigsInRuleStopStates:function(t){for(let e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof G))return!1;return!0},resolvesToJustOneViableAlt:function(t){return we.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!we.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){const e=we.getAlts(t);return 1===e.length?e.minValue():bt.INVALID_ALT_NUMBER},getAlts:function(t){const e=new yt;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){const e=new dt;return e.hashFunction=function(t){N.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){let n=e.get(t);null===n&&(n=new yt,e.set(t,n)),n.add(t.alt)})),e.getValues()},getStateToAltMap:function(t){const e=new xe;return t.items.map((function(t){let n=e.get(t.state);null===n&&(n=new yt,e.set(t.state,n)),n.add(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){const e=we.getStateToAltMap(t).values();for(let t=0;t<e.length;t++)if(1===e[t].length)return!0;return!1},getSingleViableAlt:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n].minValue();if(null===e)e=r;else if(e!==r)return bt.INVALID_ALT_NUMBER}return e}},Ee=we;class Te extends oe{constructor(t,e,n,r,i,o){o=o||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:o}),this.deadEndConfigs=i,this.startToken=n,this.offendingToken=r}}class Se{constructor(t){this.defaultMapCtor=t||dt,this.cacheMap=new this.defaultMapCtor}get(t,e){const n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}set(t,e,n){let r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}const ke={ATN:bt,ATNDeserializer:Jt,LexerATNSimulator:be,ParserATNSimulator:class extends he{constructor(t,e,n,r){super(e,r),this.parser=t,this.decisionToDFA=n,this.predictionMode=Ee.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.debug_list_atn_decisions=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,n){(this.debug||this.debug_list_atn_decisions)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;const r=this.decisionToDFA[e];this._dfa=r;const i=t.mark(),o=t.index;try{let e;if(e=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0,null===e){null===n&&(n=st.EMPTY),(this.debug||this.debug_list_atn_decisions)&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));const i=!1;let o=this.computeStartState(r.atnStartState,st.EMPTY,i);r.precedenceDfa?(r.s0.configs=o,o=this.applyPrecedenceFilter(o),e=this.addDFAState(r,new fe(null,o)),r.setPrecedenceStartState(this.parser.getPrecedence(),e)):(e=this.addDFAState(r,new fe(null,o)),r.s0=e)}const a=this.execATN(r,e,t,o,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),a}finally{this._dfa=null,this.mergeCache=null,t.seek(o),t.release(i)}}execATN(t,e,n,r,i){let o;(this.debug||this.debug_list_atn_decisions)&&console.log("execATN decision "+t.decision+" exec LA(1)=="+this.getLookaheadName(n)+" line "+n.LT(1).line+":"+n.LT(1).column);let a=e;this.debug&&console.log("s0 = "+e);let s=n.LA(1);for(;;){let e=this.getExistingTargetState(a,s);if(null===e&&(e=this.computeTargetState(t,a,s)),e===he.ERROR){const t=this.noViableAlt(n,i,a.configs,r);if(n.seek(r),o=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(a.configs,i),o!==bt.INVALID_ALT_NUMBER)return o;throw t}if(e.requiresFullContext&&this.predictionMode!==Ee.SLL){let a=null;if(null!==e.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const t=n.index;if(t!==r&&n.seek(r),a=this.evalSemanticContext(e.predicates,i,!0),1===a.length)return this.debug&&console.log("Full LL avoided"),a.minValue();t!==r&&n.seek(t)}this.dfa_debug&&console.log("ctx sensitive state "+i+" in "+e);const s=!0,u=this.computeStartState(t.atnStartState,i,s);return this.reportAttemptingFullContext(t,a,e.configs,r,n.index),o=this.execATNWithFullContext(t,e,u,n,r,i),o}if(e.isAcceptState){if(null===e.predicates)return e.prediction;const o=n.index;n.seek(r);const a=this.evalSemanticContext(e.predicates,i,!0);if(0===a.length)throw this.noViableAlt(n,i,e.configs,r);return 1===a.length||this.reportAmbiguity(t,e,r,o,!1,a,e.configs),a.minValue()}a=e,s!==C.EOF&&(n.consume(),s=n.LA(1))}}getExistingTargetState(t,e){const n=t.edges;return null===n?null:n[e+1]||null}computeTargetState(t,e,n){const r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,he.ERROR),he.ERROR;let i=new fe(null,r);const o=this.getUniqueAlt(r);if(this.debug){const t=Ee.getConflictingAltSubsets(r);console.log("SLL altSubSets="+D(t)+", configs="+r+", predict="+o+", allSubsetsConflict="+Ee.allSubsetsConflict(t)+", conflictingAlts="+this.getConflictingAlts(r))}return o!==bt.INVALID_ALT_NUMBER?(i.isAcceptState=!0,i.configs.uniqueAlt=o,i.prediction=o):Ee.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(i.configs.conflictingAlts=this.getConflictingAlts(r),i.requiresFullContext=!0,i.isAcceptState=!0,i.prediction=i.configs.conflictingAlts.minValue()),i.isAcceptState&&i.configs.hasSemanticContext&&(this.predicateDFAState(i,this.atn.getDecisionState(t.decision)),null!==i.predicates&&(i.prediction=bt.INVALID_ALT_NUMBER)),i=this.addDFAEdge(t,e,n,i),i}predicateDFAState(t,e){const n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),i=this.getPredsForAmbigAlts(r,t.configs,n);null!==i?(t.predicates=this.getPredicatePredictions(r,i),t.prediction=bt.INVALID_ALT_NUMBER):t.prediction=r.minValue()}execATNWithFullContext(t,e,n,r,i,o){(this.debug||this.debug_list_atn_decisions)&&console.log("execATNWithFullContext "+n);let a,s=!1,u=n;r.seek(i);let c=r.LA(1),l=-1;for(;;){if(a=this.computeReachSet(u,c,!0),null===a){const t=this.noViableAlt(r,o,u,i);r.seek(i);const e=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(u,o);if(e!==bt.INVALID_ALT_NUMBER)return e;throw t}const t=Ee.getConflictingAltSubsets(a);if(this.debug&&console.log("LL altSubSets="+t+", predict="+Ee.getUniqueAlt(t)+", resolvesToJustOneViableAlt="+Ee.resolvesToJustOneViableAlt(t)),a.uniqueAlt=this.getUniqueAlt(a),a.uniqueAlt!==bt.INVALID_ALT_NUMBER){l=a.uniqueAlt;break}if(this.predictionMode!==Ee.LL_EXACT_AMBIG_DETECTION){if(l=Ee.resolvesToJustOneViableAlt(t),l!==bt.INVALID_ALT_NUMBER)break}else if(Ee.allSubsetsConflict(t)&&Ee.allSubsetsEqual(t)){s=!0,l=Ee.getSingleViableAlt(t);break}u=a,c!==C.EOF&&(r.consume(),c=r.LA(1))}return a.uniqueAlt!==bt.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,l,a,i,r.index),l):(this.reportAmbiguity(t,e,i,r.index,s,null,a),l)}computeReachSet(t,e,n){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new Se);const r=new le(n);let i=null;for(let o=0;o<t.items.length;o++){const a=t.items[o];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+a),a.state instanceof G)(n||e===C.EOF)&&(null===i&&(i=[]),i.push(a),this.debug_add&&console.log("added "+a+" to skippedStopStates"));else for(let t=0;t<a.state.transitions.length;t++){const n=a.state.transitions[t],i=this.getReachableTarget(n,e);if(null!==i){const t=new V({state:i},a);r.add(t,this.mergeCache),this.debug_add&&console.log("added "+t+" to intermediate")}}}let o=null;if(null===i&&e!==C.EOF&&(1===r.items.length||this.getUniqueAlt(r)!==bt.INVALID_ALT_NUMBER)&&(o=r),null===o){o=new le(n);const t=new j,i=e===C.EOF;for(let e=0;e<r.items.length;e++)this.closure(r.items[e],o,t,!1,n,i)}if(e===C.EOF&&(o=this.removeAllConfigsNotInRuleStopState(o,o===r)),!(null===i||n&&Ee.hasConfigInRuleStopState(o)))for(let t=0;t<i.length;t++)o.add(i[t],this.mergeCache);return 0===o.items.length?null:o}removeAllConfigsNotInRuleStopState(t,e){if(Ee.allConfigsInRuleStopStates(t))return t;const n=new le(t.fullCtx);for(let r=0;r<t.items.length;r++){const i=t.items[r];if(i.state instanceof G)n.add(i,this.mergeCache);else if(e&&i.state.epsilonOnlyTransitions&&this.atn.nextTokens(i.state).contains(C.EPSILON)){const t=this.atn.ruleToStopState[i.state.ruleIndex];n.add(new V({state:t},i),this.mergeCache)}}return n}computeStartState(t,e,n){const r=pt(this.atn,e),i=new le(n);for(let e=0;e<t.transitions.length;e++){const o=t.transitions[e].target,a=new V({state:o,alt:e+1,context:r},null),s=new j;this.closure(a,i,s,!0,n,!1)}return i}applyPrecedenceFilter(t){let e;const n=[],r=new le(t.fullCtx);for(let i=0;i<t.items.length;i++){if(e=t.items[i],1!==e.alt)continue;const o=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==o&&(n[e.state.stateNumber]=e.context,o!==e.semanticContext?r.add(new V({semanticContext:o},e),this.mergeCache):r.add(e,this.mergeCache))}for(let i=0;i<t.items.length;i++)if(e=t.items[i],1!==e.alt){if(!e.precedenceFilterSuppressed){const t=n[e.state.stateNumber]||null;if(null!==t&&t.equals(e.context))continue}r.add(e,this.mergeCache)}return r}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,n){let r=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];t.has(i.alt)&&(r[i.alt]=U.orContext(r[i.alt]||null,i.semanticContext))}let i=0;for(let t=1;t<n+1;t++){const e=r[t]||null;null===e?r[t]=U.NONE:e!==U.NONE&&(i+=1)}return 0===i&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+D(r)),r}getPredicatePredictions(t,e){const n=[];let r=!1;for(let i=1;i<e.length;i++){const o=e[i];null!==t&&t.has(i)&&n.push(new _e(o,i)),o!==U.NONE&&(r=!0)}return r?n:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){const n=this.splitAccordingToSemanticValidity(t,e),r=n[0],i=n[1];let o=this.getAltThatFinishedDecisionEntryRule(r);return o!==bt.INVALID_ALT_NUMBER||i.items.length>0&&(o=this.getAltThatFinishedDecisionEntryRule(i),o!==bt.INVALID_ALT_NUMBER)?o:bt.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof G&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?bt.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){const n=new le(t.fullCtx),r=new le(t.fullCtx);for(let i=0;i<t.items.length;i++){const o=t.items[i];o.semanticContext!==U.NONE?o.semanticContext.evaluate(this.parser,e)?n.add(o):r.add(o):n.add(o)}return[n,r]}evalSemanticContext(t,e,n){const r=new yt;for(let i=0;i<t.length;i++){const o=t[i];if(o.pred===U.NONE){if(r.add(o.alt),!n)break;continue}const a=o.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+o+"="+a),a&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+o.alt),r.add(o.alt),!n))break}return r}closure(t,e,n,r,i,o){this.closureCheckingStopState(t,e,n,r,i,0,o)}closureCheckingStopState(t,e,n,r,i,o,a){if((this.debug||this.debug_closure)&&(console.log("closure("+t.toString(this.parser,!0)+")"),t.reachesIntoOuterContext>50))throw"problem";if(t.state instanceof G){if(!t.context.isEmpty()){for(let s=0;s<t.context.length;s++){if(t.context.getReturnState(s)===ut.EMPTY_RETURN_STATE){if(i){e.add(new V({state:t.state,context:ut.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,i,o,a);continue}const u=this.atn.states[t.context.getReturnState(s)],c=t.context.getParent(s),l={state:u,alt:t.alt,context:c,semanticContext:t.semanticContext},f=new V(l,null);f.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(f,e,n,r,i,o-1,a)}return}if(i)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,i,o,a)}closure_(t,e,n,r,i,o,a){const s=t.state;s.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let u=0;u<s.transitions.length;u++){if(0===u&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const c=s.transitions[u],l=r&&!(c instanceof Lt),f=this.getEpsilonTarget(t,c,l,0===o,i,a);if(null!==f){let r=o;if(t.state instanceof G){if(null!==this._dfa&&this._dfa.precedenceDfa&&c.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(f.precedenceFilterSuppressed=!0),f.reachesIntoOuterContext+=1,n.add(f)!==f)continue;e.dipsIntoOuterContext=!0,r-=1,this.debug&&console.log("dips into outer ctx: "+f)}else{if(!c.isEpsilon&&n.add(f)!==f)continue;c instanceof Q&&r>=0&&(r+=1)}this.closureCheckingStopState(f,e,n,l,i,r,a)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const e=t.state;if(e.stateType!==Y.STAR_LOOP_ENTRY)return!1;if(e.stateType!==Y.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const n=t.context.length;for(let r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;const r=e.transitions[0].target.endState.stateNumber,i=this.atn.states[r];for(let r=0;r<n;r++){const n=t.context.getReturnState(r),o=this.atn.states[n];if(1!==o.transitions.length||!o.transitions[0].isEpsilon)return!1;const a=o.transitions[0].target;if(!(o.stateType===Y.BLOCK_END&&a===e||o===i||a===i||a.stateType===Y.BLOCK_END&&1===a.transitions.length&&a.transitions[0].isEpsilon&&a.transitions[0].target===e))return!1}return!0}getRuleName(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(t,e,n,r,i,o){switch(e.serializationType){case W.RULE:return this.ruleTransition(t,e);case W.PRECEDENCE:return this.precedenceTransition(t,e,n,r,i);case W.PREDICATE:return this.predTransition(t,e,n,r,i);case W.ACTION:return this.actionTransition(t,e);case W.EPSILON:return new V({state:e.target},t);case W.ATOM:case W.RANGE:case W.SET:return o&&e.matches(C.EOF,0,1)?new V({state:e.target},t):null;default:return null}}actionTransition(t,e){if(this.debug){const t=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+t)}return new V({state:e.target},t)}precedenceTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+D(this.parser.getRuleInvocationStack())));let o=null;if(n&&r)if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(o=new V({state:e.target},t))}else{const n=U.andContext(t.semanticContext,e.getPredicate());o=new V({state:e.target,semanticContext:n},t)}else o=new V({state:e.target},t);return this.debug&&console.log("config from pred transition="+o),o}predTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+D(this.parser.getRuleInvocationStack())));let o=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(o=new V({state:e.target},t))}else{const n=U.andContext(t.semanticContext,e.getPredicate());o=new V({state:e.target,semanticContext:n},t)}else o=new V({state:e.target},t);return this.debug&&console.log("config from pred transition="+o),o}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);const n=e.followState,r=lt.create(t.context,n.stateNumber);return new V({state:e.target,context:r},t)}getConflictingAlts(t){const e=Ee.getConflictingAltSubsets(t);return Ee.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==bt.INVALID_ALT_NUMBER?(e=new yt,e.add(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(t){if(t===C.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const e=t.getDeadEndConfigs();for(let t=0;t<e.length;t++){const n=e[t];let r="no edges";if(n.state.transitions.length>0){const t=n.state.transitions[0];t instanceof Mt?r="Atom "+this.getTokenName(t.label):t instanceof X&&(r=(t instanceof J?"~":"")+"Set "+t.set)}console.error(n.toString(this.parser,!0)+":"+r)}}noViableAlt(t,e,n,r){return new Te(this.parser,t,t.get(r),t.LT(1),n,e)}getUniqueAlt(t){let e=bt.INVALID_ALT_NUMBER;for(let n=0;n<t.items.length;n++){const r=t.items[n];if(e===bt.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return bt.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){const e=null===this.parser?null:this.parser.literalNames,n=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(e,n))}return r}addDFAState(t,e){if(e===he.ERROR)return e;const n=t.states.get(e);return null!==n?n:(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new H(r,i+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,i,e,n)}reportContextSensitivity(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new H(r,i+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,i,e,n)}reportAmbiguity(t,e,n,r,i,o,a){if(this.debug||this.retry_debug){const t=new H(n,r+1);console.log("reportAmbiguity "+o+":"+a+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,n,r,i,o,a)}},PredictionMode:Ee};class Oe{constructor(t,e,n){this.dfa=t,this.literalNames=e||[],this.symbolicNames=n||[]}toString(){if(null===this.dfa.s0)return null;let t="";const e=this.dfa.sortedStates();for(let n=0;n<e.length;n++){const r=e[n];if(null!==r.edges){const e=r.edges.length;for(let n=0;n<e;n++){const e=r.edges[n]||null;null!==e&&2147483647!==e.stateNumber&&(t=t.concat(this.getStateString(r)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(n)),t=t.concat("->"),t=t.concat(this.getStateString(e)),t=t.concat("\n"))}}}return 0===t.length?null:t}getEdgeLabel(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){const e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+D(t.predicates):e+"=>"+t.prediction.toString():e}}class Ae extends Oe{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}}const Pe={DFA:class{constructor(t,e){if(void 0===e&&(e=0),this.atnStartState=t,this.decision=e,this._states=new j,this.s0=null,this.precedenceDfa=!1,t instanceof Pt&&t.isPrecedenceDecision){this.precedenceDfa=!0;const t=new fe(null,new le);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new j,t){const t=new fe(null,new le);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}toString(t,e){return t=t||null,e=e||null,null===this.s0?"":new Oe(this,t,e).toString()}toLexerString(){return null===this.s0?"":new Ae(this).toString()}get states(){return this._states}},DFASerializer:Oe,LexerDFASerializer:Ae,PredPrediction:_e};class Ce{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}}class Re{walk(t,e){if(e instanceof it||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof rt)t.visitTerminal(e);else{this.enterRule(t,e);for(let n=0;n<e.getChildCount();n++){const r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}enterRule(t,e){const n=e.getRuleContext();t.enterEveryRule(n),n.enterRule(t)}exitRule(t,e){const n=e.getRuleContext();n.exitRule(t),t.exitEveryRule(n)}}Re.DEFAULT=new Re;const Ne={Trees:at,RuleNode:nt,ErrorNode:it,TerminalNode:rt,ParseTreeListener:Ce,ParseTreeVisitor:class{visit(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}},ParseTreeWalker:Re};class Me extends oe{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}}class Ie extends oe{constructor(t,e,n){super({message:Le(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});const r=t._interp.atn.states[t.state].transitions[0];r instanceof jt?(this.ruleIndex=r.ruleIndex,this.predicateIndex=r.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}}function Le(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}class De extends Error{constructor(){super(),Error.captureStackTrace(this,De)}}class Fe extends class{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}}{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof Te?this.reportNoViableAlternative(t,e):e instanceof Me?this.reportInputMismatch(t,e):e instanceof Ie?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);const n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}sync(t){if(this.inErrorRecoveryMode(t))return;const e=t._interp.atn.states[t.state],n=t.getTokenStream().LA(1),r=t.atn.nextTokens(e);if(r.contains(n))return this.nextTokensContext=null,void(this.nextTokenState=Y.INVALID_STATE_NUMBER);if(r.contains(C.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case Y.BLOCK_START:case Y.STAR_BLOCK_START:case Y.PLUS_BLOCK_START:case Y.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new Me(t);case Y.PLUS_LOOP_BACK:case Y.STAR_LOOP_BACK:{this.reportUnwantedToken(t);const e=new K;e.addSet(t.getExpectedTokens());const n=e.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,n)}}}reportNoViableAlternative(t,e){const n=t.getTokenStream();let r;r=null!==n?e.startToken.type===C.EOF?"<EOF>":n.getText(new H(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";const i="no viable alternative at input "+this.escapeWSAndQuote(r);t.notifyErrorListeners(i,e.offendingToken,e)}reportInputMismatch(t,e){const n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}reportFailedPredicate(t,e){const n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}recoverInline(t){const e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new Me(t)}singleTokenInsertion(t){const e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){const e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();const e=t.getCurrentToken();return this.reportMatch(t),e}return null}getMissingSymbol(t){const e=t.getCurrentToken(),n=this.getExpectedTokens(t).first();let r;r=n===C.EOF?"<missing EOF>":"<missing "+t.literalNames[n]+">";let i=e;const o=t.getTokenStream().LT(-1);return i.type===C.EOF&&null!==o&&(i=o),t.getTokenFactory().create(i.source,n,r,C.DEFAULT_CHANNEL,-1,-1,i.line,i.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===C.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(t){const e=t._interp.atn;let n=t._ctx;const r=new K;for(;null!==n&&n.invokingState>=0;){const t=e.states[n.invokingState].transitions[0],i=e.nextTokens(t.followState);r.addSet(i),n=n.parentCtx}return r.removeOne(C.EPSILON),r}consumeUntil(t,e){let n=t.getTokenStream().LA(1);for(;n!==C.EOF&&!e.contains(n);)t.consume(),n=t.getTokenStream().LA(1)}}const je={RecognitionException:oe,NoViableAltException:Te,LexerNoViableAltException:ae,InputMismatchException:Me,FailedPredicateException:Ie,DiagnosticErrorListener:class extends Zt{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,n,r,i,o,a){if(this.exactOnly&&!i)return;const s="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(o,a)+", input='"+t.getTokenStream().getText(new H(n,r))+"'";t.notifyErrorListeners(s)}reportAttemptingFullContext(t,e,n,r,i,o){const a="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new H(n,r))+"'";t.notifyErrorListeners(a)}reportContextSensitivity(t,e,n,r,i,o){const a="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new H(n,r))+"'";t.notifyErrorListeners(a)}getDecisionDescription(t,e){const n=e.decision,r=e.atnStartState.ruleIndex,i=t.ruleNames;if(r<0||r>=i.length)return""+n;const o=i[r]||null;return null===o||0===o.length?""+n:`${n} (${o})`}getConflictingAlts(t,e){if(null!==t)return t;const n=new yt;for(let t=0;t<e.items.length;t++)n.add(e.items[t].alt);return`{${n.values().join(", ")}}`}},BailErrorStrategy:class extends Fe{constructor(){super()}recover(t,e){let n=t._ctx;for(;null!==n;)n.exception=e,n=n.parentCtx;throw new De(e)}recoverInline(t){this.recover(t,new Me(t))}sync(t){}},DefaultErrorStrategy:Fe,ErrorListener:Zt};class Ue{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let t=0;t<this.strdata.length;){const e=this.strdata.codePointAt(t);this.data.push(e),t+=e<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let t=0;t<this.strdata.length;t++){const e=this.strdata.charCodeAt(t);this.data[t]=e}}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(t){if(0===t)return 0;t<0&&(t+=1);const e=this._index+t-1;return e<0||e>=this._size?C.EOF:this.data[e]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n="";for(let r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}var Be=n(654);const ze={fromString:function(t){return new Ue(t,!0)},fromBlob:function(t,e,n,r){const i=new window.FileReader;i.onload=function(t){const e=new Ue(t.target.result,!0);n(e)},i.onerror=r,i.readAsText(t,e)},fromBuffer:function(t,e){return new Ue(t.toString(e),!0)},fromPath:function(t,e,n){Be.readFile(t,e,(function(t,e){let r=null;null!==e&&(r=new Ue(e,!0)),n(t,r)}))},fromPathSync:function(t,e){const n=Be.readFileSync(t,e);return new Ue(n,!0)}};class $e extends Ce{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class qe extends ne{constructor(t){super(),this._input=null,this._errHandler=new Fe,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t)}reset(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}match(t){let e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}getParseListeners(){return this._parseListeners||[]}addParseListener(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(null!==this._parseListeners){const e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}triggerExitRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t){this._input.tokenSource._factory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";let e=this.bypassAltsAtnCache[t];if(null===e){const n=new zt;n.generateRuleBypassTransitions=!0,e=new Jt(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}getInputStream(){return this.getTokenStream()}setInputStream(t){this.setTokenStream(t)}getTokenStream(){return this._input}setTokenStream(t){this._input=null,this.reset(),this._input=t}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;const r=e.line,i=e.column;this.getErrorListenerDispatch().syntaxError(this,e,r,i,t,n)}consume(){const t=this.getCurrentToken();t.type!==C.EOF&&this.getInputStream().consume();const e=null!==this._parseListeners&&this._parseListeners.length>0;if(this.buildParseTrees||e){let n;n=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t),n.invokingState=this.state,e&&this._parseListeners.forEach((function(t){n instanceof it||void 0!==n.isErrorNode&&n.isErrorNode()?t.visitErrorNode(n):n instanceof rt&&t.visitTerminal(n)}))}return t}addContextToParseTree(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}getPrecedence(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,n){const r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}precpred(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(t){const e=this._interp.atn;let n=this._ctx;const r=e.states[this.state];let i=e.nextTokens(r);if(i.contains(t))return!0;if(!i.contains(C.EPSILON))return!1;for(;null!==n&&n.invokingState>=0&&i.contains(C.EPSILON);){const r=e.states[n.invokingState].transitions[0];if(i=e.nextTokens(r.followState),i.contains(t))return!0;n=n.parentCtx}return!(!i.contains(C.EPSILON)||t!==C.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){const e=this.getRuleIndexMap()[t];return null!==e?e:-1}getRuleInvocationStack(t){null===(t=t||null)&&(t=this._ctx);const e=[];for(;null!==t;){const n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t=!1;for(let e=0;e<this._interp.decisionToDFA.length;e++){const n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}getSourceName(){return this._input.sourceName}setTrace(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new $e(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}qe.bypassAltsAtnCache={};class Ve extends rt{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(null===this.symbol)return H.INVALID_INTERVAL;const t=this.symbol.tokenIndex;return new H(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===C.EOF?"<EOF>":this.symbol.text}}class He extends Ve{constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}}class Ke extends st{constructor(t,e){super(t=t||null,e=e||null),this.ruleIndex=-1,this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof He&&(this.children.push(t),t.parentCtx=this)}),this))}enterRule(t){}exitRule(t){}addChild(t){return null===this.children&&(this.children=[]),this.children.push(t),t}removeLastChild(){null!==this.children&&this.children.pop()}addTokenNode(t){const e=new Ve(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){const e=new He(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}getToken(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof rt&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}getTokens(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof rt&&r.symbol.type===t&&e.push(r)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof t&&e.push(r)}return e}}getChildCount(){return null===this.children?0:this.children.length}getSourceInterval(){return null===this.start||null===this.stop?H.INVALID_INTERVAL:new H(this.start.tokenIndex,this.stop.tokenIndex)}}st.EMPTY=new Ke;const Ye={arrayToString:D},Ge={atn:ke,dfa:Pe,tree:Ne,error:je,Token:C,CommonToken:re,CharStreams:ze,InputStream:Ue,FileStream:class extends Ue{constructor(t,e){super(Be.readFileSync(t,"utf8"),e),this.fileName=t}},CommonTokenStream:class extends class extends class{}{constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get(t){return this.lazyInit(),this.tokens[t]}consume(){let t=!1;if(t=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!t&&this.LA(1)===C.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){const e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){const t=this.tokenSource.nextToken();if(t.tokenIndex=this.tokens.length,this.tokens.push(t),t.type===C.EOF)return this.fetchedEOF=!0,e+1}return t}getTokens(t,e,n){if(void 0===n&&(n=null),t<0||e<0)return null;this.lazyInit();const r=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(let i=t;i<e;i++){const t=this.tokens[i];if(t.type===C.EOF)break;(null===n||n.contains(t.type))&&r.push(t)}return r}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);const e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.index&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.tokens.length)return-1;let n=this.tokens[t];for(;n.channel!==this.channel;){if(n.type===C.EOF)return-1;t+=1,this.sync(t),n=this.tokens[t]}return t}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.nextTokenOnChannel(t+1,se.DEFAULT_TOKEN_CHANNEL),r=t+1,i=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,i,e)}getHiddenTokensToLeft(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.previousTokenOnChannel(t-1,se.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;const r=n+1,i=t-1;return this.filterForChannel(r,i,e)}filterForChannel(t,e,n){const r=[];for(let i=t;i<e+1;i++){const t=this.tokens[i];-1===n?t.channel!==se.DEFAULT_TOKEN_CHANNEL&&r.push(t):t.channel===n&&r.push(t)}return 0===r.length?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(t){this.lazyInit(),this.fill(),null==t&&(t=new H(0,this.tokens.length-1));let e=t.start;e instanceof C&&(e=e.tokenIndex);let n=t.stop;if(n instanceof C&&(n=n.tokenIndex),null===e||null===n||e<0||n<0)return"";n>=this.tokens.length&&(n=this.tokens.length-1);let r="";for(let t=e;t<n+1;t++){const e=this.tokens[t];if(e.type===C.EOF)break;r+=e.text}return r}fill(){for(this.lazyInit();1e3===this.fetch(1e3););}}{constructor(t,e){super(t),this.channel=void 0===e?C.DEFAULT_CHANNEL:e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(0===t||this.index-t<0)return null;let e=this.index,n=1;for(;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);let e=this.index,n=1;for(;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e=0;e<this.tokens.length;e++){const n=this.tokens[e];if(n.channel===this.channel&&(t+=1),n.type===C.EOF)break}return t}},Lexer:se,Parser:qe,PredictionContextCache:class{constructor(){this.cache=new dt}add(t){if(t===ut.EMPTY)return ut.EMPTY;const e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}},ParserRuleContext:Ke,Interval:H,IntervalSet:K,LL1Analyzer:gt,Utils:Ye},We=Ge;function Qe(t){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Je(t,e){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Je(t,e)}function Ze(t,e){if(e&&("object"===Qe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function tn(t){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tn(t)}var en=function(t){return t.getText().replaceAll('"',"").trim()};const nn=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Je(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tn(i);if(o){var n=tn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ze(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).definitions=t,e.components=[],e.errors=[],e.currentComponent=null,e.currentBlockType=null,e.currentField=null,e.currentComplexeField=null,e.currentFile=null,e}return n=s,(r=[{key:"addComponent",value:function(){this.currentComponent.path=this.currentFile.path,this.components.push(this.currentComponent),this.currentComponent=null,this.currentBlockType=null}},{key:"enterFile",value:function(){}},{key:"exitFile",value:function(){}},{key:"enterDirective",value:function(){}},{key:"exitDirective",value:function(){}},{key:"enterDataDirective",value:function(){this.currentBlockType="data",this.currentComponent=new t.Component}},{key:"exitDataDirective",value:function(){this.addComponent()}},{key:"enterModuleDirective",value:function(e){this.currentBlockType="module",this.currentComponent=new t.Component;var n=en(e.name());this.currentComponent.definition=this.definitions.find((function(t){return"module"===t.blockType&&t.type===n}))||null}},{key:"exitModuleDirective",value:function(){this.addComponent()}},{key:"enterModuleSource",value:function(){}},{key:"exitModuleSource",value:function(e){this.currentComponent.attributes.push(new t.ComponentAttribute({name:"source",value:en(e.STRING()),type:"String"}))}},{key:"enterProviderDirective",value:function(e){this.currentBlockType="provider",this.currentComponent=new t.Component;var n=en(e.name());this.currentComponent.definition=this.definitions.find((function(t){return"provider"===t.blockType&&t.provider===n}))||null}},{key:"exitProviderDirective",value:function(){this.addComponent()}},{key:"enterTerraformDirective",value:function(){}},{key:"exitTerraformDirective",value:function(){}},{key:"enterResourceDirective",value:function(){this.currentBlockType="resource",this.currentComponent=new t.Component}},{key:"exitResourceDirective",value:function(){this.addComponent()}},{key:"enterVariableDirective",value:function(e){var n=en(e.name());this.currentBlockType="variable",this.currentComponent=new t.Component,this.currentComponent.definition=this.definitions.find((function(t){return"variable"===t.blockType&&t.type===n}))||null}},{key:"exitVariableDirective",value:function(){this.addComponent()}},{key:"enterOutputDirective",value:function(){}},{key:"exitOutputDirective",value:function(){}},{key:"enterName",value:function(){}},{key:"exitName",value:function(t){this.currentComponent.name=en(t)}},{key:"enterProviderType",value:function(t){var e=this,n=en(t);this.currentComponent.definition=this.definitions.find((function(t){return t.blockType===e.currentBlockType&&t.type===n}))||null}},{key:"exitProviderType",value:function(){}},{key:"enterType",value:function(){}},{key:"exitType",value:function(){}},{key:"enterObject",value:function(){}},{key:"exitObject",value:function(){}},{key:"enterField",value:function(){}},{key:"exitField",value:function(e){var n=this;this.currentField||(e.expression().BOOLEAN()?this.currentField=new t.ComponentAttribute({type:"Boolean",value:"true"===e.expression().BOOLEAN().getText()}):e.expression().NUMBER()?this.currentField=new t.ComponentAttribute({type:"Number",value:parseFloat(e.expression().NUMBER().getText())}):this.currentField=new t.ComponentAttribute({type:"String",value:"null"===e.expression().getText()?null:en(e.expression())})),this.currentField.name=en(e.IDENTIFIER()),this.currentComplexeField?this.currentComplexeField.value.push(this.currentField):this.currentComponent.attributes.push(this.currentField),this.currentField.definition=this.currentComponent.definition.definedAttributes.find((function(t){return t.name===n.currentField.name}))||null,this.currentField=null}},{key:"enterComplexField",value:function(){this.currentComplexeField=new t.ComponentAttribute({value:[],type:"Object"})}},{key:"exitComplexField",value:function(t){this.currentComplexeField.name=en(t.IDENTIFIER()),this.currentComponent.attributes.push(this.currentComplexeField),this.currentComplexeField=null}},{key:"enterValidation",value:function(){}},{key:"exitValidation",value:function(){}},{key:"enterCondition",value:function(){}},{key:"exitCondition",value:function(){}},{key:"enterExpression",value:function(){}},{key:"exitExpression",value:function(){}},{key:"enterFunctionCall",value:function(){}},{key:"exitFunctionCall",value:function(){}},{key:"enterComplexExpression",value:function(){}},{key:"exitComplexExpression",value:function(){}},{key:"enterArray",value:function(){this.currentField=new t.ComponentAttribute}},{key:"exitArray",value:function(t){this.currentField.type="Array",this.currentField.value=t.children.map((function(t){return en(t)})).filter((function(t){return"["!==t&&"]"!==t&&","!==t}))}},{key:"enterIndex",value:function(){}},{key:"exitIndex",value:function(){}}])&&Xe(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(We.tree.ParseTreeListener);function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function an(t,e){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},an(t,e)}function sn(t,e){if(e&&("object"===rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return un(t)}function un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cn(t){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cn(t)}function ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fn=["","*\b\b\t","\t\t\t\t","\t\b\t\b\t\t\t\n\t\n\v","\t\v\f\t\f\r\t\r\t\t","\t\t\t","\t\t\t\t","\t\t\t","\t\t\t\t",'\t\t \t !\t!"',"\t\"#\t#$\t$%\t%&\t&'\t'(\t(",")\t)*\t*+\t+,\t,-\t-.\t./\t/","0\t01\t1","","","","","","","","\b\b\b\b\b\b\b","\b\b\t\t\t\t\t\t\t","\n\n\n\n\n\v\v\v","\v\f\f\f\f\f\f\f","\r\r\r\r\r\r\r\r","\r\r","","","","","","","\n","","","","\n","","","","","","","\n","\n\f","\v\n","","\n    \n \f  \v",'   !!!!\n!""','""""##$$%',"%%%\n%\f%%\v%%\n","%&&&&&\n&\f&&\v","&&&&&&''''","'\n'\f''\v'''(","((\n(\f((\v((()",")\n)\r))))***","*****++,,","--..//0011","11112\b","\n\f\b\t\n\v\f",'\r "$&',"(*,.02468:","<>@BDFHJ L!N\"P#R$T%V&X'","Z\\^(`)b*((>>@@~~","--112;&&00C\\aac|","\udc02\n","$$11^^ddhhppttvv2;CHch!$$^^",'3;\f\f\v\f""',"c|\b#&/1??aa}}","\b","\n\f","","","",""," ",'"$',"&(","*,",".02","46","8:","@J","LN","PRT","VX","^`","bd","k\bp\nw","\f","","","","",' "',"$&","(*",",.0","24","68",":<",">@","BDF","HJ","LN","PR","TV","XZ\\","^`","bdeo","efqfgfghwhi","nijgjkl","flmcmnvno","copquqr","qrswstttu","euvgv\twx","rxytyzqz{x","{|k|}f}~g","~t\v","vg","tt","chq","to","\rt","gu","qw","teg","x","ct","kc","dn","g","qw","vrw","v","nk","uv","o","cr","q","dl","gev","e","qp","fk","vk","qp","g","ttq","ta","og","uu","ci","g","}","!","?#*","%+","']",")_+",".-","0/","/1",",3",'\t"',"??","20\t","","","","5v","tw","g$","vt","wg$","hc","nu","g$","hc","nug","$","","7","uv","tk","pi","$u","vtk","pi","$p","wo","dg","t$p","wo","dg","t$","dq","qn$","dq","qn","$c","p{","","","","9","><","",";",">","\t","=","\t\n","\t\t\b","","?","$B!","H$","","","$","A^",'\t\tD"',"","Cw","F#F#F#","F#E\t\n","G\n\v","I2","\t\f\t","","","","K","1",",","\v","","",",","1","\b&M1","1","\n\r","","","\b'","O%","\n\r","","","\b(Q","\t","","","\b)S",">>","GQ","H\b*","U\t","WR)Y","F#[","H$]","J%_\t","aG","QH","\b1","c","",""].join(""),hn=(new We.atn.ATNDeserializer).deserialize(fn),dn=hn.decisionToState.map((function(t,e){return new We.dfa.DFA(t,e)})),pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cn(r);if(i){var n=cn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return sn(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t))._interp=new We.atn.LexerATNSimulator(un(e),hn,dn,new We.PredictionContextCache),e}return e=a,(n=[{key:"atn",get:function(){return hn}}])&&on(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(We.Lexer);function vn(t){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(t)}function mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gn(t,e,n){return e&&yn(t.prototype,e),n&&yn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_n(t,e)}function _n(t,e){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_n(t,e)}function xn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tn(t);if(e){var i=Tn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wn(this,n)}}function wn(t,e){if(e&&("object"===vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return En(t)}function En(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tn(t){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tn(t)}function Sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}ln(pn,"grammarFileName","terraformLexer.g4"),ln(pn,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),ln(pn,"modeNames",["DEFAULT_MODE","SCRIPT"]),ln(pn,"literalNames",[null,"'module'","'data'","'source'","'provider'","'terraform'","'resource'","'variable'","'output'","'list'","'map'","'object'","'condition'","'error_message'","'{'","'}'","'='","'('","')'","'['","']'","','","'.'","'-'","'*'",null,null,null,null,null,null,null,null,null,null,"'<<EOF'",null,null,null,null,"'EOF'"]),ln(pn,"symbolicNames",[null,"MODULE","DATA","SOURCE","PROVIDER","TERRAFORM","RESOURCE","VARIABLE","OUTPUT","LIST","MAP","OBJECT","CONDITION","ERROR","AO","AF","EQUAL","PO","PF","CO","CF","VIRG","POINT","TIRET","MULT","BOOLEANOP","BOOLEAN","TYPE","IDENTIFIER","STRING","NUMBER","COMMENT","LINE_COMMENT","HAS_COMMENT","WS","OPEN","IDENTIFIERS","WSS","NUMBERS","AUTRE","CLOSE"]),ln(pn,"ruleNames",["MODULE","DATA","SOURCE","PROVIDER","TERRAFORM","RESOURCE","VARIABLE","OUTPUT","LIST","MAP","OBJECT","CONDITION","ERROR","AO","AF","EQUAL","PO","PF","CO","CF","VIRG","POINT","TIRET","MULT","BOOLEANOP","BOOLEAN","TYPE","IDENTIFIER","LetterOrDigit","Letter","STRING","ESC","UNICODE","HEX","SAFECODEPOINT","NUMBER","COMMENT","LINE_COMMENT","HAS_COMMENT","WS","OPEN","IDENTIFIERS","WSS","HEXS","SAFECODEPOINTS","NUMBERS","AUTRE","CLOSE"]),pn.EOF=We.Token.EOF,pn.MODULE=1,pn.DATA=2,pn.SOURCE=3,pn.PROVIDER=4,pn.TERRAFORM=5,pn.RESOURCE=6,pn.VARIABLE=7,pn.OUTPUT=8,pn.LIST=9,pn.MAP=10,pn.OBJECT=11,pn.CONDITION=12,pn.ERROR=13,pn.AO=14,pn.AF=15,pn.EQUAL=16,pn.PO=17,pn.PF=18,pn.CO=19,pn.CF=20,pn.VIRG=21,pn.POINT=22,pn.TIRET=23,pn.MULT=24,pn.BOOLEANOP=25,pn.BOOLEAN=26,pn.TYPE=27,pn.IDENTIFIER=28,pn.STRING=29,pn.NUMBER=30,pn.COMMENT=31,pn.LINE_COMMENT=32,pn.HAS_COMMENT=33,pn.WS=34,pn.OPEN=35,pn.IDENTIFIERS=36,pn.WSS=37,pn.NUMBERS=38,pn.AUTRE=39,pn.CLOSE=40,pn.SCRIPT=1;var kn=["","*\t\t","\t\t\t\t","\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f","\r\t\r\t\t\t","\t\t\t","\t\t\t\t","\t2\n\r","3","=\n","D\n\r","E","O\n\rP","","","\b\b\b\bb\n\b\r\b\bc\b\b\t","\t\t\t\t\t\t\n\n","\n\n\ns\n\n\r\n\nt\n\n\v","\v\v\v\v}\n\v\r\v\v","~\v\v\f\f\r\r","","","\n","\n\r","","","\n","\r\n","\n","\r","","\n","\n","","\n\f\v","\n","\n\r","\n","\r\n\r","","\n","","\n\f","\v","\n\f","\v\n","\n","*\b\n\f",' "$&(*,.',"","  1<",">\bI","\nT\fX^","gn","x","","",' "',"$&","(*,",".02","102331","344","5=\f6=\b7=\t","8=\n9=\v:=\b",";=<5<6","<7<8<9","<:<;=",">??@\r","@A\fACBD","CBDEEC","EFFGGH","HIJ","JK\fKNLO\n","MONLNM","OPPNPQ","QRRS","S\tTUUV","VWW\v","XYYZ\fZ[","[\\\\]]\r","^__a","`ba`bc","cacdde","eff","gh\bhi\rij\fj","kkllm","mno\top","\fprqsr","qsttr","tuuvvw","wxy\nyz","\fz|{}","|{}~~|","~","","","","\v","\v","","\f","","","\r","","","",""," ","","","","\t","&","","","","","","","","","","","!","","$","","","","","#"," ","(","","","%"," ",",*","","","","","'","&","&","","","","","",")","\b","\t","","","%&",")'","","","","","","","*","*","(","","","","\f\b","*\t\f",".","\f",".","","","","+","","&","&","","","","","","","","-\t","/3<ENPct~","",""].join(""),On=(new We.atn.ATNDeserializer).deserialize(kn),An=On.decisionToState.map((function(t,e){return new We.dfa.DFA(t,e)})),Pn=new We.PredictionContextCache,Cn=function(t){bn(n,t);var e=xn(n);function n(t){var r;return mn(this,n),(r=e.call(this,t))._interp=new We.atn.ParserATNSimulator(En(r),On,An,Pn),r.ruleNames=n.ruleNames,r.literalNames=n.literalNames,r.symbolicNames=n.symbolicNames,r}return gn(n,[{key:"atn",get:function(){return On}},{key:"sempred",value:function(t,e,n){if(20===e)return this.complexExpression_sempred(t,n);throw"No predicate with index:".concat(e)}},{key:"complexExpression_sempred",value:function(t,e){switch(e){case 0:return this.precpred(this._ctx,6);case 1:return this.precpred(this._ctx,5);case 2:return this.precpred(this._ctx,4);default:throw"No predicate with index:".concat(e)}}},{key:"file",value:function(){var t=new Rn(this,this._ctx,this.state);this.enterRule(t,0,n.RULE_file);var e=0;try{this.enterOuterAlt(t,1),this.state=47,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=46,this.directive(),this.state=49,this._errHandler.sync(this),e=this._input.LA(1)}while(0==(-32&e)&&0!=(1<<e&(1<<n.MODULE|1<<n.DATA|1<<n.PROVIDER|1<<n.TERRAFORM|1<<n.RESOURCE|1<<n.VARIABLE|1<<n.OUTPUT)))}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"directive",value:function(){var t=new Nn(this,this._ctx,this.state);this.enterRule(t,2,n.RULE_directive);try{switch(this.state=58,this._errHandler.sync(this),this._input.LA(1)){case n.PROVIDER:this.enterOuterAlt(t,1),this.state=51,this.providerDirective();break;case n.TERRAFORM:this.enterOuterAlt(t,2),this.state=52,this.terraformDirective();break;case n.RESOURCE:this.enterOuterAlt(t,3),this.state=53,this.resourceDirective();break;case n.VARIABLE:this.enterOuterAlt(t,4),this.state=54,this.variableDirective();break;case n.OUTPUT:this.enterOuterAlt(t,5),this.state=55,this.outputDirective();break;case n.MODULE:this.enterOuterAlt(t,6),this.state=56,this.moduleDirective();break;case n.DATA:this.enterOuterAlt(t,7),this.state=57,this.dataDirective();break;default:throw new We.error.NoViableAltException(this)}}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"dataDirective",value:function(){var t=new Mn(this,this._ctx,this.state);this.enterRule(t,4,n.RULE_dataDirective);var e=0;try{this.enterOuterAlt(t,1),this.state=60,this.match(n.DATA),this.state=61,this.providerType(),this.state=62,this.name(),this.state=63,this.match(n.AO),this.state=65,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=64,this.object(),this.state=67,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.SOURCE||e===n.IDENTIFIER);this.state=69,this.match(n.AF)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"moduleDirective",value:function(){var t=new In(this,this._ctx,this.state);this.enterRule(t,6,n.RULE_moduleDirective);var e=0;try{this.enterOuterAlt(t,1),this.state=71,this.match(n.MODULE),this.state=72,this.name(),this.state=73,this.match(n.AO),this.state=76,this._errHandler.sync(this),e=this._input.LA(1);do{switch(this.state=76,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,3,this._ctx)){case 1:this.state=74,this.moduleSource();break;case 2:this.state=75,this.object()}this.state=78,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.SOURCE||e===n.IDENTIFIER);this.state=80,this.match(n.AF)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"moduleSource",value:function(){var t=new Ln(this,this._ctx,this.state);this.enterRule(t,8,n.RULE_moduleSource);try{this.enterOuterAlt(t,1),this.state=82,this.match(n.SOURCE),this.state=83,this.match(n.EQUAL),this.state=84,this.match(n.STRING)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"providerDirective",value:function(){var t=new Dn(this,this._ctx,this.state);this.enterRule(t,10,n.RULE_providerDirective);try{this.enterOuterAlt(t,1),this.state=86,this.match(n.PROVIDER),this.state=87,this.name(),this.state=88,this.match(n.AO),this.state=89,this.object(),this.state=90,this.match(n.AF)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"terraformDirective",value:function(){var t=new Fn(this,this._ctx,this.state);this.enterRule(t,12,n.RULE_terraformDirective);var e=0;try{this.enterOuterAlt(t,1),this.state=92,this.match(n.TERRAFORM),this.state=93,this.match(n.AO),this.state=95,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=94,this.object(),this.state=97,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.SOURCE||e===n.IDENTIFIER);this.state=99,this.match(n.AF)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"resourceDirective",value:function(){var t=new jn(this,this._ctx,this.state);this.enterRule(t,14,n.RULE_resourceDirective);try{this.enterOuterAlt(t,1),this.state=101,this.match(n.RESOURCE),this.state=102,this.providerType(),this.state=103,this.name(),this.state=104,this.match(n.AO),this.state=105,this.object(),this.state=106,this.match(n.AF)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"variableDirective",value:function(){var t=new Un(this,this._ctx,this.state);this.enterRule(t,16,n.RULE_variableDirective);var e=0;try{this.enterOuterAlt(t,1),this.state=108,this.match(n.VARIABLE),this.state=109,this.name(),this.state=110,this.match(n.AO),this.state=112,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=111,this.object(),this.state=114,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.SOURCE||e===n.IDENTIFIER);this.state=116,this.match(n.AF)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"outputDirective",value:function(){var t=new Bn(this,this._ctx,this.state);this.enterRule(t,18,n.RULE_outputDirective);var e=0;try{this.enterOuterAlt(t,1),this.state=118,this.match(n.OUTPUT),this.state=119,this.name(),this.state=120,this.match(n.AO),this.state=122,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=121,this.object(),this.state=124,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.SOURCE||e===n.IDENTIFIER);this.state=126,this.match(n.AF)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"name",value:function(){var t=new zn(this,this._ctx,this.state);this.enterRule(t,20,n.RULE_name);try{this.enterOuterAlt(t,1),this.state=128,this.match(n.STRING)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"providerType",value:function(){var t=new $n(this,this._ctx,this.state);this.enterRule(t,22,n.RULE_providerType);try{this.enterOuterAlt(t,1),this.state=130,this.match(n.STRING)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"type",value:function(){var t=new qn(this,this._ctx,this.state);this.enterRule(t,24,n.RULE_type);try{switch(this.state=149,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,8,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=132,this.match(n.TYPE);break;case 2:this.enterOuterAlt(t,2),this.state=133,this.match(n.LIST);break;case 3:this.enterOuterAlt(t,3),this.state=134,this.match(n.LIST),this.state=135,this.match(n.PO),this.state=136,this.type(),this.state=137,this.match(n.PF);break;case 4:this.enterOuterAlt(t,4),this.state=139,this.match(n.MAP),this.state=140,this.match(n.PO),this.state=141,this.type(),this.state=142,this.match(n.PF);break;case 5:this.enterOuterAlt(t,5),this.state=144,this.match(n.OBJECT),this.state=145,this.match(n.PO),this.state=146,this.object(),this.state=147,this.match(n.PF)}}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"object",value:function(){var t=new Vn(this,this._ctx,this.state);this.enterRule(t,26,n.RULE_object);try{this.enterOuterAlt(t,1),this.state=153,this._errHandler.sync(this);var e=1;do{if(1!==e)throw new We.error.NoViableAltException(this);switch(this.state=153,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,9,this._ctx)){case 1:this.state=151,this.complexField();break;case 2:this.state=152,this.field()}this.state=155,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,10,this._ctx)}while(2!=e&&e!=We.atn.ATN.INVALID_ALT_NUMBER)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"field",value:function(){var t=new Hn(this,this._ctx,this.state);this.enterRule(t,28,n.RULE_field);var e=0;try{this.enterOuterAlt(t,1),this.state=157,(e=this._input.LA(1))!==n.SOURCE&&e!==n.IDENTIFIER?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=158,this.match(n.EQUAL),this.state=159,this.expression()}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"complexField",value:function(){var t=new Kn(this,this._ctx,this.state);this.enterRule(t,30,n.RULE_complexField);var e=0;try{switch(this.state=177,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,12,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=161,this.match(n.IDENTIFIER),this.state=162,this.match(n.AO),this.state=163,this.object(),this.state=164,this.match(n.AF);break;case 2:this.enterOuterAlt(t,2),this.state=166,this.match(n.IDENTIFIER),this.state=167,this.match(n.EQUAL),this.state=168,this.match(n.AO),this.state=172,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=169,this.match(n.STRING),this.state=170,this.match(n.EQUAL),this.state=171,this.match(n.STRING),this.state=174,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.STRING);this.state=176,this.match(n.AF)}}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"validation",value:function(){var t=new Yn(this,this._ctx,this.state);this.enterRule(t,32,n.RULE_validation);var e=0;try{this.enterOuterAlt(t,1),this.state=179,this.match(n.AO),this.state=180,this.match(n.CONDITION),this.state=181,this.match(n.EQUAL),this.state=183,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=182,this.condition(),this.state=185,this._errHandler.sync(this),e=this._input.LA(1)}while(0==(-32&e)&&0!=(1<<e&(1<<n.BOOLEANOP|1<<n.BOOLEAN|1<<n.IDENTIFIER|1<<n.STRING|1<<n.NUMBER)));this.state=187,this.match(n.ERROR),this.state=188,this.match(n.EQUAL),this.state=189,this.match(n.STRING),this.state=190,this.match(n.AF)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"condition",value:function(){var t=new Gn(this,this._ctx,this.state);this.enterRule(t,34,n.RULE_condition);try{switch(this.state=197,this._errHandler.sync(this),this._input.LA(1)){case n.STRING:this.enterOuterAlt(t,1),this.state=192,this.match(n.STRING);break;case n.NUMBER:this.enterOuterAlt(t,2),this.state=193,this.match(n.NUMBER);break;case n.BOOLEAN:this.enterOuterAlt(t,3),this.state=194,this.match(n.BOOLEAN);break;case n.BOOLEANOP:this.enterOuterAlt(t,4),this.state=195,this.match(n.BOOLEANOP);break;case n.IDENTIFIER:this.enterOuterAlt(t,5),this.state=196,this.functionCall();break;default:throw new We.error.NoViableAltException(this)}}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"expression",value:function(){var t=new Wn(this,this._ctx,this.state);this.enterRule(t,36,n.RULE_expression);try{switch(this.state=205,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,15,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=199,this.match(n.NUMBER);break;case 2:this.enterOuterAlt(t,2),this.state=200,this.match(n.BOOLEAN);break;case 3:this.enterOuterAlt(t,3),this.state=201,this.array();break;case 4:this.enterOuterAlt(t,4),this.state=202,this.complexExpression(0);break;case 5:this.enterOuterAlt(t,5),this.state=203,this.match(n.STRING);break;case 6:this.enterOuterAlt(t,6),this.state=204,this.type()}}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"functionCall",value:function(){var t=new Qn(this,this._ctx,this.state);this.enterRule(t,38,n.RULE_functionCall);try{this.enterOuterAlt(t,1),this.state=207,this.match(n.IDENTIFIER),this.state=208,this.match(n.PO),this.state=209,this.expression(),this.state=214,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,16,this._ctx);2!=e&&e!=We.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=210,this.match(n.VIRG),this.state=211,this.expression()),this.state=216,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,16,this._ctx);this.state=218,this._errHandler.sync(this),this._input.LA(1)===n.VIRG&&(this.state=217,this.match(n.VIRG)),this.state=220,this.match(n.PF)}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"complexExpression",value:function(t){void 0===t&&(t=0);var e=this._ctx,r=this.state,i=new Xn(this,this._ctx,r);this.enterRecursionRule(i,40,n.RULE_complexExpression,t);var o=0;try{switch(this.enterOuterAlt(i,1),this.state=247,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,22,this._ctx)){case 1:this.state=223,this.match(n.IDENTIFIER);break;case 2:this.state=225,this._errHandler.sync(this);var a=1;do{if(1!==a)throw new We.error.NoViableAltException(this);this.state=224,(o=this._input.LA(1))!==n.TIRET&&o!==n.IDENTIFIER?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=227,this._errHandler.sync(this),a=this._interp.adaptivePredict(this._input,18,this._ctx)}while(2!=a&&a!=We.atn.ATN.INVALID_ALT_NUMBER);break;case 3:this.state=229,this.match(n.OPEN),this.state=237,this._errHandler.sync(this),o=this._input.LA(1);do{switch(this.state=237,this._errHandler.sync(this),this._input.LA(1)){case n.IDENTIFIERS:this.state=230,this.match(n.IDENTIFIERS);break;case n.AUTRE:this.state=231,this.match(n.AUTRE);break;case n.WSS:this.state=233,this._errHandler.sync(this),a=1;do{if(1!==a)throw new We.error.NoViableAltException(this);this.state=232,this.match(n.WSS),this.state=235,this._errHandler.sync(this),a=this._interp.adaptivePredict(this._input,19,this._ctx)}while(2!=a&&a!=We.atn.ATN.INVALID_ALT_NUMBER);break;default:throw new We.error.NoViableAltException(this)}this.state=239,this._errHandler.sync(this),o=this._input.LA(1)}while(0==(o-36&-32)&&0!=(1<<o-36&(1<<n.IDENTIFIERS-36|1<<n.WSS-36|1<<n.AUTRE-36)));this.state=241,this.match(n.CLOSE);break;case 4:this.state=242,this.match(n.STRING),this.state=243,this.complexExpression(0),this.state=244,this.match(n.STRING);break;case 5:this.state=246,this.functionCall()}for(this._ctx.stop=this._input.LT(-1),this.state=262,this._errHandler.sync(this),a=this._interp.adaptivePredict(this._input,24,this._ctx);2!=a&&a!=We.atn.ATN.INVALID_ALT_NUMBER;){if(1===a)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),this.state=260,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,23,this._ctx)){case 1:if(i=new Xn(this,e,r),this.pushNewRecursionContext(i,40,n.RULE_complexExpression),this.state=249,!this.precpred(this._ctx,6))throw new We.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=250,this.match(n.POINT),this.state=251,this.complexExpression(7);break;case 2:if(i=new Xn(this,e,r),this.pushNewRecursionContext(i,40,n.RULE_complexExpression),this.state=252,!this.precpred(this._ctx,5))throw new We.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=253,this.match(n.CO),this.state=254,this.index(),this.state=255,this.match(n.CF);break;case 3:if(i=new Xn(this,e,r),this.pushNewRecursionContext(i,40,n.RULE_complexExpression),this.state=257,!this.precpred(this._ctx,4))throw new We.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=258,this.match(n.POINT),this.state=259,this.index()}this.state=264,this._errHandler.sync(this),a=this._interp.adaptivePredict(this._input,24,this._ctx)}}catch(t){if(!(t instanceof We.error.RecognitionException))throw t;i.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return i}},{key:"array",value:function(){var t=new Jn(this,this._ctx,this.state);this.enterRule(t,42,n.RULE_array);try{switch(this.state=281,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,27,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=265,this.match(n.CO),this.state=266,this.match(n.CF);break;case 2:this.enterOuterAlt(t,2),this.state=267,this.match(n.CO),this.state=268,this.expression(),this.state=273,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,25,this._ctx);2!=e&&e!=We.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=269,this.match(n.VIRG),this.state=270,this.expression()),this.state=275,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,25,this._ctx);this.state=277,this._errHandler.sync(this),this._input.LA(1)===n.VIRG&&(this.state=276,this.match(n.VIRG)),this.state=279,this.match(n.CF)}}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"index",value:function(){var t=new Zn(this,this._ctx,this.state);this.enterRule(t,44,n.RULE_index);var e=0;try{this.enterOuterAlt(t,1),this.state=283,(e=this._input.LA(1))!==n.MULT&&e!==n.NUMBER?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof We.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}}]),n}(We.Parser);Sn(Cn,"grammarFileName","terraformParser.g4"),Sn(Cn,"literalNames",[null,"'module'","'data'","'source'","'provider'","'terraform'","'resource'","'variable'","'output'","'list'","'map'","'object'","'condition'","'error_message'","'{'","'}'","'='","'('","')'","'['","']'","','","'.'","'-'","'*'",null,null,null,null,null,null,null,null,null,null,"'<<EOF'",null,null,null,null,"'EOF'"]),Sn(Cn,"symbolicNames",[null,"MODULE","DATA","SOURCE","PROVIDER","TERRAFORM","RESOURCE","VARIABLE","OUTPUT","LIST","MAP","OBJECT","CONDITION","ERROR","AO","AF","EQUAL","PO","PF","CO","CF","VIRG","POINT","TIRET","MULT","BOOLEANOP","BOOLEAN","TYPE","IDENTIFIER","STRING","NUMBER","COMMENT","LINE_COMMENT","HAS_COMMENT","WS","OPEN","IDENTIFIERS","WSS","NUMBERS","AUTRE","CLOSE"]),Sn(Cn,"ruleNames",["file","directive","dataDirective","moduleDirective","moduleSource","providerDirective","terraformDirective","resourceDirective","variableDirective","outputDirective","name","providerType","type","object","field","complexField","validation","condition","expression","functionCall","complexExpression","array","index"]),Cn.EOF=We.Token.EOF,Cn.MODULE=1,Cn.DATA=2,Cn.SOURCE=3,Cn.PROVIDER=4,Cn.TERRAFORM=5,Cn.RESOURCE=6,Cn.VARIABLE=7,Cn.OUTPUT=8,Cn.LIST=9,Cn.MAP=10,Cn.OBJECT=11,Cn.CONDITION=12,Cn.ERROR=13,Cn.AO=14,Cn.AF=15,Cn.EQUAL=16,Cn.PO=17,Cn.PF=18,Cn.CO=19,Cn.CF=20,Cn.VIRG=21,Cn.POINT=22,Cn.TIRET=23,Cn.MULT=24,Cn.BOOLEANOP=25,Cn.BOOLEAN=26,Cn.TYPE=27,Cn.IDENTIFIER=28,Cn.STRING=29,Cn.NUMBER=30,Cn.COMMENT=31,Cn.LINE_COMMENT=32,Cn.HAS_COMMENT=33,Cn.WS=34,Cn.OPEN=35,Cn.IDENTIFIERS=36,Cn.WSS=37,Cn.NUMBERS=38,Cn.AUTRE=39,Cn.CLOSE=40,Cn.RULE_file=0,Cn.RULE_directive=1,Cn.RULE_dataDirective=2,Cn.RULE_moduleDirective=3,Cn.RULE_moduleSource=4,Cn.RULE_providerDirective=5,Cn.RULE_terraformDirective=6,Cn.RULE_resourceDirective=7,Cn.RULE_variableDirective=8,Cn.RULE_outputDirective=9,Cn.RULE_name=10,Cn.RULE_providerType=11,Cn.RULE_type=12,Cn.RULE_object=13,Cn.RULE_field=14,Cn.RULE_complexField=15,Cn.RULE_validation=16,Cn.RULE_condition=17,Cn.RULE_expression=18,Cn.RULE_functionCall=19,Cn.RULE_complexExpression=20,Cn.RULE_array=21,Cn.RULE_index=22;var Rn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"directive",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Nn):this.getTypedRuleContext(Nn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_file,o}return gn(n,[{key:"enterRule",value:function(t){t instanceof nn&&t.enterFile(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitFile(this)}}]),n}(We.ParserRuleContext),Nn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_directive,o}return gn(n,[{key:"providerDirective",value:function(){return this.getTypedRuleContext(Dn,0)}},{key:"terraformDirective",value:function(){return this.getTypedRuleContext(Fn,0)}},{key:"resourceDirective",value:function(){return this.getTypedRuleContext(jn,0)}},{key:"variableDirective",value:function(){return this.getTypedRuleContext(Un,0)}},{key:"outputDirective",value:function(){return this.getTypedRuleContext(Bn,0)}},{key:"moduleDirective",value:function(){return this.getTypedRuleContext(In,0)}},{key:"dataDirective",value:function(){return this.getTypedRuleContext(Mn,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterDirective(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitDirective(this)}}]),n}(We.ParserRuleContext),Mn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"object",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Vn):this.getTypedRuleContext(Vn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_dataDirective,o}return gn(n,[{key:"DATA",value:function(){return this.getToken(Cn.DATA,0)}},{key:"providerType",value:function(){return this.getTypedRuleContext($n,0)}},{key:"name",value:function(){return this.getTypedRuleContext(zn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterDataDirective(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitDataDirective(this)}}]),n}(We.ParserRuleContext),In=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"moduleSource",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Ln):this.getTypedRuleContext(Ln,t)})),Sn(En(o),"object",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Vn):this.getTypedRuleContext(Vn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_moduleDirective,o}return gn(n,[{key:"MODULE",value:function(){return this.getToken(Cn.MODULE,0)}},{key:"name",value:function(){return this.getTypedRuleContext(zn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterModuleDirective(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitModuleDirective(this)}}]),n}(We.ParserRuleContext),Ln=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_moduleSource,o}return gn(n,[{key:"SOURCE",value:function(){return this.getToken(Cn.SOURCE,0)}},{key:"EQUAL",value:function(){return this.getToken(Cn.EQUAL,0)}},{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterModuleSource(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitModuleSource(this)}}]),n}(We.ParserRuleContext),Dn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_providerDirective,o}return gn(n,[{key:"PROVIDER",value:function(){return this.getToken(Cn.PROVIDER,0)}},{key:"name",value:function(){return this.getTypedRuleContext(zn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"object",value:function(){return this.getTypedRuleContext(Vn,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterProviderDirective(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitProviderDirective(this)}}]),n}(We.ParserRuleContext),Fn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"object",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Vn):this.getTypedRuleContext(Vn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_terraformDirective,o}return gn(n,[{key:"TERRAFORM",value:function(){return this.getToken(Cn.TERRAFORM,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterTerraformDirective(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitTerraformDirective(this)}}]),n}(We.ParserRuleContext),jn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_resourceDirective,o}return gn(n,[{key:"RESOURCE",value:function(){return this.getToken(Cn.RESOURCE,0)}},{key:"providerType",value:function(){return this.getTypedRuleContext($n,0)}},{key:"name",value:function(){return this.getTypedRuleContext(zn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"object",value:function(){return this.getTypedRuleContext(Vn,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterResourceDirective(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitResourceDirective(this)}}]),n}(We.ParserRuleContext),Un=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"object",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Vn):this.getTypedRuleContext(Vn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_variableDirective,o}return gn(n,[{key:"VARIABLE",value:function(){return this.getToken(Cn.VARIABLE,0)}},{key:"name",value:function(){return this.getTypedRuleContext(zn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterVariableDirective(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitVariableDirective(this)}}]),n}(We.ParserRuleContext),Bn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"object",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Vn):this.getTypedRuleContext(Vn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_outputDirective,o}return gn(n,[{key:"OUTPUT",value:function(){return this.getToken(Cn.OUTPUT,0)}},{key:"name",value:function(){return this.getTypedRuleContext(zn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterOutputDirective(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitOutputDirective(this)}}]),n}(We.ParserRuleContext),zn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_name,o}return gn(n,[{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterName(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitName(this)}}]),n}(We.ParserRuleContext),$n=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_providerType,o}return gn(n,[{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterProviderType(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitProviderType(this)}}]),n}(We.ParserRuleContext),qn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_type,o}return gn(n,[{key:"TYPE",value:function(){return this.getToken(Cn.TYPE,0)}},{key:"LIST",value:function(){return this.getToken(Cn.LIST,0)}},{key:"PO",value:function(){return this.getToken(Cn.PO,0)}},{key:"type",value:function(){return this.getTypedRuleContext(n,0)}},{key:"PF",value:function(){return this.getToken(Cn.PF,0)}},{key:"MAP",value:function(){return this.getToken(Cn.MAP,0)}},{key:"OBJECT",value:function(){return this.getToken(Cn.OBJECT,0)}},{key:"object",value:function(){return this.getTypedRuleContext(Vn,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterType(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitType(this)}}]),n}(We.ParserRuleContext),Vn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"complexField",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Kn):this.getTypedRuleContext(Kn,t)})),Sn(En(o),"field",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Hn):this.getTypedRuleContext(Hn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_object,o}return gn(n,[{key:"enterRule",value:function(t){t instanceof nn&&t.enterObject(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitObject(this)}}]),n}(We.ParserRuleContext),Hn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_field,o}return gn(n,[{key:"EQUAL",value:function(){return this.getToken(Cn.EQUAL,0)}},{key:"expression",value:function(){return this.getTypedRuleContext(Wn,0)}},{key:"IDENTIFIER",value:function(){return this.getToken(Cn.IDENTIFIER,0)}},{key:"SOURCE",value:function(){return this.getToken(Cn.SOURCE,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterField(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitField(this)}}]),n}(We.ParserRuleContext),Kn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"EQUAL",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.EQUAL):this.getToken(Cn.EQUAL,t)})),Sn(En(o),"STRING",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.STRING):this.getToken(Cn.STRING,t)})),o.parser=t,o.ruleIndex=Cn.RULE_complexField,o}return gn(n,[{key:"IDENTIFIER",value:function(){return this.getToken(Cn.IDENTIFIER,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"object",value:function(){return this.getTypedRuleContext(Vn,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterComplexField(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitComplexField(this)}}]),n}(We.ParserRuleContext),Yn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"EQUAL",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.EQUAL):this.getToken(Cn.EQUAL,t)})),Sn(En(o),"condition",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Gn):this.getTypedRuleContext(Gn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_validation,o}return gn(n,[{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"CONDITION",value:function(){return this.getToken(Cn.CONDITION,0)}},{key:"ERROR",value:function(){return this.getToken(Cn.ERROR,0)}},{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterValidation(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitValidation(this)}}]),n}(We.ParserRuleContext),Gn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_condition,o}return gn(n,[{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"NUMBER",value:function(){return this.getToken(Cn.NUMBER,0)}},{key:"BOOLEAN",value:function(){return this.getToken(Cn.BOOLEAN,0)}},{key:"BOOLEANOP",value:function(){return this.getToken(Cn.BOOLEANOP,0)}},{key:"functionCall",value:function(){return this.getTypedRuleContext(Qn,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterCondition(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitCondition(this)}}]),n}(We.ParserRuleContext),Wn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_expression,o}return gn(n,[{key:"NUMBER",value:function(){return this.getToken(Cn.NUMBER,0)}},{key:"BOOLEAN",value:function(){return this.getToken(Cn.BOOLEAN,0)}},{key:"array",value:function(){return this.getTypedRuleContext(Jn,0)}},{key:"complexExpression",value:function(){return this.getTypedRuleContext(Xn,0)}},{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"type",value:function(){return this.getTypedRuleContext(qn,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterExpression(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitExpression(this)}}]),n}(We.ParserRuleContext),Qn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"expression",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Wn):this.getTypedRuleContext(Wn,t)})),Sn(En(o),"VIRG",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.VIRG):this.getToken(Cn.VIRG,t)})),o.parser=t,o.ruleIndex=Cn.RULE_functionCall,o}return gn(n,[{key:"IDENTIFIER",value:function(){return this.getToken(Cn.IDENTIFIER,0)}},{key:"PO",value:function(){return this.getToken(Cn.PO,0)}},{key:"PF",value:function(){return this.getToken(Cn.PF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterFunctionCall(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitFunctionCall(this)}}]),n}(We.ParserRuleContext),Xn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"IDENTIFIER",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.IDENTIFIER):this.getToken(Cn.IDENTIFIER,t)})),Sn(En(o),"TIRET",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.TIRET):this.getToken(Cn.TIRET,t)})),Sn(En(o),"IDENTIFIERS",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.IDENTIFIERS):this.getToken(Cn.IDENTIFIERS,t)})),Sn(En(o),"AUTRE",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.AUTRE):this.getToken(Cn.AUTRE,t)})),Sn(En(o),"WSS",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.WSS):this.getToken(Cn.WSS,t)})),Sn(En(o),"STRING",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.STRING):this.getToken(Cn.STRING,t)})),Sn(En(o),"complexExpression",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(n):this.getTypedRuleContext(n,t)})),o.parser=t,o.ruleIndex=Cn.RULE_complexExpression,o}return gn(n,[{key:"OPEN",value:function(){return this.getToken(Cn.OPEN,0)}},{key:"CLOSE",value:function(){return this.getToken(Cn.CLOSE,0)}},{key:"functionCall",value:function(){return this.getTypedRuleContext(Qn,0)}},{key:"POINT",value:function(){return this.getToken(Cn.POINT,0)}},{key:"CO",value:function(){return this.getToken(Cn.CO,0)}},{key:"index",value:function(){return this.getTypedRuleContext(Zn,0)}},{key:"CF",value:function(){return this.getToken(Cn.CF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterComplexExpression(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitComplexExpression(this)}}]),n}(We.ParserRuleContext),Jn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Sn(En(o=e.call(this,r,i)),"expression",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Wn):this.getTypedRuleContext(Wn,t)})),Sn(En(o),"VIRG",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.VIRG):this.getToken(Cn.VIRG,t)})),o.parser=t,o.ruleIndex=Cn.RULE_array,o}return gn(n,[{key:"CO",value:function(){return this.getToken(Cn.CO,0)}},{key:"CF",value:function(){return this.getToken(Cn.CF,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterArray(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitArray(this)}}]),n}(We.ParserRuleContext),Zn=function(t){bn(n,t);var e=xn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_index,o}return gn(n,[{key:"NUMBER",value:function(){return this.getToken(Cn.NUMBER,0)}},{key:"MULT",value:function(){return this.getToken(Cn.MULT,0)}},{key:"enterRule",value:function(t){t instanceof nn&&t.enterIndex(this)}},{key:"exitRule",value:function(t){t instanceof nn&&t.exitIndex(this)}}]),n}(We.ParserRuleContext);function tr(t){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(t)}function er(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rr(t,e){return rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rr(t,e)}function ir(t,e){if(e&&("object"===tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function or(t){return or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},or(t)}Cn.FileContext=Rn,Cn.DirectiveContext=Nn,Cn.DataDirectiveContext=Mn,Cn.ModuleDirectiveContext=In,Cn.ModuleSourceContext=Ln,Cn.ProviderDirectiveContext=Dn,Cn.TerraformDirectiveContext=Fn,Cn.ResourceDirectiveContext=jn,Cn.VariableDirectiveContext=Un,Cn.OutputDirectiveContext=Bn,Cn.NameContext=zn,Cn.ProviderTypeContext=$n,Cn.TypeContext=qn,Cn.ObjectContext=Vn,Cn.FieldContext=Hn,Cn.ComplexFieldContext=Kn,Cn.ValidationContext=Yn,Cn.ConditionContext=Gn,Cn.ExpressionContext=Wn,Cn.FunctionCallContext=Qn,Cn.ComplexExpressionContext=Xn,Cn.ArrayContext=Jn,Cn.IndexContext=Zn;var ar=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rr(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=or(i);if(o){var n=or(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ir(this,t)});function s(){return er(this,s),a.apply(this,arguments)}return n=s,r=[{key:"isParsable",value:function(t){return/^.*\.tf$/.test(t.path)}},{key:"parse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=new nn(this.definitions.components);t.forEach((function(t){e.currentFile=t;var n=new We.InputStream(t.content),r=new pn(n),i=new We.CommonTokenStream(r),o=new Cn(i);o.buildParseTrees=!0;var a=o.file();We.tree.ParseTreeWalker.DEFAULT.walk(e,a)}));var n=e.components.map((function(t){return t.id=t.name,t}));return{components:this.getComponentTree(n),links:this.getLinks(n),errors:e.errors}}},{key:"getComponentTree",value:function(t){var e=this,n=[];return t.forEach((function(r){e.hasParent(r)?e.getParents(t,r).forEach((function(t){t.children.push(r)})):n.push(r)})),n}},{key:"getParents",value:function(t,e){return t.filter((function(t){return!!t.definition.isContainer&&e.attributes.some((function(e){return e.definition&&"Reference"===e.definition.type&&e.definition.containerRef===t.definition.type&&e.value===t.id}))}))}},{key:"hasParent",value:function(t){return!!t.definition&&t.definition.parentTypes.length>0&&t.attributes.some((function(t){return t.definition&&"Reference"===t.definition.type}))}},{key:"getLinks",value:function(e){var n=[];return this.definitions.links.forEach((function(r){var i="Default"===r.type?r.sourceRef:r.targetRef;e.filter((function(t){return t.definition&&t.definition.type===i})).forEach((function(e){e.attributes.filter((function(t){return t.name===r.attributeRef})).forEach((function(i){"Array"===i.type?i.value.forEach((function(i){return n.push(new t.ComponentLink({source:e.id,target:i,definition:r}))})):n.push(new t.ComponentLink({source:e.id,target:i.value,definition:r}))}))}))})),n}}],r&&nr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.DefaultParser);const sr=ar;var ur=n(985),cr=n.n(ur);function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function fr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hr(t,e){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hr(t,e)}function dr(t,e){if(e&&("object"===lr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pr(t){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pr(t)}var vr=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pr(i);if(o){var n=pr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return dr(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).template="{% for _block in components %}\n{{ _block.definition.blockType }} {% if ['resource','data'].includes(_block.definition.blockType) %}\"{{ _block.definition.type }}\" {% endif %}\"{{ _block.name }}\" {\n{% for attribute in _block.attributes %}\n    {% if attribute.type == 'Object' %}\n    {{ attribute.name }} {\n        {% for attr in attribute.value %}\n        {{ attr.name }} = {{ attr.value | dump }}\n        {% endfor %}\n    }\n    {% else %}\n    {{ attribute.name }} = {{ attribute.value | dump }}\n    {% endif %}\n{% endfor %}\n}\n\n{% endfor %}",cr().configure({autoescape:!1,trimBlocks:!0,lstripBlocks:!0}),t}return n=s,r=[{key:"render",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"./new_file.tf";e.forEach((function(e){var r=t.find((function(t){return t.id===e.source}));r&&n.setComponentAttribute(r,e.definition.attributeRef,"Array",e.target)}));var i=new Map;return this.collectComponentsFromTree(i,t,r),this.generateFilesFromComponentsMap(i)}},{key:"setComponentAttribute",value:function(e,n,r,i){var o=e.attributes.find((function(t){return t.name===n})),a="Array"===r;o?a&&!o.value.includes(i)?o.value.push(i):a||(o.value=i):e.attributes.push(new t.ComponentAttribute({name:n,value:a?[i]:i,type:r}))}},{key:"setContainerAttribute",value:function(t,e){var n=e.definition.definedAttributes.find((function(e){return"Reference"===e.type&&e.containerRef===t.definition.type}));this.setComponentAttribute(e,n.name,"String",t.id)}},{key:"collectComponentsFromTree",value:function(t,e,n){var r=this;e.forEach((function(e){r.initComponentPath(e,n),t.has(e.path)?t.get(e.path).push(e):t.set(e.path,[e]),0!==e.children.length&&(e.children.forEach((function(t){return r.setContainerAttribute(e,t)})),r.collectComponentsFromTree(t,e.children,e.path))}))}},{key:"initComponentPath",value:function(t,e){t.path||(t.path=e)}},{key:"generateFilesFromComponentsMap",value:function(e){var n=this,r=[];return e.forEach((function(e,i){r.push(new t.FileInput({path:i,content:"".concat(cr().renderString(n.template,{components:e}).trim(),"\n")}))})),r}}],r&&fr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.DefaultRender);const mr={PluginDrawer:u,PluginMetadata:P,PluginParser:sr,PluginRenderer:vr}})();var i=exports;for(var o in r)i[o]=r[o];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();