/*! For license information please see terrator-plugin.js.LICENSE.txt */
(()=>{var t={96:(t,e,n)=>{"use strict";var r=n(153),i=n(610),o=n(531),s=n(22),a=n(35),u=n(516),c=n(753),l=n(978),h=n(889);t.exports=y,y.prototype.validate=function(t,e){var n;if("string"==typeof t){if(!(n=this.getSchema(t)))throw new Error('no schema with key or ref "'+t+'"')}else{var r=this._addSchema(t);n=r.validate||this._compile(r)}var i=n(e);return!0!==n.$async&&(this.errors=n.errors),i},y.prototype.compile=function(t,e){var n=this._addSchema(t,void 0,e);return n.validate||this._compile(n)},y.prototype.addSchema=function(t,e,n,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)this.addSchema(t[o],void 0,n,r);return this}var s=this._getId(t);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return w(this,e=i.normalizeId(e||s)),this._schemas[e]=this._addSchema(t,n,r,!0),this},y.prototype.addMetaSchema=function(t,e,n){return this.addSchema(t,e,n,!0),this},y.prototype.validateSchema=function(t,e){var n=t.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(t){var e=t._opts.meta;return t._opts.defaultMeta="object"==typeof e?t._getId(e)||e:t.getSchema(p)?p:void 0,t._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,t);if(!r&&e){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r},y.prototype.getSchema=function(t){var e=g(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return function(t,e){var n=i.schema.call(t,{schema:{}},e);if(n){var o=n.schema,a=n.root,u=n.baseId,c=r.call(t,o,a,void 0,u);return t._fragments[e]=new s({ref:e,fragment:!0,schema:o,root:a,baseId:u,validate:c}),c}}(this,t)}},y.prototype.removeSchema=function(t){if(t instanceof RegExp)return _(this,this._schemas,t),_(this,this._refs,t),this;switch(typeof t){case"undefined":return _(this,this._schemas),_(this,this._refs),this._cache.clear(),this;case"string":var e=g(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var n=this._opts.serialize,r=n?n(t):t;this._cache.del(r);var o=this._getId(t);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},y.prototype.addFormat=function(t,e){return"string"==typeof e&&(e=new RegExp(e)),this._formats[t]=e,this},y.prototype.errorsText=function(t,e){if(!(t=t||this.errors))return"No errors";for(var n=void 0===(e=e||{}).separator?", ":e.separator,r=void 0===e.dataVar?"data":e.dataVar,i="",o=0;o<t.length;o++){var s=t[o];s&&(i+=r+s.dataPath+" "+s.message+n)}return i.slice(0,-n.length)},y.prototype._addSchema=function(t,e,n,r){if("object"!=typeof t&&"boolean"!=typeof t)throw new Error("schema should be object or boolean");var o=this._opts.serialize,a=o?o(t):t,u=this._cache.get(a);if(u)return u;r=r||!1!==this._opts.addUsedSchema;var c=i.normalizeId(this._getId(t));c&&r&&w(this,c);var l,h=!1!==this._opts.validateSchema&&!e;h&&!(l=c&&c==i.normalizeId(t.$schema))&&this.validateSchema(t,!0);var f=i.ids.call(this,t),d=new s({id:c,schema:t,localRefs:f,cacheKey:a,meta:n});return"#"!=c[0]&&r&&(this._refs[c]=d),this._cache.put(a,d),h&&l&&this.validateSchema(t,!0),d},y.prototype._compile=function(t,e){if(t.compiling)return t.validate=o,o.schema=t.schema,o.errors=null,o.root=e||o,!0===t.schema.$async&&(o.$async=!0),o;var n,i;t.compiling=!0,t.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,t.schema,e,t.localRefs)}catch(e){throw delete t.validate,e}finally{t.compiling=!1,t.meta&&(this._opts=n)}return t.validate=i,t.refs=i.refs,t.refVal=i.refVal,t.root=i.root,i;function o(){var e=t.validate,n=e.apply(this,arguments);return o.errors=e.errors,n}},y.prototype.compileAsync=n(931);var f=n(895);y.prototype.addKeyword=f.add,y.prototype.getKeyword=f.get,y.prototype.removeKeyword=f.remove,y.prototype.validateKeyword=f.validate;var d=n(802);y.ValidationError=d.Validation,y.MissingRefError=d.MissingRef,y.$dataMetaSchema=l;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],v=["/properties"];function y(t){if(!(this instanceof y))return new y(t);t=this._opts=h.copy(t)||{},function(t){var e=t._opts.logger;if(!1===e)t.logger={log:T,warn:T,error:T};else{if(void 0===e&&(e=console),!("object"==typeof e&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(t.format),this._cache=t.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(t){switch(t.schemaId){case"auto":return E;case"id":return b;default:return x}}(t),t.loopRequired=t.loopRequired||1/0,"property"==t.errorDataPath&&(t._errorDataPathProperty=!0),void 0===t.serialize&&(t.serialize=a),this._metaOpts=function(t){for(var e=h.copy(t._opts),n=0;n<m.length;n++)delete e[m[n]];return e}(this),t.formats&&function(t){for(var e in t._opts.formats){var n=t._opts.formats[e];t.addFormat(e,n)}}(this),t.keywords&&function(t){for(var e in t._opts.keywords){var n=t._opts.keywords[e];t.addKeyword(e,n)}}(this),function(t){var e;if(t._opts.$data&&(e=n(894),t.addMetaSchema(e,e.$id,!0)),!1!==t._opts.meta){var r=n(680);t._opts.$data&&(r=l(r,v)),t.addMetaSchema(r,p,!0),t._refs["http://json-schema.org/schema"]=p}}(this),"object"==typeof t.meta&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var n in e)t.addSchema(e[n],n)}(this)}function g(t,e){return e=i.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function _(t,e,n){for(var r in e){var i=e[r];i.meta||n&&!n.test(r)||(t._cache.del(i.cacheKey),delete e[r])}}function b(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function x(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function E(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function w(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function T(){}},531:t=>{"use strict";var e=t.exports=function(){this._cache={}};e.prototype.put=function(t,e){this._cache[t]=e},e.prototype.get=function(t){return this._cache[t]},e.prototype.del=function(t){delete this._cache[t]},e.prototype.clear=function(){this._cache={}}},931:(t,e,n)=>{"use strict";var r=n(802).MissingRef;t.exports=function t(e,n,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var s=a(e).then((function(){var t=o._addSchema(e,void 0,n);return t.validate||u(t)}));return i&&s.then((function(t){i(null,t)}),i),s;function a(e){var n=e.$schema;return n&&!o.getSchema(n)?t.call(o,{$ref:n},!0):Promise.resolve()}function u(t){try{return o._compile(t)}catch(e){if(e instanceof r)return function(e){var r=e.missingSchema;if(c(r))throw new Error("Schema "+r+" is loaded but "+e.missingRef+" cannot be resolved");var i=o._loadingSchemas[r];return i||(i=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(s,s),i.then((function(t){if(!c(r))return a(t).then((function(){c(r)||o.addSchema(t,r,void 0,n)}))})).then((function(){return u(t)}));function s(){delete o._loadingSchemas[r]}function c(t){return o._refs[t]||o._schemas[t]}}(e);throw e}}}},802:(t,e,n)=>{"use strict";var r=n(610);function i(t,e,n){this.message=n||i.message(t,e),this.missingRef=r.url(t,e),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function o(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}t.exports={Validation:o((function(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(t,e){return"can't resolve reference "+e+" from id "+t}},516:(t,e,n)=>{"use strict";var r=n(889),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,a=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,h=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,f=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(t){return t="full"==t?"full":"fast",r.copy(m[t])}function v(t){var e=t.match(i);if(!e)return!1;var n=+e[1],r=+e[2],s=+e[3];return r>=1&&r<=12&&s>=1&&s<=(2==r&&function(t){return t%4==0&&(t%100!=0||t%400==0)}(n)?29:o[r])}function y(t,e){var n=t.match(s);if(!n)return!1;var r=n[1],i=n[2],o=n[3],a=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!e||a)}t.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:x,uuid:h,"json-pointer":f,"json-pointer-uri-fragment":d,"relative-json-pointer":p},m.full={date:v,time:y,"date-time":function(t){var e=t.split(g);return 2==e.length&&v(e[0])&&y(e[1],!0)},uri:function(t){return _.test(t)&&u.test(t)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:x,uuid:h,"json-pointer":f,"json-pointer-uri-fragment":d,"relative-json-pointer":p};var g=/t|\s/i,_=/\/|:/,b=/[^\\]\\Z/;function x(t){if(b.test(t))return!1;try{return new RegExp(t),!0}catch(t){return!1}}},153:(t,e,n)=>{"use strict";var r=n(610),i=n(889),o=n(802),s=n(35),a=n(508),u=i.ucs2length,c=n(63),l=o.Validation;function h(t,e,n){var r=d.call(this,t,e,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:t,root:e,baseId:n},{index:r,compiling:!1})}function f(t,e,n){var r=d.call(this,t,e,n);r>=0&&this._compilations.splice(r,1)}function d(t,e,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==t&&i.root==e&&i.baseId==n)return r}return-1}function p(t,e){return"var pattern"+t+" = new RegExp("+i.toQuotedString(e[t])+");"}function m(t){return"var default"+t+" = defaults["+t+"];"}function v(t,e){return void 0===e[t]?"":"var refVal"+t+" = refVal["+t+"];"}function y(t){return"var customRule"+t+" = customRules["+t+"];"}function g(t,e){if(!t.length)return"";for(var n="",r=0;r<t.length;r++)n+=e(r,t);return n}t.exports=function t(e,n,d,_){var b=this,x=this._opts,E=[void 0],w={},T=[],S={},k=[],A={},O=[];n=n||{schema:e,refVal:E,refs:w};var C=h.call(this,e,n,_),P=this._compilations[C.index];if(C.compiling)return P.callValidate=function t(){var e=P.validate,n=e.apply(this,arguments);return t.errors=e.errors,n};var R=this._formats,N=this.RULES;try{var L=M(e,n,d,_);P.validate=L;var I=P.callValidate;return I&&(I.schema=L.schema,I.errors=null,I.refs=L.refs,I.refVal=L.refVal,I.root=L.root,I.$async=L.$async,x.sourceCode&&(I.source=L.source)),L}finally{f.call(this,e,n,_)}function M(e,s,h,f){var d=!s||s&&s.schema==e;if(s.schema!=n.schema)return t.call(b,e,s,h,f);var _,S=!0===e.$async,A=a({isTop:!0,schema:e,isRoot:d,baseId:f,root:s,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:N,validate:a,util:i,resolve:r,resolveRef:D,usePattern:U,useDefault:B,useCustomRule:$,opts:x,formats:R,logger:b.logger,self:b});A=g(E,v)+g(T,p)+g(k,m)+g(O,y)+A,x.processCode&&(A=x.processCode(A,e));try{_=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",A)(b,N,R,n,E,k,O,c,u,l),E[0]=_}catch(t){throw b.logger.error("Error compiling schema, function code:",A),t}return _.schema=e,_.errors=null,_.refs=w,_.refVal=E,_.root=d?_:s,S&&(_.$async=!0),!0===x.sourceCode&&(_.source={code:A,patterns:T,defaults:k}),_}function D(e,i,o){i=r.url(e,i);var s,a,u=w[i];if(void 0!==u)return j(s=E[u],a="refVal["+u+"]");if(!o&&n.refs){var c=n.refs[i];if(void 0!==c)return j(s=n.refVal[c],a=F(i,s))}a=F(i);var l=r.call(b,M,n,i);if(void 0===l){var h=d&&d[i];h&&(l=r.inlineRef(h,x.inlineRefs)?h:t.call(b,h,n,d,e))}if(void 0!==l)return function(t,e){var n=w[t];E[n]=e}(i,l),j(l,a);!function(t){delete w[t]}(i)}function F(t,e){var n=E.length;return E[n]=e,w[t]=n,"refVal"+n}function j(t,e){return"object"==typeof t||"boolean"==typeof t?{code:e,schema:t,inline:!0}:{code:e,$async:t&&!!t.$async}}function U(t){var e=S[t];return void 0===e&&(e=S[t]=T.length,T[e]=t),"pattern"+e}function B(t){switch(typeof t){case"boolean":case"number":return""+t;case"string":return i.toQuotedString(t);case"object":if(null===t)return"null";var e=s(t),n=A[e];return void 0===n&&(n=A[e]=k.length,k[n]=t),"default"+n}}function $(t,e,n,r){if(!1!==b._opts.validateSchema){var i=t.definition.dependencies;if(i&&!i.every((function(t){return Object.prototype.hasOwnProperty.call(n,t)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=t.definition.validateSchema;if(o&&!o(e)){var s="keyword schema is invalid: "+b.errorsText(o.errors);if("log"!=b._opts.validateSchema)throw new Error(s);b.logger.error(s)}}var a,u=t.definition.compile,c=t.definition.inline,l=t.definition.macro;if(u)a=u.call(b,e,n,r);else if(l)a=l.call(b,e,n,r),!1!==x.validateSchema&&b.validateSchema(a,!0);else if(c)a=c.call(b,r,t.keyword,e,n);else if(!(a=t.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+t.keyword+'"failed to compile');var h=O.length;return O[h]=a,{code:"customRule"+h,validate:a}}}},610:(t,e,n)=>{"use strict";var r=n(540),i=n(63),o=n(889),s=n(22),a=n(461);function u(t,e,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return u.call(this,t,e,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof s)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,a,l=c.call(this,e,n);return l&&(i=l.schema,e=l.root,a=l.baseId),i instanceof s?o=i.validate||t.call(this,i.schema,e,void 0,a):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,a)),o}function c(t,e){var n=r.parse(e),i=g(n),o=y(this._getId(t.schema));if(0===Object.keys(t.schema).length||i!==o){var a=b(i),u=this._refs[a];if("string"==typeof u)return l.call(this,t,u,n);if(u instanceof s)u.validate||this._compile(u),t=u;else{if(!((u=this._schemas[a])instanceof s))return;if(u.validate||this._compile(u),a==b(e))return{schema:u,root:t,baseId:o};t=u}if(!t.schema)return;o=y(this._getId(t.schema))}return f.call(this,n,o,t.schema,t)}function l(t,e,n){var r=c.call(this,t,e);if(r){var i=r.schema,o=r.baseId;t=r.root;var s=this._getId(i);return s&&(o=x(o,s)),f.call(this,n,o,i,t)}}t.exports=u,u.normalizeId=b,u.fullPath=y,u.url=x,u.ids=function(t){var e=b(this._getId(t)),n={"":e},s={"":y(e,!1)},u={},c=this;return a(t,{allKeys:!0},(function(t,e,a,l,h,f,d){if(""!==e){var p=c._getId(t),m=n[l],v=s[l]+"/"+h;if(void 0!==d&&(v+="/"+("number"==typeof d?d:o.escapeFragment(d))),"string"==typeof p){p=m=b(m?r.resolve(m,p):p);var y=c._refs[p];if("string"==typeof y&&(y=c._refs[y]),y&&y.schema){if(!i(t,y.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=b(v))if("#"==p[0]){if(u[p]&&!i(t,u[p]))throw new Error('id "'+p+'" resolves to more than one schema');u[p]=t}else c._refs[p]=v}n[e]=m,s[e]=v}})),u},u.inlineRef=p,u.schema=c;var h=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function f(t,e,n,r){if(t.fragment=t.fragment||"","/"==t.fragment.slice(0,1)){for(var i=t.fragment.split("/"),s=1;s<i.length;s++){var a=i[s];if(a){if(void 0===(n=n[a=o.unescapeFragment(a)]))break;var u;if(!h[a]&&((u=this._getId(n))&&(e=x(e,u)),n.$ref)){var l=x(e,n.$ref),f=c.call(this,r,l);f&&(n=f.schema,r=f.root,e=f.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:e}:void 0}}var d=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(t,e){return!1!==e&&(void 0===e||!0===e?m(t):e?v(t)<=e:void 0)}function m(t){var e;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(e=t[n])&&!m(e))return!1}else for(var r in t){if("$ref"==r)return!1;if("object"==typeof(e=t[r])&&!m(e))return!1}return!0}function v(t){var e,n=0;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(e=t[r])&&(n+=v(e)),n==1/0)return 1/0}else for(var i in t){if("$ref"==i)return 1/0;if(d[i])n++;else if("object"==typeof(e=t[i])&&(n+=v(e)+1),n==1/0)return 1/0}return n}function y(t,e){return!1!==e&&(t=b(t)),g(r.parse(t))}function g(t){return r.serialize(t).split("#")[0]+"#"}var _=/#\/?$/;function b(t){return t?t.replace(_,""):""}function x(t,e){return e=b(e),r.resolve(t,e)}},753:(t,e,n)=>{"use strict";var r=n(674),i=n(889).toHash;t.exports=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],e=["type","$comment"];return t.all=i(e),t.types=i(["number","integer","string","array","object","boolean","null"]),t.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){e.push(n),t.all[n]=!0}))}return e.push(n),t.all[n]={keyword:n,code:r[n],implements:i}})),t.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(t.types[n.type]=n)})),t.keywords=i(e.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),t.custom={},t}},22:(t,e,n)=>{"use strict";var r=n(889);t.exports=function(t){r.copy(t,this)}},442:t=>{"use strict";t.exports=function(t){for(var e,n=0,r=t.length,i=0;i<r;)n++,(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<r&&56320==(64512&(e=t.charCodeAt(i)))&&i++;return n}},889:(t,e,n)=>{"use strict";function r(t,e,n,r){var i=r?" !== ":" === ",o=r?" || ":" && ",s=r?"!":"",a=r?"":"!";switch(t){case"null":return e+i+"null";case"array":return s+"Array.isArray("+e+")";case"object":return"("+s+e+o+"typeof "+e+i+'"object"'+o+a+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+i+'"number"'+o+a+"("+e+" % 1)"+o+e+i+e+(n?o+s+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+i+'"'+t+'"'+(n?o+s+"isFinite("+e+")":"")+")";default:return"typeof "+e+i+'"'+t+'"'}}t.exports={copy:function(t,e){for(var n in e=e||{},t)e[n]=t[n];return e},checkDataType:r,checkDataTypes:function(t,e,n){if(1===t.length)return r(t[0],e,n,!0);var i="",s=o(t);for(var a in s.array&&s.object&&(i=s.null?"(":"(!"+e+" || ",i+="typeof "+e+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer,s)i+=(i?" && ":"")+r(a,e,n,!0);return i},coerceToTypes:function(t,e){if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++){var o=e[r];(i[o]||"array"===t&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(i[e])return[e];if("array"===t&&"array"===e)return["array"]}},toHash:o,getProperty:u,escapeQuotes:c,equal:n(63),ucs2length:n(442),varOccurences:function(t,e){e+="[^0-9]";var n=t.match(new RegExp(e,"g"));return n?n.length:0},varReplace:function(t,e,n){return e+="([^0-9])",n=n.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),n+"$1")},schemaHasRules:function(t,e){if("boolean"==typeof t)return!t;for(var n in t)if(e[n])return!0},schemaHasRulesExcept:function(t,e,n){if("boolean"==typeof t)return!t&&"not"!=n;for(var r in t)if(r!=n&&e[r])return!0},schemaUnknownRules:function(t,e){if("boolean"!=typeof t)for(var n in t)if(!e[n])return n},toQuotedString:l,getPathExpr:function(t,e,n,r){return d(t,n?"'/' + "+e+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")},getPath:function(t,e,n){return d(t,l(n?"/"+p(e):u(e)))},getData:function(t,e,n){var r,i,o,s;if(""===t)return"rootData";if("/"==t[0]){if(!h.test(t))throw new Error("Invalid JSON-pointer: "+t);i=t,o="rootData"}else{if(!(s=t.match(f)))throw new Error("Invalid JSON-pointer: "+t);if(r=+s[1],"#"==(i=s[2])){if(r>=e)throw new Error("Cannot access property/index "+r+" levels up, current level is "+e);return n[e-r]}if(r>e)throw new Error("Cannot access data "+r+" levels up, current level is "+e);if(o="data"+(e-r||""),!i)return o}for(var a=o,c=i.split("/"),l=0;l<c.length;l++){var d=c[l];d&&(a+=" && "+(o+=u(m(d))))}return a},unescapeFragment:function(t){return m(decodeURIComponent(t))},unescapeJsonPointer:m,escapeFragment:function(t){return encodeURIComponent(p(t))},escapeJsonPointer:p};var i=o(["string","number","integer","boolean","null"]);function o(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var s=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function u(t){return"number"==typeof t?"["+t+"]":s.test(t)?"."+t:"['"+c(t)+"']"}function c(t){return t.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(t){return"'"+c(t)+"'"}var h=/^\/(?:[^~]|~0|~1)*$/,f=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function d(t,e){return'""'==t?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function p(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function m(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}},978:t=>{"use strict";var e=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];t.exports=function(t,n){for(var r=0;r<n.length;r++){t=JSON.parse(JSON.stringify(t));var i,o=n[r].split("/"),s=t;for(i=1;i<o.length;i++)s=s[o[i]];for(i=0;i<e.length;i++){var a=e[i],u=s[a];u&&(s[a]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t}},128:(t,e,n)=>{"use strict";var r=n(680);t.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},210:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",r="schema"+o):r=a;var d="maximum"==e,p=d?"exclusiveMaximum":"exclusiveMinimum",m=t.schema[p],v=t.opts.$data&&m&&m.$data,y=d?"<":">",g=d?">":"<",_=void 0;if(!f&&"number"!=typeof a&&void 0!==a)throw new Error(e+" must be number");if(!v&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(p+" must be number or boolean");if(v){var b,x=t.util.getData(m.$data,s,t.dataPathArr),E="exclusive"+o,w="exclType"+o,T="exclIsNumber"+o,S="' + "+(A="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+x+"; ",i+=" var "+E+"; var "+w+" = typeof "+(x="schemaExcl"+o)+"; if ("+w+" != 'boolean' && "+w+" != 'undefined' && "+w+" != 'number') { ",_=p,(b=b||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(_||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),t.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var k=i;i=b.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+w+" == 'number' ? ( ("+E+" = "+r+" === undefined || "+x+" "+y+"= "+r+") ? "+h+" "+g+"= "+x+" : "+h+" "+g+" "+r+" ) : ( ("+E+" = "+x+" === true) ? "+h+" "+g+"= "+r+" : "+h+" "+g+" "+r+" ) || "+h+" !== "+h+") { var op"+o+" = "+E+" ? '"+y+"' : '"+y+"='; ",void 0===a&&(_=p,c=t.errSchemaPath+"/"+p,r=x,f=v)}else if(S=y,(T="number"==typeof m)&&f){var A="'"+S+"'";i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+y+"= "+r+" ? "+h+" "+g+"= "+m+" : "+h+" "+g+" "+r+" ) || "+h+" !== "+h+") { "}else T&&void 0===a?(E=!0,_=p,c=t.errSchemaPath+"/"+p,r=m,g+="="):(T&&(r=Math[d?"min":"max"](m,a)),m===(!T||r)?(E=!0,_=p,c=t.errSchemaPath+"/"+p,g+="="):(E=!1,S+="=")),A="'"+S+"'",i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+" "+g+" "+r+" || "+h+" !== "+h+") { ";return _=_||e,(b=b||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(_||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { comparison: "+A+", limit: "+r+", exclusive: "+E+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be "+S+" ",i+=f?"' + "+r:r+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",k=i,i=b.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i}},38:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",r="schema"+o):r=a,!f&&"number"!=typeof a)throw new Error(e+" must be number");i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+".length "+("maxItems"==e?">":"<")+" "+r+") { ";var d=e,p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==e?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+a,i+=" items' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},425:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",r="schema"+o):r=a,!f&&"number"!=typeof a)throw new Error(e+" must be number");var d="maxLength"==e?">":"<";i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===t.opts.unicode?i+=" "+h+".length ":i+=" ucs2length("+h+") ",i+=" "+d+" "+r+") { ";var p=e,m=m||[];m.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==e?"longer":"shorter",i+=" than ",i+=f?"' + "+r+" + '":""+a,i+=" characters' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var v=i;return i=m.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},204:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",r="schema"+o):r=a,!f&&"number"!=typeof a)throw new Error(e+" must be number");i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+h+").length "+("maxProperties"==e?">":"<")+" "+r+") { ";var d=e,p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==e?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+a,i+=" properties' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},988:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.schema[e],o=t.schemaPath+t.util.getProperty(e),s=t.errSchemaPath+"/"+e,a=!t.opts.allErrors,u=t.util.copy(t),c="";u.level++;var l="valid"+u.level,h=u.baseId,f=!0,d=i;if(d)for(var p,m=-1,v=d.length-1;m<v;)p=d[m+=1],(t.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0||!1===p:t.util.schemaHasRules(p,t.RULES.all))&&(f=!1,u.schema=p,u.schemaPath=o+"["+m+"]",u.errSchemaPath=s+"/"+m,r+="  "+t.validate(u)+" ",u.baseId=h,a&&(r+=" if ("+l+") { ",c+="}"));return a&&(r+=f?" if (true) { ":" "+c.slice(0,-1)+" "),r}},996:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level,v=s.every((function(e){return t.opts.strictKeywords?"object"==typeof e&&Object.keys(e).length>0||!1===e:t.util.schemaHasRules(e,t.RULES.all)}));if(v){var y=d.baseId;r+=" var "+f+" = errors; var "+h+" = false;  ";var g=t.compositeRule;t.compositeRule=d.compositeRule=!0;var _=s;if(_)for(var b,x=-1,E=_.length-1;x<E;)b=_[x+=1],d.schema=b,d.schemaPath=a+"["+x+"]",d.errSchemaPath=u+"/"+x,r+="  "+t.validate(d)+" ",d.baseId=y,r+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",p+="}";t.compositeRule=d.compositeRule=g,r+=" "+p+" if (!"+h+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else c&&(r+=" if (true) { ");return r}},812:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.schema[e],o=t.errSchemaPath+"/"+e,s=(t.opts.allErrors,t.util.toQuotedString(i));return!0===t.opts.$comment?r+=" console.log("+s+");":"function"==typeof t.opts.$comment&&(r+=" self._opts.$comment("+s+", "+t.util.toQuotedString(o)+", validate.root.schema);"),r}},306:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; "),f||(r+=" var schema"+i+" = validate.schema"+a+";"),r+="var "+h+" = equal("+l+", schema"+i+"); if (!"+h+") {   ";var d=d||[];d.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should be equal to constant' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var p=r;return r=d.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}},840:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,m="i"+i,v=d.dataLevel=t.dataLevel+1,y="data"+v,g=t.baseId,_=t.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:t.util.schemaHasRules(s,t.RULES.all);if(r+="var "+f+" = errors;var "+h+";",_){var b=t.compositeRule;t.compositeRule=d.compositeRule=!0,d.schema=s,d.schemaPath=a,d.errSchemaPath=u,r+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers,!0);var x=l+"["+m+"]";d.dataPathArr[v]=m;var E=t.validate(d);d.baseId=g,t.util.varOccurences(E,y)<2?r+=" "+t.util.varReplace(E,y,x)+" ":r+=" var "+y+" = "+x+"; "+E+" ",r+=" if ("+p+") break; }  ",t.compositeRule=d.compositeRule=b,r+="  if (!"+p+") {"}else r+=" if ("+l+".length == 0) {";var w=w||[];w.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should contain a valid item' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var T=r;return r=w.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",_&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),t.opts.allErrors&&(r+=" } "),r}},165:t=>{"use strict";t.exports=function(t,e,n){var r,i,o=" ",s=t.level,a=t.dataLevel,u=t.schema[e],c=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,f="data"+(a||""),d="valid"+s,p="errs__"+s,m=t.opts.$data&&u&&u.$data;m?(o+=" var schema"+s+" = "+t.util.getData(u.$data,a,t.dataPathArr)+"; ",i="schema"+s):i=u;var v,y,g,_,b,x=this,E="definition"+s,w=x.definition,T="";if(m&&w.$data){b="keywordValidate"+s;var S=w.validateSchema;o+=" var "+E+" = RULES.custom['"+e+"'].definition; var "+b+" = "+E+".validate;"}else{if(!(_=t.useCustomRule(x,u,t.schema,t)))return;i="validate.schema"+c,b=_.code,v=w.compile,y=w.inline,g=w.macro}var k=b+".errors",A="i"+s,O="ruleErr"+s,C=w.async;if(C&&!t.async)throw new Error("async keyword in sync schema");if(y||g||(o+=k+" = null;"),o+="var "+p+" = errors;var "+d+";",m&&w.$data&&(T+="}",o+=" if ("+i+" === undefined) { "+d+" = true; } else { ",S&&(T+="}",o+=" "+d+" = "+E+".validateSchema("+i+"); if ("+d+") { ")),y)w.statements?o+=" "+_.validate+" ":o+=" "+d+" = "+_.validate+"; ";else if(g){var P=t.util.copy(t);T="",P.level++;var R="valid"+P.level;P.schema=_.validate,P.schemaPath="";var N=t.compositeRule;t.compositeRule=P.compositeRule=!0;var L=t.validate(P).replace(/validate\.schema/g,b);t.compositeRule=P.compositeRule=N,o+=" "+L}else{(F=F||[]).push(o),o="",o+="  "+b+".call( ",t.opts.passContext?o+="this":o+="self",v||!1===w.schema?o+=" , "+f+" ":o+=" , "+i+" , "+f+" , validate.schema"+t.schemaPath+" ",o+=" , (dataPath || '')",'""'!=t.errorPath&&(o+=" + "+t.errorPath);var I=a?"data"+(a-1||""):"parentData",M=a?t.dataPathArr[a]:"parentDataProperty",D=o+=" , "+I+" , "+M+" , rootData )  ";o=F.pop(),!1===w.errors?(o+=" "+d+" = ",C&&(o+="await "),o+=D+"; "):o+=C?" var "+(k="customErrors"+s)+" = null; try { "+d+" = await "+D+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } ":" "+k+" = null; "+d+" = "+D+"; "}if(w.modifying&&(o+=" if ("+I+") "+f+" = "+I+"["+M+"];"),o+=""+T,w.valid)h&&(o+=" if (true) { ");else{var F;o+=" if ( ",void 0===w.valid?(o+=" !",o+=g?""+R:""+d):o+=" "+!w.valid+" ",o+=") { ",r=x.keyword,(F=F||[]).push(o),o="",(F=F||[]).push(o),o="",!1!==t.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { keyword: '"+x.keyword+"' } ",!1!==t.opts.messages&&(o+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),t.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var j=o;o=F.pop(),!t.compositeRule&&h?t.async?o+=" throw new ValidationError(["+j+"]); ":o+=" validate.errors = ["+j+"]; return false; ":o+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var U=o;o=F.pop(),y?w.errors?"full"!=w.errors&&(o+="  for (var "+A+"="+p+"; "+A+"<errors; "+A+"++) { var "+O+" = vErrors["+A+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+l+'"; } ',t.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+f+"; "),o+=" } "):!1===w.errors?o+=" "+U+" ":(o+=" if ("+p+" == errors) { "+U+" } else {  for (var "+A+"="+p+"; "+A+"<errors; "+A+"++) { var "+O+" = vErrors["+A+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+l+'"; } ',t.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+f+"; "),o+=" } } "):g?(o+="   var err =   ",!1!==t.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { keyword: '"+x.keyword+"' } ",!1!==t.opts.messages&&(o+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),t.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&h&&(t.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===w.errors?o+=" "+U+" ":(o+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+A+"="+p+"; "+A+"<errors; "+A+"++) { var "+O+" = vErrors["+A+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+t.errorPath+";  "+O+'.schemaPath = "'+l+'";  ',t.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+f+"; "),o+=" } } else { "+U+" } "),o+=" } ",h&&(o+=" else { ")}return o}},659:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level,m={},v={},y=t.opts.ownProperties;for(x in s)if("__proto__"!=x){var g=s[x],_=Array.isArray(g)?v:m;_[x]=g}r+="var "+h+" = errors;";var b=t.errorPath;for(var x in r+="var missing"+i+";",v)if((_=v[x]).length){if(r+=" if ( "+l+t.util.getProperty(x)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(x)+"') "),c){r+=" && ( ";var E=_;if(E)for(var w=-1,T=E.length-1;w<T;)P=E[w+=1],w&&(r+=" || "),r+=" ( ( "+(I=l+(L=t.util.getProperty(P)))+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(P)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?P:L)+") ) ";r+=")) {  ";var S="missing"+i,k="' + "+S+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(b,S,!0):b+" + "+S);var A=A||[];A.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { property: '"+t.util.escapeQuotes(x)+"', missingProperty: '"+k+"', depsCount: "+_.length+", deps: '"+t.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==t.opts.messages&&(r+=" , message: 'should have ",1==_.length?r+="property "+t.util.escapeQuotes(_[0]):r+="properties "+t.util.escapeQuotes(_.join(", ")),r+=" when property "+t.util.escapeQuotes(x)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var O=r;r=A.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var C=_;if(C)for(var P,R=-1,N=C.length-1;R<N;){P=C[R+=1];var L=t.util.getProperty(P),I=(k=t.util.escapeQuotes(P),l+L);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(b,P,t.opts.jsonPointers)),r+=" if ( "+I+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(P)+"') "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { property: '"+t.util.escapeQuotes(x)+"', missingProperty: '"+k+"', depsCount: "+_.length+", deps: '"+t.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==t.opts.messages&&(r+=" , message: 'should have ",1==_.length?r+="property "+t.util.escapeQuotes(_[0]):r+="properties "+t.util.escapeQuotes(_.join(", ")),r+=" when property "+t.util.escapeQuotes(x)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",c&&(d+="}",r+=" else { ")}t.errorPath=b;var M=f.baseId;for(var x in m)g=m[x],(t.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:t.util.schemaHasRules(g,t.RULES.all))&&(r+=" "+p+" = true; if ( "+l+t.util.getProperty(x)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(x)+"') "),r+=") { ",f.schema=g,f.schemaPath=a+t.util.getProperty(x),f.errSchemaPath=u+"/"+t.util.escapeFragment(x),r+="  "+t.validate(f)+" ",f.baseId=M,r+=" }  ",c&&(r+=" if ("+p+") { ",d+="}"));return c&&(r+="   "+d+" if ("+h+" == errors) {"),r}},740:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ");var d="i"+i,p="schema"+i;f||(r+=" var "+p+" = validate.schema"+a+";"),r+="var "+h+";",f&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=h+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+l+", "+p+"["+d+"])) { "+h+" = true; break; }",f&&(r+="  }  "),r+=" if (!"+h+") {   ";var m=m||[];m.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var v=r;return r=m.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}},14:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||"");if(!1===t.opts.format)return c&&(r+=" if (true) { "),r;var h,f=t.opts.$data&&s&&s.$data;f?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",h="schema"+i):h=s;var d=t.opts.unknownFormats,p=Array.isArray(d);if(f)r+=" var "+(m="format"+i)+" = formats["+h+"]; var "+(v="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(y="formatType"+i)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",t.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",f&&(r+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),r+=" (","ignore"!=d&&(r+=" ("+h+" && !"+m+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),r+=") || "),r+=" ("+m+" && "+y+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",t.async?r+=" (async"+i+" ? await "+m+"("+l+") : "+m+"("+l+")) ":r+=" "+m+"("+l+") ",r+=" : "+m+".test("+l+"))))) {";else{var m;if(!(m=t.formats[s])){if("ignore"==d)return t.logger.warn('unknown format "'+s+'" ignored in schema at path "'+t.errSchemaPath+'"'),c&&(r+=" if (true) { "),r;if(p&&d.indexOf(s)>=0)return c&&(r+=" if (true) { "),r;throw new Error('unknown format "'+s+'" is used in schema at path "'+t.errSchemaPath+'"')}var v,y=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var g=!0===m.async;m=m.validate}if(y!=n)return c&&(r+=" if (true) { "),r;if(g){if(!t.async)throw new Error("async format in sync schema");r+=" if (!(await "+(_="formats"+t.util.getProperty(s)+".validate")+"("+l+"))) { "}else{r+=" if (! ";var _="formats"+t.util.getProperty(s);v&&(_+=".validate"),r+="function"==typeof m?" "+_+"("+l+") ":" "+_+".test("+l+") ",r+=") { "}}var b=b||[];b.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { format:  ",r+=f?""+h:""+t.util.toQuotedString(s),r+="  } ",!1!==t.opts.messages&&(r+=" , message: 'should match format \"",r+=f?"' + "+h+" + '":""+t.util.escapeQuotes(s),r+="\"' "),t.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+a:""+t.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var x=r;return r=b.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c&&(r+=" else { "),r}},231:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,m=t.schema.then,v=t.schema.else,y=void 0!==m&&(t.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:t.util.schemaHasRules(m,t.RULES.all)),g=void 0!==v&&(t.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:t.util.schemaHasRules(v,t.RULES.all)),_=d.baseId;if(y||g){var b;d.createErrors=!1,d.schema=s,d.schemaPath=a,d.errSchemaPath=u,r+=" var "+f+" = errors; var "+h+" = true;  ";var x=t.compositeRule;t.compositeRule=d.compositeRule=!0,r+="  "+t.validate(d)+" ",d.baseId=_,d.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",t.compositeRule=d.compositeRule=x,y?(r+=" if ("+p+") {  ",d.schema=t.schema.then,d.schemaPath=t.schemaPath+".then",d.errSchemaPath=t.errSchemaPath+"/then",r+="  "+t.validate(d)+" ",d.baseId=_,r+=" "+h+" = "+p+"; ",y&&g?r+=" var "+(b="ifClause"+i)+" = 'then'; ":b="'then'",r+=" } ",g&&(r+=" else { ")):r+=" if (!"+p+") { ",g&&(d.schema=t.schema.else,d.schemaPath=t.schemaPath+".else",d.errSchemaPath=t.errSchemaPath+"/else",r+="  "+t.validate(d)+" ",d.baseId=_,r+=" "+h+" = "+p+"; ",y&&g?r+=" var "+(b="ifClause"+i)+" = 'else'; ":b="'else'",r+=" } "),r+=" if (!"+h+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { failingKeyword: "+b+" } ",!1!==t.opts.messages&&(r+=" , message: 'should match \"' + "+b+" + '\" schema' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",c&&(r+=" else { ")}else c&&(r+=" if (true) { ");return r}},674:(t,e,n)=>{"use strict";t.exports={$ref:n(392),allOf:n(988),anyOf:n(996),$comment:n(812),const:n(306),contains:n(840),dependencies:n(659),enum:n(740),format:n(14),if:n(231),items:n(482),maximum:n(210),minimum:n(210),maxItems:n(38),minItems:n(38),maxLength:n(425),minLength:n(425),maxProperties:n(204),minProperties:n(204),multipleOf:n(673),not:n(528),oneOf:n(709),pattern:n(614),properties:n(175),propertyNames:n(441),required:n(287),uniqueItems:n(603),validate:n(508)}},482:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level,v="i"+i,y=d.dataLevel=t.dataLevel+1,g="data"+y,_=t.baseId;if(r+="var "+f+" = errors;var "+h+";",Array.isArray(s)){var b=t.schema.additionalItems;if(!1===b){r+=" "+h+" = "+l+".length <= "+s.length+"; ";var x=u;u=t.errSchemaPath+"/additionalItems",r+="  if (!"+h+") {   ";var E=E||[];E.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+s.length+" } ",!1!==t.opts.messages&&(r+=" , message: 'should NOT have more than "+s.length+" items' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var w=r;r=E.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=x,c&&(p+="}",r+=" else { ")}var T=s;if(T)for(var S,k=-1,A=T.length-1;k<A;)if(S=T[k+=1],t.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0||!1===S:t.util.schemaHasRules(S,t.RULES.all)){r+=" "+m+" = true; if ("+l+".length > "+k+") { ";var O=l+"["+k+"]";d.schema=S,d.schemaPath=a+"["+k+"]",d.errSchemaPath=u+"/"+k,d.errorPath=t.util.getPathExpr(t.errorPath,k,t.opts.jsonPointers,!0),d.dataPathArr[y]=k;var C=t.validate(d);d.baseId=_,t.util.varOccurences(C,g)<2?r+=" "+t.util.varReplace(C,g,O)+" ":r+=" var "+g+" = "+O+"; "+C+" ",r+=" }  ",c&&(r+=" if ("+m+") { ",p+="}")}"object"==typeof b&&(t.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:t.util.schemaHasRules(b,t.RULES.all))&&(d.schema=b,d.schemaPath=t.schemaPath+".additionalItems",d.errSchemaPath=t.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+l+".length > "+s.length+") {  for (var "+v+" = "+s.length+"; "+v+" < "+l+".length; "+v+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0),O=l+"["+v+"]",d.dataPathArr[y]=v,C=t.validate(d),d.baseId=_,t.util.varOccurences(C,g)<2?r+=" "+t.util.varReplace(C,g,O)+" ":r+=" var "+g+" = "+O+"; "+C+" ",c&&(r+=" if (!"+m+") break; "),r+=" } }  ",c&&(r+=" if ("+m+") { ",p+="}"))}else(t.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:t.util.schemaHasRules(s,t.RULES.all))&&(d.schema=s,d.schemaPath=a,d.errSchemaPath=u,r+="  for (var "+v+" = 0; "+v+" < "+l+".length; "+v+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0),O=l+"["+v+"]",d.dataPathArr[y]=v,C=t.validate(d),d.baseId=_,t.util.varOccurences(C,g)<2?r+=" "+t.util.varReplace(C,g,O)+" ":r+=" var "+g+" = "+O+"; "+C+" ",c&&(r+=" if (!"+m+") break; "),r+=" }");return c&&(r+=" "+p+" if ("+f+" == errors) {"),r}},673:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",r="schema"+o):r=a,!f&&"number"!=typeof a)throw new Error(e+" must be number");i+="var division"+o+";if (",f&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+h+" / "+r+", ",t.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+t.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",f&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { multipleOf: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be multiple of ",i+=f?"' + "+r:r+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},528:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=t.util.copy(t);f.level++;var d="valid"+f.level;if(t.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:t.util.schemaHasRules(s,t.RULES.all)){f.schema=s,f.schemaPath=a,f.errSchemaPath=u,r+=" var "+h+" = errors;  ";var p,m=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(p=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+t.validate(f)+" ",f.createErrors=!0,p&&(f.opts.allErrors=p),t.compositeRule=f.compositeRule=m,r+=" if ("+d+") {   ";var v=v||[];v.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var y=r;r=v.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ");return r}},709:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level,v=d.baseId,y="prevValid"+i,g="passingSchemas"+i;r+="var "+f+" = errors , "+y+" = false , "+h+" = false , "+g+" = null; ";var _=t.compositeRule;t.compositeRule=d.compositeRule=!0;var b=s;if(b)for(var x,E=-1,w=b.length-1;E<w;)x=b[E+=1],(t.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0||!1===x:t.util.schemaHasRules(x,t.RULES.all))?(d.schema=x,d.schemaPath=a+"["+E+"]",d.errSchemaPath=u+"/"+E,r+="  "+t.validate(d)+" ",d.baseId=v):r+=" var "+m+" = true; ",E&&(r+=" if ("+m+" && "+y+") { "+h+" = false; "+g+" = ["+g+", "+E+"]; } else { ",p+="}"),r+=" if ("+m+") { "+h+" = "+y+" = true; "+g+" = "+E+"; }";return t.compositeRule=d.compositeRule=_,r+=p+"if (!"+h+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",!1!==t.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",t.opts.allErrors&&(r+=" } "),r}},614:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",r="schema"+o):r=a,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(f?"(new RegExp("+r+"))":t.usePattern(a))+".test("+h+") ) {   ";var d=d||[];d.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { pattern:  ",i+=f?""+r:""+t.util.toQuotedString(a),i+="  } ",!1!==t.opts.messages&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+r+" + '":""+t.util.escapeQuotes(a),i+="\"' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+t.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},175:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level,m="key"+i,v="idx"+i,y=f.dataLevel=t.dataLevel+1,g="data"+y,_="dataProperties"+i,b=Object.keys(s||{}).filter(L),x=t.schema.patternProperties||{},E=Object.keys(x).filter(L),w=t.schema.additionalProperties,T=b.length||E.length,S=!1===w,k="object"==typeof w&&Object.keys(w).length,A=t.opts.removeAdditional,O=S||k||A,C=t.opts.ownProperties,P=t.baseId,R=t.schema.required;if(R&&(!t.opts.$data||!R.$data)&&R.length<t.opts.loopRequired)var N=t.util.toHash(R);function L(t){return"__proto__"!==t}if(r+="var "+h+" = errors;var "+p+" = true;",C&&(r+=" var "+_+" = undefined;"),O){if(r+=C?" "+_+" = "+_+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+_+".length; "+v+"++) { var "+m+" = "+_+"["+v+"]; ":" for (var "+m+" in "+l+") { ",T){if(r+=" var isAdditional"+i+" = !(false ",b.length)if(b.length>8)r+=" || validate.schema"+a+".hasOwnProperty("+m+") ";else{var I=b;if(I)for(var M=-1,D=I.length-1;M<D;)Q=I[M+=1],r+=" || "+m+" == "+t.util.toQuotedString(Q)+" "}if(E.length){var F=E;if(F)for(var j=-1,U=F.length-1;j<U;)ot=F[j+=1],r+=" || "+t.usePattern(ot)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==A)r+=" delete "+l+"["+m+"]; ";else{var B=t.errorPath,$="' + "+m+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers)),S)if(A)r+=" delete "+l+"["+m+"]; ";else{r+=" "+p+" = false; ";var z=u;u=t.errSchemaPath+"/additionalProperties",(nt=nt||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { additionalProperty: '"+$+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var q=r;r=nt.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+q+"]); ":r+=" validate.errors = ["+q+"]; return false; ":r+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=z,c&&(r+=" break; ")}else if(k)if("failing"==A){r+=" var "+h+" = errors;  ";var V=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.schema=w,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers);var H=l+"["+m+"]";f.dataPathArr[y]=m;var K=t.validate(f);f.baseId=P,t.util.varOccurences(K,g)<2?r+=" "+t.util.varReplace(K,g,H)+" ":r+=" var "+g+" = "+H+"; "+K+" ",r+=" if (!"+p+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+m+"]; }  ",t.compositeRule=f.compositeRule=V}else f.schema=w,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers),H=l+"["+m+"]",f.dataPathArr[y]=m,K=t.validate(f),f.baseId=P,t.util.varOccurences(K,g)<2?r+=" "+t.util.varReplace(K,g,H)+" ":r+=" var "+g+" = "+H+"; "+K+" ",c&&(r+=" if (!"+p+") break; ");t.errorPath=B}T&&(r+=" } "),r+=" }  ",c&&(r+=" if ("+p+") { ",d+="}")}var Y=t.opts.useDefaults&&!t.compositeRule;if(b.length){var G=b;if(G)for(var Q,W=-1,X=G.length-1;W<X;){var J=s[Q=G[W+=1]];if(t.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:t.util.schemaHasRules(J,t.RULES.all)){var Z=t.util.getProperty(Q),tt=(H=l+Z,Y&&void 0!==J.default);if(f.schema=J,f.schemaPath=a+Z,f.errSchemaPath=u+"/"+t.util.escapeFragment(Q),f.errorPath=t.util.getPath(t.errorPath,Q,t.opts.jsonPointers),f.dataPathArr[y]=t.util.toQuotedString(Q),K=t.validate(f),f.baseId=P,t.util.varOccurences(K,g)<2){K=t.util.varReplace(K,g,H);var et=H}else et=g,r+=" var "+g+" = "+H+"; ";if(tt)r+=" "+K+" ";else{if(N&&N[Q]){r+=" if ( "+et+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(Q)+"') "),r+=") { "+p+" = false; ",B=t.errorPath,z=u;var nt,rt=t.util.escapeQuotes(Q);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(B,Q,t.opts.jsonPointers)),u=t.errSchemaPath+"/required",(nt=nt||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+rt+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+rt+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",q=r,r=nt.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+q+"]); ":r+=" validate.errors = ["+q+"]; return false; ":r+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=z,t.errorPath=B,r+=" } else { "}else c?(r+=" if ( "+et+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(Q)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+et+" !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(Q)+"') "),r+=" ) { ");r+=" "+K+" } "}}c&&(r+=" if ("+p+") { ",d+="}")}}if(E.length){var it=E;if(it)for(var ot,st=-1,at=it.length-1;st<at;)J=x[ot=it[st+=1]],(t.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:t.util.schemaHasRules(J,t.RULES.all))&&(f.schema=J,f.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(ot),f.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(ot),r+=C?" "+_+" = "+_+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+_+".length; "+v+"++) { var "+m+" = "+_+"["+v+"]; ":" for (var "+m+" in "+l+") { ",r+=" if ("+t.usePattern(ot)+".test("+m+")) { ",f.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers),H=l+"["+m+"]",f.dataPathArr[y]=m,K=t.validate(f),f.baseId=P,t.util.varOccurences(K,g)<2?r+=" "+t.util.varReplace(K,g,H)+" ":r+=" var "+g+" = "+H+"; "+K+" ",c&&(r+=" if (!"+p+") break; "),r+=" } ",c&&(r+=" else "+p+" = true; "),r+=" }  ",c&&(r+=" if ("+p+") { ",d+="}"))}return c&&(r+=" "+d+" if ("+h+" == errors) {"),r}},441:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=t.util.copy(t);f.level++;var d="valid"+f.level;if(r+="var "+h+" = errors;",t.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:t.util.schemaHasRules(s,t.RULES.all)){f.schema=s,f.schemaPath=a,f.errSchemaPath=u;var p="key"+i,m="idx"+i,v="i"+i,y="' + "+p+" + '",g="data"+(f.dataLevel=t.dataLevel+1),_="dataProperties"+i,b=t.opts.ownProperties,x=t.baseId;b&&(r+=" var "+_+" = undefined; "),r+=b?" "+_+" = "+_+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+_+".length; "+m+"++) { var "+p+" = "+_+"["+m+"]; ":" for (var "+p+" in "+l+") { ",r+=" var startErrs"+i+" = errors; ";var E=p,w=t.compositeRule;t.compositeRule=f.compositeRule=!0;var T=t.validate(f);f.baseId=x,t.util.varOccurences(T,g)<2?r+=" "+t.util.varReplace(T,g,E)+" ":r+=" var "+g+" = "+E+"; "+T+" ",t.compositeRule=f.compositeRule=w,r+=" if (!"+d+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+p+"; }   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { propertyName: '"+y+"' } ",!1!==t.opts.messages&&(r+=" , message: 'property name \\'"+y+"\\' is invalid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),c&&(r+=" break; "),r+=" } }"}return c&&(r+="  if ("+h+" == errors) {"),r}},392:t=>{"use strict";t.exports=function(t,e,n){var r,i,o=" ",s=t.level,a=t.dataLevel,u=t.schema[e],c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(a||""),f="valid"+s;if("#"==u||"#/"==u)t.isRoot?(r=t.async,i="validate"):(r=!0===t.root.schema.$async,i="root.refVal[0]");else{var d=t.resolveRef(t.baseId,u,t.isRoot);if(void 0===d){var p=t.MissingRefError.message(t.baseId,u);if("fail"==t.opts.missingRefs){t.logger.error(p),(g=g||[]).push(o),o="",!1!==t.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { ref: '"+t.util.escapeQuotes(u)+"' } ",!1!==t.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(u)+"' "),t.opts.verbose&&(o+=" , schema: "+t.util.toQuotedString(u)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var m=o;o=g.pop(),!t.compositeRule&&l?t.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(o+=" if (false) { ")}else{if("ignore"!=t.opts.missingRefs)throw new t.MissingRefError(t.baseId,u,p);t.logger.warn(p),l&&(o+=" if (true) { ")}}else if(d.inline){var v=t.util.copy(t);v.level++;var y="valid"+v.level;v.schema=d.schema,v.schemaPath="",v.errSchemaPath=u,o+=" "+t.validate(v).replace(/validate\.schema/g,d.code)+" ",l&&(o+=" if ("+y+") { ")}else r=!0===d.$async||t.async&&!1!==d.$async,i=d.code}if(i){var g;(g=g||[]).push(o),o="",t.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+h+", (dataPath || '')",'""'!=t.errorPath&&(o+=" + "+t.errorPath);var _=o+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?t.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(o=g.pop(),r){if(!t.async)throw new Error("async schema referenced by sync schema");l&&(o+=" var "+f+"; "),o+=" try { await "+_+"; ",l&&(o+=" "+f+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(o+=" "+f+" = false; "),o+=" } ",l&&(o+=" if ("+f+") { ")}else o+=" if (!"+_+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(o+=" else { ")}return o}},287:t=>{"use strict";t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ");var d="schema"+i;if(!f)if(s.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var p=[],m=s;if(m)for(var v,y=-1,g=m.length-1;y<g;){v=m[y+=1];var _=t.schema.properties[v];_&&(t.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:t.util.schemaHasRules(_,t.RULES.all))||(p[p.length]=v)}}else p=s;if(f||p.length){var b=t.errorPath,x=f||p.length>=t.opts.loopRequired,E=t.opts.ownProperties;if(c)if(r+=" var missing"+i+"; ",x){f||(r+=" var "+d+" = validate.schema"+a+"; ");var w="' + "+(C="schema"+i+"["+(A="i"+i)+"]")+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(b,C,t.opts.jsonPointers)),r+=" var "+h+" = true; ",f&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=" for (var "+A+" = 0; "+A+" < "+d+".length; "+A+"++) { "+h+" = "+l+"["+d+"["+A+"]] !== undefined ",E&&(r+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+d+"["+A+"]) "),r+="; if (!"+h+") break; } ",f&&(r+="  }  "),r+="  if (!"+h+") {   ",(S=S||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+w+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var T=r;r=S.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var S,k=p;if(k)for(var A=-1,O=k.length-1;A<O;)R=k[A+=1],A&&(r+=" || "),r+=" ( ( "+(M=l+(I=t.util.getProperty(R)))+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(R)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?R:I)+") ) ";r+=") {  ",w="' + "+(C="missing"+i)+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(b,C,!0):b+" + "+C),(S=S||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+w+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",T=r,r=S.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(x){var C;f||(r+=" var "+d+" = validate.schema"+a+"; "),w="' + "+(C="schema"+i+"["+(A="i"+i)+"]")+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(b,C,t.opts.jsonPointers)),f&&(r+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+w+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),r+=" for (var "+A+" = 0; "+A+" < "+d+".length; "+A+"++) { if ("+l+"["+d+"["+A+"]] === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+d+"["+A+"]) "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+w+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var P=p;if(P)for(var R,N=-1,L=P.length-1;N<L;){R=P[N+=1];var I=t.util.getProperty(R),M=(w=t.util.escapeQuotes(R),l+I);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(b,R,t.opts.jsonPointers)),r+=" if ( "+M+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(R)+"') "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+w+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=b}else c&&(r+=" if (true) {");return r}},603:t=>{"use strict";t.exports=function(t,e,n){var r,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f="valid"+o,d=t.opts.$data&&a&&a.$data;if(d?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",r="schema"+o):r=a,(a||d)&&!1!==t.opts.uniqueItems){d&&(i+=" var "+f+"; if ("+r+" === false || "+r+" === undefined) "+f+" = true; else if (typeof "+r+" != 'boolean') "+f+" = false; else { "),i+=" var i = "+h+".length , "+f+" = true , j; if (i > 1) { ";var p=t.schema.items&&t.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+f+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var v="checkDataType"+(m?"s":"");i+=" if ("+t.util[v](p,"item",t.opts.strictNumbers,!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",d&&(i+="  }  "),i+=" if (!"+f+") {   ";var y=y||[];y.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var g=i;i=y.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i}},508:t=>{"use strict";t.exports=function(t,e,n){var r="",i=!0===t.schema.$async,o=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),s=t.self._getId(t.schema);if(t.opts.strictKeywords){var a=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(a){var u="unknown keyword: "+a;if("log"!==t.opts.strictKeywords)throw new Error(u);t.logger.warn(u)}}if(t.isTop&&(r+=" var validate = ",i&&(t.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(t.opts.sourceCode||t.opts.processCode)&&(r+=" /*# sourceURL="+s+" */ ")),"boolean"==typeof t.schema||!o&&!t.schema.$ref){e="false schema";var c=t.level,l=t.dataLevel,h=t.schema[e],f=t.schemaPath+t.util.getProperty(e),d=t.errSchemaPath+"/"+e,p=!t.opts.allErrors,m="data"+(l||""),v="valid"+c;if(!1===t.schema){t.isTop?p=!0:r+=" var "+v+" = false; ",(H=H||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'boolean schema is false' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var y=r;r=H.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+v+" = true; ";return t.isTop&&(r+=" }; return validate; "),r}if(t.isTop){var g=t.isTop;if(c=t.level=0,l=t.dataLevel=0,m="data",t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[""],void 0!==t.schema.default&&t.opts.useDefaults&&t.opts.strictDefaults){var _="default is ignored in the schema root";if("log"!==t.opts.strictDefaults)throw new Error(_);t.logger.warn(_)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(c=t.level,m="data"+((l=t.dataLevel)||""),s&&(t.baseId=t.resolve.url(t.baseId,s)),i&&!t.async)throw new Error("async schema in sync schema");r+=" var errs_"+c+" = errors;"}v="valid"+c,p=!t.opts.allErrors;var b="",x="",E=t.schema.type,w=Array.isArray(E);if(E&&t.opts.nullable&&!0===t.schema.nullable&&(w?-1==E.indexOf("null")&&(E=E.concat("null")):"null"!=E&&(E=[E,"null"],w=!0)),w&&1==E.length&&(E=E[0],w=!1),t.schema.$ref&&o){if("fail"==t.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');!0!==t.opts.extendRefs&&(o=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(r+=" "+t.RULES.all.$comment.code(t,"$comment")),E){if(t.opts.coerceTypes)var T=t.util.coerceToTypes(t.opts.coerceTypes,E);var S=t.RULES.types[E];if(T||w||!0===S||S&&!X(S)){f=t.schemaPath+".type",d=t.errSchemaPath+"/type",f=t.schemaPath+".type",d=t.errSchemaPath+"/type";var k=w?"checkDataTypes":"checkDataType";if(r+=" if ("+t.util[k](E,m,t.opts.strictNumbers,!0)+") { ",T){var A="dataType"+c,O="coerced"+c;r+=" var "+A+" = typeof "+m+"; var "+O+" = undefined; ","array"==t.opts.coerceTypes&&(r+=" if ("+A+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+A+" = typeof "+m+"; if ("+t.util.checkDataType(t.schema.type,m,t.opts.strictNumbers)+") "+O+" = "+m+"; } "),r+=" if ("+O+" !== undefined) ; ";var C=T;if(C)for(var P,R=-1,N=C.length-1;R<N;)"string"==(P=C[R+=1])?r+=" else if ("+A+" == 'number' || "+A+" == 'boolean') "+O+" = '' + "+m+"; else if ("+m+" === null) "+O+" = ''; ":"number"==P||"integer"==P?(r+=" else if ("+A+" == 'boolean' || "+m+" === null || ("+A+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==P&&(r+=" && !("+m+" % 1)"),r+=")) "+O+" = +"+m+"; "):"boolean"==P?r+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+O+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+O+" = true; ":"null"==P?r+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+O+" = null; ":"array"==t.opts.coerceTypes&&"array"==P&&(r+=" else if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+m+" == null) "+O+" = ["+m+"]; ");r+=" else {   ",(H=H||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",r+=w?""+E.join(","):""+E,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=w?""+E.join(","):""+E,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",y=r,r=H.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+O+" !== undefined) {  ";var L=l?"data"+(l-1||""):"parentData";r+=" "+m+" = "+O+"; ",l||(r+="if ("+L+" !== undefined)"),r+=" "+L+"["+(l?t.dataPathArr[l]:"parentDataProperty")+"] = "+O+"; } "}else(H=H||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",r+=w?""+E.join(","):""+E,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=w?""+E.join(","):""+E,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",y=r,r=H.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(t.schema.$ref&&!o)r+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",p&&(r+=" } if (errors === ",r+=g?"0":"errs_"+c,r+=") { ",x+="}");else{var I=t.RULES;if(I)for(var M=-1,D=I.length-1;M<D;)if(X(S=I[M+=1])){if(S.type&&(r+=" if ("+t.util.checkDataType(S.type,m,t.opts.strictNumbers)+") { "),t.opts.useDefaults)if("object"==S.type&&t.schema.properties){h=t.schema.properties;var F=Object.keys(h);if(F)for(var j,U=-1,B=F.length-1;U<B;)if(void 0!==(q=h[j=F[U+=1]]).default){var $=m+t.util.getProperty(j);if(t.compositeRule){if(t.opts.strictDefaults){if(_="default is ignored for: "+$,"log"!==t.opts.strictDefaults)throw new Error(_);t.logger.warn(_)}}else r+=" if ("+$+" === undefined ","empty"==t.opts.useDefaults&&(r+=" || "+$+" === null || "+$+" === '' "),r+=" ) "+$+" = ","shared"==t.opts.useDefaults?r+=" "+t.useDefault(q.default)+" ":r+=" "+JSON.stringify(q.default)+" ",r+="; "}}else if("array"==S.type&&Array.isArray(t.schema.items)){var z=t.schema.items;if(z){R=-1;for(var q,V=z.length-1;R<V;)if(void 0!==(q=z[R+=1]).default)if($=m+"["+R+"]",t.compositeRule){if(t.opts.strictDefaults){if(_="default is ignored for: "+$,"log"!==t.opts.strictDefaults)throw new Error(_);t.logger.warn(_)}}else r+=" if ("+$+" === undefined ","empty"==t.opts.useDefaults&&(r+=" || "+$+" === null || "+$+" === '' "),r+=" ) "+$+" = ","shared"==t.opts.useDefaults?r+=" "+t.useDefault(q.default)+" ":r+=" "+JSON.stringify(q.default)+" ",r+="; "}}var H,K=S.rules;if(K)for(var Y,G=-1,Q=K.length-1;G<Q;)if(J(Y=K[G+=1])){var W=Y.code(t,Y.keyword,S.type);W&&(r+=" "+W+" ",p&&(b+="}"))}if(p&&(r+=" "+b+" ",b=""),S.type&&(r+=" } ",E&&E===S.type&&!T))r+=" else { ",f=t.schemaPath+".type",d=t.errSchemaPath+"/type",(H=H||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",r+=w?""+E.join(","):""+E,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=w?""+E.join(","):""+E,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",y=r,r=H.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ";p&&(r+=" if (errors === ",r+=g?"0":"errs_"+c,r+=") { ",x+="}")}}function X(t){for(var e=t.rules,n=0;n<e.length;n++)if(J(e[n]))return!0}function J(e){return void 0!==t.schema[e.keyword]||e.implements&&function(e){for(var n=e.implements,r=0;r<n.length;r++)if(void 0!==t.schema[n[r]])return!0}(e)}return p&&(r+=" "+x+" "),g?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+v+" = errors === errs_"+c+";",r}},895:(t,e,n)=>{"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(165),o=n(128);t.exports={add:function(t,e){var n=this.RULES;if(n.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!r.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var o=e.type;if(Array.isArray(o))for(var s=0;s<o.length;s++)u(t,o[s],e);else u(t,o,e);var a=e.metaSchema;a&&(e.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(a,!0))}function u(t,e,r){for(var o,s=0;s<n.length;s++){var a=n[s];if(a.type==e){o=a;break}}o||(o={type:e,rules:[]},n.push(o));var u={keyword:t,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(u),n.custom[t]=u}return n.keywords[t]=n.all[t]=!0,this},get:function(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1},remove:function(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var n=0;n<e.length;n++)for(var r=e[n].rules,i=0;i<r.length;i++)if(r[i].keyword==t){r.splice(i,1);break}return this},validate:function t(e,n){t.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(r(e))return!0;if(t.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}}},63:t=>{"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!=e&&n!=n}},35:t=>{"use strict";t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n,r="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(n=e.cmp,function(t){return function(e,r){var i={key:e,value:t[e]},o={key:r,value:t[r]};return n(i,o)}}),o=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var n,s;if(Array.isArray(e)){for(s="[",n=0;n<e.length;n++)n&&(s+=","),s+=t(e[n])||"null";return s+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(e)-1,u=Object.keys(e).sort(i&&i(e));for(s="",n=0;n<u.length;n++){var c=u[n],l=t(e[c]);l&&(s&&(s+=","),s+=JSON.stringify(c)+":"+l)}return o.splice(a,1),"{"+s+"}"}}(t)}},461:t=>{"use strict";var e=t.exports=function(t,e,r){"function"==typeof e&&(r=e,e={}),n(e,"function"==typeof(r=e.cb||r)?r:r.pre||function(){},r.post||function(){},t,"",t)};function n(t,r,i,o,s,a,u,c,l,h){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var f in r(o,s,a,u,c,l,h),o){var d=o[f];if(Array.isArray(d)){if(f in e.arrayKeywords)for(var p=0;p<d.length;p++)n(t,r,i,d[p],s+"/"+f+"/"+p,a,s,f,o,p)}else if(f in e.propsKeywords){if(d&&"object"==typeof d)for(var m in d)n(t,r,i,d[m],s+"/"+f+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,f,o,m)}else(f in e.keywords||t.allKeys&&!(f in e.skipKeywords))&&n(t,r,i,d,s+"/"+f,a,s,f,o)}i(o,s,a,u,c,l,h)}}e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},181:(t,e)=>{(()=>{var t={316:(t,e,n)=>{"use strict";var r=n(287);t.exports=function(t,e){e=e||{};var n=new r,i=e.inPlace||!1,o=t.map((function(t){return i?t:{width:t.width,height:t.height,item:t}}));o=o.sort((function(t,e){return e.width*e.height-t.width*t.height})),n.fit(o);var s={width:o.reduce((function(t,e){return Math.max(t,e.x+e.width)}),0),height:o.reduce((function(t,e){return Math.max(t,e.y+e.height)}),0)};return i||(s.items=o),s}},287:t=>{var e=function(){};e.prototype={fit:function(t){var e,n,r,i,o=t.length,s=o>0?t[0].width:0,a=o>0?t[0].height:0;for(this.root={x:0,y:0,width:s,height:a},e=0;e<o;e++)r=t[e],(n=this.findNode(this.root,r.width,r.height))?(i=this.splitNode(n,r.width,r.height),r.x=i.x,r.y=i.y):(i=this.growNode(r.width,r.height),r.x=i.x,r.y=i.y)},findNode:function(t,e,n){return t.used?this.findNode(t.right,e,n)||this.findNode(t.down,e,n):e<=t.width&&n<=t.height?t:null},splitNode:function(t,e,n){return t.used=!0,t.down={x:t.x,y:t.y+n,width:t.width,height:t.height-n},t.right={x:t.x+e,y:t.y,width:t.width-e,height:n},t},growNode:function(t,e){var n=t<=this.root.width,r=e<=this.root.height,i=r&&this.root.height>=this.root.width+t,o=n&&this.root.width>=this.root.height+e;return i?this.growRight(t,e):o?this.growDown(t,e):r?this.growRight(t,e):n?this.growDown(t,e):null},growRight:function(t,e){var n;return this.root={used:!0,x:0,y:0,width:this.root.width+t,height:this.root.height,down:this.root,right:{x:this.root.width,y:0,width:t,height:this.root.height}},(n=this.findNode(this.root,t,e))?this.splitNode(n,t,e):null},growDown:function(t,e){var n;return this.root={used:!0,x:0,y:0,width:this.root.width,height:this.root.height+e,down:{x:0,y:this.root.height,width:this.root.width,height:e},right:this.root},(n=this.findNode(this.root,t,e))?this.splitNode(n,t,e):null}},t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{"use strict";r.r(i),r.d(i,{Component:()=>f,ComponentAttribute:()=>k,ComponentAttributeDefinition:()=>x,ComponentDefinition:()=>m,ComponentDrawOption:()=>w,ComponentLink:()=>N,ComponentLinkDefinition:()=>M,DefaultDrawer:()=>Nk,DefaultMetadata:()=>Lk,DefaultParser:()=>Mk,DefaultRender:()=>Dk,FileInformation:()=>o,FileInput:()=>$,ParseError:()=>Hk});var t={};function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{Adder:()=>mt,Delaunay:()=>Ru,FormatSpecifier:()=>Il,InternMap:()=>gt,InternSet:()=>_t,Node:()=>tv,Voronoi:()=>Su,ZoomTransform:()=>mk,active:()=>es,arc:()=>Zw,area:()=>aT,areaRadial:()=>vT,ascending:()=>z,autoType:()=>ac,axisBottom:()=>tn,axisLeft:()=>en,axisRight:()=>Ze,axisTop:()=>Je,bin:()=>Jt,bisect:()=>J,bisectCenter:()=>X,bisectLeft:()=>W,bisectRight:()=>Q,bisector:()=>V,blob:()=>$c,blur:()=>Z,blur2:()=>tt,blurImage:()=>et,brush:()=>Ns,brushSelection:()=>Cs,brushX:()=>Ps,brushY:()=>Rs,buffer:()=>qc,chord:()=>Vs,chordDirected:()=>Ks,chordTranspose:()=>Hs,cluster:()=>Ym,color:()=>Wr,contourDensity:()=>nu,contours:()=>Ja,count:()=>st,create:()=>kw,creator:()=>lr,cross:()=>lt,csv:()=>Gc,csvFormat:()=>Gu,csvFormatBody:()=>Qu,csvFormatRow:()=>Xu,csvFormatRows:()=>Wu,csvFormatValue:()=>Ju,csvParse:()=>Ku,csvParseRows:()=>Yu,cubehelix:()=>za,cumsum:()=>ht,curveBasis:()=>sS,curveBasisClosed:()=>uS,curveBasisOpen:()=>lS,curveBumpX:()=>bT,curveBumpY:()=>xT,curveBundle:()=>fS,curveCardinal:()=>mS,curveCardinalClosed:()=>yS,curveCardinalOpen:()=>_S,curveCatmullRom:()=>ES,curveCatmullRomClosed:()=>TS,curveCatmullRomOpen:()=>kS,curveLinear:()=>rT,curveLinearClosed:()=>OS,curveMonotoneX:()=>DS,curveMonotoneY:()=>FS,curveNatural:()=>BS,curveStep:()=>zS,curveStepAfter:()=>VS,curveStepBefore:()=>qS,descending:()=>q,deviation:()=>dt,difference:()=>De,disjoint:()=>Fe,dispatch:()=>cn,drag:()=>ju,dragDisable:()=>Pr,dragEnable:()=>Rr,dsv:()=>Yc,dsvFormat:()=>Vu,easeBack:()=>Mc,easeBackIn:()=>Lc,easeBackInOut:()=>Mc,easeBackOut:()=>Ic,easeBounce:()=>Pc,easeBounceIn:()=>Cc,easeBounceInOut:()=>Rc,easeBounceOut:()=>Pc,easeCircle:()=>Ac,easeCircleIn:()=>Sc,easeCircleInOut:()=>Ac,easeCircleOut:()=>kc,easeCubic:()=>Xo,easeCubicIn:()=>Qo,easeCubicInOut:()=>Xo,easeCubicOut:()=>Wo,easeElastic:()=>jc,easeElasticIn:()=>Fc,easeElasticInOut:()=>Uc,easeElasticOut:()=>jc,easeExp:()=>Tc,easeExpIn:()=>Ec,easeExpInOut:()=>Tc,easeExpOut:()=>wc,easeLinear:()=>cc,easePoly:()=>mc,easePolyIn:()=>dc,easePolyInOut:()=>mc,easePolyOut:()=>pc,easeQuad:()=>fc,easeQuadIn:()=>lc,easeQuadInOut:()=>fc,easeQuadOut:()=>hc,easeSin:()=>bc,easeSinIn:()=>gc,easeSinInOut:()=>bc,easeSinOut:()=>_c,every:()=>Pe,extent:()=>pt,fcumsum:()=>yt,filter:()=>Ne,flatGroup:()=>Ot,flatRollup:()=>Ct,forceCenter:()=>rl,forceCollide:()=>vl,forceLink:()=>_l,forceManyBody:()=>Sl,forceRadial:()=>kl,forceSimulation:()=>Tl,forceX:()=>Al,forceY:()=>Ol,format:()=>Ul,formatDefaultLocale:()=>Vl,formatLocale:()=>ql,formatPrefix:()=>Bl,formatSpecifier:()=>Ll,fsum:()=>vt,geoAlbers:()=>um,geoAlbersUsa:()=>cm,geoArea:()=>Gh,geoAzimuthalEqualArea:()=>dm,geoAzimuthalEqualAreaRaw:()=>fm,geoAzimuthalEquidistant:()=>mm,geoAzimuthalEquidistantRaw:()=>pm,geoBounds:()=>Pf,geoCentroid:()=>zf,geoCircle:()=>Zf,geoClipAntimeridian:()=>ld,geoClipCircle:()=>hd,geoClipExtent:()=>_d,geoClipRectangle:()=>gd,geoConicConformal:()=>xm,geoConicConformalRaw:()=>bm,geoConicEqualArea:()=>am,geoConicEqualAreaRaw:()=>sm,geoConicEquidistant:()=>Sm,geoConicEquidistantRaw:()=>Tm,geoContains:()=>Dd,geoDistance:()=>Ad,geoEqualEarth:()=>Nm,geoEqualEarthRaw:()=>Rm,geoEquirectangular:()=>wm,geoEquirectangularRaw:()=>Em,geoGnomonic:()=>Im,geoGnomonicRaw:()=>Lm,geoGraticule:()=>Ud,geoGraticule10:()=>Bd,geoIdentity:()=>Mm,geoInterpolate:()=>$d,geoLength:()=>Td,geoMercator:()=>ym,geoMercatorRaw:()=>vm,geoNaturalEarth1:()=>Fm,geoNaturalEarth1Raw:()=>Dm,geoOrthographic:()=>Um,geoOrthographicRaw:()=>jm,geoPath:()=>Vp,geoProjection:()=>rm,geoProjectionMutator:()=>im,geoRotation:()=>Wf,geoStereographic:()=>$m,geoStereographicRaw:()=>Bm,geoStream:()=>Th,geoTransform:()=>Hp,geoTransverseMercator:()=>qm,geoTransverseMercatorRaw:()=>zm,gray:()=>xa,greatest:()=>oe,greatestIndex:()=>Ee,group:()=>St,groupSort:()=>Bt,groups:()=>kt,hcl:()=>Pa,hierarchy:()=>Qm,histogram:()=>Jt,hsl:()=>ci,html:()=>el,image:()=>Wc,index:()=>Nt,indexes:()=>Lt,interpolate:()=>Mi,interpolateArray:()=>Ai,interpolateBasis:()=>mi,interpolateBasisClosed:()=>vi,interpolateBlues:()=>ZE,interpolateBrBG:()=>hE,interpolateBuGn:()=>CE,interpolateBuPu:()=>RE,interpolateCividis:()=>lw,interpolateCool:()=>dw,interpolateCubehelix:()=>fy,interpolateCubehelixDefault:()=>hw,interpolateCubehelixLong:()=>dy,interpolateDate:()=>Ci,interpolateDiscrete:()=>Zv,interpolateGnBu:()=>LE,interpolateGreens:()=>ew,interpolateGreys:()=>rw,interpolateHcl:()=>cy,interpolateHclLong:()=>ly,interpolateHsl:()=>oy,interpolateHslLong:()=>sy,interpolateHue:()=>ty,interpolateInferno:()=>Tw,interpolateLab:()=>ay,interpolateMagma:()=>ww,interpolateNumber:()=>Pi,interpolateNumberArray:()=>Si,interpolateObject:()=>Ri,interpolateOrRd:()=>ME,interpolateOranges:()=>cw,interpolatePRGn:()=>dE,interpolatePiYG:()=>mE,interpolatePlasma:()=>Sw,interpolatePuBu:()=>UE,interpolatePuBuGn:()=>FE,interpolatePuOr:()=>yE,interpolatePuRd:()=>$E,interpolatePurples:()=>ow,interpolateRainbow:()=>mw,interpolateRdBu:()=>_E,interpolateRdGy:()=>xE,interpolateRdPu:()=>qE,interpolateRdYlBu:()=>wE,interpolateRdYlGn:()=>SE,interpolateReds:()=>aw,interpolateRgb:()=>xi,interpolateRgbBasis:()=>wi,interpolateRgbBasisClosed:()=>Ti,interpolateRound:()=>ey,interpolateSinebow:()=>_w,interpolateSpectral:()=>AE,interpolateString:()=>Ii,interpolateTransformCss:()=>vo,interpolateTransformSvg:()=>yo,interpolateTurbo:()=>bw,interpolateViridis:()=>Ew,interpolateWarm:()=>fw,interpolateYlGn:()=>YE,interpolateYlGnBu:()=>HE,interpolateYlOrBr:()=>QE,interpolateYlOrRd:()=>XE,interpolateZoom:()=>ry,interrupt:()=>co,intersection:()=>je,interval:()=>fk,isoFormat:()=>ck,isoParse:()=>hk,json:()=>Jc,lab:()=>Ea,lch:()=>Ca,least:()=>be,leastIndex:()=>xe,line:()=>sT,lineRadial:()=>mT,link:()=>ST,linkHorizontal:()=>kT,linkRadial:()=>OT,linkVertical:()=>AT,local:()=>Ow,map:()=>Le,matcher:()=>mn,max:()=>Zt,maxIndex:()=>te,mean:()=>he,median:()=>fe,medianIndex:()=>de,merge:()=>pe,min:()=>ee,minIndex:()=>ne,mode:()=>me,namespace:()=>Rn,namespaces:()=>Pn,nice:()=>Wt,now:()=>Gi,pack:()=>wv,packEnclose:()=>av,packSiblings:()=>xv,pairs:()=>ve,partition:()=>Cv,path:()=>ta,permute:()=>Dt,pie:()=>lT,piecewise:()=>py,pointRadial:()=>yT,pointer:()=>Fi,pointers:()=>Pw,polygonArea:()=>vy,polygonCentroid:()=>yy,polygonContains:()=>xy,polygonHull:()=>by,polygonLength:()=>Ey,precisionFixed:()=>Hl,precisionPrefix:()=>Kl,precisionRound:()=>Yl,quadtree:()=>ul,quantile:()=>se,quantileIndex:()=>ue,quantileSorted:()=>ae,quantize:()=>my,quickselect:()=>re,radialArea:()=>vT,radialLine:()=>mT,randomBates:()=>Cy,randomBernoulli:()=>Ny,randomBeta:()=>My,randomBinomial:()=>Dy,randomCauchy:()=>jy,randomExponential:()=>Py,randomGamma:()=>Iy,randomGeometric:()=>Ly,randomInt:()=>Sy,randomIrwinHall:()=>Oy,randomLcg:()=>zy,randomLogNormal:()=>Ay,randomLogistic:()=>Uy,randomNormal:()=>ky,randomPareto:()=>Ry,randomPoisson:()=>By,randomUniform:()=>Ty,randomWeibull:()=>Fy,range:()=>ge,rank:()=>_e,reduce:()=>Ie,reverse:()=>Me,rgb:()=>ti,ribbon:()=>ha,ribbonArrow:()=>fa,rollup:()=>Pt,rollups:()=>Rt,scaleBand:()=>Yy,scaleDiverging:()=>Yx,scaleDivergingLog:()=>Gx,scaleDivergingPow:()=>Wx,scaleDivergingSqrt:()=>Xx,scaleDivergingSymlog:()=>Qx,scaleIdentity:()=>ug,scaleImplicit:()=>Hy,scaleLinear:()=>ag,scaleLog:()=>yg,scaleOrdinal:()=>Ky,scalePoint:()=>Qy,scalePow:()=>kg,scaleQuantile:()=>Rg,scaleQuantize:()=>Ng,scaleRadial:()=>Pg,scaleSequential:()=>Bx,scaleSequentialLog:()=>$x,scaleSequentialPow:()=>qx,scaleSequentialQuantile:()=>Hx,scaleSequentialSqrt:()=>Vx,scaleSequentialSymlog:()=>zx,scaleSqrt:()=>Ag,scaleSymlog:()=>xg,scaleThreshold:()=>Lg,scaleTime:()=>Dx,scaleUtc:()=>Fx,scan:()=>we,schemeAccent:()=>tE,schemeBlues:()=>JE,schemeBrBG:()=>lE,schemeBuGn:()=>OE,schemeBuPu:()=>PE,schemeCategory10:()=>Zx,schemeDark2:()=>eE,schemeGnBu:()=>NE,schemeGreens:()=>tw,schemeGreys:()=>nw,schemeOrRd:()=>IE,schemeOranges:()=>uw,schemePRGn:()=>fE,schemePaired:()=>nE,schemePastel1:()=>rE,schemePastel2:()=>iE,schemePiYG:()=>pE,schemePuBu:()=>jE,schemePuBuGn:()=>DE,schemePuOr:()=>vE,schemePuRd:()=>BE,schemePurples:()=>iw,schemeRdBu:()=>gE,schemeRdGy:()=>bE,schemeRdPu:()=>zE,schemeRdYlBu:()=>EE,schemeRdYlGn:()=>TE,schemeReds:()=>sw,schemeSet1:()=>oE,schemeSet2:()=>sE,schemeSet3:()=>aE,schemeSpectral:()=>kE,schemeTableau10:()=>uE,schemeYlGn:()=>KE,schemeYlGnBu:()=>VE,schemeYlOrBr:()=>GE,schemeYlOrRd:()=>WE,select:()=>Sr,selectAll:()=>Rw,selection:()=>Tr,selector:()=>hn,selectorAll:()=>pn,shuffle:()=>Te,shuffler:()=>Se,some:()=>Re,sort:()=>Ft,stack:()=>QS,stackOffsetDiverging:()=>XS,stackOffsetExpand:()=>WS,stackOffsetNone:()=>HS,stackOffsetSilhouette:()=>JS,stackOffsetWiggle:()=>ZS,stackOrderAppearance:()=>tk,stackOrderAscending:()=>nk,stackOrderDescending:()=>ik,stackOrderInsideOut:()=>ok,stackOrderNone:()=>KS,stackOrderReverse:()=>sk,stratify:()=>Mv,style:()=>zn,subset:()=>ze,sum:()=>ke,superset:()=>Be,svg:()=>nl,symbol:()=>nS,symbolAsterisk:()=>PT,symbolCircle:()=>RT,symbolCross:()=>NT,symbolDiamond:()=>MT,symbolDiamond2:()=>DT,symbolPlus:()=>FT,symbolSquare:()=>jT,symbolSquare2:()=>UT,symbolStar:()=>qT,symbolTriangle:()=>HT,symbolTriangle2:()=>YT,symbolWye:()=>JT,symbolX:()=>ZT,symbols:()=>tS,symbolsFill:()=>tS,symbolsStroke:()=>eS,text:()=>Hc,thresholdFreedmanDiaconis:()=>ce,thresholdScott:()=>le,thresholdSturges:()=>Xt,tickFormat:()=>og,tickIncrement:()=>Gt,tickStep:()=>Qt,ticks:()=>Yt,timeDay:()=>n_,timeDays:()=>r_,timeFormat:()=>hb,timeFormatDefaultLocale:()=>Nx,timeFormatLocale:()=>cb,timeFriday:()=>l_,timeFridays:()=>y_,timeHour:()=>Zg,timeHours:()=>t_,timeInterval:()=>zg,timeMillisecond:()=>Vg,timeMilliseconds:()=>Hg,timeMinute:()=>Wg,timeMinutes:()=>Xg,timeMonday:()=>s_,timeMondays:()=>d_,timeMonth:()=>b_,timeMonths:()=>x_,timeParse:()=>fb,timeSaturday:()=>h_,timeSaturdays:()=>g_,timeSecond:()=>Yg,timeSeconds:()=>Gg,timeSunday:()=>o_,timeSundays:()=>f_,timeThursday:()=>c_,timeThursdays:()=>v_,timeTickInterval:()=>ob,timeTicks:()=>ib,timeTuesday:()=>a_,timeTuesdays:()=>p_,timeWednesday:()=>u_,timeWednesdays:()=>m_,timeWeek:()=>o_,timeWeeks:()=>f_,timeYear:()=>w_,timeYears:()=>T_,timeout:()=>no,timer:()=>Xi,timerFlush:()=>Ji,transition:()=>Ko,transpose:()=>Ae,tree:()=>Vv,treemap:()=>Qv,treemapBinary:()=>Wv,treemapDice:()=>Ov,treemapResquarify:()=>Jv,treemapSlice:()=>Hv,treemapSliceDice:()=>Xv,treemapSquarify:()=>Gv,tsv:()=>Qc,tsvFormat:()=>nc,tsvFormatBody:()=>rc,tsvFormatRow:()=>oc,tsvFormatRows:()=>ic,tsvFormatValue:()=>sc,tsvParse:()=>tc,tsvParseRows:()=>ec,union:()=>qe,utcDay:()=>N_,utcDays:()=>L_,utcFormat:()=>db,utcFriday:()=>B_,utcFridays:()=>Y_,utcHour:()=>C_,utcHours:()=>P_,utcMillisecond:()=>Vg,utcMilliseconds:()=>Hg,utcMinute:()=>k_,utcMinutes:()=>A_,utcMonday:()=>D_,utcMondays:()=>q_,utcMonth:()=>W_,utcMonths:()=>X_,utcParse:()=>pb,utcSaturday:()=>$_,utcSaturdays:()=>G_,utcSecond:()=>Yg,utcSeconds:()=>Gg,utcSunday:()=>M_,utcSundays:()=>z_,utcThursday:()=>U_,utcThursdays:()=>K_,utcTickInterval:()=>rb,utcTicks:()=>nb,utcTuesday:()=>F_,utcTuesdays:()=>V_,utcWednesday:()=>j_,utcWednesdays:()=>H_,utcWeek:()=>M_,utcWeeks:()=>z_,utcYear:()=>Z_,utcYears:()=>tb,variance:()=>ft,window:()=>jn,xml:()=>tl,zip:()=>Ce,zoom:()=>kk,zoomIdentity:()=>vk,zoomTransform:()=>yk});var n=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:null};e(this,t);var r=n.path;this.path=r||null}var n,r;return n=t,(r=[{key:"fileName",get:function(){return this.path?this.path.replace(/^.*[\\/]/,""):null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();const o=n;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(s,t);var e,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(r);if(i){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,name:null,definition:null,drawOption:null,attributes:[],children:[]};a(this,s),t=o.call(this,e);var n=e.id,r=e.name,i=e.definition,u=e.drawOption,c=e.attributes,l=e.children;return t.id=n||null,t.name=r||null,t.definition=i||null,t.drawOption=u||null,t.attributes=c||[],t.children=l||[],t}return e=s,(n=[{key:"addChild",value:function(t){var e=t.definition.parentTypes;this.definition.isContainer&&e.includes(this.definition.type)&&!this.children.includes(t)&&this.children.push(t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(o);const f=h;function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,icon:null,model:null,parentTypes:[],definedAttributes:[],isContainer:!1};d(this,t);var n=e.type,r=e.icon,i=e.model,o=e.parentTypes,s=e.definedAttributes,a=e.isContainer;this.type=n||null,this.icon=r||null,this.model=i||null,this.parentTypes=o||[],this.definedAttributes=s||[],this.isContainer=void 0!==a&&a}));const m=p;function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,type:null,linkType:null,linkRef:[],containerRef:[],required:!1,definedAttributes:[],rules:{values:null,min:null,max:null,regex:null}};_(this,t);var n=e.name,r=e.type,i=e.linkType,o=e.linkRef,s=e.containerRef,a=e.definedAttributes,u=e.required,c=e.rules;this.name=n||null,this.type=r||null,this.linkType=i||null,this.linkRef=o||[],this.containerRef=s||[],this.definedAttributes=a||[],this.required=u||!1,this.rules=y({values:null,min:null,max:null,regex:null},c)}));const x=b;function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}const w=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:null,y:null,width:null,height:null};E(this,t);var n=e.x,r=e.y,i=e.width,o=e.height;this.x=n||null,this.y=r||null,this.width=i||null,this.height=o||null}));function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var S=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,value:null,type:null,definition:null};T(this,t);var n=e.name,r=e.value,i=e.type,o=e.definition;this.name=n||null,this.value=r||null,this.type=i||null,this.definition=o||null}));const k=S;function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}function P(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}const N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(n);if(r){var i=R(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return P(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{source:null,target:null,definition:null};O(this,o),t=i.call(this);var n=e.source,r=e.target,s=e.definition;return t.source=n||null,t.target=r||null,t.definition=s||null,t}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(o);function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var I=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attributeRef:null,sourceRef:null,targetRef:null,type:null};L(this,t);var n=e.attributeRef,r=e.sourceRef,i=e.targetRef,o=e.type;this.attributeRef=n||null,this.sourceRef=r||null,this.targetRef=i||null,this.type=o||null}));const M=I;function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function U(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}const $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(n);if(r){var i=B(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return U(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:null,name:null,content:null};F(this,o),t=i.call(this,e);var n=e.content;return t.content=n||null,t}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(o);function z(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function q(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function V(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=z,n=(e,n)=>z(t(e),n),r=(e,n)=>t(e)-n):(e=t===z||t===q?t:H,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const s=i(t,e,n,o-1);return s>n&&r(t[s-1],e)>-r(t[s],e)?s-1:s},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function H(){return 0}function K(t){return null===t?NaN:+t}function*Y(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}const G=V(z),Q=G.right,W=G.left,X=V(K).center,J=Q;function Z(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=ot(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const tt=nt(ot),et=nt((function(t){const e=ot(t);return(t,n,r,i,o)=>{e(t,n,0+(r<<=2),0+(i<<=2),o<<=2),e(t,n,r+1,i+1,o),e(t,n,r+2,i+2,o),e(t,n,r+3,i+3,o)}}));function nt(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!n&&!r)return e;const a=n&&t(n),u=r&&t(r),c=i.slice();return a&&u?(rt(a,c,i,o,s),rt(a,i,c,o,s),rt(a,c,i,o,s),it(u,i,c,o,s),it(u,c,i,o,s),it(u,i,c,o,s)):a?(rt(a,i,c,o,s),rt(a,c,i,o,s),rt(a,i,c,o,s)):u&&(it(u,i,c,o,s),it(u,c,i,o,s),it(u,i,c,o,s)),e}}function rt(t,e,n,r,i){for(let o=0,s=r*i;o<s;)t(e,n,o,o+=r,1)}function it(t,e,n,r,i){for(let o=0,s=r*i;o<r;++o)t(e,n,o,o+s,r)}function ot(t){const e=Math.floor(t);if(e===t)return function(t){const e=2*t+1;return(n,r,i,o,s)=>{if(!((o-=s)>=i))return;let a=t*r[i];const u=s*t;for(let t=i,e=i+u;t<e;t+=s)a+=r[Math.min(o,t)];for(let t=i,c=o;t<=c;t+=s)a+=r[Math.min(o,t+u)],n[t]=a/e,a-=r[Math.max(i,t-u)]}}(t);const n=t-e,r=2*t+1;return(t,i,o,s,a)=>{if(!((s-=a)>=o))return;let u=e*i[o];const c=a*e,l=c+a;for(let t=o,e=o+c;t<e;t+=a)u+=i[Math.min(s,t)];for(let e=o,h=s;e<=h;e+=a)u+=i[Math.min(s,e+c)],t[e]=(u+n*(i[Math.max(o,e-l)]+i[Math.min(s,e+l)]))/r,u-=i[Math.max(o,e-c)]}}function st(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function at(t){return 0|t.length}function ut(t){return!(t>0)}function ct(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function lt(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(ct)).map(at),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(ut))return o;for(;;){o.push(i.map(((e,n)=>t[n][e])));let s=r;for(;++i[s]===n[s];){if(0===s)return e?o.map(e):o;i[s--]=0}}}function ht(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:i=>n+=+e(i,r++,t)||0)}function ft(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,o+=n*(e-i));else{let s=-1;for(let a of t)null!=(a=e(a,++s,t))&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i))}if(r>1)return o/(r-1)}function dt(t,e){const n=ft(t,e);return n?Math.sqrt(n):n}function pt(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class mt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,s=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);s&&(e[n++]=s),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}function vt(t,e){const n=new mt;if(void 0===e)for(let e of t)(e=+e)&&n.add(e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function yt(t,e){const n=new mt;let r=-1;return Float64Array.from(t,void 0===e?t=>n.add(+t||0):i=>n.add(+e(i,++r,t)||0))}class gt extends Map{constructor(t,e=wt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(bt(this,t))}has(t){return super.has(bt(this,t))}set(t,e){return super.set(xt(this,t),e)}delete(t){return super.delete(Et(this,t))}}class _t extends Set{constructor(t,e=wt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(bt(this,t))}add(t){return super.add(xt(this,t))}delete(t){return super.delete(Et(this,t))}}function bt({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xt({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Et({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Tt(t){return t}function St(t,...e){return Mt(t,Tt,Tt,e)}function kt(t,...e){return Mt(t,Array.from,Tt,e)}function At(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap((t=>t.pop().map((([e,n])=>[...t,e,n]))));return t}function Ot(t,...e){return At(kt(t,...e),e)}function Ct(t,e,...n){return At(Rt(t,e,...n),n)}function Pt(t,e,...n){return Mt(t,Tt,e,n)}function Rt(t,e,...n){return Mt(t,Array.from,e,n)}function Nt(t,...e){return Mt(t,Tt,It,e)}function Lt(t,...e){return Mt(t,Array.from,It,e)}function It(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function Mt(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const s=new gt,a=r[o++];let u=-1;for(const t of i){const e=a(t,++u,i),n=s.get(e);n?n.push(t):s.set(e,[t])}for(const[e,n]of s)s.set(e,t(n,o));return e(s)}(t,0)}function Dt(t,e){return Array.from(e,(e=>t[e]))}function Ft(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=Ut(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>Ut(n[t],n[e])))),Dt(t,r)}return t.sort(jt(n))}function jt(t=z){if(t===z)return Ut;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function Ut(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function Bt(t,e,n){return(2!==e.length?Ft(Pt(t,e,n),(([t,e],[n,r])=>z(e,r)||z(t,n))):Ft(St(t,n),(([t,n],[r,i])=>e(n,i)||z(t,r)))).map((([t])=>t))}var $t=Array.prototype,zt=$t.slice;function qt(t){return()=>t}$t.map;var Vt=Math.sqrt(50),Ht=Math.sqrt(10),Kt=Math.sqrt(2);function Yt(t,e,n){var r,i,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(s=Gt(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),r=Math.round(e/s);for(n*s<t&&++n,r*s>e&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)*s}else{s=-s;let n=Math.round(t*s),r=Math.round(e*s);for(n/s<t&&++n,r/s>e&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)/s}return r&&o.reverse(),o}function Gt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Vt?10:o>=Ht?5:o>=Kt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Vt?10:o>=Ht?5:o>=Kt?2:1)}function Qt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Vt?i*=10:o>=Ht?i*=5:o>=Kt&&(i*=2),e<t?-i:i}function Wt(t,e,n){let r;for(;;){const i=Gt(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function Xt(t){return Math.ceil(Math.log(st(t))/Math.LN2)+1}function Jt(){var t=Tt,e=pt,n=Xt;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,s,a=r.length,u=new Array(a);for(i=0;i<a;++i)u[i]=t(r[i],i,r);var c=e(u),l=c[0],h=c[1],f=n(u,l,h);if(!Array.isArray(f)){const t=h,n=+f;if(e===pt&&([l,h]=Wt(l,h,n)),(f=Yt(l,h,n))[0]<=l&&(s=Gt(l,h,n)),f[f.length-1]>=h)if(t>=h&&e===pt){const t=Gt(l,h,n);isFinite(t)&&(t>0?h=(Math.floor(h/t)+1)*t:t<0&&(h=(Math.ceil(h*-t)+1)/-t))}else f.pop()}for(var d=f.length;f[0]<=l;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var p,m=new Array(d+1);for(i=0;i<=d;++i)(p=m[i]=[]).x0=i>0?f[i-1]:l,p.x1=i<d?f[i]:h;if(isFinite(s)){if(s>0)for(i=0;i<a;++i)null!=(o=u[i])&&l<=o&&o<=h&&m[Math.min(d,Math.floor((o-l)/s))].push(r[i]);else if(s<0)for(i=0;i<a;++i)if(null!=(o=u[i])&&l<=o&&o<=h){const t=Math.floor((l-o)*s);m[Math.min(d,t+(f[t]<=o))].push(r[i])}}else for(i=0;i<a;++i)null!=(o=u[i])&&l<=o&&o<=h&&m[J(f,o,0,d)].push(r[i]);return m}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:qt(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:qt([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?qt(zt.call(t)):qt(t),r):n},r}function Zt(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function te(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function ee(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function ne(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function re(t,e,n=0,r=t.length-1,i){for(i=void 0===i?Ut:jt(i);r>n;){if(r-n>600){const o=r-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);re(t,e,Math.max(n,Math.floor(e-s*u/o+c)),Math.min(r,Math.floor(e+(o-s)*u/o+c)),i)}const o=t[e];let s=n,a=r;for(ie(t,n,e),i(t[r],o)>0&&ie(t,n,r);s<a;){for(ie(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}0===i(t[n],o)?ie(t,n,a):(++a,ie(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function ie(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function oe(t,e=z){let n,r=!1;if(1===e.length){let i;for(const o of t){const t=e(o);(r?z(t,i)>0:0===z(t,t))&&(n=o,i=t,r=!0)}}else for(const i of t)(r?e(i,n)>0:0===e(i,i))&&(n=i,r=!0);return n}function se(t,e,n){if(r=(t=Float64Array.from(Y(t,n))).length){if((e=+e)<=0||r<2)return ee(t);if(e>=1)return Zt(t);var r,i=(r-1)*e,o=Math.floor(i),s=Zt(re(t,o).subarray(0,o+1));return s+(ee(t.subarray(o+1))-s)*(i-o)}}function ae(t,e,n=K){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(i-o)}}function ue(t,e,n){if(r=(t=Float64Array.from(Y(t,n))).length){if((e=+e)<=0||r<2)return ne(t);if(e>=1)return te(t);var r,i=Math.floor((r-1)*e),o=re(Uint32Array.from(t,((t,e)=>e)),i,0,r-1,((e,n)=>Ut(t[e],t[n])));return oe(o.subarray(0,i+1),(e=>t[e]))}}function ce(t,e,n){return Math.ceil((n-e)/(2*(se(t,.75)-se(t,.25))*Math.pow(st(t),-1/3)))}function le(t,e,n){return Math.ceil((n-e)*Math.cbrt(st(t))/(3.49*dt(t)))}function he(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function fe(t,e){return se(t,.5,e)}function de(t,e){return ue(t,.5,e)}function pe(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function me(t,e){const n=new gt;if(void 0===e)for(let e of t)null!=e&&e>=e&&n.set(e,(n.get(e)||0)+1);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[t,e]of n)e>i&&(i=e,r=t);return r}function ve(t,e=ye){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function ye(t,e){return[t,e]}function ge(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function _e(t,e=z){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);2!==e.length&&(n=n.map(e),e=z);const i=(t,r)=>e(n[t],n[r]);let o,s;return Uint32Array.from(n,((t,e)=>e)).sort(e===z?(t,e)=>Ut(n[t],n[e]):jt(i)).forEach(((t,e)=>{const n=i(t,void 0===o?t:o);n>=0?((void 0===o||n>0)&&(o=t,s=e),r[t]=s):r[t]=NaN})),r}function be(t,e=z){let n,r=!1;if(1===e.length){let i;for(const o of t){const t=e(o);(r?z(t,i)<0:0===z(t,t))&&(n=o,i=t,r=!0)}}else for(const i of t)(r?e(i,n)<0:0===e(i,i))&&(n=i,r=!0);return n}function xe(t,e=z){if(1===e.length)return ne(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?0===e(o,o):e(o,n)<0)&&(n=o,r=i);return r}function Ee(t,e=z){if(1===e.length)return te(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?0===e(o,o):e(o,n)>0)&&(n=o,r=i);return r}function we(t,e){const n=xe(t,e);return n<0?void 0:n}const Te=Se(Math.random);function Se(t){return function(e,n=0,r=e.length){let i=r-(n=+n);for(;i;){const r=t()*i--|0,o=e[i+n];e[i+n]=e[r+n],e[r+n]=o}return e}}function ke(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Ae(t){if(!(i=t.length))return[];for(var e=-1,n=ee(t,Oe),r=new Array(n);++e<n;)for(var i,o=-1,s=r[e]=new Array(i);++o<i;)s[o]=t[o][e];return r}function Oe(t){return t.length}function Ce(){return Ae(arguments)}function Pe(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function Re(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function Ne(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function Le(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}function Ie(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,s=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++s}for(;({done:i,value:o}=r.next()),!i;)n=e(n,o,++s,t);return n}function Me(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function De(t,...e){t=new _t(t);for(const n of e)for(const e of n)t.delete(e);return t}function Fe(t,e){const n=e[Symbol.iterator](),r=new _t;for(const e of t){if(r.has(e))return!1;let t,i;for(;({value:t,done:i}=n.next())&&!i;){if(Object.is(e,t))return!1;r.add(t)}}return!0}function je(t,...e){t=new _t(t),e=e.map(Ue);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Ue(t){return t instanceof _t?t:new _t(t)}function Be(t,e){const n=t[Symbol.iterator](),r=new Set;for(const t of e){const e=$e(t);if(r.has(e))continue;let i,o;for(;({value:i,done:o}=n.next());){if(o)return!1;const t=$e(i);if(r.add(t),Object.is(e,t))break}}return!0}function $e(t){return null!==t&&"object"==typeof t?t.valueOf():t}function ze(t,e){return Be(e,t)}function qe(...t){const e=new _t;for(const n of t)for(const t of n)e.add(t);return e}function Ve(t){return t}var He=1e-6;function Ke(t){return"translate("+t+",0)"}function Ye(t){return"translate(0,"+t+")"}function Ge(t){return e=>+t(e)}function Qe(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function We(){return!this.__axis}function Xe(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,u="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",h=1===t||3===t?Ke:Ye;function f(f){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):Ve:i,m=Math.max(o,0)+a,v=e.range(),y=+v[0]+u,g=+v[v.length-1]+u,_=(e.bandwidth?Qe:Ge)(e.copy(),u),b=f.selection?f.selection():f,x=b.selectAll(".domain").data([null]),E=b.selectAll(".tick").data(d,e).order(),w=E.exit(),T=E.enter().append("g").attr("class","tick"),S=E.select("line"),k=E.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(T),S=S.merge(T.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),k=k.merge(T.append("text").attr("fill","currentColor").attr(l,c*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==b&&(x=x.transition(f),E=E.transition(f),S=S.transition(f),k=k.transition(f),w=w.transition(f).attr("opacity",He).attr("transform",(function(t){return isFinite(t=_(t))?h(t+u):this.getAttribute("transform")})),T.attr("opacity",He).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:_(t))+u)}))),w.remove(),x.attr("d",4===t||2===t?s?"M"+c*s+","+y+"H"+u+"V"+g+"H"+c*s:"M"+u+","+y+"V"+g:s?"M"+y+","+c*s+"V"+u+"H"+g+"V"+c*s:"M"+y+","+u+"H"+g),E.attr("opacity",1).attr("transform",(function(t){return h(_(t)+u)})),S.attr(l+"2",c*o),k.attr(l,c*m).text(p),b.filter(We).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=_}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=s=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(s=+t,f):s},f.tickPadding=function(t){return arguments.length?(a=+t,f):a},f.offset=function(t){return arguments.length?(u=+t,f):u},f}function Je(t){return Xe(1,t)}function Ze(t){return Xe(2,t)}function tn(t){return Xe(3,t)}function en(t){return Xe(4,t)}var nn={value:()=>{}};function rn(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new on(r)}function on(t){this._=t}function sn(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function an(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function un(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=nn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}on.prototype=rn.prototype={constructor:on,on:function(t,e){var n,r=this._,i=sn(t+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=i[o]).type)r[n]=un(r[n],t.name,e);else if(null==e)for(n in r)r[n]=un(r[n],t.name,null);return this}for(;++o<s;)if((n=(t=i[o]).type)&&(n=an(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new on(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const cn=rn;function ln(){}function hn(t){return null==t?ln:function(){return this.querySelector(t)}}function fn(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function dn(){return[]}function pn(t){return null==t?dn:function(){return this.querySelectorAll(t)}}function mn(t){return function(){return this.matches(t)}}function vn(t){return function(e){return e.matches(t)}}var yn=Array.prototype.find;function gn(){return this.firstElementChild}var _n=Array.prototype.filter;function bn(){return Array.from(this.children)}function xn(t){return new Array(t.length)}function En(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function wn(t){return function(){return t}}function Tn(t,e,n,r,i,o){for(var s,a=0,u=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new En(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function Sn(t,e,n,r,i,o,s){var a,u,c,l=new Map,h=e.length,f=o.length,d=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(d[a]=c=s.call(u,u.__data__,a,e)+"",l.has(c)?i[a]=u:l.set(c,u));for(a=0;a<f;++a)c=s.call(t,o[a],a,o)+"",(u=l.get(c))?(r[a]=u,u.__data__=o[a],l.delete(c)):n[a]=new En(t,o[a]);for(a=0;a<h;++a)(u=e[a])&&l.get(d[a])===u&&(i[a]=u)}function kn(t){return t.__data__}function An(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function On(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}En.prototype={constructor:En,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Cn="http://www.w3.org/1999/xhtml";const Pn={svg:"http://www.w3.org/2000/svg",xhtml:Cn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rn(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Pn.hasOwnProperty(e)?{space:Pn[e],local:t}:t}function Nn(t){return function(){this.removeAttribute(t)}}function Ln(t){return function(){this.removeAttributeNS(t.space,t.local)}}function In(t,e){return function(){this.setAttribute(t,e)}}function Mn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Dn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Fn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function jn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Un(t){return function(){this.style.removeProperty(t)}}function Bn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function $n(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function zn(t,e){return t.style.getPropertyValue(e)||jn(t).getComputedStyle(t,null).getPropertyValue(e)}function qn(t){return function(){delete this[t]}}function Vn(t,e){return function(){this[t]=e}}function Hn(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Kn(t){return t.trim().split(/^|\s+/)}function Yn(t){return t.classList||new Gn(t)}function Gn(t){this._node=t,this._names=Kn(t.getAttribute("class")||"")}function Qn(t,e){for(var n=Yn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Wn(t,e){for(var n=Yn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Xn(t){return function(){Qn(this,t)}}function Jn(t){return function(){Wn(this,t)}}function Zn(t,e){return function(){(e.apply(this,arguments)?Qn:Wn)(this,t)}}function tr(){this.textContent=""}function er(t){return function(){this.textContent=t}}function nr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function rr(){this.innerHTML=""}function ir(t){return function(){this.innerHTML=t}}function or(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function sr(){this.nextSibling&&this.parentNode.appendChild(this)}function ar(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ur(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Cn&&e.documentElement.namespaceURI===Cn?e.createElement(t):e.createElementNS(n,t)}}function cr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function lr(t){var e=Rn(t);return(e.local?cr:ur)(e)}function hr(){return null}function fr(){var t=this.parentNode;t&&t.removeChild(this)}function dr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mr(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function vr(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function yr(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function gr(t,e,n){var r=jn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function _r(t,e){return function(){return gr(this,t,e)}}function br(t,e){return function(){return gr(this,t,e.apply(this,arguments))}}Gn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xr=[null];function Er(t,e){this._groups=t,this._parents=e}function wr(){return new Er([[document.documentElement]],xr)}Er.prototype=wr.prototype={constructor:Er,select:function(t){"function"!=typeof t&&(t=hn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],u=a.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),c[l]=s);return new Er(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return fn(t.apply(this,arguments))}}(t):pn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],u=a.length,c=0;c<u;++c)(s=a[c])&&(r.push(t.call(s,s.__data__,c,a)),i.push(s));return new Er(r,i)},selectChild:function(t){return this.select(null==t?gn:function(t){return function(){return yn.call(this.children,t)}}("function"==typeof t?t:vn(t)))},selectChildren:function(t){return this.selectAll(null==t?bn:function(t){return function(){return _n.call(this.children,t)}}("function"==typeof t?t:vn(t)))},filter:function(t){"function"!=typeof t&&(t=mn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,u=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&u.push(o);return new Er(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,kn);var n=e?Sn:Tn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=wn(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],h=i[c],f=h.length,d=An(t.call(l,l&&l.__data__,c,r)),p=d.length,m=a[c]=new Array(p),v=s[c]=new Array(p),y=u[c]=new Array(f);n(l,h,m,v,y,d,e);for(var g,_,b=0,x=0;b<p;++b)if(g=m[b]){for(b>=x&&(x=b+1);!(_=v[x])&&++x<p;);g._next=_||null}}return(s=new Er(s,r))._enter=a,s._exit=u,s},enter:function(){return new Er(this._enter||this._groups.map(xn),this._parents)},exit:function(){return new Er(this._exit||this._groups.map(xn),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var c,l=n[u],h=r[u],f=l.length,d=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||h[p])&&(d[p]=c);for(;u<i;++u)a[u]=n[u];return new Er(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=On);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],u=a.length,c=i[o]=new Array(u),l=0;l<u;++l)(s=a[l])&&(c[l]=s);c.sort(e)}return new Er(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=Rn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Ln:Nn:"function"==typeof e?n.local?Fn:Dn:n.local?Mn:In)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Un:"function"==typeof e?$n:Bn)(t,e,null==n?"":n)):zn(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?qn:"function"==typeof e?Hn:Vn)(t,e)):this.node()[t]},classed:function(t,e){var n=Kn(t+"");if(arguments.length<2){for(var r=Yn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Zn:e?Xn:Jn)(n,e))},text:function(t){return arguments.length?this.each(null==t?tr:("function"==typeof t?nr:er)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?rr:("function"==typeof t?or:ir)(t)):this.node().innerHTML},raise:function(){return this.each(sr)},lower:function(){return this.each(ar)},append:function(t){var e="function"==typeof t?t:lr(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:lr(t),r=null==e?hr:"function"==typeof e?e:hn(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(fr)},clone:function(t){return this.select(t?pr:dr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=mr(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?yr:vr,r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var u,c=0,l=a.length;c<l;++c)for(r=0,u=a[c];r<s;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?br:_r)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const Tr=wr;function Sr(t){return"string"==typeof t?new Er([[document.querySelector(t)]],[document.documentElement]):new Er([[t]],xr)}const kr={passive:!1},Ar={capture:!0,passive:!1};function Or(t){t.stopImmediatePropagation()}function Cr(t){t.preventDefault(),t.stopImmediatePropagation()}function Pr(t){var e=t.document.documentElement,n=Sr(t).on("dragstart.drag",Cr,Ar);"onselectstart"in e?n.on("selectstart.drag",Cr,Ar):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Rr(t,e){var n=t.document.documentElement,r=Sr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Cr,Ar),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Nr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Lr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ir(){}var Mr=.7,Dr=1/Mr,Fr="\\s*([+-]?\\d+)\\s*",jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Br=/^#([0-9a-f]{3,8})$/,$r=new RegExp(`^rgb\\(${Fr},${Fr},${Fr}\\)$`),zr=new RegExp(`^rgb\\(${Ur},${Ur},${Ur}\\)$`),qr=new RegExp(`^rgba\\(${Fr},${Fr},${Fr},${jr}\\)$`),Vr=new RegExp(`^rgba\\(${Ur},${Ur},${Ur},${jr}\\)$`),Hr=new RegExp(`^hsl\\(${jr},${Ur},${Ur}\\)$`),Kr=new RegExp(`^hsla\\(${jr},${Ur},${Ur},${jr}\\)$`),Yr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Gr(){return this.rgb().formatHex()}function Qr(){return this.rgb().formatRgb()}function Wr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Br.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Xr(e):3===n?new ei(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Jr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Jr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=$r.exec(t))?new ei(e[1],e[2],e[3],1):(e=zr.exec(t))?new ei(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=qr.exec(t))?Jr(e[1],e[2],e[3],e[4]):(e=Vr.exec(t))?Jr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Hr.exec(t))?ai(e[1],e[2]/100,e[3]/100,1):(e=Kr.exec(t))?ai(e[1],e[2]/100,e[3]/100,e[4]):Yr.hasOwnProperty(t)?Xr(Yr[t]):"transparent"===t?new ei(NaN,NaN,NaN,0):null}function Xr(t){return new ei(t>>16&255,t>>8&255,255&t,1)}function Jr(t,e,n,r){return r<=0&&(t=e=n=NaN),new ei(t,e,n,r)}function Zr(t){return t instanceof Ir||(t=Wr(t)),t?new ei((t=t.rgb()).r,t.g,t.b,t.opacity):new ei}function ti(t,e,n,r){return 1===arguments.length?Zr(t):new ei(t,e,n,null==r?1:r)}function ei(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ni(){return`#${si(this.r)}${si(this.g)}${si(this.b)}`}function ri(){const t=ii(this.opacity);return`${1===t?"rgb(":"rgba("}${oi(this.r)}, ${oi(this.g)}, ${oi(this.b)}${1===t?")":`, ${t})`}`}function ii(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function oi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function si(t){return((t=oi(t))<16?"0":"")+t.toString(16)}function ai(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new li(t,e,n,r)}function ui(t){if(t instanceof li)return new li(t.h,t.s,t.l,t.opacity);if(t instanceof Ir||(t=Wr(t)),!t)return new li;if(t instanceof li)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new li(s,a,u,t.opacity)}function ci(t,e,n,r){return 1===arguments.length?ui(t):new li(t,e,n,null==r?1:r)}function li(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hi(t){return(t=(t||0)%360)<0?t+360:t}function fi(t){return Math.max(0,Math.min(1,t||0))}function di(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function pi(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}function mi(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return pi((n-r/e)*e,s,i,o,a)}}function vi(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return pi((n-r/e)*e,i,o,s,a)}}Nr(Ir,Wr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Gr,formatHex:Gr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ui(this).formatHsl()},formatRgb:Qr,toString:Qr}),Nr(ei,ti,Lr(Ir,{brighter(t){return t=null==t?Dr:Math.pow(Dr,t),new ei(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Mr:Math.pow(Mr,t),new ei(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ei(oi(this.r),oi(this.g),oi(this.b),ii(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ni,formatHex:ni,formatHex8:function(){return`#${si(this.r)}${si(this.g)}${si(this.b)}${si(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ri,toString:ri})),Nr(li,ci,Lr(Ir,{brighter(t){return t=null==t?Dr:Math.pow(Dr,t),new li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Mr:Math.pow(Mr,t),new li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ei(di(t>=240?t-240:t+120,i,r),di(t,i,r),di(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new li(hi(this.h),fi(this.s),fi(this.l),ii(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ii(this.opacity);return`${1===t?"hsl(":"hsla("}${hi(this.h)}, ${100*fi(this.s)}%, ${100*fi(this.l)}%${1===t?")":`, ${t})`}`}}));const yi=t=>()=>t;function gi(t,e){return function(n){return t+n*e}}function _i(t,e){var n=e-t;return n?gi(t,n>180||n<-180?n-360*Math.round(n/360):n):yi(isNaN(t)?e:t)}function bi(t,e){var n=e-t;return n?gi(t,n):yi(isNaN(t)?e:t)}const xi=function t(e){var n=function(t){return 1==(t=+t)?bi:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):yi(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=ti(t)).r,(e=ti(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=bi(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function Ei(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=ti(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}var wi=Ei(mi),Ti=Ei(vi);function Si(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function ki(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ai(t,e){return(ki(e)?Si:Oi)(t,e)}function Oi(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Mi(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=o[n](t);return s}}function Ci(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ri(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Mi(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Ni=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Li=new RegExp(Ni.source,"g");function Ii(t,e){var n,r,i,o=Ni.lastIndex=Li.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=Ni.exec(t))&&(r=Li.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,u.push({i:s,x:Pi(n,r)})),o=Li.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)a[(n=u[r]).i]=n.x(t);return a.join("")})}function Mi(t,e){var n,r=typeof e;return null==e||"boolean"===r?yi(e):("number"===r?Pi:"string"===r?(n=Wr(e))?(e=n,xi):Ii:e instanceof Wr?xi:e instanceof Date?Ci:ki(e)?Si:Array.isArray(e)?Oi:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ri:Pi)(t,e)}function Di(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Fi(t,e){if(t=Di(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var ji,Ui,Bi=0,$i=0,zi=0,qi=0,Vi=0,Hi=0,Ki="object"==typeof performance&&performance.now?performance:Date,Yi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gi(){return Vi||(Yi(Qi),Vi=Ki.now()+Hi)}function Qi(){Vi=0}function Wi(){this._call=this._time=this._next=null}function Xi(t,e,n){var r=new Wi;return r.restart(t,e,n),r}function Ji(){Gi(),++Bi;for(var t,e=ji;e;)(t=Vi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Bi}function Zi(){Vi=(qi=Ki.now())+Hi,Bi=$i=0;try{Ji()}finally{Bi=0,function(){for(var t,e,n=ji,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ji=e);Ui=t,eo(r)}(),Vi=0}}function to(){var t=Ki.now(),e=t-qi;e>1e3&&(Hi-=e,qi=t)}function eo(t){Bi||($i&&($i=clearTimeout($i)),t-Vi>24?(t<1/0&&($i=setTimeout(Zi,t-Ki.now()-Hi)),zi&&(zi=clearInterval(zi))):(zi||(qi=Ki.now(),zi=setInterval(to,1e3)),Bi=1,Yi(Zi)))}function no(t,e,n){var r=new Wi;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Wi.prototype=Xi.prototype={constructor:Wi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Gi():+n)+(null==e?0:+e),this._next||Ui===this||(Ui?Ui._next=this:ji=this,Ui=this),this._call=t,this._time=n,eo()},stop:function(){this._call&&(this._call=null,this._time=1/0,eo())}};var ro=cn("start","end","cancel","interrupt"),io=[];function oo(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var c,l,h,f;if(1!==n.state)return a();for(c in i)if((f=i[c]).name===n.name){if(3===f.state)return no(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(no((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=f);r.length=l+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Xi((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:ro,tween:io,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function so(t,e){var n=uo(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ao(t,e){var n=uo(t,e);if(n.state>3)throw new Error("too late; already running");return n}function uo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function co(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}}var lo,ho=180/Math.PI,fo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function po(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ho,skewX:Math.atan(u)*ho,scaleX:s,scaleY:a}}function mo(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],u=[];return o=t(o),s=t(s),function(t,r,i,o,s,a){if(t!==i||r!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:Pi(t,i)},{i:u-2,x:Pi(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Pi(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,a,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Pi(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,a,u),function(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Pi(t,n)},{i:a-2,x:Pi(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,u),o=s=null,function(t){for(var e,n=-1,r=u.length;++n<r;)a[(e=u[n]).i]=e.x(t);return a.join("")}}}var vo=mo((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?fo:po(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),yo=mo((function(t){return null==t?fo:(lo||(lo=document.createElementNS("http://www.w3.org/2000/svg","g")),lo.setAttribute("transform",t),(t=lo.transform.baseVal.consolidate())?po((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):fo)}),", ",")",")");function go(t,e){var n,r;return function(){var i=ao(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function _o(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=ao(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=a;break}u===c&&i.push(a)}o.tween=i}}function bo(t,e,n){var r=t._id;return t.each((function(){var t=ao(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return uo(t,r).value[e]}}function xo(t,e){var n;return("number"==typeof e?Pi:e instanceof Wr?xi:(n=Wr(e))?(e=n,xi):Ii)(t,e)}function Eo(t){return function(){this.removeAttribute(t)}}function wo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function To(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function So(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function ko(t,e,n){var r,i,o;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttribute(t))===(a=u+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,u));this.removeAttribute(t)}}function Ao(t,e,n){var r,i,o;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttributeNS(t.space,t.local))===(a=u+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,u));this.removeAttributeNS(t.space,t.local)}}function Oo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Co(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Po(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Co(t,i)),n}return i._value=e,i}function Ro(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Oo(t,i)),n}return i._value=e,i}function No(t,e){return function(){so(this,t).delay=+e.apply(this,arguments)}}function Lo(t,e){return e=+e,function(){so(this,t).delay=e}}function Io(t,e){return function(){ao(this,t).duration=+e.apply(this,arguments)}}function Mo(t,e){return e=+e,function(){ao(this,t).duration=e}}function Do(t,e){if("function"!=typeof e)throw new Error;return function(){ao(this,t).ease=e}}function Fo(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?so:ao;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}var jo=Tr.prototype.constructor;function Uo(t){return function(){this.style.removeProperty(t)}}function Bo(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function $o(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Bo(t,o,n)),r}return o._value=e,o}function zo(t){return function(e){this.textContent=t.call(this,e)}}function qo(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&zo(r)),e}return r._value=t,r}var Vo=0;function Ho(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ko(t){return Tr().transition(t)}function Yo(){return++Vo}var Go=Tr.prototype;function Qo(t){return t*t*t}function Wo(t){return--t*t*t+1}function Xo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ho.prototype=Ko.prototype={constructor:Ho,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=hn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,u,c=r[s],l=c.length,h=o[s]=new Array(l),f=0;f<l;++f)(a=c[f])&&(u=t.call(a,a.__data__,f,c))&&("__data__"in a&&(u.__data__=a.__data__),h[f]=u,oo(h[f],e,n,f,h,uo(a,n)));return new Ho(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=pn(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u,c=r[a],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var f,d=t.call(u,u.__data__,h,c),p=uo(u,n),m=0,v=d.length;m<v;++m)(f=d[m])&&oo(f,e,n,m,d,p);o.push(d),s.push(u)}return new Ho(o,s,e,n)},selectChild:Go.selectChild,selectChildren:Go.selectChildren,filter:function(t){"function"!=typeof t&&(t=mn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,u=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&u.push(o);return new Ho(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u,c=e[a],l=n[a],h=c.length,f=s[a]=new Array(h),d=0;d<h;++d)(u=c[d]||l[d])&&(f[d]=u);for(;a<r;++a)s[a]=e[a];return new Ho(s,this._parents,this._name,this._id)},selection:function(){return new jo(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Yo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],u=a.length,c=0;c<u;++c)if(s=a[c]){var l=uo(s,e);oo(s,t,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ho(r,this._parents,t,n)},call:Go.call,nodes:Go.nodes,node:Go.node,size:Go.size,empty:Go.empty,each:Go.each,on:function(t,e){var n=this._id;return arguments.length<2?uo(this.node(),n).on.on(t):this.each(Fo(n,t,e))},attr:function(t,e){var n=Rn(t),r="transform"===n?yo:xo;return this.attrTween(t,"function"==typeof e?(n.local?Ao:ko)(n,r,bo(this,"attr."+t,e)):null==e?(n.local?wo:Eo)(n):(n.local?So:To)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Rn(t);return this.tween(n,(r.local?Po:Ro)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?vo:xo;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=zn(this,t),s=(this.style.removeProperty(t),zn(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,Uo(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=zn(this,t),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(t),u=a=zn(this,t)),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}(t,r,bo(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,a="end."+s;return function(){var u=ao(this,t),c=u.on,l=null==u.value[s]?o||(o=Uo(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(a,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=zn(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,$o(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(bo(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,qo(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=uo(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?go:_o)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?No:Lo)(e,t)):uo(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Io:Mo)(e,t)):uo(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Do(e,t)):uo(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;ao(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},u={value:function(){0==--i&&o()}};n.each((function(){var n=ao(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Go[Symbol.iterator]};var Jo={time:null,delay:0,duration:250,ease:Xo};function Zo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Tr.prototype.interrupt=function(t){return this.each((function(){co(this,t)}))},Tr.prototype.transition=function(t){var e,n;t instanceof Ho?(e=t._id,t=t._name):(e=Yo(),(n=Jo).time=Gi(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],u=a.length,c=0;c<u;++c)(s=a[c])&&oo(s,t,e,c,a,n||Zo(s,e));return new Ho(r,this._parents,t,e)};var ts=[null];function es(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new Ho([[t]],ts,e,+r);return null}const ns=t=>()=>t;function rs(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function is(t){t.stopImmediatePropagation()}function os(t){t.preventDefault(),t.stopImmediatePropagation()}var ss={name:"drag"},as={name:"space"},us={name:"handle"},cs={name:"center"};const{abs:ls,max:hs,min:fs}=Math;function ds(t){return[+t[0],+t[1]]}function ps(t){return[ds(t[0]),ds(t[1])]}var ms={name:"x",handles:["w","e"].map(ws),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},vs={name:"y",handles:["n","s"].map(ws),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ys={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(ws),input:function(t){return null==t?null:ps(t)},output:function(t){return t}},gs={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_s={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},bs={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},xs={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Es={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ws(t){return{type:t}}function Ts(t){return!t.ctrlKey&&!t.button}function Ss(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ks(){return navigator.maxTouchPoints||"ontouchstart"in this}function As(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Os(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Cs(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ps(){return Ls(ms)}function Rs(){return Ls(vs)}function Ns(){return Ls(ys)}function Ls(t){var e,n=Ss,r=Ts,i=ks,o=!0,s=cn("start","brush","end"),a=6;function u(e){var n=e.property("__brush",m).selectAll(".overlay").data([ws("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",gs.overlay).merge(n).each((function(){var t=As(this).extent;Sr(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([ws("selection")]).enter().append("rect").attr("class","selection").attr("cursor",gs.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return gs[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=Sr(this),e=As(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-a/2:e[0][0]-a/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-a/2:e[0][1]-a/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+a:a})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+a:a}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new h(t,e,n):r}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function f(n){if((!e||n.touches)&&r.apply(this,arguments)){var i,s,a,u,h,f,d,p,m,v,y,g=this,_=n.target.__data__.type,b="selection"===(o&&n.metaKey?_="overlay":_)?ss:o&&n.altKey?cs:us,x=t===vs?null:xs[_],E=t===ms?null:Es[_],w=As(g),T=w.extent,S=w.selection,k=T[0][0],A=T[0][1],O=T[1][0],C=T[1][1],P=0,R=0,N=x&&E&&o&&n.shiftKey,L=Array.from(n.touches||[n],(t=>{const e=t.identifier;return(t=Fi(t,g)).point0=t.slice(),t.identifier=e,t}));co(g);var I=l(g,arguments,!0).beforestart();if("overlay"===_){S&&(m=!0);const e=[L[0],L[1]||L[0]];w.selection=S=[[i=t===vs?k:fs(e[0][0],e[1][0]),a=t===ms?A:fs(e[0][1],e[1][1])],[h=t===vs?O:hs(e[0][0],e[1][0]),d=t===ms?C:hs(e[0][1],e[1][1])]],L.length>1&&U(n)}else i=S[0][0],a=S[0][1],h=S[1][0],d=S[1][1];s=i,u=a,f=h,p=d;var M=Sr(g).attr("pointer-events","none"),D=M.selectAll(".overlay").attr("cursor",gs[_]);if(n.touches)I.moved=j,I.ended=B;else{var F=Sr(n.view).on("mousemove.brush",j,!0).on("mouseup.brush",B,!0);o&&F.on("keydown.brush",$,!0).on("keyup.brush",z,!0),Pr(n.view)}c.call(g),I.start(n,b.name)}function j(t){for(const e of t.changedTouches||[t])for(const t of L)t.identifier===e.identifier&&(t.cur=Fi(e,g));if(N&&!v&&!y&&1===L.length){const t=L[0];ls(t.cur[0]-t[0])>ls(t.cur[1]-t[1])?y=!0:v=!0}for(const t of L)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);m=!0,os(t),U(t)}function U(t){const e=L[0],n=e.point0;var r;switch(P=e[0]-n[0],R=e[1]-n[1],b){case as:case ss:x&&(P=hs(k-i,fs(O-h,P)),s=i+P,f=h+P),E&&(R=hs(A-a,fs(C-d,R)),u=a+R,p=d+R);break;case us:L[1]?(x&&(s=hs(k,fs(O,L[0][0])),f=hs(k,fs(O,L[1][0])),x=1),E&&(u=hs(A,fs(C,L[0][1])),p=hs(A,fs(C,L[1][1])),E=1)):(x<0?(P=hs(k-i,fs(O-i,P)),s=i+P,f=h):x>0&&(P=hs(k-h,fs(O-h,P)),s=i,f=h+P),E<0?(R=hs(A-a,fs(C-a,R)),u=a+R,p=d):E>0&&(R=hs(A-d,fs(C-d,R)),u=a,p=d+R));break;case cs:x&&(s=hs(k,fs(O,i-P*x)),f=hs(k,fs(O,h+P*x))),E&&(u=hs(A,fs(C,a-R*E)),p=hs(A,fs(C,d+R*E)))}f<s&&(x*=-1,r=i,i=h,h=r,r=s,s=f,f=r,_ in _s&&D.attr("cursor",gs[_=_s[_]])),p<u&&(E*=-1,r=a,a=d,d=r,r=u,u=p,p=r,_ in bs&&D.attr("cursor",gs[_=bs[_]])),w.selection&&(S=w.selection),v&&(s=S[0][0],f=S[1][0]),y&&(u=S[0][1],p=S[1][1]),S[0][0]===s&&S[0][1]===u&&S[1][0]===f&&S[1][1]===p||(w.selection=[[s,u],[f,p]],c.call(g),I.brush(t,b.name))}function B(t){if(is(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Rr(t.view,m),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);M.attr("pointer-events","all"),D.attr("cursor",gs.overlay),w.selection&&(S=w.selection),Os(S)&&(w.selection=null,c.call(g)),I.end(t,b.name)}function $(t){switch(t.keyCode){case 16:N=x&&E;break;case 18:b===us&&(x&&(h=f-P*x,i=s+P*x),E&&(d=p-R*E,a=u+R*E),b=cs,U(t));break;case 32:b!==us&&b!==cs||(x<0?h=f-P:x>0&&(i=s-P),E<0?d=p-R:E>0&&(a=u-R),b=as,D.attr("cursor",gs.selection),U(t));break;default:return}os(t)}function z(t){switch(t.keyCode){case 16:N&&(v=y=N=!1,U(t));break;case 18:b===cs&&(x<0?h=f:x>0&&(i=s),E<0?d=p:E>0&&(a=u),b=us,U(t));break;case 32:b===as&&(t.altKey?(x&&(h=f-P*x,i=s+P*x),E&&(d=p-R*E,a=u+R*E),b=cs):(x<0?h=f:x>0&&(i=s),E<0?d=p:E>0&&(a=u),b=us),D.attr("cursor",gs[_]),U(t));break;default:return}os(t)}}function d(t){l(this,arguments).moved(t)}function p(t){l(this,arguments).ended(t)}function m(){var e=this.__brush||{selection:null};return e.extent=ps(n.apply(this,arguments)),e.dim=t,e}return u.move=function(e,n,r){e.tween?e.on("start.brush",(function(t){l(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){l(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,i=l(e,arguments),o=r.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),a=Mi(o,s);function u(t){r.selection=1===t&&null===s?null:a(t),c.call(e),i.brush()}return null!==o&&null!==s?u:u(1)})):e.each((function(){var e=this,i=arguments,o=e.__brush,s=t.input("function"==typeof n?n.apply(e,i):n,o.extent),a=l(e,i).beforestart();co(e),o.selection=null===s?null:s,c.call(e),a.start(r).brush(r).end(r)}))},u.clear=function(t,e){u.move(t,null,e)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var i=Sr(this.that).datum();s.call(e,this.that,new rs(e,{sourceEvent:n,target:u,selection:t.output(this.state.selection),mode:r,dispatch:s}),i)}},u.extent=function(t){return arguments.length?(n="function"==typeof t?t:ns(ps(t)),u):n},u.filter=function(t){return arguments.length?(r="function"==typeof t?t:ns(!!t),u):r},u.touchable=function(t){return arguments.length?(i="function"==typeof t?t:ns(!!t),u):i},u.handleSize=function(t){return arguments.length?(a=+t,u):a},u.keyModifiers=function(t){return arguments.length?(o=!!t,u):o},u.on=function(){var t=s.on.apply(s,arguments);return t===s?u:t},u}var Is=Math.abs,Ms=Math.cos,Ds=Math.sin,Fs=Math.PI,js=Fs/2,Us=2*Fs,Bs=Math.max,$s=1e-12;function zs(t,e){return Array.from({length:e-t},((e,n)=>t+n))}function qs(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Vs(){return Ys(!1,!1)}function Hs(){return Ys(!1,!0)}function Ks(){return Ys(!0,!1)}function Ys(t,e){var n=0,r=null,i=null,o=null;function s(s){var a,u=s.length,c=new Array(u),l=zs(0,u),h=new Array(u*u),f=new Array(u),d=0;s=Float64Array.from({length:u*u},e?(t,e)=>s[e%u][e/u|0]:(t,e)=>s[e/u|0][e%u]);for(let e=0;e<u;++e){let n=0;for(let r=0;r<u;++r)n+=s[e*u+r]+t*s[r*u+e];d+=c[e]=n}a=(d=Bs(0,Us-n*u)/d)?n:Us/u;{let e=0;r&&l.sort(((t,e)=>r(c[t],c[e])));for(const n of l){const r=e;if(t){const t=zs(1+~u,u).filter((t=>t<0?s[~t*u+n]:s[n*u+t]));i&&t.sort(((t,e)=>i(t<0?-s[~t*u+n]:s[n*u+t],e<0?-s[~e*u+n]:s[n*u+e])));for(const r of t)r<0?(h[~r*u+n]||(h[~r*u+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=s[~r*u+n]*d,value:s[~r*u+n]}:(h[n*u+r]||(h[n*u+r]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=s[n*u+r]*d,value:s[n*u+r]};f[n]={index:n,startAngle:r,endAngle:e,value:c[n]}}else{const t=zs(0,u).filter((t=>s[n*u+t]||s[t*u+n]));i&&t.sort(((t,e)=>i(s[n*u+t],s[n*u+e])));for(const r of t){let t;if(n<r?(t=h[n*u+r]||(h[n*u+r]={source:null,target:null}),t.source={index:n,startAngle:e,endAngle:e+=s[n*u+r]*d,value:s[n*u+r]}):(t=h[r*u+n]||(h[r*u+n]={source:null,target:null}),t.target={index:n,startAngle:e,endAngle:e+=s[n*u+r]*d,value:s[n*u+r]},n===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const e=t.source;t.source=t.target,t.target=e}}f[n]={index:n,startAngle:r,endAngle:e,value:c[n]}}e+=a}}return(h=Object.values(h)).groups=f,o?h.sort(o):h}return s.padAngle=function(t){return arguments.length?(n=Bs(0,t),s):n},s.sortGroups=function(t){return arguments.length?(r=t,s):r},s.sortSubgroups=function(t){return arguments.length?(i=t,s):i},s.sortChords=function(t){return arguments.length?(null==t?o=null:(o=qs(t))._=t,s):o&&o._},s}const Gs=Math.PI,Qs=2*Gs,Ws=1e-6,Xs=Qs-Ws;function Js(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Zs(){return new Js}Js.prototype=Zs.prototype={constructor:Js,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-t,u=r-e,c=o-t,l=s-e,h=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Ws)if(Math.abs(l*a-u*c)>Ws&&i){var f=n-o,d=r-s,p=a*a+u*u,m=f*f+d*d,v=Math.sqrt(p),y=Math.sqrt(h),g=i*Math.tan((Gs-Math.acos((p+h-m)/(2*v*y)))/2),_=g/y,b=g/v;Math.abs(_-1)>Ws&&(this._+="L"+(t+_*c)+","+(e+_*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>c*d)+","+(this._x1=t+b*a)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(r),a=n*Math.sin(r),u=t+s,c=e+a,l=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Ws||Math.abs(this._y1-c)>Ws)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%Qs+Qs),h>Xs?this._+="A"+n+","+n+",0,1,"+l+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>Ws&&(this._+="A"+n+","+n+",0,"+ +(h>=Gs)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const ta=Zs;var ea=Array.prototype.slice;function na(t){return function(){return t}}function ra(t){return t.source}function ia(t){return t.target}function oa(t){return t.radius}function sa(t){return t.startAngle}function aa(t){return t.endAngle}function ua(){return 0}function ca(){return 10}function la(t){var e=ra,n=ia,r=oa,i=oa,o=sa,s=aa,a=ua,u=null;function c(){var c,l=e.apply(this,arguments),h=n.apply(this,arguments),f=a.apply(this,arguments)/2,d=ea.call(arguments),p=+r.apply(this,(d[0]=l,d)),m=o.apply(this,d)-js,v=s.apply(this,d)-js,y=+i.apply(this,(d[0]=h,d)),g=o.apply(this,d)-js,_=s.apply(this,d)-js;if(u||(u=c=ta()),f>$s&&(Is(v-m)>2*f+$s?v>m?(m+=f,v-=f):(m-=f,v+=f):m=v=(m+v)/2,Is(_-g)>2*f+$s?_>g?(g+=f,_-=f):(g-=f,_+=f):g=_=(g+_)/2),u.moveTo(p*Ms(m),p*Ds(m)),u.arc(0,0,p,m,v),m!==g||v!==_)if(t){var b=+t.apply(this,arguments),x=y-b,E=(g+_)/2;u.quadraticCurveTo(0,0,x*Ms(g),x*Ds(g)),u.lineTo(y*Ms(E),y*Ds(E)),u.lineTo(x*Ms(_),x*Ds(_))}else u.quadraticCurveTo(0,0,y*Ms(g),y*Ds(g)),u.arc(0,0,y,g,_);if(u.quadraticCurveTo(0,0,p*Ms(m),p*Ds(m)),u.closePath(),c)return u=null,c+""||null}return t&&(c.headRadius=function(e){return arguments.length?(t="function"==typeof e?e:na(+e),c):t}),c.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:na(+t),c):r},c.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:na(+t),c):r},c.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:na(+t),c):i},c.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:na(+t),c):o},c.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:na(+t),c):s},c.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:na(+t),c):a},c.source=function(t){return arguments.length?(e=t,c):e},c.target=function(t){return arguments.length?(n=t,c):n},c.context=function(t){return arguments.length?(u=null==t?null:t,c):u},c}function ha(){return la()}function fa(){return la(ca)}const da=Math.PI/180,pa=180/Math.PI,ma=.96422,va=.82521,ya=4/29,ga=6/29,_a=3*ga*ga;function ba(t){if(t instanceof wa)return new wa(t.l,t.a,t.b,t.opacity);if(t instanceof Ra)return Na(t);t instanceof ei||(t=Zr(t));var e,n,r=Aa(t.r),i=Aa(t.g),o=Aa(t.b),s=Ta((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=s:(e=Ta((.4360747*r+.3850649*i+.1430804*o)/ma),n=Ta((.0139322*r+.0971045*i+.7141733*o)/va)),new wa(116*s-16,500*(e-s),200*(s-n),t.opacity)}function xa(t,e){return new wa(t,0,0,null==e?1:e)}function Ea(t,e,n,r){return 1===arguments.length?ba(t):new wa(t,e,n,null==r?1:r)}function wa(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Ta(t){return t>.008856451679035631?Math.pow(t,1/3):t/_a+ya}function Sa(t){return t>ga?t*t*t:_a*(t-ya)}function ka(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Aa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Oa(t){if(t instanceof Ra)return new Ra(t.h,t.c,t.l,t.opacity);if(t instanceof wa||(t=ba(t)),0===t.a&&0===t.b)return new Ra(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*pa;return new Ra(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ca(t,e,n,r){return 1===arguments.length?Oa(t):new Ra(n,e,t,null==r?1:r)}function Pa(t,e,n,r){return 1===arguments.length?Oa(t):new Ra(t,e,n,null==r?1:r)}function Ra(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Na(t){if(isNaN(t.h))return new wa(t.l,0,0,t.opacity);var e=t.h*da;return new wa(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Nr(wa,Ea,Lr(Ir,{brighter(t){return new wa(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new wa(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new ei(ka(3.1338561*(e=ma*Sa(e))-1.6168667*(t=1*Sa(t))-.4906146*(n=va*Sa(n))),ka(-.9787684*e+1.9161415*t+.033454*n),ka(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Nr(Ra,Pa,Lr(Ir,{brighter(t){return new Ra(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Ra(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Na(this).rgb()}}));var La=-.14861,Ia=1.78277,Ma=-.29227,Da=-.90649,Fa=1.97294,ja=Fa*Da,Ua=Fa*Ia,Ba=Ia*Ma-Da*La;function $a(t){if(t instanceof qa)return new qa(t.h,t.s,t.l,t.opacity);t instanceof ei||(t=Zr(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ba*r+ja*e-Ua*n)/(Ba+ja-Ua),o=r-i,s=(Fa*(n-i)-Ma*o)/Da,a=Math.sqrt(s*s+o*o)/(Fa*i*(1-i)),u=a?Math.atan2(s,o)*pa-120:NaN;return new qa(u<0?u+360:u,a,i,t.opacity)}function za(t,e,n,r){return 1===arguments.length?$a(t):new qa(t,e,n,null==r?1:r)}function qa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Nr(qa,za,Lr(Ir,{brighter(t){return t=null==t?Dr:Math.pow(Dr,t),new qa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Mr:Math.pow(Mr,t),new qa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*da,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new ei(255*(e+n*(La*r+Ia*i)),255*(e+n*(Ma*r+Da*i)),255*(e+n*(Fa*r)),this.opacity)}}));var Va=Array.prototype.slice;function Ha(t,e){return t-e}const Ka=t=>()=>t;function Ya(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=Ga(t,e[r]))return n;return 0}function Ga(t,e){for(var n=e[0],r=e[1],i=-1,o=0,s=t.length,a=s-1;o<s;a=o++){var u=t[o],c=u[0],l=u[1],h=t[a],f=h[0],d=h[1];if(Qa(u,h,e))return 0;l>r!=d>r&&n<(f-c)*(r-l)/(d-l)+c&&(i=-i)}return i}function Qa(t,e,n){var r,i,o,s;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],s=e[r],i<=o&&o<=s||s<=o&&o<=i)}function Wa(){}var Xa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ja(){var t=1,e=1,n=Xt,r=a;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Ha);else{const n=pt(t),r=Qt(n[0],n[1],e);e=Yt(Math.floor(n[0]/r)*r,Math.floor(n[1]/r-1)*r,e)}return e.map((e=>o(t,e)))}function o(n,i){var o=[],a=[];return function(n,r,i){var o,a,u,c,l,h,f=new Array,d=new Array;for(o=a=-1,c=n[0]>=r,Xa[c<<1].forEach(p);++o<t-1;)u=c,c=n[o+1]>=r,Xa[u|c<<1].forEach(p);for(Xa[c<<0].forEach(p);++a<e-1;){for(o=-1,c=n[a*t+t]>=r,l=n[a*t]>=r,Xa[c<<1|l<<2].forEach(p);++o<t-1;)u=c,c=n[a*t+t+o+1]>=r,h=l,l=n[a*t+o+1]>=r,Xa[u|c<<1|l<<2|h<<3].forEach(p);Xa[c|l<<3].forEach(p)}for(o=-1,l=n[a*t]>=r,Xa[l<<2].forEach(p);++o<t-1;)h=l,l=n[a*t+o+1]>=r,Xa[l<<2|h<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+a],u=[t[1][0]+o,t[1][1]+a],c=s(r),l=s(u);(e=d[c])?(n=f[l])?(delete d[e.end],delete f[n.start],e===n?(e.ring.push(u),i(e.ring)):f[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(u),d[e.end=l]=e):(e=f[l])?(n=d[c])?(delete f[e.start],delete d[n.end],e===n?(e.ring.push(u),i(e.ring)):f[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete f[e.start],e.ring.unshift(r),f[e.start=c]=e):f[c]=d[l]={start:c,end:l,ring:[r,u]}}Xa[l<<3].forEach(p)}(n,i,(function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?o.push([t]):a.push(t)})),a.forEach((function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==Ya((e=o[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function s(e){return 2*e[0]+e[1]*(t+1)*4}function a(n,r,i){n.forEach((function(n){var o,s=n[0],a=n[1],u=0|s,c=0|a,l=r[c*t+u];s>0&&s<t&&u===s&&(o=r[c*t+u-1],n[0]=s+(i-o)/(l-o)-.5),a>0&&a<e&&c===a&&(o=r[(c-1)*t+u],n[1]=a+(i-o)/(l-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.floor(n[0]),o=Math.floor(n[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Ka(Va.call(t)):Ka(t),i):n},i.smooth=function(t){return arguments.length?(r=t?a:Wa,i):r===a},i}function Za(t){return t[0]}function tu(t){return t[1]}function eu(){return 1}function nu(){var t=Za,e=tu,n=eu,r=960,i=500,o=20,s=2,a=3*o,u=r+2*a>>s,c=i+2*a>>s,l=Ka(20);function h(r){var i=new Float32Array(u*c),l=Math.pow(2,-s),h=-1;for(const o of r){var f=(t(o,++h,r)+a)*l,d=(e(o,h,r)+a)*l,p=+n(o,h,r);if(f>=0&&f<u&&d>=0&&d<c){var m=Math.floor(f),v=Math.floor(d),y=f-m-.5,g=d-v-.5;i[m+v*u]+=(1-y)*(1-g)*p,i[m+1+v*u]+=y*(1-g)*p,i[m+1+(v+1)*u]+=y*g*p,i[m+(v+1)*u]+=(1-y)*g*p}}return tt({data:i,width:u,height:c},o*l),i}function f(t){var e=h(t),n=l(e),r=Math.pow(2,2*s);return Array.isArray(n)||(n=Yt(Number.MIN_VALUE,Zt(e)/r,n)),Ja().size([u,c]).thresholds(n.map((t=>t*r)))(e).map(((t,e)=>(t.value=+n[e],d(t))))}function d(t){return t.coordinates.forEach(p),t}function p(t){t.forEach(m)}function m(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,s)-a,t[1]=t[1]*Math.pow(2,s)-a}function y(){return u=r+2*(a=3*o)>>s,c=i+2*a>>s,f}return f.contours=function(t){var e=h(t),n=Ja().size([u,c]),r=Math.pow(2,2*s),i=t=>{t=+t;var i=d(n.contour(e,t*r));return i.value=t,i};return Object.defineProperty(i,"max",{get:()=>Zt(e)/r}),i},f.x=function(e){return arguments.length?(t="function"==typeof e?e:Ka(+e),f):t},f.y=function(t){return arguments.length?(e="function"==typeof t?t:Ka(+t),f):e},f.weight=function(t){return arguments.length?(n="function"==typeof t?t:Ka(+t),f):n},f.size=function(t){if(!arguments.length)return[r,i];var e=+t[0],n=+t[1];if(!(e>=0&&n>=0))throw new Error("invalid size");return r=e,i=n,y()},f.cellSize=function(t){if(!arguments.length)return 1<<s;if(!((t=+t)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(t)/Math.LN2),y()},f.thresholds=function(t){return arguments.length?(l="function"==typeof t?t:Array.isArray(t)?Ka(Va.call(t)):Ka(t),f):l},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*t*t+1)-1)/2,y()},f}const ru=134217729;function iu(t,e,n,r,i){let o,s,a,u,c=e[0],l=r[0],h=0,f=0;l>c==l>-c?(o=c,c=e[++h]):(o=l,l=r[++f]);let d=0;if(h<t&&f<n)for(l>c==l>-c?(s=c+o,a=o-(s-c),c=e[++h]):(s=l+o,a=o-(s-l),l=r[++f]),o=s,0!==a&&(i[d++]=a);h<t&&f<n;)l>c==l>-c?(s=o+c,u=s-o,a=o-(s-u)+(c-u),c=e[++h]):(s=o+l,u=s-o,a=o-(s-u)+(l-u),l=r[++f]),o=s,0!==a&&(i[d++]=a);for(;h<t;)s=o+c,u=s-o,a=o-(s-u)+(c-u),c=e[++h],o=s,0!==a&&(i[d++]=a);for(;f<n;)s=o+l,u=s-o,a=o-(s-u)+(l-u),l=r[++f],o=s,0!==a&&(i[d++]=a);return 0===o&&0!==d||(i[d++]=o),d}function ou(t){return new Float64Array(t)}const su=ou(4),au=ou(8),uu=ou(12),cu=ou(16),lu=ou(4);function hu(t,e,n,r,i,o){const s=(e-o)*(n-i),a=(t-i)*(r-o),u=s-a;if(0===s||0===a||s>0!=a>0)return u;const c=Math.abs(s+a);return Math.abs(u)>=33306690738754716e-32*c?u:-function(t,e,n,r,i,o,s){let a,u,c,l,h,f,d,p,m,v,y,g,_,b,x,E,w,T;const S=t-i,k=n-i,A=e-o,O=r-o;b=S*O,f=ru*S,d=f-(f-S),p=S-d,f=ru*O,m=f-(f-O),v=O-m,x=p*v-(b-d*m-p*m-d*v),E=A*k,f=ru*A,d=f-(f-A),p=A-d,f=ru*k,m=f-(f-k),v=k-m,w=p*v-(E-d*m-p*m-d*v),y=x-w,h=x-y,su[0]=x-(y+h)+(h-w),g=b+y,h=g-b,_=b-(g-h)+(y-h),y=_-E,h=_-y,su[1]=_-(y+h)+(h-E),T=g+y,h=T-g,su[2]=g-(T-h)+(y-h),su[3]=T;let C=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,su),P=22204460492503146e-32*s;if(C>=P||-C>=P)return C;if(h=t-S,a=t-(S+h)+(h-i),h=n-k,c=n-(k+h)+(h-i),h=e-A,u=e-(A+h)+(h-o),h=r-O,l=r-(O+h)+(h-o),0===a&&0===u&&0===c&&0===l)return C;if(P=11093356479670487e-47*s+33306690738754706e-32*Math.abs(C),C+=S*l+O*a-(A*c+k*u),C>=P||-C>=P)return C;b=a*O,f=ru*a,d=f-(f-a),p=a-d,f=ru*O,m=f-(f-O),v=O-m,x=p*v-(b-d*m-p*m-d*v),E=u*k,f=ru*u,d=f-(f-u),p=u-d,f=ru*k,m=f-(f-k),v=k-m,w=p*v-(E-d*m-p*m-d*v),y=x-w,h=x-y,lu[0]=x-(y+h)+(h-w),g=b+y,h=g-b,_=b-(g-h)+(y-h),y=_-E,h=_-y,lu[1]=_-(y+h)+(h-E),T=g+y,h=T-g,lu[2]=g-(T-h)+(y-h),lu[3]=T;const R=iu(4,su,4,lu,au);b=S*l,f=ru*S,d=f-(f-S),p=S-d,f=ru*l,m=f-(f-l),v=l-m,x=p*v-(b-d*m-p*m-d*v),E=A*c,f=ru*A,d=f-(f-A),p=A-d,f=ru*c,m=f-(f-c),v=c-m,w=p*v-(E-d*m-p*m-d*v),y=x-w,h=x-y,lu[0]=x-(y+h)+(h-w),g=b+y,h=g-b,_=b-(g-h)+(y-h),y=_-E,h=_-y,lu[1]=_-(y+h)+(h-E),T=g+y,h=T-g,lu[2]=g-(T-h)+(y-h),lu[3]=T;const N=iu(R,au,4,lu,uu);b=a*l,f=ru*a,d=f-(f-a),p=a-d,f=ru*l,m=f-(f-l),v=l-m,x=p*v-(b-d*m-p*m-d*v),E=u*c,f=ru*u,d=f-(f-u),p=u-d,f=ru*c,m=f-(f-c),v=c-m,w=p*v-(E-d*m-p*m-d*v),y=x-w,h=x-y,lu[0]=x-(y+h)+(h-w),g=b+y,h=g-b,_=b-(g-h)+(y-h),y=_-E,h=_-y,lu[1]=_-(y+h)+(h-E),T=g+y,h=T-g,lu[2]=g-(T-h)+(y-h),lu[3]=T;const L=iu(N,uu,4,lu,cu);return cu[L-1]}(t,e,n,r,i,o,c)}ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(8),ou(8),ou(8),ou(4),ou(8),ou(8),ou(8),ou(12),ou(192),ou(192),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(4),ou(4),ou(4),ou(8),ou(16),ou(16),ou(16),ou(32),ou(32),ou(48),ou(64),ou(1152),ou(1152),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(1152),ou(1152),ou(1152),ou(1152),ou(1152),ou(2304),ou(2304),ou(3456),ou(5760),ou(8),ou(8),ou(8),ou(16),ou(24),ou(48),ou(48),ou(96),ou(192),ou(384),ou(384),ou(384),ou(768),ou(96),ou(96),ou(96),ou(1152);const fu=Math.pow(2,-52),du=new Uint32Array(512);class pu{static from(t,e=bu,n=xu){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new pu(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let s=1/0,a=1/0,u=-1/0,c=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<s&&(s=n),r<a&&(a=r),n>u&&(u=n),r>c&&(c=r),this._ids[e]=e}const l=(s+u)/2,h=(a+c)/2;let f,d,p,m=1/0;for(let e=0;e<o;e++){const n=mu(l,h,t[2*e],t[2*e+1]);n<m&&(f=e,m=n)}const v=t[2*f],y=t[2*f+1];m=1/0;for(let e=0;e<o;e++){if(e===f)continue;const n=mu(v,y,t[2*e],t[2*e+1]);n<m&&n>0&&(d=e,m=n)}let g=t[2*d],_=t[2*d+1],b=1/0;for(let e=0;e<o;e++){if(e===f||e===d)continue;const n=yu(v,y,g,_,t[2*e],t[2*e+1]);n<b&&(p=e,b=n)}let x=t[2*p],E=t[2*p+1];if(b===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];gu(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(hu(v,y,g,_,x,E)<0){const t=d,e=g,n=_;d=p,g=x,_=E,p=t,x=e,E=n}const w=function(t,e,n,r,i,o){const s=n-t,a=r-e,u=i-t,c=o-e,l=s*s+a*a,h=u*u+c*c,f=.5/(s*c-a*u);return{x:t+(c*l-a*h)*f,y:e+(s*h-u*l)*f}}(v,y,g,_,x,E);this._cx=w.x,this._cy=w.y;for(let e=0;e<o;e++)this._dists[e]=mu(t[2*e],t[2*e+1],w.x,w.y);gu(this._ids,this._dists,0,o-1),this._hullStart=f;let T=3;n[f]=e[p]=d,n[d]=e[f]=p,n[p]=e[d]=f,r[f]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(v,y)]=f,i[this._hashKey(g,_)]=d,i[this._hashKey(x,E)]=p,this.trianglesLen=0,this._addTriangle(f,d,p,-1,-1,-1);for(let o,s,a=0;a<this._ids.length;a++){const u=this._ids[a],c=t[2*u],l=t[2*u+1];if(a>0&&Math.abs(c-o)<=fu&&Math.abs(l-s)<=fu)continue;if(o=c,s=l,u===f||u===d||u===p)continue;let h=0;for(let t=0,e=this._hashKey(c,l);t<this._hashSize&&(h=i[(e+t)%this._hashSize],-1===h||h===n[h]);t++);h=e[h];let m,v=h;for(;m=n[v],hu(c,l,t[2*v],t[2*v+1],t[2*m],t[2*m+1])>=0;)if(v=m,v===h){v=-1;break}if(-1===v)continue;let y=this._addTriangle(v,u,n[v],-1,-1,r[v]);r[u]=this._legalize(y+2),r[v]=y,T++;let g=n[v];for(;m=n[g],hu(c,l,t[2*g],t[2*g+1],t[2*m],t[2*m+1])<0;)y=this._addTriangle(g,u,m,r[u],-1,r[g]),r[u]=this._legalize(y+2),n[g]=g,T--,g=m;if(v===h)for(;m=e[v],hu(c,l,t[2*m],t[2*m+1],t[2*v],t[2*v+1])<0;)y=this._addTriangle(m,u,v,-1,r[v],r[m]),this._legalize(y+2),r[m]=y,n[v]=v,T--,v=m;this._hullStart=e[u]=v,n[v]=e[g]=u,n[u]=g,i[this._hashKey(c,l)]=u,i[this._hashKey(t[2*v],t[2*v+1])]=v}this.hull=new Uint32Array(T);for(let t=0,e=this._hullStart;t<T;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const s=n[t],a=t-t%3;if(o=a+(t+2)%3,-1===s){if(0===i)break;t=du[--i];continue}const u=s-s%3,c=a+(t+1)%3,l=u+(s+2)%3,h=e[o],f=e[t],d=e[c],p=e[l];if(vu(r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[s]=h;const r=n[l];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===l){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(s,n[o]),this._link(o,l);const a=u+(s+1)%3;i<du.length&&(du[i++]=a)}else{if(0===i)break;t=du[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=e,this._triangles[s+2]=n,this._link(s,r),this._link(s+1,i),this._link(s+2,o),this.trianglesLen+=3,s}}function mu(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function vu(t,e,n,r,i,o,s,a){const u=t-s,c=e-a,l=n-s,h=r-a,f=i-s,d=o-a,p=l*l+h*h,m=f*f+d*d;return u*(h*m-p*d)-c*(l*m-p*f)+(u*u+c*c)*(l*d-h*f)<0}function yu(t,e,n,r,i,o){const s=n-t,a=r-e,u=i-t,c=o-e,l=s*s+a*a,h=u*u+c*c,f=.5/(s*c-a*u),d=(c*l-a*h)*f,p=(s*h-u*l)*f;return d*d+p*p}function gu(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let s=i-1;for(;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=r}else{let i=n+1,o=r;_u(t,n+r>>1,i),e[t[n]]>e[t[r]]&&_u(t,n,r),e[t[i]]>e[t[r]]&&_u(t,i,r),e[t[n]]>e[t[i]]&&_u(t,n,i);const s=t[i],a=e[s];for(;;){do{i++}while(e[t[i]]<a);do{o--}while(e[t[o]]>a);if(o<i)break;_u(t,i,o)}t[n+1]=t[o],t[o]=s,r-i+1>=o-n?(gu(t,e,i,r),gu(t,e,n,o-1)):(gu(t,e,n,o-1),gu(t,e,i,r))}}function _u(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function bu(t){return t[0]}function xu(t){return t[1]}const Eu=1e-6;class wu{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Eu||Math.abs(this._y1-i)>Eu)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Tu{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Su{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,r,o=0,s=0,a=n.length;o<a;o+=3,s+=2){const a=2*n[o],u=2*n[o+1],c=2*n[o+2],l=t[a],h=t[a+1],f=t[u],d=t[u+1],p=t[c],m=t[c+1],v=f-l,y=d-h,g=p-l,_=m-h,b=2*(v*_-y*g);if(Math.abs(b)<1e-9){let i=1e9;const o=2*n[0];i*=Math.sign((t[o]-l)*_-(t[o+1]-h)*g),e=(l+p)/2-i*_,r=(h+m)/2+i*g}else{const t=1/b,n=v*v+y*y,i=g*g+_*_;e=l+(_*n-y*i)*t,r=h+(v*i-g*n)*t}i[s]=e,i[s+1]=r}let o,s,a,u=e[e.length-1],c=4*u,l=t[2*u],h=t[2*u+1];r.fill(0);for(let n=0;n<e.length;++n)u=e[n],o=c,s=l,a=h,c=4*u,l=t[2*u],h=t[2*u+1],r[o+2]=r[c]=a-h,r[o+3]=r[c+1]=l-s}render(t){const e=null==t?t=new wu:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:s}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),s=2*Math.floor(r/3),a=o[i],u=o[i+1],c=o[s],l=o[s+1];this._renderSegment(a,u,c,l,t)}let a,u=i[i.length-1];for(let e=0;e<i.length;++e){a=u,u=i[e];const n=2*Math.floor(r[u]/3),c=o[n],l=o[n+1],h=4*a,f=this._project(c,l,s[h+2],s[h+3]);f&&this._renderSegment(c,l,f[0],f[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new wu:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new wu:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new Tu;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const s=this._regioncode(t,e),a=this._regioncode(n,r);0===s&&0===a?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,s,a))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,s=t.length;o<s;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+s-2)%s]&&e[(r+3)%i]==t[(o+s-1)%s]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const s=[];let a=o;do{const n=Math.floor(a/3);if(s.push(e[2*n],e[2*n+1]),a=a%3==2?a-2:a+1,i[a]!==t)break;a=r[a]}while(a!==o&&-1!==a);return s}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,s,a=null,u=e[n-2],c=e[n-1],l=this._regioncode(u,c),h=0;for(let f=0;f<n;f+=2)if(r=u,i=c,u=e[f],c=e[f+1],o=l,l=this._regioncode(u,c),0===o&&0===l)s=h,h=0,a?a.push(u,c):a=[u,c];else{let e,n,f,d,p;if(0===o){if(null===(e=this._clipSegment(r,i,u,c,o,l)))continue;[n,f,d,p]=e}else{if(null===(e=this._clipSegment(u,c,r,i,l,o)))continue;[d,p,n,f]=e,s=h,h=this._edgecode(n,f),s&&h&&this._edge(t,s,h,a,a.length),a?a.push(n,f):a=[n,f]}s=h,h=this._edgecode(d,p),s&&h&&this._edge(t,s,h,a,a.length),a?a.push(d,p):a=[d,p]}if(a)s=h,h=this._edgecode(a[0],a[1]),s&&h&&this._edge(t,s,h,a,a.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let s,a,u=i||o;8&u?(s=t+(n-t)*(this.ymax-e)/(r-e),a=this.ymax):4&u?(s=t+(n-t)*(this.ymin-e)/(r-e),a=this.ymin):2&u?(a=e+(r-e)*(this.xmax-t)/(n-t),s=this.xmax):(a=e+(r-e)*(this.xmin-t)/(n-t),s=this.xmin),i?(t=s,e=a,i=this._regioncode(t,e)):(n=s,r=a,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let s,a=Array.from(e);if((s=this._project(a[0],a[1],n,r))&&a.unshift(s[0],s[1]),(s=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(s[0],s[1]),a=this._clipFinite(t,a))for(let e,n=0,r=a.length,i=this._edgecode(a[r-2],a[r-1]);n<r;n+=2)e=i,i=this._edgecode(a[n],a[n+1]),e&&i&&(n=this._edge(t,e,i,a,n),r=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const e=(t+2)%r.length,n=(t+4)%r.length;(r[t]===r[e]&&r[e]===r[n]||r[t+1]===r[e+1]&&r[e+1]===r[n+1])&&(r.splice(e,2),t-=2)}return i}_project(t,e,n,r){let i,o,s,a=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<a&&(s=this.ymin,o=t+(a=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<a&&(s=this.ymax,o=t+(a=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<a&&(o=this.xmax,s=e+(a=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<a&&(o=this.xmin,s=e+(a=i)*r)}return[o,s]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const ku=2*Math.PI,Au=Math.pow;function Ou(t){return t[0]}function Cu(t){return t[1]}function Pu(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Ru{static from(t,e=Ou,n=Cu,r){return new Ru("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let s=0;s<i;++s){const i=t[s];o[2*s]=e.call(r,i,s,t),o[2*s+1]=n.call(r,i,s,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new pu(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=Pu(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new pu(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)s[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Su(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:s}=this;if(s){const e=s.indexOf(t);return e>0&&(yield s[e-1]),void(e<s.length-1&&(yield s[e+1]))}const a=e[t];if(-1===a)return;let u=a,c=-1;do{if(yield c=o[u],u=u%3==2?u-2:u+1,o[u]!==t)return;if(u=i[u],-1===u){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(u!==a)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:s,triangles:a,points:u}=this;if(-1===r[t]||!u.length)return(t+1)%(u.length>>1);let c=t,l=Au(e-u[2*t],2)+Au(n-u[2*t+1],2);const h=r[t];let f=h;do{let r=a[f];const h=Au(e-u[2*r],2)+Au(n-u[2*r+1],2);if(h<l&&(l=h,c=r),f=f%3==2?f-2:f+1,a[f]!==t)break;if(f=s[f],-1===f){if(f=i[(o[t]+1)%i.length],f!==r&&Au(e-u[2*f],2)+Au(n-u[2*f+1],2)<l)return f;break}}while(f!==h);return c}render(t){const e=null==t?t=new wu:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const s=2*i[e],a=2*i[o];t.moveTo(n[s],n[s+1]),t.lineTo(n[a],n[a+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new wu:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,ku)}return n&&n.value()}renderHull(t){const e=null==t?t=new wu:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Tu;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new wu:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],s=2*i[t+1],a=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[s],r[s+1]),e.lineTo(r[a],r[a+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Tu;return this.renderTriangle(t,e),e.value()}}const Nu=t=>()=>t;function Lu(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}function Iu(t){return!t.ctrlKey&&!t.button}function Mu(){return this.parentNode}function Du(t,e){return null==e?{x:t.x,y:t.y}:e}function Fu(){return navigator.maxTouchPoints||"ontouchstart"in this}function ju(){var t,e,n,r,i=Iu,o=Mu,s=Du,a=Fu,u={},c=cn("start","drag","end"),l=0,h=0;function f(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",v).on("touchmove.drag",y,kr).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(s,a){if(!r&&i.call(this,s,a)){var u=_(this,o.call(this,s,a),s,a,"mouse");u&&(Sr(s.view).on("mousemove.drag",p,Ar).on("mouseup.drag",m,Ar),Pr(s.view),Or(s),n=!1,t=s.clientX,e=s.clientY,u("start",s))}}function p(r){if(Cr(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>h}u.mouse("drag",r)}function m(t){Sr(t.view).on("mousemove.drag mouseup.drag",null),Rr(t.view,n),Cr(t),u.mouse("end",t)}function v(t,e){if(i.call(this,t,e)){var n,r,s=t.changedTouches,a=o.call(this,t,e),u=s.length;for(n=0;n<u;++n)(r=_(this,a,t,e,s[n].identifier,s[n]))&&(Or(t),r("start",t,s[n]))}}function y(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=u[r[e].identifier])&&(Cr(t),n("drag",t,r[e]))}function g(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=u[i[e].identifier])&&(Or(t),n("end",t,i[e]))}function _(t,e,n,r,i,o){var a,h,d,p=c.copy(),m=Fi(o||n,e);if(null!=(d=s.call(t,new Lu("beforestart",{sourceEvent:n,target:f,identifier:i,active:l,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return a=d.x-m[0]||0,h=d.y-m[1]||0,function n(o,s,c){var v,y=m;switch(o){case"start":u[i]=n,v=l++;break;case"end":delete u[i],--l;case"drag":m=Fi(c||s,e),v=l}p.call(o,t,new Lu(o,{sourceEvent:s,subject:d,target:f,identifier:i,active:v,x:m[0]+a,y:m[1]+h,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:p}),r)}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:Nu(!!t),f):i},f.container=function(t){return arguments.length?(o="function"==typeof t?t:Nu(t),f):o},f.subject=function(t){return arguments.length?(s="function"==typeof t?t:Nu(t),f):s},f.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Nu(!!t),f):a},f.on=function(){var t=c.on.apply(c,arguments);return t===c?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}Lu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Uu={},Bu={};function $u(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function zu(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function qu(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Vu(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,s=0,a=0,u=o<=0,c=!1;function l(){if(u)return Bu;if(c)return c=!1,Uu;var e,r,i=s;if(34===t.charCodeAt(i)){for(;s++<o&&34!==t.charCodeAt(s)||34===t.charCodeAt(++s););return(e=s)>=o?u=!0:10===(r=t.charCodeAt(s++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(s)&&++s),t.slice(i+1,e-1).replace(/""/g,'"')}for(;s<o;){if(10===(r=t.charCodeAt(e=s++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(s)&&++s;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==Bu;){for(var h=[];r!==Uu&&r!==Bu;)h.push(r),r=l();e&&null==(h=e(h,a++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return s(e[t])})).join(t)}))}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?function(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+qu(-t,6):t>9999?"+"+qu(t,6):qu(t,4)}(t.getUTCFullYear())+"-"+qu(t.getUTCMonth()+1,2)+"-"+qu(t.getUTCDate(),2)+(i?"T"+qu(e,2)+":"+qu(n,2)+":"+qu(r,2)+"."+qu(i,3)+"Z":r?"T"+qu(e,2)+":"+qu(n,2)+":"+qu(r,2)+"Z":n||e?"T"+qu(e,2)+":"+qu(n,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=$u(t);return function(r,i){return e(n(r),i,t)}}(t,e):$u(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=zu(e)),[n.map(s).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=zu(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:s}}var Hu=Vu(","),Ku=Hu.parse,Yu=Hu.parseRows,Gu=Hu.format,Qu=Hu.formatBody,Wu=Hu.formatRows,Xu=Hu.formatRow,Ju=Hu.formatValue,Zu=Vu("\t"),tc=Zu.parse,ec=Zu.parseRows,nc=Zu.format,rc=Zu.formatBody,ic=Zu.formatRows,oc=Zu.formatRow,sc=Zu.formatValue;function ac(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;uc&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const uc=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),cc=t=>+t;function lc(t){return t*t}function hc(t){return t*(2-t)}function fc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var dc=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),pc=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),mc=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),vc=Math.PI,yc=vc/2;function gc(t){return 1==+t?1:1-Math.cos(t*yc)}function _c(t){return Math.sin(t*yc)}function bc(t){return(1-Math.cos(vc*t))/2}function xc(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Ec(t){return xc(1-+t)}function wc(t){return 1-xc(t)}function Tc(t){return((t*=2)<=1?xc(1-t):2-xc(t-1))/2}function Sc(t){return 1-Math.sqrt(1-t*t)}function kc(t){return Math.sqrt(1- --t*t)}function Ac(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Oc=7.5625;function Cc(t){return 1-Pc(1-t)}function Pc(t){return(t=+t)<.36363636363636365?Oc*t*t:t<.7272727272727273?Oc*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Oc*(t-=.8181818181818182)*t+.9375:Oc*(t-=.9545454545454546)*t+.984375}function Rc(t){return((t*=2)<=1?1-Pc(1-t):Pc(t-1)+1)/2}var Nc=1.70158,Lc=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(Nc),Ic=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(Nc),Mc=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Nc),Dc=2*Math.PI,Fc=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Dc);function i(t){return e*xc(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Dc)},i.period=function(n){return t(e,n)},i}(1,.3),jc=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Dc);function i(t){return 1-e*xc(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Dc)},i.period=function(n){return t(e,n)},i}(1,.3),Uc=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Dc);function i(t){return((t=2*t-1)<0?e*xc(-t)*Math.sin((r-t)/n):2-e*xc(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Dc)},i.period=function(n){return t(e,n)},i}(1,.3);function Bc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function $c(t,e){return fetch(t,e).then(Bc)}function zc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function qc(t,e){return fetch(t,e).then(zc)}function Vc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Hc(t,e){return fetch(t,e).then(Vc)}function Kc(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Hc(e,n).then((function(e){return t(e,r)}))}}function Yc(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=Vu(t);return Hc(e,n).then((function(t){return i.parse(t,r)}))}var Gc=Kc(Ku),Qc=Kc(tc);function Wc(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function Xc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Jc(t,e){return fetch(t,e).then(Xc)}function Zc(t){return(e,n)=>Hc(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}const tl=Zc("application/xml");var el=Zc("text/html"),nl=Zc("image/svg+xml");function rl(t,e){var n,r=1;function i(){var i,o,s=n.length,a=0,u=0;for(i=0;i<s;++i)a+=(o=n[i]).x,u+=o.y;for(a=(a/s-t)*r,u=(u/s-e)*r,i=0;i<s;++i)(o=n[i]).x-=a,o.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function il(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,s,a,u,c,l,h,f,d=t._root,p={data:r},m=t._x0,v=t._y0,y=t._x1,g=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(m+y)/2))?m=o:y=o,(l=n>=(s=(v+g)/2))?v=s:g=s,i=d,!(d=d[h=l<<1|c]))return i[h]=p,t;if(a=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===a&&n===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+y)/2))?m=o:y=o,(l=n>=(s=(v+g)/2))?v=s:g=s}while((h=l<<1|c)==(f=(u>=s)<<1|a>=o));return i[f]=d,i[h]=p,t}function ol(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function sl(t){return t[0]}function al(t){return t[1]}function ul(t,e,n){var r=new cl(null==e?sl:e,null==n?al:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function cl(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ll(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var hl=ul.prototype=cl.prototype;function fl(t){return function(){return t}}function dl(t){return 1e-6*(t()-.5)}function pl(t){return t.x+t.vx}function ml(t){return t.y+t.vy}function vl(t){var e,n,r,i=1,o=1;function s(){for(var t,s,u,c,l,h,f,d=e.length,p=0;p<o;++p)for(s=ul(e,pl,ml).visitAfter(a),t=0;t<d;++t)u=e[t],h=n[u.index],f=h*h,c=u.x+u.vx,l=u.y+u.vy,s.visit(m);function m(t,e,n,o,s){var a=t.data,d=t.r,p=h+d;if(!a)return e>c+p||o<c-p||n>l+p||s<l-p;if(a.index>u.index){var m=c-a.x-a.vx,v=l-a.y-a.vy,y=m*m+v*v;y<p*p&&(0===m&&(y+=(m=dl(r))*m),0===v&&(y+=(v=dl(r))*v),y=(p-(y=Math.sqrt(y)))/y*i,u.vx+=(m*=y)*(p=(d*=d)/(f+d)),u.vy+=(v*=y)*p,a.vx-=m*(p=1-p),a.vy-=v*p)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=fl(null==t?1:+t)),s.initialize=function(t,n){e=t,r=n,u()},s.iterations=function(t){return arguments.length?(o=+t,s):o},s.strength=function(t){return arguments.length?(i=+t,s):i},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:fl(+e),u(),s):t},s}function yl(t){return t.index}function gl(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function _l(t){var e,n,r,i,o,s,a=yl,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=fl(30),l=1;function h(r){for(var i=0,a=t.length;i<l;++i)for(var u,c,h,f,d,p,m,v=0;v<a;++v)c=(u=t[v]).source,f=(h=u.target).x+h.vx-c.x-c.vx||dl(s),d=h.y+h.vy-c.y-c.vy||dl(s),f*=p=((p=Math.sqrt(f*f+d*d))-n[v])/p*r*e[v],d*=p,h.vx-=f*(m=o[v]),h.vy-=d*m,c.vx+=f*(m=1-m),c.vy+=d*m}function f(){if(r){var s,u,c=r.length,l=t.length,h=new Map(r.map(((t,e)=>[a(t,e,r),t])));for(s=0,i=new Array(c);s<l;++s)(u=t[s]).index=s,"object"!=typeof u.source&&(u.source=gl(h,u.source)),"object"!=typeof u.target&&(u.target=gl(h,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,o=new Array(l);s<l;++s)u=t[s],o[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(l),d(),n=new Array(l),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){r=t,s=e,f()},h.links=function(e){return arguments.length?(t=e,f(),h):t},h.id=function(t){return arguments.length?(a=t,h):a},h.iterations=function(t){return arguments.length?(l=+t,h):l},h.strength=function(t){return arguments.length?(u="function"==typeof t?t:fl(+t),d(),h):u},h.distance=function(t){return arguments.length?(c="function"==typeof t?t:fl(+t),p(),h):c},h}hl.copy=function(){var t,e,n=new cl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ll(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=ll(e));return n},hl.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return il(this.cover(e,n),e,n,t)},hl.addAll=function(t){var e,n,r,i,o=t.length,s=new Array(o),a=new Array(o),u=1/0,c=1/0,l=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(s[n]=r,a[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>h&&(h=i));if(u>l||c>h)return this;for(this.cover(u,c).cover(l,h),n=0;n<o;++n)il(this,s[n],a[n],t[n]);return this},hl.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s,a,u=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,(s=new Array(4))[a]=c,c=s,u*=2,a){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},hl.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},hl.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},hl.find=function(t,e,n){var r,i,o,s,a,u,c,l=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new ol(m,l,h,f,d)),null==n?n=1/0:(l=t-n,h=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(m=u.node)||(i=u.x0)>f||(o=u.y0)>d||(s=u.x1)<l||(a=u.y1)<h))if(m.length){var v=(i+s)/2,y=(o+a)/2;p.push(new ol(m[3],v,y,s,a),new ol(m[2],i,y,v,a),new ol(m[1],v,o,s,y),new ol(m[0],i,o,v,y)),(c=(e>=y)<<1|t>=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var g=t-+this._x.call(null,m.data),_=e-+this._y.call(null,m.data),b=g*g+_*_;if(b<n){var x=Math.sqrt(n=b);l=t-x,h=e-x,f=t+x,d=e+x,r=m.data}}return r},hl.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,i,o,s,a,u,c,l,h,f,d=this._root,p=this._x0,m=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(a=(p+v)/2))?p=a:v=a,(l=s>=(u=(m+y)/2))?m=u:y=u,e=d,!(d=d[h=l<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},hl.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},hl.root=function(){return this._root},hl.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},hl.visit=function(t){var e,n,r,i,o,s,a=[],u=this._root;for(u&&a.push(new ol(u,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,s=e.y1)&&u.length){var c=(r+o)/2,l=(i+s)/2;(n=u[3])&&a.push(new ol(n,c,l,o,s)),(n=u[2])&&a.push(new ol(n,r,l,c,s)),(n=u[1])&&a.push(new ol(n,c,i,o,l)),(n=u[0])&&a.push(new ol(n,r,i,c,l))}return this},hl.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new ol(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,s=e.x0,a=e.y0,u=e.x1,c=e.y1,l=(s+u)/2,h=(a+c)/2;(o=i[0])&&n.push(new ol(o,s,a,l,h)),(o=i[1])&&n.push(new ol(o,l,a,u,h)),(o=i[2])&&n.push(new ol(o,s,h,l,c)),(o=i[3])&&n.push(new ol(o,l,h,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},hl.x=function(t){return arguments.length?(this._x=t,this):this._x},hl.y=function(t){return arguments.length?(this._y=t,this):this._y};const bl=4294967296;function xl(t){return t.x}function El(t){return t.y}var wl=Math.PI*(3-Math.sqrt(5));function Tl(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,u=Xi(h),c=cn("tick","end"),l=function(){let t=1;return()=>(t=(1664525*t+1013904223)%bl)/bl}();function h(){f(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function f(r){var u,c,l=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,a.forEach((function(t){t(n)})),u=0;u<l;++u)null==(c=t[u]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*wl;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,l),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),a.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(l=t,a.forEach(p),e):l},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,p(n)),e):a.get(t)},find:function(e,n,r){var i,o,s,a,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(s=(i=e-(a=t[c]).x)*i+(o=n-a.y)*o)<r&&(u=a,r=s);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function Sl(){var t,e,n,r,i,o=fl(-30),s=1,a=1/0,u=.81;function c(n){var i,o=t.length,s=ul(t,xl,El).visitAfter(h);for(r=n,i=0;i<o;++i)e=t[i],s.visit(f)}function l(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function h(t){var e,n,r,o,s,a=0,u=0;if(t.length){for(r=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,u+=n,r+=n*e.x,o+=n*e.y);t.x=r/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=i[e.data.index]}while(e=e.next)}t.value=a}function f(t,o,c,l){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,d=l-o,p=h*h+f*f;if(d*d/u<p)return p<a&&(0===h&&(p+=(h=dl(n))*h),0===f&&(p+=(f=dl(n))*f),p<s&&(p=Math.sqrt(s*p)),e.vx+=h*t.value*r/p,e.vy+=f*t.value*r/p),!0;if(!(t.length||p>=a)){(t.data!==e||t.next)&&(0===h&&(p+=(h=dl(n))*h),0===f&&(p+=(f=dl(n))*f),p<s&&(p=Math.sqrt(s*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=h*d,e.vy+=f*d)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,l()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:fl(+t),l(),c):o},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c}function kl(t,e,n){var r,i,o,s=fl(.1);function a(t){for(var s=0,a=r.length;s<a;++s){var u=r[s],c=u.x-e||1e-6,l=u.y-n||1e-6,h=Math.sqrt(c*c+l*l),f=(o[s]-h)*i[s]*t/h;u.vx+=c*f,u.vy+=l*f}}function u(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+s(r[e],e,r)}}return"function"!=typeof t&&(t=fl(+t)),null==e&&(e=0),null==n&&(n=0),a.initialize=function(t){r=t,u()},a.strength=function(t){return arguments.length?(s="function"==typeof t?t:fl(+t),u(),a):s},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:fl(+e),u(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(n=+t,a):n},a}function Al(t){var e,n,r,i=fl(.1);function o(t){for(var i,o=0,s=e.length;o<s;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=fl(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:fl(+t),s(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:fl(+e),s(),o):t},o}function Ol(t){var e,n,r,i=fl(.1);function o(t){for(var i,o=0,s=e.length;o<s;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=fl(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:fl(+t),s(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:fl(+e),s(),o):t},o}function Cl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Pl(t){return(t=Cl(Math.abs(t)))?t[1]:NaN}var Rl,Nl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ll(t){if(!(e=Nl.exec(t)))throw new Error("invalid format: "+t);var e;return new Il({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Il(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ml(t,e){var n=Cl(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ll.prototype=Il.prototype,Il.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Dl={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ml(100*t,e),r:Ml,s:function(t,e){var n=Cl(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Rl=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cl(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fl(t){return t}var jl,Ul,Bl,$l=Array.prototype.map,zl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ql(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Fl:(e=$l.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],s=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(t.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Fl:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}($l.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Ll(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,m=t.comma,v=t.precision,y=t.trim,g=t.type;"n"===g?(m=!0,g="g"):Dl[g]||(void 0===v&&(v=12),y=!0,g="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var _="$"===f?i:"#"===f&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",b="$"===f?o:/[%p]/.test(g)?u:"",x=Dl[g],E=/[defgprs%]/.test(g);function w(t){var i,o,u,f=_,w=b;if("c"===g)w=x(t)+w,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),v),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),T&&0==+t&&"+"!==h&&(T=!1),f=(T?"("===h?h:c:"-"===h||"("===h?"":h)+f,w=("s"===g?zl[8+Rl/3]:"")+w+(T&&"("===h?")":""),E)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){w=(46===u?s+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}m&&!d&&(t=r(t,1/0));var S=f.length+t.length+w.length,k=S<p?new Array(p-S+1).join(e):"";switch(m&&d&&(t=r(k+t,k.length?p-w.length:1/0),k=""),n){case"<":t=f+t+w+k;break;case"=":t=f+k+t+w;break;case"^":t=k.slice(0,S=k.length>>1)+f+t+w+k.slice(S);break;default:t=k+f+t+w}return a(t)}return v=void 0===v?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),w.toString=function(){return t+""},w}return{format:h,formatPrefix:function(t,e){var n=h(((t=Ll(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Pl(e)/3))),i=Math.pow(10,-r),o=zl[8+r/3];return function(t){return n(i*t)+o}}}}function Vl(t){return jl=ql(t),Ul=jl.format,Bl=jl.formatPrefix,jl}function Hl(t){return Math.max(0,-Pl(Math.abs(t)))}function Kl(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Pl(e)/3)))-Pl(Math.abs(t)))}function Yl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pl(e)-Pl(t))+1}Vl({thousands:",",grouping:[3],currency:["$",""]});var Gl=1e-6,Ql=1e-12,Wl=Math.PI,Xl=Wl/2,Jl=Wl/4,Zl=2*Wl,th=180/Wl,eh=Wl/180,nh=Math.abs,rh=Math.atan,ih=Math.atan2,oh=Math.cos,sh=Math.ceil,ah=Math.exp,uh=(Math.floor,Math.hypot),ch=Math.log,lh=Math.pow,hh=Math.sin,fh=Math.sign||function(t){return t>0?1:t<0?-1:0},dh=Math.sqrt,ph=Math.tan;function mh(t){return t>1?0:t<-1?Wl:Math.acos(t)}function vh(t){return t>1?Xl:t<-1?-Xl:Math.asin(t)}function yh(t){return(t=hh(t/2))*t}function gh(){}function _h(t,e){t&&xh.hasOwnProperty(t.type)&&xh[t.type](t,e)}var bh={Feature:function(t,e){_h(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_h(n[r].geometry,e)}},xh={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Eh(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Eh(n[r],e,0)},Polygon:function(t,e){wh(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)wh(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_h(n[r],e)}};function Eh(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function wh(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Eh(t[n],e,1);e.polygonEnd()}function Th(t,e){t&&bh.hasOwnProperty(t.type)?bh[t.type](t,e):_h(t,e)}var Sh,kh,Ah,Oh,Ch,Ph,Rh,Nh,Lh,Ih,Mh,Dh,Fh,jh,Uh,Bh,$h=new mt,zh=new mt,qh={point:gh,lineStart:gh,lineEnd:gh,polygonStart:function(){$h=new mt,qh.lineStart=Vh,qh.lineEnd=Hh},polygonEnd:function(){var t=+$h;zh.add(t<0?Zl+t:t),this.lineStart=this.lineEnd=this.point=gh},sphere:function(){zh.add(Zl)}};function Vh(){qh.point=Kh}function Hh(){Yh(Sh,kh)}function Kh(t,e){qh.point=Yh,Sh=t,kh=e,Ah=t*=eh,Oh=oh(e=(e*=eh)/2+Jl),Ch=hh(e)}function Yh(t,e){var n=(t*=eh)-Ah,r=n>=0?1:-1,i=r*n,o=oh(e=(e*=eh)/2+Jl),s=hh(e),a=Ch*s,u=Oh*o+a*oh(i),c=a*r*hh(i);$h.add(ih(c,u)),Ah=t,Oh=o,Ch=s}function Gh(t){return zh=new mt,Th(t,qh),2*zh}function Qh(t){return[ih(t[1],t[0]),vh(t[2])]}function Wh(t){var e=t[0],n=t[1],r=oh(n);return[r*oh(e),r*hh(e),hh(n)]}function Xh(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Jh(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Zh(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tf(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ef(t){var e=dh(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var nf,rf,of,sf,af,uf,cf,lf,hf,ff,df,pf,mf,vf,yf,gf,_f={point:bf,lineStart:Ef,lineEnd:wf,polygonStart:function(){_f.point=Tf,_f.lineStart=Sf,_f.lineEnd=kf,jh=new mt,qh.polygonStart()},polygonEnd:function(){qh.polygonEnd(),_f.point=bf,_f.lineStart=Ef,_f.lineEnd=wf,$h<0?(Ph=-(Nh=180),Rh=-(Lh=90)):jh>Gl?Lh=90:jh<-1e-6&&(Rh=-90),Bh[0]=Ph,Bh[1]=Nh},sphere:function(){Ph=-(Nh=180),Rh=-(Lh=90)}};function bf(t,e){Uh.push(Bh=[Ph=t,Nh=t]),e<Rh&&(Rh=e),e>Lh&&(Lh=e)}function xf(t,e){var n=Wh([t*eh,e*eh]);if(Fh){var r=Jh(Fh,n),i=Jh([r[1],-r[0],0],r);ef(i),i=Qh(i);var o,s=t-Ih,a=s>0?1:-1,u=i[0]*th*a,c=nh(s)>180;c^(a*Ih<u&&u<a*t)?(o=i[1]*th)>Lh&&(Lh=o):c^(a*Ih<(u=(u+360)%360-180)&&u<a*t)?(o=-i[1]*th)<Rh&&(Rh=o):(e<Rh&&(Rh=e),e>Lh&&(Lh=e)),c?t<Ih?Af(Ph,t)>Af(Ph,Nh)&&(Nh=t):Af(t,Nh)>Af(Ph,Nh)&&(Ph=t):Nh>=Ph?(t<Ph&&(Ph=t),t>Nh&&(Nh=t)):t>Ih?Af(Ph,t)>Af(Ph,Nh)&&(Nh=t):Af(t,Nh)>Af(Ph,Nh)&&(Ph=t)}else Uh.push(Bh=[Ph=t,Nh=t]);e<Rh&&(Rh=e),e>Lh&&(Lh=e),Fh=n,Ih=t}function Ef(){_f.point=xf}function wf(){Bh[0]=Ph,Bh[1]=Nh,_f.point=bf,Fh=null}function Tf(t,e){if(Fh){var n=t-Ih;jh.add(nh(n)>180?n+(n>0?360:-360):n)}else Mh=t,Dh=e;qh.point(t,e),xf(t,e)}function Sf(){qh.lineStart()}function kf(){Tf(Mh,Dh),qh.lineEnd(),nh(jh)>Gl&&(Ph=-(Nh=180)),Bh[0]=Ph,Bh[1]=Nh,Fh=null}function Af(t,e){return(e-=t)<0?e+360:e}function Of(t,e){return t[0]-e[0]}function Cf(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Pf(t){var e,n,r,i,o,s,a;if(Lh=Nh=-(Ph=Rh=1/0),Uh=[],Th(t,_f),n=Uh.length){for(Uh.sort(Of),e=1,o=[r=Uh[0]];e<n;++e)Cf(r,(i=Uh[e])[0])||Cf(r,i[1])?(Af(r[0],i[1])>Af(r[0],r[1])&&(r[1]=i[1]),Af(i[0],r[1])>Af(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(a=Af(r[1],i[0]))>s&&(s=a,Ph=i[0],Nh=r[1])}return Uh=Bh=null,Ph===1/0||Rh===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ph,Rh],[Nh,Lh]]}var Rf={sphere:gh,point:Nf,lineStart:If,lineEnd:Ff,polygonStart:function(){Rf.lineStart=jf,Rf.lineEnd=Uf},polygonEnd:function(){Rf.lineStart=If,Rf.lineEnd=Ff}};function Nf(t,e){t*=eh;var n=oh(e*=eh);Lf(n*oh(t),n*hh(t),hh(e))}function Lf(t,e,n){++nf,of+=(t-of)/nf,sf+=(e-sf)/nf,af+=(n-af)/nf}function If(){Rf.point=Mf}function Mf(t,e){t*=eh;var n=oh(e*=eh);vf=n*oh(t),yf=n*hh(t),gf=hh(e),Rf.point=Df,Lf(vf,yf,gf)}function Df(t,e){t*=eh;var n=oh(e*=eh),r=n*oh(t),i=n*hh(t),o=hh(e),s=ih(dh((s=yf*o-gf*i)*s+(s=gf*r-vf*o)*s+(s=vf*i-yf*r)*s),vf*r+yf*i+gf*o);rf+=s,uf+=s*(vf+(vf=r)),cf+=s*(yf+(yf=i)),lf+=s*(gf+(gf=o)),Lf(vf,yf,gf)}function Ff(){Rf.point=Nf}function jf(){Rf.point=Bf}function Uf(){$f(pf,mf),Rf.point=Nf}function Bf(t,e){pf=t,mf=e,t*=eh,e*=eh,Rf.point=$f;var n=oh(e);vf=n*oh(t),yf=n*hh(t),gf=hh(e),Lf(vf,yf,gf)}function $f(t,e){t*=eh;var n=oh(e*=eh),r=n*oh(t),i=n*hh(t),o=hh(e),s=yf*o-gf*i,a=gf*r-vf*o,u=vf*i-yf*r,c=uh(s,a,u),l=vh(c),h=c&&-l/c;hf.add(h*s),ff.add(h*a),df.add(h*u),rf+=l,uf+=l*(vf+(vf=r)),cf+=l*(yf+(yf=i)),lf+=l*(gf+(gf=o)),Lf(vf,yf,gf)}function zf(t){nf=rf=of=sf=af=uf=cf=lf=0,hf=new mt,ff=new mt,df=new mt,Th(t,Rf);var e=+hf,n=+ff,r=+df,i=uh(e,n,r);return i<Ql&&(e=uf,n=cf,r=lf,rf<Gl&&(e=of,n=sf,r=af),(i=uh(e,n,r))<Ql)?[NaN,NaN]:[ih(n,e)*th,vh(r/i)*th]}function qf(t){return function(){return t}}function Vf(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Hf(t,e){return[nh(t)>Wl?t+Math.round(-t/Zl)*Zl:t,e]}function Kf(t,e,n){return(t%=Zl)?e||n?Vf(Gf(t),Qf(e,n)):Gf(t):e||n?Qf(e,n):Hf}function Yf(t){return function(e,n){return[(e+=t)>Wl?e-Zl:e<-Wl?e+Zl:e,n]}}function Gf(t){var e=Yf(t);return e.invert=Yf(-t),e}function Qf(t,e){var n=oh(t),r=hh(t),i=oh(e),o=hh(e);function s(t,e){var s=oh(e),a=oh(t)*s,u=hh(t)*s,c=hh(e),l=c*n+a*r;return[ih(u*i-l*o,a*n-c*r),vh(l*i+u*o)]}return s.invert=function(t,e){var s=oh(e),a=oh(t)*s,u=hh(t)*s,c=hh(e),l=c*i-u*o;return[ih(u*i+c*o,a*n+l*r),vh(l*n-a*r)]},s}function Wf(t){function e(e){return(e=t(e[0]*eh,e[1]*eh))[0]*=th,e[1]*=th,e}return t=Kf(t[0]*eh,t[1]*eh,t.length>2?t[2]*eh:0),e.invert=function(e){return(e=t.invert(e[0]*eh,e[1]*eh))[0]*=th,e[1]*=th,e},e}function Xf(t,e,n,r,i,o){if(n){var s=oh(e),a=hh(e),u=r*n;null==i?(i=e+r*Zl,o=e-u/2):(i=Jf(s,i),o=Jf(s,o),(r>0?i<o:i>o)&&(i+=r*Zl));for(var c,l=i;r>0?l>o:l<o;l-=u)c=Qh([s,-a*oh(l),-a*hh(l)]),t.point(c[0],c[1])}}function Jf(t,e){(e=Wh(e))[0]-=t,ef(e);var n=mh(-e[1]);return((-e[2]<0?-n:n)+Zl-Gl)%Zl}function Zf(){var t,e,n=qf([0,0]),r=qf(90),i=qf(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=th,n[1]*=th}};function s(){var s=n.apply(this,arguments),a=r.apply(this,arguments)*eh,u=i.apply(this,arguments)*eh;return t=[],e=Kf(-s[0]*eh,-s[1]*eh,0).invert,Xf(o,a,u,1),s={type:"Polygon",coordinates:[t]},t=e=null,s}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:qf([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(r="function"==typeof t?t:qf(+t),s):r},s.precision=function(t){return arguments.length?(i="function"==typeof t?t:qf(+t),s):i},s}function td(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:gh,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ed(t,e){return nh(t[0]-e[0])<Gl&&nh(t[1]-e[1])<Gl}function nd(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function rd(t,e,n,r,i){var o,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(ed(r,s)){if(!r[2]&&!s[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}s[0]+=2e-6}a.push(n=new nd(r,t,null,!0)),u.push(n.o=new nd(r,null,n,!1)),a.push(n=new nd(s,t,null,!1)),u.push(n.o=new nd(s,null,n,!0))}})),a.length){for(u.sort(e),id(a),id(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var c,l,h=a[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,s=c.length;o<s;++o)i.point((l=c[o])[0],l[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(c=f.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}}function id(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function od(t){return nh(t[0])<=Wl?t[0]:fh(t[0])*((nh(t[0])+Wl)%Zl-Wl)}function sd(t,e){var n=od(e),r=e[1],i=hh(r),o=[hh(n),-oh(n),0],s=0,a=0,u=new mt;1===i?r=Xl+Gl:-1===i&&(r=-Xl-Gl);for(var c=0,l=t.length;c<l;++c)if(f=(h=t[c]).length)for(var h,f,d=h[f-1],p=od(d),m=d[1]/2+Jl,v=hh(m),y=oh(m),g=0;g<f;++g,p=b,v=E,y=w,d=_){var _=h[g],b=od(_),x=_[1]/2+Jl,E=hh(x),w=oh(x),T=b-p,S=T>=0?1:-1,k=S*T,A=k>Wl,O=v*E;if(u.add(ih(O*S*hh(k),y*w+O*oh(k))),s+=A?T+S*Zl:T,A^p>=n^b>=n){var C=Jh(Wh(d),Wh(_));ef(C);var P=Jh(o,C);ef(P);var R=(A^T>=0?-1:1)*vh(P[2]);(r>R||r===R&&(C[0]||C[1]))&&(a+=A^T>=0?1:-1)}}return(s<-1e-6||s<Gl&&u<-1e-12)^1&a}function ad(t,e,n,r){return function(i){var o,s,a,u=e(i),c=td(),l=e(c),h=!1,f={point:d,lineStart:m,lineEnd:v,polygonStart:function(){f.point=y,f.lineStart=g,f.lineEnd=_,s=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=m,f.lineEnd=v,s=pe(s);var t=sd(o,r);s.length?(h||(i.polygonStart(),h=!0),rd(s,cd,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),s=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){u.point(t,e)}function m(){f.point=p,u.lineStart()}function v(){f.point=d,u.lineEnd()}function y(t,e){a.push([t,e]),l.point(t,e)}function g(){l.lineStart(),a=[]}function _(){y(a[0][0],a[0][1]),l.lineEnd();var t,e,n,r,u=l.clean(),f=c.result(),d=f.length;if(a.pop(),o.push(a),a=null,d)if(1&u){if((e=(n=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&f.push(f.pop().concat(f.shift())),s.push(f.filter(ud))}return f}}function ud(t){return t.length>1}function cd(t,e){return((t=t.x)[0]<0?t[1]-Xl-Gl:Xl-t[1])-((e=e.x)[0]<0?e[1]-Xl-Gl:Xl-e[1])}Hf.invert=Hf;const ld=ad((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Wl:-Wl,u=nh(o-n);nh(u-Wl)<Gl?(t.point(n,r=(r+s)/2>0?Xl:-Xl),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=Wl&&(nh(n-i)<Gl&&(n-=i*Gl),nh(o-a)<Gl&&(o-=a*Gl),r=function(t,e,n,r){var i,o,s=hh(t-n);return nh(s)>Gl?rh((hh(e)*(o=oh(r))*hh(n)-hh(r)*(i=oh(e))*hh(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Xl,r.point(-Wl,i),r.point(0,i),r.point(Wl,i),r.point(Wl,0),r.point(Wl,-i),r.point(0,-i),r.point(-Wl,-i),r.point(-Wl,0),r.point(-Wl,i);else if(nh(t[0]-e[0])>Gl){var o=t[0]<e[0]?Wl:-Wl;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Wl,-Xl]);function hd(t){var e=oh(t),n=6*eh,r=e>0,i=nh(e)>Gl;function o(t,n){return oh(t)*oh(n)>e}function s(t,n,r){var i=[1,0,0],o=Jh(Wh(t),Wh(n)),s=Xh(o,o),a=o[0],u=s-a*a;if(!u)return!r&&t;var c=e*s/u,l=-e*a/u,h=Jh(i,o),f=tf(i,c);Zh(f,tf(o,l));var d=h,p=Xh(f,d),m=Xh(d,d),v=p*p-m*(Xh(f,f)-1);if(!(v<0)){var y=dh(v),g=tf(d,(-p-y)/m);if(Zh(g,f),g=Qh(g),!r)return g;var _,b=t[0],x=n[0],E=t[1],w=n[1];x<b&&(_=b,b=x,x=_);var T=x-b,S=nh(T-Wl)<Gl;if(!S&&w<E&&(_=E,E=w,w=_),S||T<Gl?S?E+w>0^g[1]<(nh(g[0]-b)<Gl?E:w):E<=g[1]&&g[1]<=w:T>Wl^(b<=g[0]&&g[0]<=x)){var k=tf(d,(-p+y)/m);return Zh(k,f),[g,Qh(k)]}}}function a(e,n){var i=r?t:Wl-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return ad(o,(function(t){var e,n,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,f){var d,p=[h,f],m=o(h,f),v=r?m?0:a(h,f):m?a(h+(h<0?Wl:-Wl),f):0;if(!e&&(c=u=m)&&t.lineStart(),m!==u&&(!(d=s(e,p))||ed(e,d)||ed(p,d))&&(p[2]=1),m!==u)l=0,m?(t.lineStart(),d=s(p,e),t.point(d[0],d[1])):(d=s(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^m){var y;v&n||!(y=s(p,e,!0))||(l=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!m||e&&ed(e,p)||t.point(p[0],p[1]),e=p,u=m,n=v},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}}),(function(e,r,i,o){Xf(o,t,n,i,e,r)}),r?[0,-t]:[-Wl,t-Wl])}var fd,dd,pd,md,vd=1e9,yd=-vd;function gd(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,c){var l=0,h=0;if(null==i||(l=s(i,a))!==(h=s(o,a))||u(i,o)<0^a>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+a+4)%4)!==h);else c.point(o[0],o[1])}function s(r,i){return nh(r[0]-t)<Gl?i>0?0:3:nh(r[0]-n)<Gl?i>0?2:1:nh(r[1]-e)<Gl?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var u,c,l,h,f,d,p,m,v,y,g,_=s,b=td(),x={point:E,lineStart:function(){x.point=w,c&&c.push(l=[]),y=!0,v=!1,p=m=NaN},lineEnd:function(){u&&(w(h,f),d&&v&&b.rejoin(),u.push(b.result())),x.point=E,v&&_.lineEnd()},polygonStart:function(){_=b,u=[],c=[],g=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,s,a=c[n],u=1,l=a.length,h=a[0],f=h[0],d=h[1];u<l;++u)o=f,s=d,f=(h=a[u])[0],d=h[1],s<=r?d>r&&(f-o)*(r-s)>(d-s)*(t-o)&&++e:d<=r&&(f-o)*(r-s)<(d-s)*(t-o)&&--e;return e}(),n=g&&e,i=(u=pe(u)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&rd(u,a,e,o,s),s.polygonEnd()),_=s,u=c=l=null}};function E(t,e){i(t,e)&&_.point(t,e)}function w(o,s){var a=i(o,s);if(c&&l.push([o,s]),y)h=o,f=s,d=a,y=!1,a&&(_.lineStart(),_.point(o,s));else if(a&&v)_.point(o,s);else{var u=[p=Math.max(yd,Math.min(vd,p)),m=Math.max(yd,Math.min(vd,m))],b=[o=Math.max(yd,Math.min(vd,o)),s=Math.max(yd,Math.min(vd,s))];!function(t,e,n,r,i,o){var s,a=t[0],u=t[1],c=0,l=1,h=e[0]-a,f=e[1]-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<l&&(l=s)}else if(h>0){if(s>l)return;s>c&&(c=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>l)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<l&&(l=s)}if(s=r-u,f||!(s>0)){if(s/=f,f<0){if(s<c)return;s<l&&(l=s)}else if(f>0){if(s>l)return;s>c&&(c=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>l)return;s>c&&(c=s)}else if(f>0){if(s<c)return;s<l&&(l=s)}return c>0&&(t[0]=a+c*h,t[1]=u+c*f),l<1&&(e[0]=a+l*h,e[1]=u+l*f),!0}}}}}(u,b,t,e,n,r)?a&&(_.lineStart(),_.point(o,s),g=!1):(v||(_.lineStart(),_.point(u[0],u[1])),_.point(b[0],b[1]),a||_.lineEnd(),g=!1)}p=o,m=s,v=a}return x}}function _d(){var t,e,n,r=0,i=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=gd(r,i,o,s)(e=n)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[r,i],[o,s]]}}}var bd={sphere:gh,point:gh,lineStart:function(){bd.point=Ed,bd.lineEnd=xd},lineEnd:gh,polygonStart:gh,polygonEnd:gh};function xd(){bd.point=bd.lineEnd=gh}function Ed(t,e){dd=t*=eh,pd=hh(e*=eh),md=oh(e),bd.point=wd}function wd(t,e){t*=eh;var n=hh(e*=eh),r=oh(e),i=nh(t-dd),o=oh(i),s=r*hh(i),a=md*n-pd*r*o,u=pd*n+md*r*o;fd.add(ih(dh(s*s+a*a),u)),dd=t,pd=n,md=r}function Td(t){return fd=new mt,Th(t,bd),+fd}var Sd=[null,null],kd={type:"LineString",coordinates:Sd};function Ad(t,e){return Sd[0]=t,Sd[1]=e,Td(kd)}var Od={Feature:function(t,e){return Pd(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Pd(n[r].geometry,e))return!0;return!1}},Cd={Sphere:function(){return!0},Point:function(t,e){return Rd(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Rd(n[r],e))return!0;return!1},LineString:function(t,e){return Nd(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Nd(n[r],e))return!0;return!1},Polygon:function(t,e){return Ld(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ld(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Pd(n[r],e))return!0;return!1}};function Pd(t,e){return!(!t||!Cd.hasOwnProperty(t.type))&&Cd[t.type](t,e)}function Rd(t,e){return 0===Ad(t,e)}function Nd(t,e){for(var n,r,i,o=0,s=t.length;o<s;o++){if(0===(r=Ad(t[o],e)))return!0;if(o>0&&(i=Ad(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Ql*i)return!0;n=r}return!1}function Ld(t,e){return!!sd(t.map(Id),Md(e))}function Id(t){return(t=t.map(Md)).pop(),t}function Md(t){return[t[0]*eh,t[1]*eh]}function Dd(t,e){return(t&&Od.hasOwnProperty(t.type)?Od[t.type]:Pd)(t,e)}function Fd(t,e,n){var r=ge(t,e-Gl,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function jd(t,e,n){var r=ge(t,e-Gl,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Ud(){var t,e,n,r,i,o,s,a,u,c,l,h,f=10,d=f,p=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:g()}}function g(){return ge(sh(r/p)*p,n,p).map(l).concat(ge(sh(a/m)*m,s,m).map(h)).concat(ge(sh(e/f)*f,t,f).filter((function(t){return nh(t%p)>Gl})).map(u)).concat(ge(sh(o/d)*d,i,d).filter((function(t){return nh(t%m)>Gl})).map(c))}return y.lines=function(){return g().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(h(s).slice(1),l(n).reverse().slice(1),h(a).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],a=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),a>s&&(t=a,a=s,s=t),y.precision(v)):[[r,a],[n,s]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(v)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],m=+t[1],y):[p,m]},y.stepMinor=function(t){return arguments.length?(f=+t[0],d=+t[1],y):[f,d]},y.precision=function(f){return arguments.length?(v=+f,u=Fd(o,i,90),c=jd(e,t,v),l=Fd(a,s,90),h=jd(r,n,v),y):v},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Bd(){return Ud()()}function $d(t,e){var n=t[0]*eh,r=t[1]*eh,i=e[0]*eh,o=e[1]*eh,s=oh(r),a=hh(r),u=oh(o),c=hh(o),l=s*oh(n),h=s*hh(n),f=u*oh(i),d=u*hh(i),p=2*vh(dh(yh(o-r)+s*u*yh(i-n))),m=hh(p),v=p?function(t){var e=hh(t*=p)/m,n=hh(p-t)/m,r=n*l+e*f,i=n*h+e*d,o=n*a+e*c;return[ih(i,r)*th,ih(o,dh(r*r+i*i))*th]}:function(){return[n*th,r*th]};return v.distance=p,v}const zd=t=>t;var qd,Vd,Hd,Kd,Yd=new mt,Gd=new mt,Qd={point:gh,lineStart:gh,lineEnd:gh,polygonStart:function(){Qd.lineStart=Wd,Qd.lineEnd=Zd},polygonEnd:function(){Qd.lineStart=Qd.lineEnd=Qd.point=gh,Yd.add(nh(Gd)),Gd=new mt},result:function(){var t=Yd/2;return Yd=new mt,t}};function Wd(){Qd.point=Xd}function Xd(t,e){Qd.point=Jd,qd=Hd=t,Vd=Kd=e}function Jd(t,e){Gd.add(Kd*t-Hd*e),Hd=t,Kd=e}function Zd(){Jd(qd,Vd)}const tp=Qd;var ep=1/0,np=ep,rp=-ep,ip=rp,op={point:function(t,e){t<ep&&(ep=t),t>rp&&(rp=t),e<np&&(np=e),e>ip&&(ip=e)},lineStart:gh,lineEnd:gh,polygonStart:gh,polygonEnd:gh,result:function(){var t=[[ep,np],[rp,ip]];return rp=ip=-(np=ep=1/0),t}};const sp=op;var ap,up,cp,lp,hp=0,fp=0,dp=0,pp=0,mp=0,vp=0,yp=0,gp=0,_p=0,bp={point:xp,lineStart:Ep,lineEnd:Sp,polygonStart:function(){bp.lineStart=kp,bp.lineEnd=Ap},polygonEnd:function(){bp.point=xp,bp.lineStart=Ep,bp.lineEnd=Sp},result:function(){var t=_p?[yp/_p,gp/_p]:vp?[pp/vp,mp/vp]:dp?[hp/dp,fp/dp]:[NaN,NaN];return hp=fp=dp=pp=mp=vp=yp=gp=_p=0,t}};function xp(t,e){hp+=t,fp+=e,++dp}function Ep(){bp.point=wp}function wp(t,e){bp.point=Tp,xp(cp=t,lp=e)}function Tp(t,e){var n=t-cp,r=e-lp,i=dh(n*n+r*r);pp+=i*(cp+t)/2,mp+=i*(lp+e)/2,vp+=i,xp(cp=t,lp=e)}function Sp(){bp.point=xp}function kp(){bp.point=Op}function Ap(){Cp(ap,up)}function Op(t,e){bp.point=Cp,xp(ap=cp=t,up=lp=e)}function Cp(t,e){var n=t-cp,r=e-lp,i=dh(n*n+r*r);pp+=i*(cp+t)/2,mp+=i*(lp+e)/2,vp+=i,yp+=(i=lp*t-cp*e)*(cp+t),gp+=i*(lp+e),_p+=3*i,xp(cp=t,lp=e)}const Pp=bp;function Rp(t){this._context=t}Rp.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Zl)}},result:gh};var Np,Lp,Ip,Mp,Dp,Fp=new mt,jp={point:gh,lineStart:function(){jp.point=Up},lineEnd:function(){Np&&Bp(Lp,Ip),jp.point=gh},polygonStart:function(){Np=!0},polygonEnd:function(){Np=null},result:function(){var t=+Fp;return Fp=new mt,t}};function Up(t,e){jp.point=Bp,Lp=Mp=t,Ip=Dp=e}function Bp(t,e){Mp-=t,Dp-=e,Fp.add(dh(Mp*Mp+Dp*Dp)),Mp=t,Dp=e}const $p=jp;function zp(){this._string=[]}function qp(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Vp(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Th(t,n(r))),r.result()}return o.area=function(t){return Th(t,n(tp)),tp.result()},o.measure=function(t){return Th(t,n($p)),$p.result()},o.bounds=function(t){return Th(t,n(sp)),sp.result()},o.centroid=function(t){return Th(t,n(Pp)),Pp.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,zd):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new zp):new Rp(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function Hp(t){return{stream:Kp(t)}}function Kp(t){return function(e){var n=new Yp;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Yp(){}function Gp(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Th(n,t.stream(sp)),e(sp.result()),null!=r&&t.clipExtent(r),t}function Qp(t,e,n){return Gp(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])}),n)}function Wp(t,e,n){return Qp(t,[[0,0],e],n)}function Xp(t,e,n){return Gp(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];t.scale(150*i).translate([o,s])}),n)}function Jp(t,e,n){return Gp(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],s=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,s])}),n)}zp.prototype={_radius:4.5,_circle:qp(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=qp(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Yp.prototype={constructor:Yp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Zp=oh(30*eh);function tm(t,e){return+e?function(t,e){function n(r,i,o,s,a,u,c,l,h,f,d,p,m,v){var y=c-r,g=l-i,_=y*y+g*g;if(_>4*e&&m--){var b=s+f,x=a+d,E=u+p,w=dh(b*b+x*x+E*E),T=vh(E/=w),S=nh(nh(E)-1)<Gl||nh(o-h)<Gl?(o+h)/2:ih(x,b),k=t(S,T),A=k[0],O=k[1],C=A-r,P=O-i,R=g*C-y*P;(R*R/_>e||nh((y*C+g*P)/_-.5)>.3||s*f+a*d+u*p<Zp)&&(n(r,i,o,s,a,u,A,O,S,b/=w,x/=w,E,m,v),v.point(A,O),n(A,O,S,b,x,E,c,l,h,f,d,p,m,v))}}return function(e){var r,i,o,s,a,u,c,l,h,f,d,p,m={point:v,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),m.lineStart=b},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){l=NaN,m.point=g,e.lineStart()}function g(r,i){var o=Wh([r,i]),s=t(r,i);n(l,h,c,f,d,p,l=s[0],h=s[1],c=r,f=o[0],d=o[1],p=o[2],16,e),e.point(l,h)}function _(){m.point=v,e.lineEnd()}function b(){y(),m.point=x,m.lineEnd=E}function x(t,e){g(r=t,e),i=l,o=h,s=f,a=d,u=p,m.point=g}function E(){n(l,h,c,f,d,p,i,o,r,s,a,u,16,e),m.lineEnd=_,_()}return m}}(t,e):function(t){return Kp({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var em=Kp({point:function(t,e){this.stream.point(t*eh,e*eh)}});function nm(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,s){return[e+t*(o*=r),n-t*(s*=i)]}return o.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},o}(t,e,n,r,i);var s=oh(o),a=hh(o),u=s*t,c=a*t,l=s/t,h=a/t,f=(a*n-s*e)/t,d=(a*e+s*n)/t;function p(t,o){return[u*(t*=r)-c*(o*=i)+e,n-c*t-u*o]}return p.invert=function(t,e){return[r*(l*t-h*e+f),i*(d-h*t-l*e)]},p}function rm(t){return im((function(){return t}))()}function im(t){var e,n,r,i,o,s,a,u,c,l,h=150,f=480,d=250,p=0,m=0,v=0,y=0,g=0,_=0,b=1,x=1,E=null,w=ld,T=null,S=zd,k=.5;function A(t){return u(t[0]*eh,t[1]*eh)}function O(t){return(t=u.invert(t[0],t[1]))&&[t[0]*th,t[1]*th]}function C(){var t=nm(h,0,0,b,x,_).apply(null,e(p,m)),r=nm(h,f-t[0],d-t[1],b,x,_);return n=Kf(v,y,g),a=Vf(e,r),u=Vf(n,a),s=tm(a,k),P()}function P(){return c=l=null,A}return A.stream=function(t){return c&&l===t?c:c=em(function(t){return Kp({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(w(s(S(l=t)))))},A.preclip=function(t){return arguments.length?(w=t,E=void 0,P()):w},A.postclip=function(t){return arguments.length?(S=t,T=r=i=o=null,P()):S},A.clipAngle=function(t){return arguments.length?(w=+t?hd(E=t*eh):(E=null,ld),P()):E*th},A.clipExtent=function(t){return arguments.length?(S=null==t?(T=r=i=o=null,zd):gd(T=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),P()):null==T?null:[[T,r],[i,o]]},A.scale=function(t){return arguments.length?(h=+t,C()):h},A.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],C()):[f,d]},A.center=function(t){return arguments.length?(p=t[0]%360*eh,m=t[1]%360*eh,C()):[p*th,m*th]},A.rotate=function(t){return arguments.length?(v=t[0]%360*eh,y=t[1]%360*eh,g=t.length>2?t[2]%360*eh:0,C()):[v*th,y*th,g*th]},A.angle=function(t){return arguments.length?(_=t%360*eh,C()):_*th},A.reflectX=function(t){return arguments.length?(b=t?-1:1,C()):b<0},A.reflectY=function(t){return arguments.length?(x=t?-1:1,C()):x<0},A.precision=function(t){return arguments.length?(s=tm(a,k=t*t),P()):dh(k)},A.fitExtent=function(t,e){return Qp(A,t,e)},A.fitSize=function(t,e){return Wp(A,t,e)},A.fitWidth=function(t,e){return Xp(A,t,e)},A.fitHeight=function(t,e){return Jp(A,t,e)},function(){return e=t.apply(this,arguments),A.invert=e.invert&&O,C()}}function om(t){var e=0,n=Wl/3,r=im(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*eh,n=t[1]*eh):[e*th,n*th]},i}function sm(t,e){var n=hh(t),r=(n+hh(e))/2;if(nh(r)<Gl)return function(t){var e=oh(t);function n(t,n){return[t*e,hh(n)/e]}return n.invert=function(t,n){return[t/e,vh(n*e)]},n}(t);var i=1+n*(2*r-n),o=dh(i)/r;function s(t,e){var n=dh(i-2*r*hh(e))/r;return[n*hh(t*=r),o-n*oh(t)]}return s.invert=function(t,e){var n=o-e,s=ih(t,nh(n))*fh(n);return n*r<0&&(s-=Wl*fh(t)*fh(n)),[s/r,vh((i-(t*t+n*n)*r*r)/(2*r))]},s}function am(){return om(sm).scale(155.424).center([0,33.6442])}function um(){return am().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function cm(){var t,e,n,r,i,o,s=um(),a=am().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=am().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],s=t[1];return o=null,n.point(e,s),o||(r.point(e,s),o)||(i.point(e,s),o)}function h(){return t=e=null,l}return l.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:s).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[s.stream(e=n),a.stream(n),u.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(s.precision(t),a.precision(t),u.precision(t),h()):s.precision()},l.scale=function(t){return arguments.length?(s.scale(t),a.scale(.35*t),u.scale(t),l.translate(s.translate())):s.scale()},l.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),o=+t[0],l=+t[1];return n=s.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(c),r=a.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+Gl,l+.12*e+Gl],[o-.214*e-Gl,l+.234*e-Gl]]).stream(c),i=u.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+Gl,l+.166*e+Gl],[o-.115*e-Gl,l+.234*e-Gl]]).stream(c),h()},l.fitExtent=function(t,e){return Qp(l,t,e)},l.fitSize=function(t,e){return Wp(l,t,e)},l.fitWidth=function(t,e){return Xp(l,t,e)},l.fitHeight=function(t,e){return Jp(l,t,e)},l.scale(1070)}function lm(t){return function(e,n){var r=oh(e),i=oh(n),o=t(r*i);return o===1/0?[2,0]:[o*i*hh(e),o*hh(n)]}}function hm(t){return function(e,n){var r=dh(e*e+n*n),i=t(r),o=hh(i),s=oh(i);return[ih(e*o,r*s),vh(r&&n*o/r)]}}var fm=lm((function(t){return dh(2/(1+t))}));function dm(){return rm(fm).scale(124.75).clipAngle(179.999)}fm.invert=hm((function(t){return 2*vh(t/2)}));var pm=lm((function(t){return(t=mh(t))&&t/hh(t)}));function mm(){return rm(pm).scale(79.4188).clipAngle(179.999)}function vm(t,e){return[t,ch(ph((Xl+e)/2))]}function ym(){return gm(vm).scale(961/Zl)}function gm(t){var e,n,r,i=rm(t),o=i.center,s=i.scale,a=i.translate,u=i.clipExtent,c=null;function l(){var o=Wl*s(),a=i(Wf(i.rotate()).invert([0,0]));return u(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===vm?[[Math.max(a[0]-o,c),e],[Math.min(a[0]+o,n),r]]:[[c,Math.max(a[1]-o,e)],[n,Math.min(a[1]+o,r)]])}return i.scale=function(t){return arguments.length?(s(t),l()):s()},i.translate=function(t){return arguments.length?(a(t),l()):a()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,e],[n,r]]},l()}function _m(t){return ph((Xl+t)/2)}function bm(t,e){var n=oh(t),r=t===e?hh(t):ch(n/oh(e))/ch(_m(e)/_m(t)),i=n*lh(_m(t),r)/r;if(!r)return vm;function o(t,e){i>0?e<-Xl+Gl&&(e=-Xl+Gl):e>Xl-Gl&&(e=Xl-Gl);var n=i/lh(_m(e),r);return[n*hh(r*t),i-n*oh(r*t)]}return o.invert=function(t,e){var n=i-e,o=fh(r)*dh(t*t+n*n),s=ih(t,nh(n))*fh(n);return n*r<0&&(s-=Wl*fh(t)*fh(n)),[s/r,2*rh(lh(i/o,1/r))-Xl]},o}function xm(){return om(bm).scale(109.5).parallels([30,30])}function Em(t,e){return[t,e]}function wm(){return rm(Em).scale(152.63)}function Tm(t,e){var n=oh(t),r=t===e?hh(t):(n-oh(e))/(e-t),i=n/r+t;if(nh(r)<Gl)return Em;function o(t,e){var n=i-e,o=r*t;return[n*hh(o),i-n*oh(o)]}return o.invert=function(t,e){var n=i-e,o=ih(t,nh(n))*fh(n);return n*r<0&&(o-=Wl*fh(t)*fh(n)),[o/r,i-fh(r)*dh(t*t+n*n)]},o}function Sm(){return om(Tm).scale(131.154).center([0,13.9389])}pm.invert=hm((function(t){return t})),vm.invert=function(t,e){return[t,2*rh(ah(e))-Xl]},Em.invert=Em;var km=1.340264,Am=-.081106,Om=893e-6,Cm=.003796,Pm=dh(3)/2;function Rm(t,e){var n=vh(Pm*hh(e)),r=n*n,i=r*r*r;return[t*oh(n)/(Pm*(km+3*Am*r+i*(7*Om+9*Cm*r))),n*(km+Am*r+i*(Om+Cm*r))]}function Nm(){return rm(Rm).scale(177.158)}function Lm(t,e){var n=oh(e),r=oh(t)*n;return[n*hh(t)/r,hh(e)/r]}function Im(){return rm(Lm).scale(144.049).clipAngle(60)}function Mm(){var t,e,n,r,i,o,s,a=1,u=0,c=0,l=1,h=1,f=0,d=null,p=1,m=1,v=Kp({point:function(t,e){var n=_([t,e]);this.stream.point(n[0],n[1])}}),y=zd;function g(){return p=a*l,m=a*h,o=s=null,_}function _(n){var r=n[0]*p,i=n[1]*m;if(f){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+u,i+c]}return _.invert=function(n){var r=n[0]-u,i=n[1]-c;if(f){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/m]},_.stream=function(t){return o&&s===t?o:o=v(y(s=t))},_.postclip=function(t){return arguments.length?(y=t,d=n=r=i=null,g()):y},_.clipExtent=function(t){return arguments.length?(y=null==t?(d=n=r=i=null,zd):gd(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),g()):null==d?null:[[d,n],[r,i]]},_.scale=function(t){return arguments.length?(a=+t,g()):a},_.translate=function(t){return arguments.length?(u=+t[0],c=+t[1],g()):[u,c]},_.angle=function(n){return arguments.length?(e=hh(f=n%360*eh),t=oh(f),g()):f*th},_.reflectX=function(t){return arguments.length?(l=t?-1:1,g()):l<0},_.reflectY=function(t){return arguments.length?(h=t?-1:1,g()):h<0},_.fitExtent=function(t,e){return Qp(_,t,e)},_.fitSize=function(t,e){return Wp(_,t,e)},_.fitWidth=function(t,e){return Xp(_,t,e)},_.fitHeight=function(t,e){return Jp(_,t,e)},_}function Dm(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Fm(){return rm(Dm).scale(175.295)}function jm(t,e){return[oh(e)*hh(t),hh(e)]}function Um(){return rm(jm).scale(249.5).clipAngle(90.000001)}function Bm(t,e){var n=oh(e),r=1+oh(t)*n;return[n*hh(t)/r,hh(e)/r]}function $m(){return rm(Bm).scale(250).clipAngle(142)}function zm(t,e){return[ch(ph((Xl+e)/2)),-t]}function qm(){var t=gm(zm),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function Vm(t,e){return t.parent===e.parent?1:2}function Hm(t,e){return t+e.x}function Km(t,e){return Math.max(t,e.y)}function Ym(){var t=Vm,e=1,n=1,r=!1;function i(i){var o,s=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Hm,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Km,0)}(n)):(e.x=o?s+=t(e,o):0,e.y=0,o=e)}));var a=function(t){for(var e;e=t.children;)t=e[0];return t}(i),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=a.x-t(a,u)/2,l=u.x+t(u,a)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(l-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Gm(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Qm(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Xm)):void 0===e&&(e=Wm);for(var n,r,i,o,s,a=new tv(t),u=[a];n=u.pop();)if((i=e(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,o=s-1;o>=0;--o)u.push(r=i[o]=new tv(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(Zm)}function Wm(t){return t.children}function Xm(t){return Array.isArray(t)?t[1]:null}function Jm(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Zm(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function tv(t){this.data=t,this.depth=this.height=0,this.parent=null}function ev(t){return null==t?null:nv(t)}function nv(t){if("function"!=typeof t)throw new Error;return t}function rv(){return 0}function iv(t){return function(){return t}}Rm.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,s=0;s<12&&(o=(i=(r-=n=(r*(km+Am*i+o*(Om+Cm*i))-e)/(km+3*Am*i+o*(7*Om+9*Cm*i)))*r)*i*i,!(nh(n)<Ql));++s);return[Pm*t*(km+3*Am*i+o*(7*Om+9*Cm*i))/oh(r),vh(hh(r)/Pm)]},Lm.invert=hm(rh),Dm.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(nh(n)>Gl&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},jm.invert=hm(vh),Bm.invert=hm((function(t){return 2*rh(t)})),zm.invert=function(t,e){return[-e,2*rh(ah(t))-Xl]},tv.prototype=Qm.prototype={constructor:tv,count:function(){return this.eachAfter(Gm)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,s=[o],a=[],u=-1;o=s.pop();)if(a.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;o=a.pop();)t.call(e,o,++u,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],s=-1;i=o.pop();)if(t.call(e,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Qm(this).eachBefore(Jm)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};const ov=4294967296;function sv(){let t=1;return()=>(t=(1664525*t+1013904223)%ov)/ov}function av(t){return uv(t,sv())}function uv(t,e){for(var n,r,i=0,o=(t=function(t,e){let n,r,i=t.length;for(;i;)r=e()*i--|0,n=t[i],t[i]=t[r],t[r]=n;return t}(Array.from(t),e)).length,s=[];i<o;)n=t[i],r&&hv(r,n)?++i:(r=dv(s=cv(s,n)),i=0);return r}function cv(t,e){var n,r;if(fv(e,t))return[e];for(n=0;n<t.length;++n)if(lv(e,t[n])&&fv(pv(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(lv(pv(t[n],t[r]),e)&&lv(pv(t[n],e),t[r])&&lv(pv(t[r],e),t[n])&&fv(mv(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function lv(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function hv(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function fv(t,e){for(var n=0;n<e.length;++n)if(!hv(t,e[n]))return!1;return!0}function dv(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return pv(t[0],t[1]);case 3:return mv(t[0],t[1],t[2])}var e}function pv(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,s=e.y,a=e.r,u=o-n,c=s-r,l=a-i,h=Math.sqrt(u*u+c*c);return{x:(n+o+u/h*l)/2,y:(r+s+c/h*l)/2,r:(h+i+a)/2}}function mv(t,e,n){var r=t.x,i=t.y,o=t.r,s=e.x,a=e.y,u=e.r,c=n.x,l=n.y,h=n.r,f=r-s,d=r-c,p=i-a,m=i-l,v=u-o,y=h-o,g=r*r+i*i-o*o,_=g-s*s-a*a+u*u,b=g-c*c-l*l+h*h,x=d*p-f*m,E=(p*b-m*_)/(2*x)-r,w=(m*v-p*y)/x,T=(d*_-f*b)/(2*x)-i,S=(f*y-d*v)/x,k=w*w+S*S-1,A=2*(o+E*w+T*S),O=E*E+T*T-o*o,C=-(Math.abs(k)>1e-6?(A+Math.sqrt(A*A-4*k*O))/(2*k):O/A);return{x:r+E+w*C,y:i+T+S*C,r:C}}function vv(t,e,n){var r,i,o,s,a=t.x-e.x,u=t.y-e.y,c=a*a+u*u;c?(i=e.r+n.r,i*=i,s=t.r+n.r,i>(s*=s)?(r=(c+s-i)/(2*c),o=Math.sqrt(Math.max(0,s/c-r*r)),n.x=t.x-r*a-o*u,n.y=t.y-r*u+o*a):(r=(c+i-s)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*a-o*u,n.y=e.y+r*u+o*a)):(n.x=e.x+n.r,n.y=e.y)}function yv(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function gv(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function _v(t){this._=t,this.next=null,this.previous=null}function bv(t,e){if(!(s=(n=t,t="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,r,i,o,s,a,u,c,l,h,f,d;if((r=t[0]).x=0,r.y=0,!(s>1))return r.r;if(i=t[1],r.x=-i.r,i.x=r.r,i.y=0,!(s>2))return r.r+i.r;vv(i,r,o=t[2]),r=new _v(r),i=new _v(i),o=new _v(o),r.next=o.previous=i,i.next=r.previous=o,o.next=i.previous=r;t:for(c=3;c<s;++c){vv(r._,i._,o=t[c]),o=new _v(o),l=i.next,h=r.previous,f=i._.r,d=r._.r;do{if(f<=d){if(yv(l._,o._)){i=l,r.next=i,i.previous=r,--c;continue t}f+=l._.r,l=l.next}else{if(yv(h._,o._)){(r=h).next=i,i.previous=r,--c;continue t}d+=h._.r,h=h.previous}}while(l!==h.next);for(o.previous=r,o.next=i,r.next=i.previous=i=o,a=gv(r);(o=o.next)!==i;)(u=gv(o))<a&&(r=o,a=u);i=r.next}for(r=[i._],o=i;(o=o.next)!==i;)r.push(o._);for(o=uv(r,e),c=0;c<s;++c)(r=t[c]).x-=o.x,r.y-=o.y;return o.r}function xv(t){return bv(t,sv()),t}function Ev(t){return Math.sqrt(t.value)}function wv(){var t=null,e=1,n=1,r=rv;function i(i){const o=sv();return i.x=e/2,i.y=n/2,t?i.eachBefore(Tv(t)).eachAfter(Sv(r,.5,o)).eachBefore(kv(1)):i.eachBefore(Tv(Ev)).eachAfter(Sv(rv,1,o)).eachAfter(Sv(r,i.r/Math.min(e,n),o)).eachBefore(kv(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=ev(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:iv(+t),i):r},i}function Tv(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Sv(t,e,n){return function(r){if(i=r.children){var i,o,s,a=i.length,u=t(r)*e||0;if(u)for(o=0;o<a;++o)i[o].r+=u;if(s=bv(i,n),u)for(o=0;o<a;++o)i[o].r-=u;r.r=s+u}}}function kv(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Av(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Ov(t,e,n,r,i){for(var o,s=t.children,a=-1,u=s.length,c=t.value&&(r-e)/t.value;++a<u;)(o=s[a]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function Cv(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&Ov(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,s=r.x1-n,a=r.y1-n;s<i&&(i=s=(i+s)/2),a<o&&(o=a=(o+a)/2),r.x0=i,r.y0=o,r.x1=s,r.y1=a}}(e,o)),r&&i.eachBefore(Av),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}var Pv={depth:-1},Rv={},Nv={};function Lv(t){return t.id}function Iv(t){return t.parentId}function Mv(){var t,e=Lv,n=Iv;function r(r){var i,o,s,a,u,c,l,h,f=Array.from(r),d=e,p=n,m=new Map;if(null!=t){const e=f.map(((e,n)=>function(t){let e=(t=`${t}`).length;return Fv(t,e-1)&&!Fv(t,e-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:`/${t}`}(t(e,n,r)))),n=e.map(Dv),i=new Set(e).add("");for(const t of n)i.has(t)||(i.add(t),e.push(t),n.push(Dv(t)),f.push(Nv));d=(t,n)=>e[n],p=(t,e)=>n[e]}for(s=0,i=f.length;s<i;++s)o=f[s],c=f[s]=new tv(o),null!=(l=d(o,s,r))&&(l+="")&&(h=c.id=l,m.set(h,m.has(h)?Rv:c)),null!=(l=p(o,s,r))&&(l+="")&&(c.parent=l);for(s=0;s<i;++s)if(l=(c=f[s]).parent){if(!(u=m.get(l)))throw new Error("missing: "+l);if(u===Rv)throw new Error("ambiguous: "+l);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(a)throw new Error("multiple roots");a=c}if(!a)throw new Error("no root");if(null!=t){for(;a.data===Nv&&1===a.children.length;)a=a.children[0],--i;for(let t=f.length-1;t>=0&&(c=f[t],c.data===Nv);--t)c.data=null}if(a.parent=Pv,a.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(Zm),a.parent=null,i>0)throw new Error("cycle");return a}return r.id=function(t){return arguments.length?(e=ev(t),r):e},r.parentId=function(t){return arguments.length?(n=ev(t),r):n},r.path=function(e){return arguments.length?(t=ev(e),r):t},r}function Dv(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Fv(t,e););return t.slice(0,e)}function Fv(t,e){if("/"===t[e]){let n=0;for(;e>0&&"\\"===t[--e];)++n;if(0==(1&n))return!0}return!1}function jv(t,e){return t.parent===e.parent?1:2}function Uv(t){var e=t.children;return e?e[0]:t.t}function Bv(t){var e=t.children;return e?e[e.length-1]:t.t}function $v(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function zv(t,e,n){return t.a.parent===e.parent?t.a:n}function qv(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Vv(){var t=jv,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,o,s=new qv(t,0),a=[s];e=a.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(n=e.children[i]=new qv(r[i],i)),n.parent=e;return(s.parent=new qv(null,0)).children=[s],s}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),r)i.eachBefore(a);else{var c=i,l=i,h=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>h.depth&&(h=t)}));var f=c===l?1:t(c,l)/2,d=f-c.x,p=e/(l.x+f+d),m=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*m}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,s=e,a=n,u=o.parent.children[0],c=o.m,l=s.m,h=a.m,f=u.m;a=Bv(a),o=Uv(o),a&&o;)u=Uv(u),(s=Bv(s)).a=e,(i=a.z+h-o.z-c+t(a._,o._))>0&&($v(zv(a,e,r),e,i),c+=i,l+=i),h+=a.m,c+=o.m,f+=u.m,l+=s.m;a&&!Bv(s)&&(s.t=a,s.m+=h-l),o&&!Uv(u)&&(u.t=o,u.m+=c-f,r=e)}return r}(e,i,e.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Hv(t,e,n,r,i){for(var o,s=t.children,a=-1,u=s.length,c=t.value&&(i-n)/t.value;++a<u;)(o=s[a]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}qv.prototype=Object.create(tv.prototype);var Kv=(1+Math.sqrt(5))/2;function Yv(t,e,n,r,i,o){for(var s,a,u,c,l,h,f,d,p,m,v,y=[],g=e.children,_=0,b=0,x=g.length,E=e.value;_<x;){u=i-n,c=o-r;do{l=g[b++].value}while(!l&&b<x);for(h=f=l,v=l*l*(m=Math.max(c/u,u/c)/(E*t)),p=Math.max(f/v,v/h);b<x;++b){if(l+=a=g[b].value,a<h&&(h=a),a>f&&(f=a),v=l*l*m,(d=Math.max(f/v,v/h))>p){l-=a;break}p=d}y.push(s={value:l,dice:u<c,children:g.slice(_,b)}),s.dice?Ov(s,n,r,i,E?r+=c*l/E:o):Hv(s,n,r,E?n+=u*l/E:i,o),E-=l,_=b}return y}const Gv=function t(e){function n(t,n,r,i,o){Yv(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Kv);function Qv(){var t=Gv,e=!1,n=1,r=1,i=[0],o=rv,s=rv,a=rv,u=rv,c=rv;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(Av),t}function h(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<l&&(l=f=(l+f)/2),e.x0=r,e.y0=l,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,l+=s(e)-n,(h-=a(e)-n)<r&&(r=h=(r+h)/2),(f-=u(e)-n)<l&&(l=f=(l+f)/2),t(e,r,l,h,f))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=nv(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:iv(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(s="function"==typeof t?t:iv(+t),l):s},l.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:iv(+t),l):a},l.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:iv(+t),l):u},l.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:iv(+t),l):c},l}function Wv(t,e,n,r,i){var o,s,a=t.children,u=a.length,c=new Array(u+1);for(c[0]=s=o=0;o<u;++o)c[o+1]=s+=a[o].value;!function t(e,n,r,i,o,s,u){if(e>=n-1){var l=a[e];return l.x0=i,l.y0=o,l.x1=s,void(l.y1=u)}for(var h=c[e],f=r/2+h,d=e+1,p=n-1;d<p;){var m=d+p>>>1;c[m]<f?d=m+1:p=m}f-c[d-1]<c[d]-f&&e+1<d&&--d;var v=c[d]-h,y=r-v;if(s-i>u-o){var g=r?(i*y+s*v)/r:s;t(e,d,v,i,o,g,u),t(d,n,y,g,o,s,u)}else{var _=r?(o*y+u*v)/r:u;t(e,d,v,i,o,s,_),t(d,n,y,i,_,s,u)}}(0,u,t.value,e,n,r,i)}function Xv(t,e,n,r,i){(1&t.depth?Hv:Ov)(t,e,n,r,i)}const Jv=function t(e){function n(t,n,r,i,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,u,c,l,h=-1,f=s.length,d=t.value;++h<f;){for(u=(a=s[h]).children,c=a.value=0,l=u.length;c<l;++c)a.value+=u[c].value;a.dice?Ov(a,n,r,i,d?r+=(o-r)*a.value/d:o):Hv(a,n,r,d?n+=(i-n)*a.value/d:i,o),d-=a.value}else t._squarify=s=Yv(e,t,n,r,i,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Kv);function Zv(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function ty(t,e){var n=_i(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function ey(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ny(t){return((t=Math.exp(t))+1/t)/2}const ry=function t(e,n,r){function i(t,i){var o,s,a=t[0],u=t[1],c=t[2],l=i[0],h=i[1],f=i[2],d=l-a,p=h-u,m=d*d+p*p;if(m<1e-12)s=Math.log(f/c)/e,o=function(t){return[a+t*d,u+t*p,c*Math.exp(e*t*s)]};else{var v=Math.sqrt(m),y=(f*f-c*c+r*m)/(2*c*n*v),g=(f*f-c*c-r*m)/(2*f*n*v),_=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(g*g+1)-g);s=(b-_)/e,o=function(t){var r,i=t*s,o=ny(_),l=c/(n*v)*(o*(r=e*i+_,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[a+l*d,u+l*p,c*o/ny(e*i+_)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function iy(t){return function(e,n){var r=t((e=ci(e)).h,(n=ci(n)).h),i=bi(e.s,n.s),o=bi(e.l,n.l),s=bi(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=s(t),e+""}}}const oy=iy(_i);var sy=iy(bi);function ay(t,e){var n=bi((t=Ea(t)).l,(e=Ea(e)).l),r=bi(t.a,e.a),i=bi(t.b,e.b),o=bi(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function uy(t){return function(e,n){var r=t((e=Pa(e)).h,(n=Pa(n)).h),i=bi(e.c,n.c),o=bi(e.l,n.l),s=bi(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=s(t),e+""}}}const cy=uy(_i);var ly=uy(bi);function hy(t){return function e(n){function r(e,r){var i=t((e=za(e)).h,(r=za(r)).h),o=bi(e.s,r.s),s=bi(e.l,r.l),a=bi(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,r.gamma=e,r}(1)}const fy=hy(_i);var dy=hy(bi);function py(t,e){void 0===e&&(e=t,t=Mi);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function my(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function vy(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}function yy(t){for(var e,n,r=-1,i=t.length,o=0,s=0,a=t[i-1],u=0;++r<i;)e=a,a=t[r],u+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o/(u*=3),s/u]}function gy(t,e){return t[0]-e[0]||t[1]-e[1]}function _y(t){const e=t.length,n=[0,1];let r,i=2;for(r=2;r<e;++r){for(;i>1&&(o=t[n[i-2]],s=t[n[i-1]],a=t[r],(s[0]-o[0])*(a[1]-o[1])-(s[1]-o[1])*(a[0]-o[0])<=0);)--i;n[i++]=r}var o,s,a;return n.slice(0,i)}function by(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(gy),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=_y(r),s=_y(i),a=s[0]===o[0],u=s[s.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+a;e<s.length-u;++e)c.push(t[r[s[e]][2]]);return c}function xy(t,e){for(var n,r,i=t.length,o=t[i-1],s=e[0],a=e[1],u=o[0],c=o[1],l=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>a!=c>a&&s<(u-n)*(a-r)/(c-r)+n&&(l=!l),u=n,c=r;return l}function Ey(t){for(var e,n,r=-1,i=t.length,o=t[i-1],s=o[0],a=o[1],u=0;++r<i;)e=s,n=a,e-=s=(o=t[r])[0],n-=a=o[1],u+=Math.hypot(e,n);return u}const wy=Math.random,Ty=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(wy),Sy=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(wy),ky=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(wy),Ay=function t(e){var n=ky.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(wy),Oy=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,r=t;r>1;--r)n+=e();return n+r*e()}}return n.source=t,n}(wy),Cy=function t(e){var n=Oy.source(e);function r(t){if(0==(t=+t))return e;var r=n(t);return function(){return r()/t}}return r.source=t,r}(wy),Py=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(wy),Ry=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(wy),Ny=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(wy),Ly=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(wy),Iy=function t(e){var n=ky.source(e)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-e())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),s=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),a=1+o*t}while(a<=0);a*=a*a;var u=1-e()}while(u>=1-.0331*t*t*t*t&&Math.log(u)>=.5*t*t+i*(1-a+Math.log(a)));return i*a*s()*r}}return r.source=t,r}(wy),My=function t(e){var n=Iy.source(e);function r(t,e){var r=n(t),i=n(e);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(wy),Dy=function t(e){var n=Ly.source(e),r=My.source(e);function i(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var i=0,o=t,s=e;o*s>16&&o*(1-s)>16;){var a=Math.floor((o+1)*s),u=r(a,o-a+1)();u<=s?(i+=a,o-=a,s=(s-u)/(1-u)):(o=a-1,s/=u)}for(var c=s<.5,l=n(c?s:1-s),h=l(),f=0;h<=o;++f)h+=l();return i+(c?f:o-f)}}return i.source=t,i}(wy),Fy=function t(e){function n(t,n,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=e=>Math.pow(e,t)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-e()))}}return n.source=t,n}(wy),jy=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(wy),Uy=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var r=e();return t+n*Math.log(r/(1-r))}}return n.source=t,n}(wy),By=function t(e){var n=Iy.source(e),r=Dy.source(e);function i(t){return function(){for(var i=0,o=t;o>16;){var s=Math.floor(.875*o),a=n(s)();if(a>o)return i+r(s-1,o/a)();i+=s,o-=a}for(var u=-Math.log1p(-e()),c=0;u<=o;++c)u-=Math.log1p(-e());return i+c}}return i.source=t,i}(wy),$y=1/4294967296;function zy(t=Math.random()){let e=0|(0<=t&&t<1?t/$y:Math.abs(t));return()=>(e=1664525*e+1013904223|0,$y*(e>>>0))}function qy(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Vy(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Hy=Symbol("implicit");function Ky(){var t=new gt,e=[],n=[],r=Hy;function i(i){let o=t.get(i);if(void 0===o){if(r!==Hy)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new gt;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ky(e,n).unknown(r)},qy.apply(i,arguments),i}function Yy(){var t,e,n=Ky().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,a=!1,u=0,c=0,l=.5;function h(){var n=r().length,h=s<o,f=h?s:o,d=h?o:s;t=(d-f)/Math.max(1,n-u+2*c),a&&(t=Math.floor(t)),f+=(d-f-t*(n-u))*l,e=t*(1-u),a&&(f=Math.round(f),e=Math.round(e));var p=ge(n).map((function(e){return f+t*e}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([o,s]=t,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(t){return[o,s]=t,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),h()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),h()):u},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},n.copy=function(){return Yy(r(),[o,s]).round(a).paddingInner(u).paddingOuter(c).align(l)},qy.apply(h(),arguments)}function Gy(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Gy(e())},t}function Qy(){return Gy(Yy.apply(null,arguments).paddingInner(1))}function Wy(t){return+t}var Xy=[0,1];function Jy(t){return t}function Zy(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function tg(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Zy(i,r),o=n(s,o)):(r=Zy(r,i),o=n(o,s)),function(t){return o(r(t))}}function eg(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Zy(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=J(t,e,1,r)-1;return o[n](i[n](e))}}function ng(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rg(){var t,e,n,r,i,o,s=Xy,a=Xy,u=Mi,c=Jy;function l(){var t,e,n,u=Math.min(s.length,a.length);return c!==Jy&&(t=s[0],e=s[u-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?eg:tg,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(s.map(t),a,u)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(a,s.map(t),Pi)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,Wy),l()):s.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),l()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),u=ey,l()},h.clamp=function(t){return arguments.length?(c=!!t||Jy,l()):c!==Jy},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}function ig(){return rg()(Jy,Jy)}function og(t,e,n,r){var i,o=Qt(t,e,n);switch((r=Ll(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Kl(o,s))||(r.precision=i),Bl(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Yl(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Hl(o))||(r.precision=i-2*("%"===r.type))}return Ul(r)}function sg(t){var e=t.domain;return t.ticks=function(t){var n=e();return Yt(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return og(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),s=0,a=o.length-1,u=o[s],c=o[a],l=10;for(c<u&&(i=u,u=c,c=i,i=s,s=a,a=i);l-- >0;){if((i=Gt(u,c,n))===r)return o[s]=u,o[a]=c,e(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function ag(){var t=ig();return t.copy=function(){return ng(t,ag())},qy.apply(t,arguments),sg(t)}function ug(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Wy),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return ug(t).unknown(e)},t=arguments.length?Array.from(t,Wy):[0,1],sg(n)}function cg(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],s=t[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),t[r]=e.floor(o),t[i]=e.ceil(s),t}function lg(t){return Math.log(t)}function hg(t){return Math.exp(t)}function fg(t){return-Math.log(-t)}function dg(t){return-Math.exp(-t)}function pg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mg(t){return(e,n)=>-t(-e,n)}function vg(t){const e=t(lg,hg),n=e.domain;let r,i,o=10;function s(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?pg:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=mg(r),i=mg(i),t(fg,dg)):t(lg,hg),e}return e.base=function(t){return arguments.length?(o=+t,s()):o},e.domain=function(t){return arguments.length?(n(t),s()):n()},e.ticks=t=>{const e=n();let s=e[0],a=e[e.length-1];const u=a<s;u&&([s,a]=[a,s]);let c,l,h=r(s),f=r(a);const d=null==t?10:+t;let p=[];if(!(o%1)&&f-h<d){if(h=Math.floor(h),f=Math.ceil(f),s>0){for(;h<=f;++h)for(c=1;c<o;++c)if(l=h<0?c/i(-h):c*i(h),!(l<s)){if(l>a)break;p.push(l)}}else for(;h<=f;++h)for(c=o-1;c>=1;--c)if(l=h>0?c/i(-h):c*i(h),!(l<s)){if(l>a)break;p.push(l)}2*p.length<d&&(p=Yt(s,a,d))}else p=Yt(h,f,Math.min(f-h,d)).map(i);return u?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=Ll(n)).precision||(n.trim=!0),n=Ul(n)),t===1/0)return n;const s=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=s?n(t):""}},e.nice=()=>n(cg(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function yg(){const t=vg(rg()).domain([1,10]);return t.copy=()=>ng(t,yg()).base(t.base()),qy.apply(t,arguments),t}function gg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _g(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function bg(t){var e=1,n=t(gg(e),_g(e));return n.constant=function(n){return arguments.length?t(gg(e=+n),_g(e)):e},sg(n)}function xg(){var t=bg(rg());return t.copy=function(){return ng(t,xg()).constant(t.constant())},qy.apply(t,arguments)}function Eg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Tg(t){return t<0?-t*t:t*t}function Sg(t){var e=t(Jy,Jy),n=1;function r(){return 1===n?t(Jy,Jy):.5===n?t(wg,Tg):t(Eg(n),Eg(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},sg(e)}function kg(){var t=Sg(rg());return t.copy=function(){return ng(t,kg()).exponent(t.exponent())},qy.apply(t,arguments),t}function Ag(){return kg.apply(null,arguments).exponent(.5)}function Og(t){return Math.sign(t)*t*t}function Cg(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Pg(){var t,e=ig(),n=[0,1],r=!1;function i(n){var i=Cg(e(n));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return e.invert(Og(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,Wy)).map(Og)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Pg(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},qy.apply(i,arguments),sg(i)}function Rg(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=ae(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[J(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(z),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return Rg().domain(e).range(n).unknown(t)},qy.apply(o,arguments)}function Ng(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function s(e){return null!=e&&e<=e?o[J(i,e,0,r)]:t}function a(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return s}return s.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,a()):[e,n]},s.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,a()):o.slice()},s.invertExtent=function(t){var s=o.indexOf(t);return s<0?[NaN,NaN]:s<1?[e,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return Ng().domain([e,n]).range(o).unknown(t)},qy.apply(sg(s),arguments)}function Lg(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[J(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Lg().domain(e).range(n).unknown(t)},qy.apply(i,arguments)}const Ig=1e3,Mg=6e4,Dg=36e5,Fg=864e5,jg=6048e5,Ug=31536e6;var Bg=new Date,$g=new Date;function zg(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var s,a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=function(n){return zg((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Bg.setTime(+e),$g.setTime(+r),t(Bg),t($g),Math.floor(n(Bg,$g))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var qg=zg((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));qg.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?zg((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):qg:null};const Vg=qg;var Hg=qg.range,Kg=zg((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Ig)}),(function(t,e){return(e-t)/Ig}),(function(t){return t.getUTCSeconds()}));const Yg=Kg;var Gg=Kg.range,Qg=zg((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ig)}),(function(t,e){t.setTime(+t+e*Mg)}),(function(t,e){return(e-t)/Mg}),(function(t){return t.getMinutes()}));const Wg=Qg;var Xg=Qg.range,Jg=zg((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ig-t.getMinutes()*Mg)}),(function(t,e){t.setTime(+t+e*Dg)}),(function(t,e){return(e-t)/Dg}),(function(t){return t.getHours()}));const Zg=Jg;var t_=Jg.range,e_=zg((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mg)/Fg),(t=>t.getDate()-1));const n_=e_;var r_=e_.range;function i_(t){return zg((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mg)/jg}))}var o_=i_(0),s_=i_(1),a_=i_(2),u_=i_(3),c_=i_(4),l_=i_(5),h_=i_(6),f_=o_.range,d_=s_.range,p_=a_.range,m_=u_.range,v_=c_.range,y_=l_.range,g_=h_.range,__=zg((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const b_=__;var x_=__.range,E_=zg((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));E_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?zg((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const w_=E_;var T_=E_.range,S_=zg((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Mg)}),(function(t,e){return(e-t)/Mg}),(function(t){return t.getUTCMinutes()}));const k_=S_;var A_=S_.range,O_=zg((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Dg)}),(function(t,e){return(e-t)/Dg}),(function(t){return t.getUTCHours()}));const C_=O_;var P_=O_.range,R_=zg((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Fg}),(function(t){return t.getUTCDate()-1}));const N_=R_;var L_=R_.range;function I_(t){return zg((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/jg}))}var M_=I_(0),D_=I_(1),F_=I_(2),j_=I_(3),U_=I_(4),B_=I_(5),$_=I_(6),z_=M_.range,q_=D_.range,V_=F_.range,H_=j_.range,K_=U_.range,Y_=B_.range,G_=$_.range,Q_=zg((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const W_=Q_;var X_=Q_.range,J_=zg((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));J_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?zg((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Z_=J_;var tb=J_.range;function eb(t,e,n,r,i,o){const s=[[Yg,1,Ig],[Yg,5,5e3],[Yg,15,15e3],[Yg,30,3e4],[o,1,Mg],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Dg],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Fg],[r,2,1728e5],[n,1,jg],[e,1,2592e6],[e,3,7776e6],[t,1,Ug]];function a(e,n,r){const i=Math.abs(n-e)/r,o=V((([,,t])=>t)).right(s,i);if(o===s.length)return t.every(Qt(e/Ug,n/Ug,r));if(0===o)return Vg.every(Math.max(Qt(e,n,r),1));const[a,u]=s[i/s[o-1][2]<s[o][2]/i?o-1:o];return a.every(u)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:a(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},a]}const[nb,rb]=eb(Z_,W_,M_,N_,C_,k_),[ib,ob]=eb(w_,b_,o_,n_,Zg,Wg);function sb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ab(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ub(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cb(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,u=t.shortMonths,c=xb(i),l=Eb(i),h=xb(o),f=Eb(o),d=xb(s),p=Eb(s),m=xb(a),v=Eb(a),y=xb(u),g=Eb(u),_={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:qb,e:qb,f:Gb,g:ox,G:ax,H:Vb,I:Hb,j:Kb,L:Yb,m:Qb,M:Wb,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Px,s:Rx,S:Xb,u:Jb,U:Zb,V:ex,w:nx,W:rx,x:null,X:null,y:ix,Y:sx,Z:ux,"%":Cx},b={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:cx,e:cx,f:px,g:Sx,G:Ax,H:lx,I:hx,j:fx,L:dx,m:mx,M:vx,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Px,s:Rx,S:yx,u:gx,U:_x,V:xx,w:Ex,W:wx,x:null,X:null,y:Tx,Y:kx,Z:Ox,"%":Cx},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return T(t,e,n,r)},d:Lb,e:Lb,f:Ub,g:Cb,G:Ob,H:Mb,I:Mb,j:Ib,L:jb,m:Nb,M:Db,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:Rb,Q:$b,s:zb,S:Fb,u:Tb,U:Sb,V:kb,w:wb,W:Ab,x:function(t,e,r){return T(t,n,e,r)},X:function(t,e,n){return T(t,r,e,n)},y:Cb,Y:Ob,Z:Pb,"%":Bb};function E(t,e){return function(n){var r,i,o,s=[],a=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(i=mb[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),s.push(r),u=a+1);return s.push(t.slice(u,a)),s.join("")}}function w(t,e){return function(n){var r,i,o=ub(1900,void 0,1);if(T(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ab(ub(o.y,0,1))).getUTCDay(),r=i>4||0===i?D_.ceil(r):D_(r),r=N_.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=sb(ub(o.y,0,1))).getDay(),r=i>4||0===i?s_.ceil(r):s_(r),r=n_.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ab(ub(o.y,0,1)).getUTCDay():sb(ub(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ab(o)):sb(o)}}function T(t,e,n,r){for(var i,o,s=0,a=e.length,u=n.length;s<a;){if(r>=u)return-1;if(37===(i=e.charCodeAt(s++))){if(i=e.charAt(s++),!(o=x[i in mb?e.charAt(s++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=E(n,_),_.X=E(r,_),_.c=E(e,_),b.x=E(n,b),b.X=E(r,b),b.c=E(e,b),{format:function(t){var e=E(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=E(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t+="",!0);return e.toString=function(){return t},e}}}var lb,hb,fb,db,pb,mb={"-":"",_:" ",0:"0"},vb=/^\s*\d+/,yb=/^%/,gb=/[\\^$*+?|[\]().{}]/g;function _b(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function bb(t){return t.replace(gb,"\\$&")}function xb(t){return new RegExp("^(?:"+t.map(bb).join("|")+")","i")}function Eb(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function wb(t,e,n){var r=vb.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Tb(t,e,n){var r=vb.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Sb(t,e,n){var r=vb.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function kb(t,e,n){var r=vb.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ab(t,e,n){var r=vb.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ob(t,e,n){var r=vb.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Cb(t,e,n){var r=vb.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pb(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Rb(t,e,n){var r=vb.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Nb(t,e,n){var r=vb.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Lb(t,e,n){var r=vb.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ib(t,e,n){var r=vb.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Mb(t,e,n){var r=vb.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Db(t,e,n){var r=vb.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Fb(t,e,n){var r=vb.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jb(t,e,n){var r=vb.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ub(t,e,n){var r=vb.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Bb(t,e,n){var r=yb.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $b(t,e,n){var r=vb.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function zb(t,e,n){var r=vb.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qb(t,e){return _b(t.getDate(),e,2)}function Vb(t,e){return _b(t.getHours(),e,2)}function Hb(t,e){return _b(t.getHours()%12||12,e,2)}function Kb(t,e){return _b(1+n_.count(w_(t),t),e,3)}function Yb(t,e){return _b(t.getMilliseconds(),e,3)}function Gb(t,e){return Yb(t,e)+"000"}function Qb(t,e){return _b(t.getMonth()+1,e,2)}function Wb(t,e){return _b(t.getMinutes(),e,2)}function Xb(t,e){return _b(t.getSeconds(),e,2)}function Jb(t){var e=t.getDay();return 0===e?7:e}function Zb(t,e){return _b(o_.count(w_(t)-1,t),e,2)}function tx(t){var e=t.getDay();return e>=4||0===e?c_(t):c_.ceil(t)}function ex(t,e){return t=tx(t),_b(c_.count(w_(t),t)+(4===w_(t).getDay()),e,2)}function nx(t){return t.getDay()}function rx(t,e){return _b(s_.count(w_(t)-1,t),e,2)}function ix(t,e){return _b(t.getFullYear()%100,e,2)}function ox(t,e){return _b((t=tx(t)).getFullYear()%100,e,2)}function sx(t,e){return _b(t.getFullYear()%1e4,e,4)}function ax(t,e){var n=t.getDay();return _b((t=n>=4||0===n?c_(t):c_.ceil(t)).getFullYear()%1e4,e,4)}function ux(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_b(e/60|0,"0",2)+_b(e%60,"0",2)}function cx(t,e){return _b(t.getUTCDate(),e,2)}function lx(t,e){return _b(t.getUTCHours(),e,2)}function hx(t,e){return _b(t.getUTCHours()%12||12,e,2)}function fx(t,e){return _b(1+N_.count(Z_(t),t),e,3)}function dx(t,e){return _b(t.getUTCMilliseconds(),e,3)}function px(t,e){return dx(t,e)+"000"}function mx(t,e){return _b(t.getUTCMonth()+1,e,2)}function vx(t,e){return _b(t.getUTCMinutes(),e,2)}function yx(t,e){return _b(t.getUTCSeconds(),e,2)}function gx(t){var e=t.getUTCDay();return 0===e?7:e}function _x(t,e){return _b(M_.count(Z_(t)-1,t),e,2)}function bx(t){var e=t.getUTCDay();return e>=4||0===e?U_(t):U_.ceil(t)}function xx(t,e){return t=bx(t),_b(U_.count(Z_(t),t)+(4===Z_(t).getUTCDay()),e,2)}function Ex(t){return t.getUTCDay()}function wx(t,e){return _b(D_.count(Z_(t)-1,t),e,2)}function Tx(t,e){return _b(t.getUTCFullYear()%100,e,2)}function Sx(t,e){return _b((t=bx(t)).getUTCFullYear()%100,e,2)}function kx(t,e){return _b(t.getUTCFullYear()%1e4,e,4)}function Ax(t,e){var n=t.getUTCDay();return _b((t=n>=4||0===n?U_(t):U_.ceil(t)).getUTCFullYear()%1e4,e,4)}function Ox(){return"+0000"}function Cx(){return"%"}function Px(t){return+t}function Rx(t){return Math.floor(+t/1e3)}function Nx(t){return lb=cb(t),hb=lb.format,fb=lb.parse,db=lb.utcFormat,pb=lb.utcParse,lb}function Lx(t){return new Date(t)}function Ix(t){return t instanceof Date?+t:+new Date(+t)}function Mx(t,e,n,r,i,o,s,a,u,c){var l=ig(),h=l.invert,f=l.domain,d=c(".%L"),p=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),g=c("%b %d"),_=c("%B"),b=c("%Y");function x(t){return(u(t)<t?d:a(t)<t?p:s(t)<t?m:o(t)<t?v:r(t)<t?i(t)<t?y:g:n(t)<t?_:b)(t)}return l.invert=function(t){return new Date(h(t))},l.domain=function(t){return arguments.length?f(Array.from(t,Ix)):f().map(Lx)},l.ticks=function(e){var n=f();return t(n[0],n[n.length-1],null==e?10:e)},l.tickFormat=function(t,e){return null==e?x:c(e)},l.nice=function(t){var n=f();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?f(cg(n,t)):l},l.copy=function(){return ng(l,Mx(t,e,n,r,i,o,s,a,u,c))},l}function Dx(){return qy.apply(Mx(ib,ob,w_,b_,o_,n_,Zg,Wg,Yg,hb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fx(){return qy.apply(Mx(nb,rb,Z_,W_,M_,N_,C_,k_,Yg,db).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jx(){var t,e,n,r,i,o=0,s=1,a=Jy,u=!1;function c(e){return null==e||isNaN(e=+e)?i:a(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}function l(t){return function(e){var n,r;return arguments.length?([n,r]=e,a=t(n,r),c):[a(0),a(1)]}}return c.domain=function(i){return arguments.length?([o,s]=i,t=r(o=+o),e=r(s=+s),n=t===e?0:1/(e-t),c):[o,s]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(a=t,c):a},c.range=l(Mi),c.rangeRound=l(ey),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(s),n=t===e?0:1/(e-t),c}}function Ux(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Bx(){var t=sg(jx()(Jy));return t.copy=function(){return Ux(t,Bx())},Vy.apply(t,arguments)}function $x(){var t=vg(jx()).domain([1,10]);return t.copy=function(){return Ux(t,$x()).base(t.base())},Vy.apply(t,arguments)}function zx(){var t=bg(jx());return t.copy=function(){return Ux(t,zx()).constant(t.constant())},Vy.apply(t,arguments)}function qx(){var t=Sg(jx());return t.copy=function(){return Ux(t,qx()).exponent(t.exponent())},Vy.apply(t,arguments)}function Vx(){return qx.apply(null,arguments).exponent(.5)}function Hx(){var t=[],e=Jy;function n(n){if(null!=n&&!isNaN(n=+n))return e((J(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(z),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>se(t,r/e)))},n.copy=function(){return Hx(e).domain(t)},Vy.apply(n,arguments)}function Kx(){var t,e,n,r,i,o,s,a=0,u=.5,c=1,l=1,h=Jy,f=!1;function d(t){return isNaN(t=+t)?s:(t=.5+((t=+o(t))-e)*(l*t<l*e?r:i),h(f?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,h=py(t,[n,r,i]),d):[h(0),h(.5),h(1)]}}return d.domain=function(s){return arguments.length?([a,u,c]=s,t=o(a=+a),e=o(u=+u),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d):[a,u,c]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(h=t,d):h},d.range=p(Mi),d.rangeRound=p(ey),d.unknown=function(t){return arguments.length?(s=t,d):s},function(s){return o=s,t=s(a),e=s(u),n=s(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d}}function Yx(){var t=sg(Kx()(Jy));return t.copy=function(){return Ux(t,Yx())},Vy.apply(t,arguments)}function Gx(){var t=vg(Kx()).domain([.1,1,10]);return t.copy=function(){return Ux(t,Gx()).base(t.base())},Vy.apply(t,arguments)}function Qx(){var t=bg(Kx());return t.copy=function(){return Ux(t,Qx()).constant(t.constant())},Vy.apply(t,arguments)}function Wx(){var t=Sg(Kx());return t.copy=function(){return Ux(t,Wx()).exponent(t.exponent())},Vy.apply(t,arguments)}function Xx(){return Wx.apply(null,arguments).exponent(.5)}function Jx(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}Nx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Zx=Jx("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),tE=Jx("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),eE=Jx("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),nE=Jx("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),rE=Jx("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),iE=Jx("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),oE=Jx("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),sE=Jx("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),aE=Jx("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),uE=Jx("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),cE=t=>wi(t[t.length-1]);var lE=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Jx);const hE=cE(lE);var fE=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Jx);const dE=cE(fE);var pE=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Jx);const mE=cE(pE);var vE=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Jx);const yE=cE(vE);var gE=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Jx);const _E=cE(gE);var bE=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Jx);const xE=cE(bE);var EE=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Jx);const wE=cE(EE);var TE=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Jx);const SE=cE(TE);var kE=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Jx);const AE=cE(kE);var OE=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Jx);const CE=cE(OE);var PE=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Jx);const RE=cE(PE);var NE=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Jx);const LE=cE(NE);var IE=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Jx);const ME=cE(IE);var DE=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Jx);const FE=cE(DE);var jE=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Jx);const UE=cE(jE);var BE=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Jx);const $E=cE(BE);var zE=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Jx);const qE=cE(zE);var VE=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Jx);const HE=cE(VE);var KE=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Jx);const YE=cE(KE);var GE=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Jx);const QE=cE(GE);var WE=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Jx);const XE=cE(WE);var JE=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Jx);const ZE=cE(JE);var tw=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Jx);const ew=cE(tw);var nw=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Jx);const rw=cE(nw);var iw=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Jx);const ow=cE(iw);var sw=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Jx);const aw=cE(sw);var uw=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Jx);const cw=cE(uw);function lw(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const hw=dy(za(300,.5,0),za(-240,.5,1));var fw=dy(za(-100,.75,.35),za(80,1.5,.8)),dw=dy(za(260,.75,.35),za(80,1.5,.8)),pw=za();function mw(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return pw.h=360*t-100,pw.s=1.5-1.5*e,pw.l=.8-.9*e,pw+""}var vw=ti(),yw=Math.PI/3,gw=2*Math.PI/3;function _w(t){var e;return t=(.5-t)*Math.PI,vw.r=255*(e=Math.sin(t))*e,vw.g=255*(e=Math.sin(t+yw))*e,vw.b=255*(e=Math.sin(t+gw))*e,vw+""}function bw(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function xw(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Ew=xw(Jx("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var ww=xw(Jx("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Tw=xw(Jx("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Sw=xw(Jx("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function kw(t){return Sr(lr(t).call(document.documentElement))}var Aw=0;function Ow(){return new Cw}function Cw(){this._="@"+(++Aw).toString(36)}function Pw(t,e){return t.target&&(t=Di(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>Fi(t,e)))}function Rw(t){return"string"==typeof t?new Er([document.querySelectorAll(t)],[document.documentElement]):new Er([fn(t)],xr)}function Nw(t){return function(){return t}}Cw.prototype=Ow.prototype={constructor:Cw,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};const Lw=Math.abs,Iw=Math.atan2,Mw=Math.cos,Dw=Math.max,Fw=Math.min,jw=Math.sin,Uw=Math.sqrt,Bw=1e-12,$w=Math.PI,zw=$w/2,qw=2*$w;function Vw(t){return t>1?0:t<-1?$w:Math.acos(t)}function Hw(t){return t>=1?zw:t<=-1?-zw:Math.asin(t)}function Kw(t){return t.innerRadius}function Yw(t){return t.outerRadius}function Gw(t){return t.startAngle}function Qw(t){return t.endAngle}function Ww(t){return t&&t.padAngle}function Xw(t,e,n,r,i,o,s,a){var u=n-t,c=r-e,l=s-i,h=a-o,f=h*u-l*c;if(!(f*f<Bw))return[t+(f=(l*(e-o)-h*(t-i))/f)*u,e+f*c]}function Jw(t,e,n,r,i,o,s){var a=t-n,u=e-r,c=(s?o:-o)/Uw(a*a+u*u),l=c*u,h=-c*a,f=t+l,d=e+h,p=n+l,m=r+h,v=(f+p)/2,y=(d+m)/2,g=p-f,_=m-d,b=g*g+_*_,x=i-o,E=f*m-p*d,w=(_<0?-1:1)*Uw(Dw(0,x*x*b-E*E)),T=(E*_-g*w)/b,S=(-E*g-_*w)/b,k=(E*_+g*w)/b,A=(-E*g+_*w)/b,O=T-v,C=S-y,P=k-v,R=A-y;return O*O+C*C>P*P+R*R&&(T=k,S=A),{cx:T,cy:S,x01:-l,y01:-h,x11:T*(i/x-1),y11:S*(i/x-1)}}function Zw(){var t=Kw,e=Yw,n=Nw(0),r=null,i=Gw,o=Qw,s=Ww,a=null;function u(){var u,c,l=+t.apply(this,arguments),h=+e.apply(this,arguments),f=i.apply(this,arguments)-zw,d=o.apply(this,arguments)-zw,p=Lw(d-f),m=d>f;if(a||(a=u=ta()),h<l&&(c=h,h=l,l=c),h>Bw)if(p>qw-Bw)a.moveTo(h*Mw(f),h*jw(f)),a.arc(0,0,h,f,d,!m),l>Bw&&(a.moveTo(l*Mw(d),l*jw(d)),a.arc(0,0,l,d,f,m));else{var v,y,g=f,_=d,b=f,x=d,E=p,w=p,T=s.apply(this,arguments)/2,S=T>Bw&&(r?+r.apply(this,arguments):Uw(l*l+h*h)),k=Fw(Lw(h-l)/2,+n.apply(this,arguments)),A=k,O=k;if(S>Bw){var C=Hw(S/l*jw(T)),P=Hw(S/h*jw(T));(E-=2*C)>Bw?(b+=C*=m?1:-1,x-=C):(E=0,b=x=(f+d)/2),(w-=2*P)>Bw?(g+=P*=m?1:-1,_-=P):(w=0,g=_=(f+d)/2)}var R=h*Mw(g),N=h*jw(g),L=l*Mw(x),I=l*jw(x);if(k>Bw){var M,D=h*Mw(_),F=h*jw(_),j=l*Mw(b),U=l*jw(b);if(p<$w&&(M=Xw(R,N,j,U,D,F,L,I))){var B=R-M[0],$=N-M[1],z=D-M[0],q=F-M[1],V=1/jw(Vw((B*z+$*q)/(Uw(B*B+$*$)*Uw(z*z+q*q)))/2),H=Uw(M[0]*M[0]+M[1]*M[1]);A=Fw(k,(l-H)/(V-1)),O=Fw(k,(h-H)/(V+1))}}w>Bw?O>Bw?(v=Jw(j,U,R,N,h,O,m),y=Jw(D,F,L,I,h,O,m),a.moveTo(v.cx+v.x01,v.cy+v.y01),O<k?a.arc(v.cx,v.cy,O,Iw(v.y01,v.x01),Iw(y.y01,y.x01),!m):(a.arc(v.cx,v.cy,O,Iw(v.y01,v.x01),Iw(v.y11,v.x11),!m),a.arc(0,0,h,Iw(v.cy+v.y11,v.cx+v.x11),Iw(y.cy+y.y11,y.cx+y.x11),!m),a.arc(y.cx,y.cy,O,Iw(y.y11,y.x11),Iw(y.y01,y.x01),!m))):(a.moveTo(R,N),a.arc(0,0,h,g,_,!m)):a.moveTo(R,N),l>Bw&&E>Bw?A>Bw?(v=Jw(L,I,D,F,l,-A,m),y=Jw(R,N,j,U,l,-A,m),a.lineTo(v.cx+v.x01,v.cy+v.y01),A<k?a.arc(v.cx,v.cy,A,Iw(v.y01,v.x01),Iw(y.y01,y.x01),!m):(a.arc(v.cx,v.cy,A,Iw(v.y01,v.x01),Iw(v.y11,v.x11),!m),a.arc(0,0,l,Iw(v.cy+v.y11,v.cx+v.x11),Iw(y.cy+y.y11,y.cx+y.x11),m),a.arc(y.cx,y.cy,A,Iw(y.y11,y.x11),Iw(y.y01,y.x01),!m))):a.arc(0,0,l,x,b,m):a.lineTo(L,I)}else a.moveTo(0,0);if(a.closePath(),u)return a=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-$w/2;return[Mw(r)*n,jw(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Nw(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Nw(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Nw(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Nw(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Nw(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Nw(+t),u):o},u.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:Nw(+t),u):s},u.context=function(t){return arguments.length?(a=null==t?null:t,u):a},u}var tT=Array.prototype.slice;function eT(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function nT(t){this._context=t}function rT(t){return new nT(t)}function iT(t){return t[0]}function oT(t){return t[1]}function sT(t,e){var n=Nw(!0),r=null,i=rT,o=null;function s(s){var a,u,c,l=(s=eT(s)).length,h=!1;for(null==r&&(o=i(c=ta())),a=0;a<=l;++a)!(a<l&&n(u=s[a],a,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,a,s),+e(u,a,s));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?iT:Nw(t),e="function"==typeof e?e:void 0===e?oT:Nw(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:Nw(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Nw(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:Nw(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}function aT(t,e,n){var r=null,i=Nw(!0),o=null,s=rT,a=null;function u(u){var c,l,h,f,d,p=(u=eT(u)).length,m=!1,v=new Array(p),y=new Array(p);for(null==o&&(a=s(d=ta())),c=0;c<=p;++c){if(!(c<p&&i(f=u[c],c,u))===m)if(m=!m)l=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=c-1;h>=l;--h)a.point(v[h],y[h]);a.lineEnd(),a.areaEnd()}m&&(v[c]=+t(f,c,u),y[c]=+e(f,c,u),a.point(r?+r(f,c,u):v[c],n?+n(f,c,u):y[c]))}if(d)return a=null,d+""||null}function c(){return sT().defined(i).curve(s).context(o)}return t="function"==typeof t?t:void 0===t?iT:Nw(+t),e="function"==typeof e?e:Nw(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?oT:Nw(+n),u.x=function(e){return arguments.length?(t="function"==typeof e?e:Nw(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:Nw(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Nw(+t),u):r},u.y=function(t){return arguments.length?(e="function"==typeof t?t:Nw(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"==typeof t?t:Nw(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Nw(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:Nw(!!t),u):i},u.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),u):s},u.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),u):o},u}function uT(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function cT(t){return t}function lT(){var t=cT,e=uT,n=null,r=Nw(0),i=Nw(qw),o=Nw(0);function s(s){var a,u,c,l,h,f=(s=eT(s)).length,d=0,p=new Array(f),m=new Array(f),v=+r.apply(this,arguments),y=Math.min(qw,Math.max(-qw,i.apply(this,arguments)-v)),g=Math.min(Math.abs(y)/f,o.apply(this,arguments)),_=g*(y<0?-1:1);for(a=0;a<f;++a)(h=m[p[a]=a]=+t(s[a],a,s))>0&&(d+=h);for(null!=e?p.sort((function(t,n){return e(m[t],m[n])})):null!=n&&p.sort((function(t,e){return n(s[t],s[e])})),a=0,c=d?(y-f*_)/d:0;a<f;++a,v=l)u=p[a],l=v+((h=m[u])>0?h*c:0)+_,m[u]={data:s[u],index:a,value:h,startAngle:v,endAngle:l,padAngle:g};return m}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:Nw(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Nw(+t),s):r},s.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Nw(+t),s):i},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Nw(+t),s):o},s}nT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var hT=dT(rT);function fT(t){this._curve=t}function dT(t){function e(e){return new fT(t(e))}return e._curve=t,e}function pT(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(dT(t)):e()._curve},t}function mT(){return pT(sT().curve(hT))}function vT(){var t=aT().curve(hT),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return pT(n())},delete t.lineX0,t.lineEndAngle=function(){return pT(r())},delete t.lineX1,t.lineInnerRadius=function(){return pT(i())},delete t.lineY0,t.lineOuterRadius=function(){return pT(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(dT(t)):e()._curve},t}function yT(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}fT.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};class gT{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}class _T{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0==this._point++)this._x0=t,this._y0=e;else{const n=yT(this._x0,this._y0),r=yT(this._x0,this._y0=(this._y0+e)/2),i=yT(t,this._y0),o=yT(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...o)}}}function bT(t){return new gT(t,!0)}function xT(t){return new gT(t,!1)}function ET(t){return new _T(t)}function wT(t){return t.source}function TT(t){return t.target}function ST(t){let e=wT,n=TT,r=iT,i=oT,o=null,s=null;function a(){let a;const u=tT.call(arguments),c=e.apply(this,u),l=n.apply(this,u);if(null==o&&(s=t(a=ta())),s.lineStart(),u[0]=c,s.point(+r.apply(this,u),+i.apply(this,u)),u[0]=l,s.point(+r.apply(this,u),+i.apply(this,u)),s.lineEnd(),a)return s=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Nw(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Nw(+t),a):i},a.context=function(e){return arguments.length?(null==e?o=s=null:s=t(o=e),a):o},a}function kT(){return ST(bT)}function AT(){return ST(xT)}function OT(){const t=ST(ET);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const CT=Uw(3),PT={draw(t,e){const n=.59436*Uw(e+Fw(e/28,.75)),r=n/2,i=r*CT;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},RT={draw(t,e){const n=Uw(e/$w);t.moveTo(n,0),t.arc(0,0,n,0,qw)}},NT={draw(t,e){const n=Uw(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},LT=Uw(1/3),IT=2*LT,MT={draw(t,e){const n=Uw(e/IT),r=n*LT;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},DT={draw(t,e){const n=.62625*Uw(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},FT={draw(t,e){const n=.87559*Uw(e-Fw(e/7,2));t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},jT={draw(t,e){const n=Uw(e),r=-n/2;t.rect(r,r,n,n)}},UT={draw(t,e){const n=.4431*Uw(e);t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},BT=jw($w/10)/jw(7*$w/10),$T=jw(qw/10)*BT,zT=-Mw(qw/10)*BT,qT={draw(t,e){const n=Uw(.8908130915292852*e),r=$T*n,i=zT*n;t.moveTo(0,-n),t.lineTo(r,i);for(let e=1;e<5;++e){const o=qw*e/5,s=Mw(o),a=jw(o);t.lineTo(a*n,-s*n),t.lineTo(s*r-a*i,a*r+s*i)}t.closePath()}},VT=Uw(3),HT={draw(t,e){const n=-Uw(e/(3*VT));t.moveTo(0,2*n),t.lineTo(-VT*n,-n),t.lineTo(VT*n,-n),t.closePath()}},KT=Uw(3),YT={draw(t,e){const n=.6824*Uw(e),r=n/2,i=n*KT/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},GT=-.5,QT=Uw(3)/2,WT=1/Uw(12),XT=3*(WT/2+1),JT={draw(t,e){const n=Uw(e/XT),r=n/2,i=n*WT,o=r,s=n*WT+n,a=-o,u=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,u),t.lineTo(GT*r-QT*i,QT*r+GT*i),t.lineTo(GT*o-QT*s,QT*o+GT*s),t.lineTo(GT*a-QT*u,QT*a+GT*u),t.lineTo(GT*r+QT*i,GT*i-QT*r),t.lineTo(GT*o+QT*s,GT*s-QT*o),t.lineTo(GT*a+QT*u,GT*u-QT*a),t.closePath()}},ZT={draw(t,e){const n=.6189*Uw(e-Fw(e/6,1.7));t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},tS=[RT,NT,MT,jT,qT,HT,JT],eS=[RT,FT,ZT,YT,PT,UT,DT];function nS(t,e){let n=null;function r(){let r;if(n||(n=r=ta()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"==typeof t?t:Nw(t||RT),e="function"==typeof e?e:Nw(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"==typeof e?e:Nw(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Nw(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}function rS(){}function iS(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oS(t){this._context=t}function sS(t){return new oS(t)}function aS(t){this._context=t}function uS(t){return new aS(t)}function cS(t){this._context=t}function lS(t){return new cS(t)}function hS(t,e){this._basis=new oS(t),this._beta=e}oS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iS(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},aS.prototype={areaStart:rS,areaEnd:rS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:iS(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},cS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:iS(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},hS.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],s=t[n]-i,a=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*s),this._beta*e[u]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const fS=function t(e){function n(t){return 1===e?new oS(t):new hS(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function dS(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function pS(t,e){this._context=t,this._k=(1-e)/6}pS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:dS(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:dS(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const mS=function t(e){function n(t){return new pS(t,e)}return n.tension=function(e){return t(+e)},n}(0);function vS(t,e){this._context=t,this._k=(1-e)/6}vS.prototype={areaStart:rS,areaEnd:rS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dS(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yS=function t(e){function n(t){return new vS(t,e)}return n.tension=function(e){return t(+e)},n}(0);function gS(t,e){this._context=t,this._k=(1-e)/6}gS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dS(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _S=function t(e){function n(t){return new gS(t,e)}return n.tension=function(e){return t(+e)},n}(0);function bS(t,e,n){var r=t._x1,i=t._y1,o=t._x2,s=t._y2;if(t._l01_a>Bw){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Bw){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,s,t._x2,t._y2)}function xS(t,e){this._context=t,this._alpha=e}xS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:bS(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ES=function t(e){function n(t){return e?new xS(t,e):new pS(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function wS(t,e){this._context=t,this._alpha=e}wS.prototype={areaStart:rS,areaEnd:rS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bS(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const TS=function t(e){function n(t){return e?new wS(t,e):new vS(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function SS(t,e){this._context=t,this._alpha=e}SS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bS(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const kS=function t(e){function n(t){return e?new SS(t,e):new gS(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function AS(t){this._context=t}function OS(t){return new AS(t)}function CS(t){return t<0?-1:1}function PS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(CS(o)+CS(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function RS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function NS(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function LS(t){this._context=t}function IS(t){this._context=new MS(t)}function MS(t){this._context=t}function DS(t){return new LS(t)}function FS(t){return new IS(t)}function jS(t){this._context=t}function US(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function BS(t){return new jS(t)}function $S(t,e){this._context=t,this._t=e}function zS(t){return new $S(t,.5)}function qS(t){return new $S(t,0)}function VS(t){return new $S(t,1)}function HS(t,e){if((i=t.length)>1)for(var n,r,i,o=1,s=t[e[0]],a=s.length;o<i;++o)for(r=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function KS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function YS(t,e){return t[e]}function GS(t){const e=[];return e.key=t,e}function QS(){var t=Nw([]),e=KS,n=HS,r=YS;function i(i){var o,s,a=Array.from(t.apply(this,arguments),GS),u=a.length,c=-1;for(const t of i)for(o=0,++c;o<u;++o)(a[o][c]=[0,+r(t,a[o].key,c,i)]).data=t;for(o=0,s=eT(e(a));o<u;++o)a[s[o]].index=o;return n(a,s),a}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:Nw(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Nw(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?KS:"function"==typeof t?t:Nw(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?HS:t,i):n},i}function WS(t,e){if((r=t.length)>0){for(var n,r,i,o=0,s=t[0].length;o<s;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}HS(t,e)}}function XS(t,e){if((a=t.length)>0)for(var n,r,i,o,s,a,u=0,c=t[e[0]].length;u<c;++u)for(o=s=0,n=0;n<a;++n)(i=(r=t[e[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=s,r[0]=s+=i):(r[0]=0,r[1]=i)}function JS(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var s=0,a=0;s<n;++s)a+=t[s][r][1]||0;i[r][1]+=i[r][0]=-a/2}HS(t,e)}}function ZS(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,s=1;s<r;++s){for(var a=0,u=0,c=0;a<i;++a){for(var l=t[e[a]],h=l[s][1]||0,f=(h-(l[s-1][1]||0))/2,d=0;d<a;++d){var p=t[e[d]];f+=(p[s][1]||0)-(p[s-1][1]||0)}u+=h,c+=f*h}n[s-1][1]+=n[s-1][0]=o,u&&(o-=c/u)}n[s-1][1]+=n[s-1][0]=o,HS(t,e)}}function tk(t){var e=t.map(ek);return KS(t).sort((function(t,n){return e[t]-e[n]}))}function ek(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function nk(t){var e=t.map(rk);return KS(t).sort((function(t,n){return e[t]-e[n]}))}function rk(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function ik(t){return nk(t).reverse()}function ok(t){var e,n,r=t.length,i=t.map(rk),o=tk(t),s=0,a=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],s<a?(s+=i[n],u.push(n)):(a+=i[n],c.push(n));return c.reverse().concat(u)}function sk(t){return KS(t).reverse()}AS.prototype={areaStart:rS,areaEnd:rS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},LS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:NS(this,this._t0,RS(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,NS(this,RS(this,n=PS(this,t,e)),n);break;default:NS(this,this._t0,n=PS(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(IS.prototype=Object.create(LS.prototype)).point=function(t,e){LS.prototype.point.call(this,e,t)},MS.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},jS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=US(t),i=US(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},$S.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var ak="%Y-%m-%dT%H:%M:%S.%LZ",uk=Date.prototype.toISOString?function(t){return t.toISOString()}:db(ak);const ck=uk;var lk=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:pb(ak);const hk=lk;function fk(t,e,n){var r=new Wi,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?Gi():+n,r._restart((function o(s){s+=i,r._restart(o,i+=e,n),t(s)}),e,n)},r.restart(t,e,n),r)}const dk=t=>()=>t;function pk(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function mk(t,e,n){this.k=t,this.x=e,this.y=n}mk.prototype={constructor:mk,scale:function(t){return 1===t?this:new mk(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new mk(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vk=new mk(1,0,0);function yk(t){for(;!t.__zoom;)if(!(t=t.parentNode))return vk;return t.__zoom}function gk(t){t.stopImmediatePropagation()}function _k(t){t.preventDefault(),t.stopImmediatePropagation()}function bk(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function xk(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Ek(){return this.__zoom||vk}function wk(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Tk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sk(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function kk(){var t,e,n,r=bk,i=xk,o=Sk,s=wk,a=Tk,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,h=ry,f=cn("start","zoom","end"),d=500,p=0,m=10;function v(t){t.property("__zoom",Ek).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",S).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new mk(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new mk(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n,r){t.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,s=x(t,o).event(r),a=i.apply(t,o),u=null==n?_(a):"function"==typeof n?n.apply(t,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,f="function"==typeof e?e.apply(t,o):e,d=h(l.invert(u).concat(c/l.k),f.invert(u).concat(c/f.k));return function(t){if(1===t)t=f;else{var e=d(t),n=c/e[2];t=new mk(n,u[0]-e[0]*n,u[1]-e[1]*n)}s.zoom(null,t)}}))}function x(t,e,n){return!n&&t.__zooming||new E(t,e)}function E(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function w(t,...e){if(r.apply(this,arguments)){var n=x(this,e).event(t),i=this.__zoom,a=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,s.apply(this,arguments)))),l=Fi(t);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=i.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[l,i.invert(l)],co(this),n.start()}_k(t),n.wheel=setTimeout(h,150),n.zoom("mouse",o(g(y(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}function h(){n.wheel=null,n.end()}}function T(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,s=x(this,e,!0).event(t),a=Sr(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",d,!0),u=Fi(t,i),l=t.clientX,h=t.clientY;Pr(t.view),gk(t),s.mouse=[u,this.__zoom.invert(u)],co(this),s.start()}function f(t){if(_k(t),!s.moved){var e=t.clientX-l,n=t.clientY-h;s.moved=e*e+n*n>p}s.event(t).zoom("mouse",o(g(s.that.__zoom,s.mouse[0]=Fi(t,i),s.mouse[1]),s.extent,c))}function d(t){a.on("mousemove.zoom mouseup.zoom",null),Rr(t.view,s.moved),_k(t),s.event(t).end()}}function S(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,s=Fi(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(s),u=n.k*(t.shiftKey?.5:2),h=o(g(y(n,u),s,a),i.apply(this,e),c);_k(t),l>0?Sr(this).transition().duration(l).call(b,h,s,t):Sr(this).call(v.transform,h,s,t)}}function k(n,...i){if(r.apply(this,arguments)){var o,s,a,u,c=n.touches,l=c.length,h=x(this,i,n.changedTouches.length===l).event(n);for(gk(n),s=0;s<l;++s)u=[u=Fi(a=c[s],this),this.__zoom.invert(u),a.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),d)),co(this),h.start())}}function A(t,...e){if(this.__zooming){var n,r,i,s,a=x(this,e).event(t),u=t.changedTouches,l=u.length;for(_k(t),n=0;n<l;++n)i=Fi(r=u[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],f=a.touch0[1],d=a.touch1[0],p=a.touch1[1],m=(m=d[0]-h[0])*m+(m=d[1]-h[1])*m,v=(v=p[0]-f[0])*v+(v=p[1]-f[1])*v;r=y(r,Math.sqrt(m/v)),i=[(h[0]+d[0])/2,(h[1]+d[1])/2],s=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(g(r,i,s),a.extent,c))}}function O(t,...r){if(this.__zooming){var i,o,s=x(this,r).event(t),a=t.changedTouches,u=a.length;for(gk(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),i=0;i<u;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=Fi(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<m)){var c=Sr(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",Ek),t!==i?b(t,e,n,r):i.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n,r){v.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},v.scaleTo=function(t,e,n,r){v.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,s=null==n?_(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),u="function"==typeof e?e.apply(this,arguments):e;return o(g(y(r,u),s,a),t,c)}),n,r)},v.translateBy=function(t,e,n,r){v.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},v.translateTo=function(t,e,n,r,s){v.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,a=null==r?_(t):"function"==typeof r?r.apply(this,arguments):r;return o(vk.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,s)},E.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Sr(this.that).datum();f.call(t,this.that,new pk(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:f}),e)}},v.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:dk(+t),v):s},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:dk(!!t),v):r},v.touchable=function(t){return arguments.length?(a="function"==typeof t?t:dk(!!t),v):a},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:dk([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],v):[u[0],u[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(l=+t,v):l},v.interpolate=function(t){return arguments.length?(h=t,v):h},v.on=function(){var t=f.on.apply(f,arguments);return t===f?v:t},v.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,v):Math.sqrt(p)},v.tapDistance=function(t){return arguments.length?(m=+t,v):m},v}yk.prototype=mk.prototype;var Ak=r(316),Ok=r.n(Ak);function Ck(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Rk=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";Pk(this,e),this.rootId=r,this.resources=n,this.d3=t,this.pack=Ok(),this.margin=6,this.actions={selection:{current:null,style:"2px solid hsl(205, 100%, 50%)",offset:"3px"},drag:{state:!1,deltaX:0,deltaY:0}}}var n,r;return n=e,r=[{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootId,r=this.d3.select(n===this.rootId?"#".concat(n):"#".concat(n," .container")).selectAll(".".concat(n,".component")).data(e,(function(t){return t.id})),i=r.enter().append("svg");return i.attr("id",(function(t){return t.id})).attr("class",(function(t){return"".concat(n," component component-").concat(t.definition.model)})).html((function(e){return t.resources.models[e.definition.model]})),this.__drawModels(e),e.forEach((function(e){t.setComponentAction(e),e.children.length>0&&t.draw(e.children,e.id)})),this.initializeComponents(i,e,n),r.exit().remove(),this.setViewPortAction(this.d3.select("#".concat(n))),!0}},{key:"setViewPortAction",value:function(t){var e=this;t.on("mousedown",(function(){e.__unselectComponent()}))}},{key:"setComponentAction",value:function(t){var e=this,n=this.d3.select("#".concat(t.id));n.call(this.d3.drag().on("start",(function(r){e.__dragStart(r,t,n)})).on("drag",(function(r){e.__selectComponent(t.id),e.__dragPending(r,t,n)})).on("end",(function(t){e.actions.drag.state||e.__toggleComponentSelection(t.subject.id),e.__dragEnd(n)})))}},{key:"__dragStart",value:function(t,e,n){this.actions.drag.state=!1,this.d3.select("use").attr("xlink:href","#".concat(e.id)),this.actions.drag.deltaX=t.x-n.attr("x"),this.actions.drag.deltaY=t.y-n.attr("y"),n.attr("cursor","grabbing")}},{key:"__dragPending",value:function(t,e,n){this.actions.drag.state=!0;var r=t.x-this.actions.drag.deltaX,i=t.y-this.actions.drag.deltaY;n.attr("x",r).attr("y",i),e.drawOption.x=r,e.drawOption.y=i}},{key:"__dragEnd",value:function(t){t.attr("cursor","grab"),this.actions.drag.state=!1,this.actions.drag.deltaX=0,this.actions.drag.deltaY=0}},{key:"__unselectComponent",value:function(){this.actions.selection.current&&(this.d3.select("#".concat(this.actions.selection.current)).style("outline",""),this.actions.selection.current=null)}},{key:"__selectComponent",value:function(t){this.__unselectComponent(),this.d3.select("#".concat(t)).style("outline",this.actions.selection.style).style("outline-offset",this.actions.selection.offset),this.actions.selection.current=t}},{key:"__toggleComponentSelection",value:function(t){this.actions.selection.current===t?this.__unselectComponent():this.__selectComponent(t)}},{key:"initializeComponents",value:function(t,e,n){var r=e.filter((function(t){return!t.drawOption&&(t.drawOption=new w,!0)}));this.storeComponentSize(e,n);var i=this.setContainerSize(e,n);this.setComponentPosition(r,i.items),t.attr("x",(function(t){return t.drawOption.x})).attr("y",(function(t){return t.drawOption.y})).attr("width",(function(t){return t.drawOption.width})).attr("height",(function(t){return t.drawOption.height})).select(".template").attr("width","100%").attr("height","100%")}},{key:"setContainerSize",value:function(t,e){var n=this,r=t.map((function(t){return{width:t.drawOption.width+n.margin,height:t.drawOption.height+n.margin,id:t.id}}));r=this.pack(r);var i=parseInt(this.d3.select("#".concat(e," .component-container")).attr("y"),10);return this.d3.select("#".concat(e," > .template")).attr("width",r.width+3*this.margin).attr("height",r.height+i+2*this.margin).select(".component-container").attr("width",r.width+this.margin).attr("height",r.height+this.margin),r}},{key:"setComponentPosition",value:function(t,e){var n=this;t.forEach((function(t){var r=e.find((function(e){return e.item.id===t.id}));t.drawOption.x=r.x+n.margin,t.drawOption.y=r.y+n.margin}))}},{key:"storeComponentSize",value:function(t){var e=this;t.forEach((function(t){var n=e.getComponentSize(t.id),r=n.width,i=n.height;t.drawOption.width=r,t.drawOption.height=i}))}},{key:"getComponentSize",value:function(t){var e=this.d3.select("#".concat(t)).node().getBBox();return{width:e.width,height:e.height}}},{key:"__drawModels",value:function(t){var e,n=this;(e=new Set(t.map((function(t){return t.definition.model}))),function(t){if(Array.isArray(t))return Ck(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return Ck(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ck(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){var e=n.d3.selectAll(".component-".concat(t));n["draw".concat(t)]&&n["draw".concat(t)](e,"init")}))}},{key:"drawDefaultModel",value:function(t){var e=this;t.select(".component-name").text((function(t){return t.name})),t.select(".component-type").text((function(t){return t.definition.type})),t.select(".component-icon").html((function(t){return e.resources.icons[t.definition.icon]}))}},{key:"drawDefaultContainer",value:function(t){this.drawDefaultModel(t)}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();const Nk=Rk,Lk=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"validate",value:function(){return!0}},{key:"getDefinitions",value:function(){return{components:[],links:[]}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ik(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}const Mk=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ik(this,t),this.definitions=e}var e,n;return e=t,(n=[{key:"parse",value:function(){return{components:[],links:[],errors:[]}}},{key:"isParsable",value:function(t){return null!=t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Dk=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"render",value:function(){return[]}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Fk(t){return Fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fk(t)}function jk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){if(e&&("object"===Fk(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Bk(t){var e="function"==typeof Map?new Map:void 0;return Bk=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return $k(t,arguments,Vk(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),qk(r,t)},Bk(t)}function $k(t,e,n){return $k=zk()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&qk(i,n.prototype),i},$k.apply(null,arguments)}function zk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function qk(t,e){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qk(t,e)}function Vk(t){return Vk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vk(t)}const Hk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qk(t,e)}(o,t);var e,n,r,i=(e=o,n=zk(),function(){var t,r=Vk(e);if(n){var i=Vk(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return Uk(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Error happened when trying to parse.",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Error";return jk(this,o),(t=i.call(this,e)).name="ParseError",t.startLine=n,t.startColumn=r,t.endLine=s,t.endColumn=a,t.severity=u,t}return r=o,Object.defineProperty(r,"prototype",{writable:!1}),r}(Bk(Error))})();var o=e;for(var s in i)o[s]=i[s];i.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})()},985:function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){"use strict";var r=Array.prototype,i=Object.prototype,o={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},s=/[&"'<>]/g;function a(t,e){return i.hasOwnProperty.call(t,e)}function u(t){return o[t]}function c(t,e,n){var r,i,o;if(t instanceof Error&&(t=(i=t).name+": "+i.message),Object.setPrototypeOf?(r=new Error(t),Object.setPrototypeOf(r,c.prototype)):(r=this,Object.defineProperty(r,"message",{enumerable:!1,writable:!0,value:t})),Object.defineProperty(r,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(r,this.constructor),i){var s=Object.getOwnPropertyDescriptor(i,"stack");(o=s&&(s.get||function(){return s.value}))||(o=function(){return i.stack})}else{var a=new Error(t).stack;o=function(){return a}}return Object.defineProperty(r,"stack",{get:function(){return o.call(r)}}),Object.defineProperty(r,"cause",{value:i}),r.lineno=e,r.colno=n,r.firstUpdate=!0,r.Update=function(t){var e="("+(t||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?e+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(e+=" [Line "+this.lineno+"]")),e+="\n ",this.firstUpdate&&(e+=" "),this.message=e+(this.message||""),this.firstUpdate=!1,this},r}function l(t){return"[object Function]"===i.toString.call(t)}function h(t){return"[object Array]"===i.toString.call(t)}function f(t){return"[object String]"===i.toString.call(t)}function d(t){return"[object Object]"===i.toString.call(t)}function p(t){var e,n=(e=t)?"string"==typeof e?e.split("."):[e]:[];return function(t){for(var e=t,r=0;r<n.length;r++){var i=n[r];if(!a(e,i))return;e=e[i]}return e}}function m(t){return Array.prototype.slice.call(t)}function v(t,e,n){return Array.prototype.indexOf.call(t||[],e,n)}function y(t){var e=[];for(var n in t)a(t,n)&&e.push(n);return e}(e=t.exports={}).hasOwnProp=a,e._prettifyError=function(t,n,r){if(r.Update||(r=new e.TemplateError(r)),r.Update(t),!n){var i=r;(r=new Error(i.message)).name=i.name}return r},Object.setPrototypeOf?Object.setPrototypeOf(c.prototype,Error.prototype):c.prototype=Object.create(Error.prototype,{constructor:{value:c}}),e.TemplateError=c,e.escape=function(t){return t.replace(s,u)},e.isFunction=l,e.isArray=h,e.isString=f,e.isObject=d,e.getAttrGetter=p,e.groupBy=function(t,e,n){for(var r={},i=l(e)?e:p(e),o=0;o<t.length;o++){var s=t[o],a=i(s,o);if(void 0===a&&!0===n)throw new TypeError('groupby: attribute "'+e+'" resolved to undefined');(r[a]||(r[a]=[])).push(s)}return r},e.toArray=m,e.without=function(t){var e=[];if(!t)return e;for(var n=t.length,r=m(arguments).slice(1),i=-1;++i<n;)-1===v(r,t[i])&&e.push(t[i]);return e},e.repeat=function(t,e){for(var n="",r=0;r<e;r++)n+=t;return n},e.each=function(t,e,n){if(null!=t)if(r.forEach&&t.forEach===r.forEach)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)},e.map=function(t,e){var n=[];if(null==t)return n;if(r.map&&t.map===r.map)return t.map(e);for(var i=0;i<t.length;i++)n[n.length]=e(t[i],i);return t.length===+t.length&&(n.length=t.length),n},e.asyncIter=function(t,e,n){var r=-1;!function i(){++r<t.length?e(t[r],r,i,n):n()}()},e.asyncFor=function(t,e,n){var r=y(t||{}),i=r.length,o=-1;!function s(){o++;var a=r[o];o<i?e(a,t[a],o,i,s):n()}()},e.indexOf=v,e.keys=y,e._entries=function(t){return y(t).map((function(e){return[e,t[e]]}))},e._values=function(t){return y(t).map((function(e){return t[e]}))},e._assign=e.extend=function(t,e){return t=t||{},y(e).forEach((function(n){t[n]=e[n]})),t},e.inOperator=function(t,e){if(h(e)||f(e))return-1!==e.indexOf(t);if(d(e))return t in e;throw new Error('Cannot use "in" operator to search for "'+t+'" in unexpected types.')}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}var a=n(16),u=n(0);function c(t,e,n){n=n||{},u.keys(n).forEach((function(e){var r,i;n[e]=(r=t.prototype[e],i=n[e],"function"!=typeof r||"function"!=typeof i?i:function(){var t=this.parent;this.parent=r;var e=i.apply(this,arguments);return this.parent=t,e})}));var r=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),i(n,[{key:"typename",get:function(){return e}}]),n}(t);return u._assign(r.prototype,n),r}var l=function(){function t(){this.init.apply(this,arguments)}return t.prototype.init=function(){},t.extend=function(t,e){return"object"==typeof t&&(e=t,t="anonymous"),c(this,t,e)},i(t,[{key:"typename",get:function(){return this.constructor.name}}]),t}(),h=function(t){function e(){var e,n;return(e=n=t.call(this)||this).init.apply(e,arguments),n}return o(e,t),e.prototype.init=function(){},e.extend=function(t,e){return"object"==typeof t&&(e=t,t="anonymous"),c(this,t,e)},i(e,[{key:"typename",get:function(){return this.constructor.name}}]),e}(a);t.exports={Obj:l,EmitterObj:h}},function(t,e,n){"use strict";var r=n(0),i=Array.from,o="function"==typeof Symbol&&Symbol.iterator&&"function"==typeof i,s=function(){function t(t,e){this.variables=Object.create(null),this.parent=t,this.topLevel=!1,this.isolateWrites=e}var e=t.prototype;return e.set=function(t,e,n){var r=t.split("."),i=this.variables,o=this;if(n&&(o=this.resolve(r[0],!0)))o.set(t,e);else{for(var s=0;s<r.length-1;s++){var a=r[s];i[a]||(i[a]={}),i=i[a]}i[r[r.length-1]]=e}},e.get=function(t){var e=this.variables[t];return void 0!==e?e:null},e.lookup=function(t){var e=this.parent,n=this.variables[t];return void 0!==n?n:e&&e.lookup(t)},e.resolve=function(t,e){var n=e&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[t]?this:n&&n.resolve(t)},e.push=function(e){return new t(this,e)},e.pop=function(){return this.parent},t}();function a(t){return t&&Object.prototype.hasOwnProperty.call(t,"__keywords")}function u(t){var e=t.length;if(e){var n=t[e-1];if(a(n))return n}return{}}function c(t){var e=t.length;return 0===e?0:a(t[e-1])?e-1:e}function l(t){if("string"!=typeof t)return t;this.val=t,this.length=t.length}l.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),l.prototype.valueOf=function(){return this.val},l.prototype.toString=function(){return this.val},t.exports={Frame:s,makeMacro:function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s,a=c(i),l=u(i);if(a>t.length)s=i.slice(0,t.length),i.slice(s.length,a).forEach((function(t,n){n<e.length&&(l[e[n]]=t)})),s.push(l);else if(a<t.length){s=i.slice(0,a);for(var h=a;h<t.length;h++){var f=t[h];s.push(l[f]),delete l[f]}s.push(l)}else s=i;return n.apply(this,s)}},makeKeywordArgs:function(t){return t.__keywords=!0,t},numArgs:c,suppressValue:function(t,e){return t=null!=t?t:"",!e||t instanceof l||(t=r.escape(t.toString())),t},ensureDefined:function(t,e,n){if(null==t)throw new r.TemplateError("attempted to output null or undefined value",e+1,n+1);return t},memberLookup:function(t,e){if(null!=t)return"function"==typeof t[e]?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t[e].apply(t,r)}:t[e]},contextOrFrameLookup:function(t,e,n){var r=e.lookup(n);return void 0!==r?r:t.lookup(n)},callWrap:function(t,e,n,r){if(!t)throw new Error("Unable to call `"+e+"`, which is undefined or falsey");if("function"!=typeof t)throw new Error("Unable to call `"+e+"`, which is not a function");return t.apply(n,r)},handleError:function(t,e,n){return t.lineno?t:new r.TemplateError(t,e,n)},isArray:r.isArray,keys:r.keys,SafeString:l,copySafeness:function(t,e){return t instanceof l?new l(e):e.toString()},markSafe:function(t){var e=typeof t;return"string"===e?new l(t):"function"!==e?t:function(e){var n=t.apply(this,arguments);return"string"==typeof n?new l(n):n}},asyncEach:function(t,e,n,i){if(r.isArray(t)){var o=t.length;r.asyncIter(t,(function(t,r,i){switch(e){case 1:n(t,r,o,i);break;case 2:n(t[0],t[1],r,o,i);break;case 3:n(t[0],t[1],t[2],r,o,i);break;default:t.push(r,o,i),n.apply(this,t)}}),i)}else r.asyncFor(t,(function(t,e,r,i,o){n(t,e,r,i,o)}),i)},asyncAll:function(t,e,n,i){var o,s,a=0;function u(t,e){a++,s[t]=e,a===o&&i(null,s.join(""))}if(r.isArray(t))if(o=t.length,s=new Array(o),0===o)i(null,"");else for(var c=0;c<t.length;c++){var l=t[c];switch(e){case 1:n(l,c,o,u);break;case 2:n(l[0],l[1],c,o,u);break;case 3:n(l[0],l[1],l[2],c,o,u);break;default:l.push(c,o,u),n.apply(this,l)}}else{var h=r.keys(t||{});if(o=h.length,s=new Array(o),0===o)i(null,"");else for(var f=0;f<h.length;f++){var d=h[f];n(d,t[d],f,o,u)}}},inOperator:r.inOperator,fromIterator:function(t){return"object"!=typeof t||null===t||r.isArray(t)?t:o&&Symbol.iterator in t?i(t):t}}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function a(t,e,n){t instanceof e&&n.push(t),t instanceof u&&t.findAll(e,n)}var u=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.init=function(t,e){for(var n=arguments,r=this,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];this.lineno=t,this.colno=e,this.fields.forEach((function(t,e){var i=n[e+2];void 0===i&&(i=null),r[t]=i}))},n.findAll=function(t,e){var n=this;return e=e||[],this instanceof l?this.children.forEach((function(n){return a(n,t,e)})):this.fields.forEach((function(r){return a(n[r],t,e)})),e},n.iterFields=function(t){var e=this;this.fields.forEach((function(n){t(e[n],n)}))},e}(n(1).Obj),c=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),i(e,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),e}(u),l=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.init=function(e,n,r){t.prototype.init.call(this,e,n,r||[])},n.addChild=function(t){this.children.push(t)},i(e,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),e}(u),h=l.extend("Root"),f=c.extend("Literal"),d=c.extend("Symbol"),p=l.extend("Group"),m=l.extend("Array"),v=u.extend("Pair",{fields:["key","value"]}),y=l.extend("Dict"),g=u.extend("LookupVal",{fields:["target","val"]}),_=u.extend("If",{fields:["cond","body","else_"]}),b=_.extend("IfAsync"),x=u.extend("InlineIf",{fields:["cond","body","else_"]}),E=u.extend("For",{fields:["arr","name","body","else_"]}),w=E.extend("AsyncEach"),T=E.extend("AsyncAll"),S=u.extend("Macro",{fields:["name","args","body"]}),k=S.extend("Caller"),A=u.extend("Import",{fields:["template","target","withContext"]}),O=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(e,n,r,i,o){t.prototype.init.call(this,e,n,r,i||new l,o)},i(e,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),e}(u),C=u.extend("FunCall",{fields:["name","args"]}),P=C.extend("Filter"),R=P.extend("FilterAsync",{fields:["name","args","symbol"]}),N=y.extend("KeywordArgs"),L=u.extend("Block",{fields:["name","body"]}),I=u.extend("Super",{fields:["blockName","symbol"]}),M=u.extend("TemplateRef",{fields:["template"]}).extend("Extends"),D=u.extend("Include",{fields:["template","ignoreMissing"]}),F=u.extend("Set",{fields:["targets","value"]}),j=u.extend("Switch",{fields:["expr","cases","default"]}),U=u.extend("Case",{fields:["cond","body"]}),B=l.extend("Output"),$=u.extend("Capture",{fields:["body"]}),z=f.extend("TemplateData"),q=u.extend("UnaryOp",{fields:["target"]}),V=u.extend("BinOp",{fields:["left","right"]}),H=V.extend("In"),K=V.extend("Is"),Y=V.extend("Or"),G=V.extend("And"),Q=q.extend("Not"),W=V.extend("Add"),X=V.extend("Concat"),J=V.extend("Sub"),Z=V.extend("Mul"),tt=V.extend("Div"),et=V.extend("FloorDiv"),nt=V.extend("Mod"),rt=V.extend("Pow"),it=q.extend("Neg"),ot=q.extend("Pos"),st=u.extend("Compare",{fields:["expr","ops"]}),at=u.extend("CompareOperand",{fields:["expr","type"]}),ut=u.extend("CallExtension",{init:function(t,e,n,r){this.parent(),this.extName=t.__name||t,this.prop=e,this.args=n||new l,this.contentArgs=r||[],this.autoescape=t.autoescape},fields:["extName","prop","args","contentArgs"]}),ct=ut.extend("CallExtensionAsync");function lt(t,e,n){var r=t.split("\n");r.forEach((function(t,i){t&&(n&&i>0||!n)&&process.stdout.write(" ".repeat(e));var o=i===r.length-1?"":"\n";process.stdout.write(""+t+o)}))}t.exports={Node:u,Root:h,NodeList:l,Value:c,Literal:f,Symbol:d,Group:p,Array:m,Pair:v,Dict:y,Output:B,Capture:$,TemplateData:z,If:_,IfAsync:b,InlineIf:x,For:E,AsyncEach:w,AsyncAll:T,Macro:S,Caller:k,Import:A,FromImport:O,FunCall:C,Filter:P,FilterAsync:R,KeywordArgs:N,Block:L,Super:I,Extends:M,Include:D,Set:F,Switch:j,Case:U,LookupVal:g,BinOp:V,In:H,Is:K,Or:Y,And:G,Not:Q,Add:W,Concat:X,Sub:J,Mul:Z,Div:tt,FloorDiv:et,Mod:nt,Pow:rt,Neg:it,Pos:ot,Compare:st,CompareOperand:at,CallExtension:ut,CallExtensionAsync:ct,printNodes:function t(e,n){if(n=n||0,lt(e.typename+": ",n),e instanceof l)lt("\n"),e.children.forEach((function(e){t(e,n+2)}));else if(e instanceof ut)lt(e.extName+"."+e.prop+"\n"),e.args&&t(e.args,n+2),e.contentArgs&&e.contentArgs.forEach((function(e){t(e,n+2)}));else{var r=[],i=null;e.iterFields((function(t,e){t instanceof u?r.push([e,t]):(i=i||{})[e]=t})),i?lt(JSON.stringify(i,null,2)+"\n",null,!0):lt("\n"),r.forEach((function(e){var r=e[0],i=e[1];lt("["+r+"] =>",n+2),t(i,n+4)}))}}}},function(t,e){},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(8),o=n(17),s=n(3),a=n(0).TemplateError,u=n(2).Frame,c=n(1).Obj,l={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},h=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var o=i.prototype;return o.init=function(t,e){this.templateName=t,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=e},o.fail=function(t,e,n){throw void 0!==e&&(e+=1),void 0!==n&&(n+=1),new a(t,e,n)},o._pushBuffer=function(){var t=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=t,this._emit("var "+this.buffer+' = "";'),t},o._popBuffer=function(){this.buffer=this.bufferStack.pop()},o._emit=function(t){this.codebuf.push(t)},o._emitLine=function(t){this._emit(t+"\n")},o._emitLines=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e){return t._emitLine(e)}))},o._emitFuncBegin=function(t,e){this.buffer="output",this._scopeClosers="",this._emitLine("function "+e+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+t.lineno+";"),this._emitLine("var colno = "+t.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},o._emitFuncEnd=function(t){t||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},o._addScopeLevel=function(){this._scopeClosers+="})"},o._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},o._withScopedSyntax=function(t){var e=this._scopeClosers;this._scopeClosers="",t.call(this),this._closeScopeLevels(),this._scopeClosers=e},o._makeCallback=function(t){var e=this._tmpid();return"function("+e+(t?","+t:"")+") {\nif("+e+") { cb("+e+"); return; }"},o._tmpid=function(){return this.lastId++,"t_"+this.lastId},o._templateName=function(){return null==this.templateName?"undefined":JSON.stringify(this.templateName)},o._compileChildren=function(t,e){var n=this;t.children.forEach((function(t){n.compile(t,e)}))},o._compileAggregate=function(t,e,n,r){var i=this;n&&this._emit(n),t.children.forEach((function(t,n){n>0&&i._emit(","),i.compile(t,e)})),r&&this._emit(r)},o._compileExpression=function(t,e){this.assertType(t,s.Literal,s.Symbol,s.Group,s.Array,s.Dict,s.FunCall,s.Caller,s.Filter,s.LookupVal,s.Compare,s.InlineIf,s.In,s.Is,s.And,s.Or,s.Not,s.Add,s.Concat,s.Sub,s.Mul,s.Div,s.FloorDiv,s.Mod,s.Pow,s.Neg,s.Pos,s.Compare,s.NodeList),this.compile(t,e)},o.assertType=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.some((function(e){return t instanceof e}))||this.fail("assertType: invalid type: "+t.typename,t.lineno,t.colno)},o.compileCallExtension=function(t,e,n){var r=this,i=t.args,o=t.contentArgs,a="boolean"!=typeof t.autoescape||t.autoescape;if(n||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+t.extName+'")["'+t.prop+'"]('),this._emit("context"),(i||o)&&this._emit(","),i&&(i instanceof s.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),i.children.forEach((function(t,n){r._compileExpression(t,e),(n!==i.children.length-1||o.length)&&r._emit(",")}))),o.length&&o.forEach((function(t,n){if(n>0&&r._emit(","),t){r._emitLine("function(cb) {"),r._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var i=r._pushBuffer();r._withScopedSyntax((function(){r.compile(t,e),r._emitLine("cb(null, "+i+");")})),r._popBuffer(),r._emitLine("return "+i+";"),r._emitLine("}")}else r._emit("null")})),n){var u=this._tmpid();this._emitLine(", "+this._makeCallback(u)),this._emitLine(this.buffer+" += runtime.suppressValue("+u+", "+a+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+a+" && env.opts.autoescape);\n")},o.compileCallExtensionAsync=function(t,e){this.compileCallExtension(t,e,!0)},o.compileNodeList=function(t,e){this._compileChildren(t,e)},o.compileLiteral=function(t){if("string"==typeof t.value){var e=t.value.replace(/\\/g,"\\\\");e=(e=(e=(e=(e=e.replace(/"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t")).replace(/\u2028/g,"\\u2028"),this._emit('"'+e+'"')}else null===t.value?this._emit("null"):this._emit(t.value.toString())},o.compileSymbol=function(t,e){var n=t.value,r=e.lookup(n);r?this._emit(r):this._emit('runtime.contextOrFrameLookup(context, frame, "'+n+'")')},o.compileGroup=function(t,e){this._compileAggregate(t,e,"(",")")},o.compileArray=function(t,e){this._compileAggregate(t,e,"[","]")},o.compileDict=function(t,e){this._compileAggregate(t,e,"{","}")},o.compilePair=function(t,e){var n=t.key,r=t.value;n instanceof s.Symbol?n=new s.Literal(n.lineno,n.colno,n.value):n instanceof s.Literal&&"string"==typeof n.value||this.fail("compilePair: Dict keys must be strings or names",n.lineno,n.colno),this.compile(n,e),this._emit(": "),this._compileExpression(r,e)},o.compileInlineIf=function(t,e){this._emit("("),this.compile(t.cond,e),this._emit("?"),this.compile(t.body,e),this._emit(":"),null!==t.else_?this.compile(t.else_,e):this._emit('""'),this._emit(")")},o.compileIn=function(t,e){this._emit("runtime.inOperator("),this.compile(t.left,e),this._emit(","),this.compile(t.right,e),this._emit(")")},o.compileIs=function(t,e){var n=t.right.name?t.right.name.value:t.right.value;this._emit('env.getTest("'+n+'").call(context, '),this.compile(t.left,e),t.right.args&&(this._emit(","),this.compile(t.right.args,e)),this._emit(") === true")},o._binOpEmitter=function(t,e,n){this.compile(t.left,e),this._emit(n),this.compile(t.right,e)},o.compileOr=function(t,e){return this._binOpEmitter(t,e," || ")},o.compileAnd=function(t,e){return this._binOpEmitter(t,e," && ")},o.compileAdd=function(t,e){return this._binOpEmitter(t,e," + ")},o.compileConcat=function(t,e){return this._binOpEmitter(t,e,' + "" + ')},o.compileSub=function(t,e){return this._binOpEmitter(t,e," - ")},o.compileMul=function(t,e){return this._binOpEmitter(t,e," * ")},o.compileDiv=function(t,e){return this._binOpEmitter(t,e," / ")},o.compileMod=function(t,e){return this._binOpEmitter(t,e," % ")},o.compileNot=function(t,e){this._emit("!"),this.compile(t.target,e)},o.compileFloorDiv=function(t,e){this._emit("Math.floor("),this.compile(t.left,e),this._emit(" / "),this.compile(t.right,e),this._emit(")")},o.compilePow=function(t,e){this._emit("Math.pow("),this.compile(t.left,e),this._emit(", "),this.compile(t.right,e),this._emit(")")},o.compileNeg=function(t,e){this._emit("-"),this.compile(t.target,e)},o.compilePos=function(t,e){this._emit("+"),this.compile(t.target,e)},o.compileCompare=function(t,e){var n=this;this.compile(t.expr,e),t.ops.forEach((function(t){n._emit(" "+l[t.type]+" "),n.compile(t.expr,e)}))},o.compileLookupVal=function(t,e){this._emit("runtime.memberLookup(("),this._compileExpression(t.target,e),this._emit("),"),this._compileExpression(t.val,e),this._emit(")")},o._getNodeName=function(t){switch(t.typename){case"Symbol":return t.value;case"FunCall":return"the return value of ("+this._getNodeName(t.name)+")";case"LookupVal":return this._getNodeName(t.target)+'["'+this._getNodeName(t.val)+'"]';case"Literal":return t.value.toString();default:return"--expression--"}},o.compileFunCall=function(t,e){this._emit("(lineno = "+t.lineno+", colno = "+t.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(t.name,e),this._emit(', "'+this._getNodeName(t.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(t.args,e,"[","])"),this._emit(")")},o.compileFilter=function(t,e){var n=t.name;this.assertType(n,s.Symbol),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(t.args,e),this._emit(")")},o.compileFilterAsync=function(t,e){var n=t.name,r=t.symbol.value;this.assertType(n,s.Symbol),e.set(r,r),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(t.args,e),this._emitLine(", "+this._makeCallback(r)),this._addScopeLevel()},o.compileKeywordArgs=function(t,e){this._emit("runtime.makeKeywordArgs("),this.compileDict(t,e),this._emit(")")},o.compileSet=function(t,e){var n=this,r=[];t.targets.forEach((function(t){var i=t.value,o=e.lookup(i);null==o&&(o=n._tmpid(),n._emitLine("var "+o+";")),r.push(o)})),t.value?(this._emit(r.join(" = ")+" = "),this._compileExpression(t.value,e),this._emitLine(";")):(this._emit(r.join(" = ")+" = "),this.compile(t.body,e),this._emitLine(";")),t.targets.forEach((function(t,e){var i=r[e],o=t.value;n._emitLine('frame.set("'+o+'", '+i+", true);"),n._emitLine("if(frame.topLevel) {"),n._emitLine('context.setVariable("'+o+'", '+i+");"),n._emitLine("}"),"_"!==o.charAt(0)&&(n._emitLine("if(frame.topLevel) {"),n._emitLine('context.addExport("'+o+'", '+i+");"),n._emitLine("}"))}))},o.compileSwitch=function(t,e){var n=this;this._emit("switch ("),this.compile(t.expr,e),this._emit(") {"),t.cases.forEach((function(t,r){n._emit("case "),n.compile(t.cond,e),n._emit(": "),n.compile(t.body,e),t.body.children.length&&n._emitLine("break;")})),t.default&&(this._emit("default:"),this.compile(t.default,e)),this._emit("}")},o.compileIf=function(t,e,n){var r=this;this._emit("if("),this._compileExpression(t.cond,e),this._emitLine(") {"),this._withScopedSyntax((function(){r.compile(t.body,e),n&&r._emit("cb()")})),t.else_?(this._emitLine("}\nelse {"),this._withScopedSyntax((function(){r.compile(t.else_,e),n&&r._emit("cb()")}))):n&&(this._emitLine("}\nelse {"),this._emit("cb()")),this._emitLine("}")},o.compileIfAsync=function(t,e){this._emit("(function(cb) {"),this.compileIf(t,e,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},o._emitLoopBindings=function(t,e,n,r){var i=this;[{name:"index",val:n+" + 1"},{name:"index0",val:n},{name:"revindex",val:r+" - "+n},{name:"revindex0",val:r+" - "+n+" - 1"},{name:"first",val:n+" === 0"},{name:"last",val:n+" === "+r+" - 1"},{name:"length",val:r}].forEach((function(t){i._emitLine('frame.set("loop.'+t.name+'", '+t.val+");")}))},o.compileFor=function(t,e){var n=this,r=this._tmpid(),i=this._tmpid(),o=this._tmpid();if(e=e.push(),this._emitLine("frame = frame.push();"),this._emit("var "+o+" = "),this._compileExpression(t.arr,e),this._emitLine(";"),this._emit("if("+o+") {"),this._emitLine(o+" = runtime.fromIterator("+o+");"),t.name instanceof s.Array){this._emitLine("var "+r+";"),this._emitLine("if(runtime.isArray("+o+")) {"),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for("+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),t.name.children.forEach((function(i,s){var a=n._tmpid();n._emitLine("var "+a+" = "+o+"["+r+"]["+s+"];"),n._emitLine('frame.set("'+i+'", '+o+"["+r+"]["+s+"]);"),e.set(t.name.children[s].value,a)})),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}"),this._emitLine("} else {");var a=t.name.children,u=a[0],c=a[1],l=this._tmpid(),h=this._tmpid();e.set(u.value,l),e.set(c.value,h),this._emitLine(r+" = -1;"),this._emitLine("var "+i+" = runtime.keys("+o+").length;"),this._emitLine("for(var "+l+" in "+o+") {"),this._emitLine(r+"++;"),this._emitLine("var "+h+" = "+o+"["+l+"];"),this._emitLine('frame.set("'+u.value+'", '+l+");"),this._emitLine('frame.set("'+c.value+'", '+h+");"),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}"),this._emitLine("}")}else{var f=this._tmpid();e.set(t.name.value,f),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for(var "+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),this._emitLine("var "+f+" = "+o+"["+r+"];"),this._emitLine('frame.set("'+t.name.value+'", '+f+");"),this._emitLoopBindings(t,o,r,i),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("}")}this._emitLine("}"),t.else_&&(this._emitLine("if (!"+i+") {"),this.compile(t.else_,e),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o._compileAsyncLoop=function(t,e,n){var r=this,i=this._tmpid(),o=this._tmpid(),a=this._tmpid(),u=n?"asyncAll":"asyncEach";if(e=e.push(),this._emitLine("frame = frame.push();"),this._emit("var "+a+" = runtime.fromIterator("),this._compileExpression(t.arr,e),this._emitLine(");"),t.name instanceof s.Array){var c=t.name.children.length;this._emit("runtime."+u+"("+a+", "+c+", function("),t.name.children.forEach((function(t){r._emit(t.value+",")})),this._emit(i+","+o+",next) {"),t.name.children.forEach((function(t){var n=t.value;e.set(n,n),r._emitLine('frame.set("'+n+'", '+n+");")}))}else{var l=t.name.value;this._emitLine("runtime."+u+"("+a+", 1, function("+l+", "+i+", "+o+",next) {"),this._emitLine('frame.set("'+l+'", '+l+");"),e.set(l,l)}this._emitLoopBindings(t,a,i,o),this._withScopedSyntax((function(){var o;n&&(o=r._pushBuffer()),r.compile(t.body,e),r._emitLine("next("+i+(o?","+o:"")+");"),n&&r._popBuffer()}));var h=this._tmpid();this._emitLine("}, "+this._makeCallback(h)),this._addScopeLevel(),n&&this._emitLine(this.buffer+" += "+h+";"),t.else_&&(this._emitLine("if (!"+a+".length) {"),this.compile(t.else_,e),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o.compileAsyncEach=function(t,e){this._compileAsyncLoop(t,e)},o.compileAsyncAll=function(t,e){this._compileAsyncLoop(t,e,!0)},o._compileMacro=function(t,e){var n=this,r=[],i=null,o="macro_"+this._tmpid(),a=void 0!==e;t.args.children.forEach((function(e,o){o===t.args.children.length-1&&e instanceof s.Dict?i=e:(n.assertType(e,s.Symbol),r.push(e))}));var c,l=[].concat(r.map((function(t){return"l_"+t.value})),["kwargs"]),h=r.map((function(t){return'"'+t.value+'"'})),f=(i&&i.children||[]).map((function(t){return'"'+t.key.value+'"'}));c=a?e.push(!0):new u,this._emitLines("var "+o+" = runtime.makeMacro(","["+h.join(", ")+"], ","["+f.join(", ")+"], ","function ("+l.join(", ")+") {","var callerFrame = frame;","frame = "+(a?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),r.forEach((function(t){n._emitLine('frame.set("'+t.value+'", l_'+t.value+");"),c.set(t.value,"l_"+t.value)})),i&&i.children.forEach((function(t){var e=t.key.value;n._emit('frame.set("'+e+'", '),n._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+e+'")'),n._emit(' ? kwargs["'+e+'"] : '),n._compileExpression(t.value,c),n._emit(");")}));var d=this._pushBuffer();return this._withScopedSyntax((function(){n.compile(t.body,c)})),this._emitLine("frame = "+(a?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+d+");"),this._emitLine("});"),this._popBuffer(),o},o.compileMacro=function(t,e){var n=this._compileMacro(t),r=t.name.value;e.set(r,n),e.parent?this._emitLine('frame.set("'+r+'", '+n+");"):("_"!==t.name.value.charAt(0)&&this._emitLine('context.addExport("'+r+'");'),this._emitLine('context.setVariable("'+r+'", '+n+");"))},o.compileCaller=function(t,e){this._emit("(function (){");var n=this._compileMacro(t,e);this._emit("return "+n+";})()")},o._compileGetTemplate=function(t,e,n,r){var i=this._tmpid(),o=this._templateName(),s=this._makeCallback(i),a=n?"true":"false",u=r?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(t.template,e),this._emitLine(", "+a+", "+o+", "+u+", "+s),i},o.compileImport=function(t,e){var n=t.target.value,r=this._compileGetTemplate(t,e,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),e.set(n,r),e.parent?this._emitLine('frame.set("'+n+'", '+r+");"):this._emitLine('context.setVariable("'+n+'", '+r+");")},o.compileFromImport=function(t,e){var n=this,r=this._compileGetTemplate(t,e,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),t.names.children.forEach((function(t){var i,o,a=n._tmpid();t instanceof s.Pair?(i=t.key.value,o=t.value.value):o=i=t.value,n._emitLine("if(Object.prototype.hasOwnProperty.call("+r+', "'+i+'")) {'),n._emitLine("var "+a+" = "+r+"."+i+";"),n._emitLine("} else {"),n._emitLine("cb(new Error(\"cannot import '"+i+"'\")); return;"),n._emitLine("}"),e.set(o,a),e.parent?n._emitLine('frame.set("'+o+'", '+a+");"):n._emitLine('context.setVariable("'+o+'", '+a+");")}))},o.compileBlock=function(t){var e=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+t.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(e)),this._emitLine(this.buffer+" += "+e+";"),this._addScopeLevel()},o.compileSuper=function(t,e){var n=t.blockName.value,r=t.symbol.value,i=this._makeCallback(r);this._emitLine('context.getSuper(env, "'+n+'", b_'+n+", frame, runtime, "+i),this._emitLine(r+" = runtime.markSafe("+r+");"),this._addScopeLevel(),e.set(r,r)},o.compileExtends=function(t,e){var n=this._tmpid(),r=this._compileGetTemplate(t,e,!0,!1);this._emitLine("parentTemplate = "+r),this._emitLine("for(var "+n+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+n+", parentTemplate.blocks["+n+"]);"),this._emitLine("}"),this._addScopeLevel()},o.compileInclude=function(t,e){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var n=this._compileGetTemplate(t,e,!1,t.ignoreMissing);this._emitLine("callback(null,"+n+");});"),this._emitLine("});");var r=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(r)),this._emitLine("callback(null,"+r+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},o.compileTemplateData=function(t,e){this.compileLiteral(t,e)},o.compileCapture=function(t,e){var n=this,r=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax((function(){n.compile(t.body,e)})),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=r},o.compileOutput=function(t,e){var n=this;t.children.forEach((function(r){r instanceof s.TemplateData?r.value&&(n._emit(n.buffer+" += "),n.compileLiteral(r,e),n._emitLine(";")):(n._emit(n.buffer+" += runtime.suppressValue("),n.throwOnUndefined&&n._emit("runtime.ensureDefined("),n.compile(r,e),n.throwOnUndefined&&n._emit(","+t.lineno+","+t.colno+")"),n._emit(", env.opts.autoescape);\n"))}))},o.compileRoot=function(t,e){var n=this;e&&this.fail("compileRoot: root node can't have frame"),e=new u,this._emitFuncBegin(t,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(t,e),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var r=[],i=t.findAll(s.Block);i.forEach((function(t,e){var i=t.name.value;if(-1!==r.indexOf(i))throw new Error('Block "'+i+'" defined more than once.');r.push(i),n._emitFuncBegin(t,"b_"+i);var o=new u;n._emitLine("var frame = frame.push(true);"),n.compile(t.body,o),n._emitFuncEnd()})),this._emitLine("return {"),i.forEach((function(t,e){var r="b_"+t.name.value;n._emitLine(r+": "+r+",")})),this._emitLine("root: root\n};")},o.compile=function(t,e){var n=this["compile"+t.typename];n?n.call(this,t,e):this.fail("compile: Cannot compile node: "+t.typename,t.lineno,t.colno)},o.getCode=function(){return this.codebuf.join("")},i}(c);t.exports={compile:function(t,e,n,r,s){void 0===s&&(s={});var a=new h(r,s.throwOnUndefined),u=(n||[]).map((function(t){return t.preprocess})).filter((function(t){return!!t})).reduce((function(t,e){return e(t)}),t);return a.compile(o.transform(i.parse(u,n,s),e,r)),a.getCode()},Compiler:h}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(4),o=n(1).EmitterObj;t.exports=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var s=o.prototype;return s.resolve=function(t,e){return i.resolve(i.dirname(t),e)},s.isRelative=function(t){return 0===t.indexOf("./")||0===t.indexOf("../")},o}(o)},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}var o=n(12),s=n(15),a=n(0),u=n(5),c=n(18),l=n(10),h=l.FileSystemLoader,f=l.WebLoader,d=l.PrecompiledLoader,p=n(20),m=n(21),v=n(1),y=v.Obj,g=v.EmitterObj,_=n(2),b=_.handleError,x=_.Frame,E=n(22);function w(t,e,n){o((function(){t(e,n)}))}var T={type:"code",obj:{root:function(t,e,n,r,i){try{i(null,"")}catch(t){i(b(t,null,null))}}}},S=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e){var n=this;e=this.opts=e||{},this.opts.dev=!!e.dev,this.opts.autoescape=null==e.autoescape||e.autoescape,this.opts.throwOnUndefined=!!e.throwOnUndefined,this.opts.trimBlocks=!!e.trimBlocks,this.opts.lstripBlocks=!!e.lstripBlocks,this.loaders=[],t?this.loaders=a.isArray(t)?t:[t]:h?this.loaders=[new h("views")]:f&&(this.loaders=[new f("/views")]),"undefined"!=typeof window&&window.nunjucksPrecompiled&&this.loaders.unshift(new d(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=m(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],a._entries(c).forEach((function(t){var e=t[0],r=t[1];return n.addFilter(e,r)})),a._entries(p).forEach((function(t){var e=t[0],r=t[1];return n.addTest(e,r)}))},n._initLoaders=function(){var t=this;this.loaders.forEach((function(e){e.cache={},"function"==typeof e.on&&(e.on("update",(function(n,r){e.cache[n]=null,t.emit("update",n,r,e)})),e.on("load",(function(n,r){t.emit("load",n,r,e)})))}))},n.invalidateCache=function(){this.loaders.forEach((function(t){t.cache={}}))},n.addExtension=function(t,e){return e.__name=t,this.extensions[t]=e,this.extensionsList.push(e),this},n.removeExtension=function(t){var e=this.getExtension(t);e&&(this.extensionsList=a.without(this.extensionsList,e),delete this.extensions[t])},n.getExtension=function(t){return this.extensions[t]},n.hasExtension=function(t){return!!this.extensions[t]},n.addGlobal=function(t,e){return this.globals[t]=e,this},n.getGlobal=function(t){if(void 0===this.globals[t])throw new Error("global not found: "+t);return this.globals[t]},n.addFilter=function(t,e,n){var r=e;return n&&this.asyncFilters.push(t),this.filters[t]=r,this},n.getFilter=function(t){if(!this.filters[t])throw new Error("filter not found: "+t);return this.filters[t]},n.addTest=function(t,e){return this.tests[t]=e,this},n.getTest=function(t){if(!this.tests[t])throw new Error("test not found: "+t);return this.tests[t]},n.resolveTemplate=function(t,e,n){return t.isRelative&&e&&t.isRelative(n)&&t.resolve?t.resolve(e,n):n},n.getTemplate=function(t,e,n,r,i){var o,s=this,u=this,c=null;if(t&&t.raw&&(t=t.raw),a.isFunction(n)&&(i=n,n=null,e=e||!1),a.isFunction(e)&&(i=e,e=!1),t instanceof A)c=t;else{if("string"!=typeof t)throw new Error("template names must be a string: "+t);for(var l=0;l<this.loaders.length;l++){var h=this.loaders[l];if(c=h.cache[this.resolveTemplate(h,n,t)])break}}return c?(e&&c.compile(),i?void i(null,c):c):(a.asyncIter(this.loaders,(function(e,r,i,o){function s(t,n){t?o(t):n?(n.loader=e,o(null,n)):i()}t=u.resolveTemplate(e,n,t),e.async?e.getSource(t,s):s(null,e.getSource(t))}),(function(n,a){if(a||n||r||(n=new Error("template not found: "+t)),n){if(i)return void i(n);throw n}var u;a?(u=new A(a.src,s,a.path,e),a.noCache||(a.loader.cache[t]=u)):u=new A(T,s,"",e),i?i(null,u):o=u})),o)},n.express=function(t){return E(this,t)},n.render=function(t,e,n){a.isFunction(e)&&(n=e,e=null);var r=null;return this.getTemplate(t,(function(t,i){if(t&&n)w(n,t);else{if(t)throw t;r=i.render(e,n)}})),r},n.renderString=function(t,e,n,r){return a.isFunction(n)&&(r=n,n={}),new A(t,this,(n=n||{}).path).render(e,r)},n.waterfall=function(t,e,n){return s(t,e,n)},e}(g),k=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e,n){var r=this;this.env=n||new S,this.ctx=a.extend({},t),this.blocks={},this.exported=[],a.keys(e).forEach((function(t){r.addBlock(t,e[t])}))},n.lookup=function(t){return t in this.env.globals&&!(t in this.ctx)?this.env.globals[t]:this.ctx[t]},n.setVariable=function(t,e){this.ctx[t]=e},n.getVariables=function(){return this.ctx},n.addBlock=function(t,e){return this.blocks[t]=this.blocks[t]||[],this.blocks[t].push(e),this},n.getBlock=function(t){if(!this.blocks[t])throw new Error('unknown block "'+t+'"');return this.blocks[t][0]},n.getSuper=function(t,e,n,r,i,o){var s=a.indexOf(this.blocks[e]||[],n),u=this.blocks[e][s+1];if(-1===s||!u)throw new Error('no super block available for "'+e+'"');u(t,this,r,i,o)},n.addExport=function(t){this.exported.push(t)},n.getExported=function(){var t=this,e={};return this.exported.forEach((function(n){e[n]=t.ctx[n]})),e},e}(y),A=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.init=function(t,e,n,r){if(this.env=e||new S,a.isObject(t))switch(t.type){case"code":this.tmplProps=t.obj;break;case"string":this.tmplStr=t.obj;break;default:throw new Error("Unexpected template object type "+t.type+"; expected 'code', or 'string'")}else{if(!a.isString(t))throw new Error("src must be a string or an object describing the source");this.tmplStr=t}if(this.path=n,r)try{this._compile()}catch(t){throw a._prettifyError(this.path,this.env.opts.dev,t)}else this.compiled=!1},n.render=function(t,e,n){var r=this;"function"==typeof t?(n=t,t={}):"function"==typeof e&&(n=e,e=null);var i=!e;try{this.compile()}catch(t){var o=a._prettifyError(this.path,this.env.opts.dev,t);if(n)return w(n,o);throw o}var s=new k(t||{},this.blocks,this.env),u=e?e.push(!0):new x;u.topLevel=!0;var c=null,l=!1;return this.rootRenderFunc(this.env,s,u,_,(function(t,e){if(!l||!n||void 0===e)if(t&&(t=a._prettifyError(r.path,r.env.opts.dev,t),l=!0),n)i?w(n,t,e):n(t,e);else{if(t)throw t;c=e}})),c},n.getExported=function(t,e,n){"function"==typeof t&&(n=t,t={}),"function"==typeof e&&(n=e,e=null);try{this.compile()}catch(t){if(n)return n(t);throw t}var r=e?e.push():new x;r.topLevel=!0;var i=new k(t||{},this.blocks,this.env);this.rootRenderFunc(this.env,i,r,_,(function(t){t?n(t,null):n(null,i.getExported())}))},n.compile=function(){this.compiled||this._compile()},n._compile=function(){var t;if(this.tmplProps)t=this.tmplProps;else{var e=u.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);t=new Function(e)()}this.blocks=this._getBlocks(t),this.rootRenderFunc=t.root,this.compiled=!0},n._getBlocks=function(t){var e={};return a.keys(t).forEach((function(n){"b_"===n.slice(0,2)&&(e[n.slice(2)]=t[n])})),e},e}(y);t.exports={Environment:S,Template:A}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(9),o=n(3),s=n(1).Obj,a=n(0),u=function(t){var e,n;function s(){return t.apply(this,arguments)||this}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var u=s.prototype;return u.init=function(t){this.tokens=t,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},u.nextToken=function(t){var e;if(this.peeked){if(t||this.peeked.type!==i.TOKEN_WHITESPACE)return e=this.peeked,this.peeked=null,e;this.peeked=null}if(e=this.tokens.nextToken(),!t)for(;e&&e.type===i.TOKEN_WHITESPACE;)e=this.tokens.nextToken();return e},u.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},u.pushToken=function(t){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=t},u.error=function(t,e,n){if(void 0===e||void 0===n){var r=this.peekToken()||{};e=r.lineno,n=r.colno}return void 0!==e&&(e+=1),void 0!==n&&(n+=1),new a.TemplateError(t,e,n)},u.fail=function(t,e,n){throw this.error(t,e,n)},u.skip=function(t){var e=this.nextToken();return!(!e||e.type!==t)||(this.pushToken(e),!1)},u.expect=function(t){var e=this.nextToken();return e.type!==t&&this.fail("expected "+t+", got "+e.type,e.lineno,e.colno),e},u.skipValue=function(t,e){var n=this.nextToken();return!(!n||n.type!==t||n.value!==e)||(this.pushToken(n),!1)},u.skipSymbol=function(t){return this.skipValue(i.TOKEN_SYMBOL,t)},u.advanceAfterBlockEnd=function(t){var e;return t||((e=this.peekToken())||this.fail("unexpected end of file"),e.type!==i.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),t=this.nextToken().value),(e=this.nextToken())&&e.type===i.TOKEN_BLOCK_END?"-"===e.value.charAt(0)&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+t+" statement"),e},u.advanceAfterVariableEnd=function(){var t=this.nextToken();t&&t.type===i.TOKEN_VARIABLE_END?this.dropLeadingWhitespace="-"===t.value.charAt(t.value.length-this.tokens.tags.VARIABLE_END.length-1):(this.pushToken(t),this.fail("expected variable end"))},u.parseFor=function(){var t,e,n=this.peekToken();if(this.skipSymbol("for")?(t=new o.For(n.lineno,n.colno),e="endfor"):this.skipSymbol("asyncEach")?(t=new o.AsyncEach(n.lineno,n.colno),e="endeach"):this.skipSymbol("asyncAll")?(t=new o.AsyncAll(n.lineno,n.colno),e="endall"):this.fail("parseFor: expected for{Async}",n.lineno,n.colno),t.name=this.parsePrimary(),t.name instanceof o.Symbol||this.fail("parseFor: variable name expected for loop"),this.peekToken().type===i.TOKEN_COMMA){var r=t.name;for(t.name=new o.Array(r.lineno,r.colno),t.name.addChild(r);this.skip(i.TOKEN_COMMA);){var s=this.parsePrimary();t.name.addChild(s)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',n.lineno,n.colno),t.arr=this.parseExpression(),this.advanceAfterBlockEnd(n.value),t.body=this.parseUntilBlocks(e,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),t.else_=this.parseUntilBlocks(e)),this.advanceAfterBlockEnd(),t},u.parseMacro=function(){var t=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var e=this.parsePrimary(!0),n=this.parseSignature(),r=new o.Macro(t.lineno,t.colno,e,n);return this.advanceAfterBlockEnd(t.value),r.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),r},u.parseCall=function(){var t=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var e=this.parseSignature(!0)||new o.NodeList,n=this.parsePrimary();this.advanceAfterBlockEnd(t.value);var r=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var i=new o.Symbol(t.lineno,t.colno,"caller"),s=new o.Caller(t.lineno,t.colno,i,e,r),a=n.args.children;return a[a.length-1]instanceof o.KeywordArgs||a.push(new o.KeywordArgs),a[a.length-1].addChild(new o.Pair(t.lineno,t.colno,i,s)),new o.Output(t.lineno,t.colno,[n])},u.parseWithContext=function(){var t=this.peekToken(),e=null;return this.skipSymbol("with")?e=!0:this.skipSymbol("without")&&(e=!1),null!==e&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",t.lineno,t.colno)),e},u.parseImport=function(){var t=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",t.lineno,t.colno);var e=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',t.lineno,t.colno);var n=this.parseExpression(),r=this.parseWithContext(),i=new o.Import(t.lineno,t.colno,e,n,r);return this.advanceAfterBlockEnd(t.value),i},u.parseFrom=function(){var t=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var e=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",t.lineno,t.colno);for(var n,r=new o.NodeList;;){var s=this.peekToken();if(s.type===i.TOKEN_BLOCK_END){r.children.length||this.fail("parseFrom: Expected at least one import name",t.lineno,t.colno),"-"===s.value.charAt(0)&&(this.dropLeadingWhitespace=!0),this.nextToken();break}r.children.length>0&&!this.skip(i.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",t.lineno,t.colno);var a=this.parsePrimary();if("_"===a.value.charAt(0)&&this.fail("parseFrom: names starting with an underscore cannot be imported",a.lineno,a.colno),this.skipSymbol("as")){var u=this.parsePrimary();r.addChild(new o.Pair(a.lineno,a.colno,a,u))}else r.addChild(a);n=this.parseWithContext()}return new o.FromImport(t.lineno,t.colno,e,r,n)},u.parseBlock=function(){var t=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",t.lineno,t.colno);var e=new o.Block(t.lineno,t.colno);e.name=this.parsePrimary(),e.name instanceof o.Symbol||this.fail("parseBlock: variable name expected",t.lineno,t.colno),this.advanceAfterBlockEnd(t.value),e.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(e.name.value);var n=this.peekToken();return n||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(n.value),e},u.parseExtends=function(){var t=this.peekToken();this.skipSymbol("extends")||this.fail("parseTemplateRef: expected extends");var e=new o.Extends(t.lineno,t.colno);return e.template=this.parseExpression(),this.advanceAfterBlockEnd(t.value),e},u.parseInclude=function(){var t=this.peekToken();this.skipSymbol("include")||this.fail("parseInclude: expected include");var e=new o.Include(t.lineno,t.colno);return e.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(e.ignoreMissing=!0),this.advanceAfterBlockEnd(t.value),e},u.parseIf=function(){var t,e=this.peekToken();this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?t=new o.If(e.lineno,e.colno):this.skipSymbol("ifAsync")?t=new o.IfAsync(e.lineno,e.colno):this.fail("parseIf: expected if, elif, or elseif",e.lineno,e.colno),t.cond=this.parseExpression(),this.advanceAfterBlockEnd(e.value),t.body=this.parseUntilBlocks("elif","elseif","else","endif");var n=this.peekToken();switch(n&&n.value){case"elseif":case"elif":t.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),t.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":t.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return t},u.parseSet=function(){var t=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",t.lineno,t.colno);for(var e,n=new o.Set(t.lineno,t.colno,[]);(e=this.parsePrimary())&&(n.targets.push(e),this.skip(i.TOKEN_COMMA)););return this.skipValue(i.TOKEN_OPERATOR,"=")?(n.value=this.parseExpression(),this.advanceAfterBlockEnd(t.value)):this.skip(i.TOKEN_BLOCK_END)?(n.body=new o.Capture(t.lineno,t.colno,this.parseUntilBlocks("endset")),n.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",t.lineno,t.colno),n},u.parseSwitch=function(){var t="switch",e="endswitch",n="case",r="default",i=this.peekToken();this.skipSymbol(t)||this.skipSymbol(n)||this.skipSymbol(r)||this.fail('parseSwitch: expected "switch," "case" or "default"',i.lineno,i.colno);var s=this.parseExpression();this.advanceAfterBlockEnd(t),this.parseUntilBlocks(n,r,e);var a,u=this.peekToken(),c=[];do{this.skipSymbol(n);var l=this.parseExpression();this.advanceAfterBlockEnd(t);var h=this.parseUntilBlocks(n,r,e);c.push(new o.Case(u.line,u.col,l,h)),u=this.peekToken()}while(u&&u.value===n);switch(u.value){case r:this.advanceAfterBlockEnd(),a=this.parseUntilBlocks(e),this.advanceAfterBlockEnd();break;case e:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new o.Switch(i.lineno,i.colno,s,c,a)},u.parseStatement=function(){var t=this.peekToken();if(t.type!==i.TOKEN_SYMBOL&&this.fail("tag name expected",t.lineno,t.colno),this.breakOnBlocks&&-1!==a.indexOf(this.breakOnBlocks,t.value))return null;switch(t.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var e=0;e<this.extensions.length;e++){var n=this.extensions[e];if(-1!==a.indexOf(n.tags||[],t.value))return n.parse(this,o,i)}this.fail("unknown block tag: "+t.value,t.lineno,t.colno)}},u.parseRaw=function(t){for(var e="end"+(t=t||"raw"),n=new RegExp("([\\s\\S]*?){%\\s*("+t+"|"+e+")\\s*(?=%})%}"),r=1,i="",s=null,a=this.advanceAfterBlockEnd();(s=this.tokens._extractRegex(n))&&r>0;){var u=s[0],c=s[1],l=s[2];l===t?r+=1:l===e&&(r-=1),0===r?(i+=c,this.tokens.backN(u.length-c.length)):i+=u}return new o.Output(a.lineno,a.colno,[new o.TemplateData(a.lineno,a.colno,i)])},u.parsePostfix=function(t){for(var e,n=this.peekToken();n;){if(n.type===i.TOKEN_LEFT_PAREN)t=new o.FunCall(n.lineno,n.colno,t,this.parseSignature());else if(n.type===i.TOKEN_LEFT_BRACKET)(e=this.parseAggregate()).children.length>1&&this.fail("invalid index"),t=new o.LookupVal(n.lineno,n.colno,t,e.children[0]);else{if(n.type!==i.TOKEN_OPERATOR||"."!==n.value)break;this.nextToken();var r=this.nextToken();r.type!==i.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+r.value,r.lineno,r.colno),e=new o.Literal(r.lineno,r.colno,r.value),t=new o.LookupVal(n.lineno,n.colno,t,e)}n=this.peekToken()}return t},u.parseExpression=function(){return this.parseInlineIf()},u.parseInlineIf=function(){var t=this.parseOr();if(this.skipSymbol("if")){var e=this.parseOr(),n=t;(t=new o.InlineIf(t.lineno,t.colno)).body=n,t.cond=e,this.skipSymbol("else")?t.else_=this.parseOr():t.else_=null}return t},u.parseOr=function(){for(var t=this.parseAnd();this.skipSymbol("or");){var e=this.parseAnd();t=new o.Or(t.lineno,t.colno,t,e)}return t},u.parseAnd=function(){for(var t=this.parseNot();this.skipSymbol("and");){var e=this.parseNot();t=new o.And(t.lineno,t.colno,t,e)}return t},u.parseNot=function(){var t=this.peekToken();return this.skipSymbol("not")?new o.Not(t.lineno,t.colno,this.parseNot()):this.parseIn()},u.parseIn=function(){for(var t=this.parseIs();;){var e=this.nextToken();if(!e)break;var n=e.type===i.TOKEN_SYMBOL&&"not"===e.value;if(n||this.pushToken(e),!this.skipSymbol("in")){n&&this.pushToken(e);break}var r=this.parseIs();t=new o.In(t.lineno,t.colno,t,r),n&&(t=new o.Not(t.lineno,t.colno,t))}return t},u.parseIs=function(){var t=this.parseCompare();if(this.skipSymbol("is")){var e=this.skipSymbol("not"),n=this.parseCompare();t=new o.Is(t.lineno,t.colno,t,n),e&&(t=new o.Not(t.lineno,t.colno,t))}return t},u.parseCompare=function(){for(var t=["==","===","!=","!==","<",">","<=",">="],e=this.parseConcat(),n=[];;){var r=this.nextToken();if(!r)break;if(-1===t.indexOf(r.value)){this.pushToken(r);break}n.push(new o.CompareOperand(r.lineno,r.colno,this.parseConcat(),r.value))}return n.length?new o.Compare(n[0].lineno,n[0].colno,e,n):e},u.parseConcat=function(){for(var t=this.parseAdd();this.skipValue(i.TOKEN_TILDE,"~");){var e=this.parseAdd();t=new o.Concat(t.lineno,t.colno,t,e)}return t},u.parseAdd=function(){for(var t=this.parseSub();this.skipValue(i.TOKEN_OPERATOR,"+");){var e=this.parseSub();t=new o.Add(t.lineno,t.colno,t,e)}return t},u.parseSub=function(){for(var t=this.parseMul();this.skipValue(i.TOKEN_OPERATOR,"-");){var e=this.parseMul();t=new o.Sub(t.lineno,t.colno,t,e)}return t},u.parseMul=function(){for(var t=this.parseDiv();this.skipValue(i.TOKEN_OPERATOR,"*");){var e=this.parseDiv();t=new o.Mul(t.lineno,t.colno,t,e)}return t},u.parseDiv=function(){for(var t=this.parseFloorDiv();this.skipValue(i.TOKEN_OPERATOR,"/");){var e=this.parseFloorDiv();t=new o.Div(t.lineno,t.colno,t,e)}return t},u.parseFloorDiv=function(){for(var t=this.parseMod();this.skipValue(i.TOKEN_OPERATOR,"//");){var e=this.parseMod();t=new o.FloorDiv(t.lineno,t.colno,t,e)}return t},u.parseMod=function(){for(var t=this.parsePow();this.skipValue(i.TOKEN_OPERATOR,"%");){var e=this.parsePow();t=new o.Mod(t.lineno,t.colno,t,e)}return t},u.parsePow=function(){for(var t=this.parseUnary();this.skipValue(i.TOKEN_OPERATOR,"**");){var e=this.parseUnary();t=new o.Pow(t.lineno,t.colno,t,e)}return t},u.parseUnary=function(t){var e,n=this.peekToken();return e=this.skipValue(i.TOKEN_OPERATOR,"-")?new o.Neg(n.lineno,n.colno,this.parseUnary(!0)):this.skipValue(i.TOKEN_OPERATOR,"+")?new o.Pos(n.lineno,n.colno,this.parseUnary(!0)):this.parsePrimary(),t||(e=this.parseFilter(e)),e},u.parsePrimary=function(t){var e,n=this.nextToken(),r=null;if(n?n.type===i.TOKEN_STRING?e=n.value:n.type===i.TOKEN_INT?e=parseInt(n.value,10):n.type===i.TOKEN_FLOAT?e=parseFloat(n.value):n.type===i.TOKEN_BOOLEAN?"true"===n.value?e=!0:"false"===n.value?e=!1:this.fail("invalid boolean: "+n.value,n.lineno,n.colno):n.type===i.TOKEN_NONE?e=null:n.type===i.TOKEN_REGEX&&(e=new RegExp(n.value.body,n.value.flags)):this.fail("expected expression, got end of file"),void 0!==e?r=new o.Literal(n.lineno,n.colno,e):n.type===i.TOKEN_SYMBOL?r=new o.Symbol(n.lineno,n.colno,n.value):(this.pushToken(n),r=this.parseAggregate()),t||(r=this.parsePostfix(r)),r)return r;throw this.error("unexpected token: "+n.value,n.lineno,n.colno)},u.parseFilterName=function(){for(var t=this.expect(i.TOKEN_SYMBOL),e=t.value;this.skipValue(i.TOKEN_OPERATOR,".");)e+="."+this.expect(i.TOKEN_SYMBOL).value;return new o.Symbol(t.lineno,t.colno,e)},u.parseFilterArgs=function(t){return this.peekToken().type===i.TOKEN_LEFT_PAREN?this.parsePostfix(t).args.children:[]},u.parseFilter=function(t){for(;this.skip(i.TOKEN_PIPE);){var e=this.parseFilterName();t=new o.Filter(e.lineno,e.colno,e,new o.NodeList(e.lineno,e.colno,[t].concat(this.parseFilterArgs(t))))}return t},u.parseFilterStatement=function(){var t=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var e=this.parseFilterName(),n=this.parseFilterArgs(e);this.advanceAfterBlockEnd(t.value);var r=new o.Capture(e.lineno,e.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var i=new o.Filter(e.lineno,e.colno,e,new o.NodeList(e.lineno,e.colno,[r].concat(n)));return new o.Output(e.lineno,e.colno,[i])},u.parseAggregate=function(){var t,e=this.nextToken();switch(e.type){case i.TOKEN_LEFT_PAREN:t=new o.Group(e.lineno,e.colno);break;case i.TOKEN_LEFT_BRACKET:t=new o.Array(e.lineno,e.colno);break;case i.TOKEN_LEFT_CURLY:t=new o.Dict(e.lineno,e.colno);break;default:return null}for(;;){var n=this.peekToken().type;if(n===i.TOKEN_RIGHT_PAREN||n===i.TOKEN_RIGHT_BRACKET||n===i.TOKEN_RIGHT_CURLY){this.nextToken();break}if(t.children.length>0&&(this.skip(i.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",e.lineno,e.colno)),t instanceof o.Dict){var r=this.parsePrimary();this.skip(i.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",e.lineno,e.colno);var s=this.parseExpression();t.addChild(new o.Pair(r.lineno,r.colno,r,s))}else{var a=this.parseExpression();t.addChild(a)}}return t},u.parseSignature=function(t,e){var n=this.peekToken();if(!e&&n.type!==i.TOKEN_LEFT_PAREN){if(t)return null;this.fail("expected arguments",n.lineno,n.colno)}n.type===i.TOKEN_LEFT_PAREN&&(n=this.nextToken());for(var r=new o.NodeList(n.lineno,n.colno),s=new o.KeywordArgs(n.lineno,n.colno),a=!1;;){if(n=this.peekToken(),!e&&n.type===i.TOKEN_RIGHT_PAREN){this.nextToken();break}if(e&&n.type===i.TOKEN_BLOCK_END)break;if(a&&!this.skip(i.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",n.lineno,n.colno);else{var u=this.parseExpression();this.skipValue(i.TOKEN_OPERATOR,"=")?s.addChild(new o.Pair(u.lineno,u.colno,u,this.parseExpression())):r.addChild(u)}a=!0}return s.children.length&&r.addChild(s),r},u.parseUntilBlocks=function(){for(var t=this.breakOnBlocks,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.breakOnBlocks=n;var i=this.parse();return this.breakOnBlocks=t,i},u.parseNodes=function(){for(var t,e=[];t=this.nextToken();)if(t.type===i.TOKEN_DATA){var n=t.value,r=this.peekToken(),s=r&&r.value;this.dropLeadingWhitespace&&(n=n.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),r&&(r.type===i.TOKEN_BLOCK_START&&"-"===s.charAt(s.length-1)||r.type===i.TOKEN_VARIABLE_START&&"-"===s.charAt(this.tokens.tags.VARIABLE_START.length)||r.type===i.TOKEN_COMMENT&&"-"===s.charAt(this.tokens.tags.COMMENT_START.length))&&(n=n.replace(/\s*$/,"")),e.push(new o.Output(t.lineno,t.colno,[new o.TemplateData(t.lineno,t.colno,n)]))}else if(t.type===i.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var a=this.parseStatement();if(!a)break;e.push(a)}else if(t.type===i.TOKEN_VARIABLE_START){var u=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),e.push(new o.Output(t.lineno,t.colno,[u]))}else t.type===i.TOKEN_COMMENT?this.dropLeadingWhitespace="-"===t.value.charAt(t.value.length-this.tokens.tags.COMMENT_END.length-1):this.fail("Unexpected token at top-level: "+t.type,t.lineno,t.colno);return e},u.parse=function(){return new o.NodeList(0,0,this.parseNodes())},u.parseAsRoot=function(){return new o.Root(0,0,this.parseNodes())},s}(s);t.exports={parse:function(t,e,n){var r=new u(i.lex(t,n));return void 0!==e&&(r.extensions=e),r.parseAsRoot()},Parser:u}},function(t,e,n){"use strict";var r=n(0),i=" \n\t\r",o="()[]{}%*-+~/#,:|.<>=!",s="string",a="whitespace",u="data",c="block-start",l="block-end",h="variable-start",f="variable-end",d="comment",p="left-paren",m="right-paren",v="left-bracket",y="right-bracket",g="left-curly",_="right-curly",b="operator",x="comma",E="colon",w="tilde",T="pipe",S="float",k="boolean",A="none",O="symbol",C="regex";function P(t,e,n,r){return{type:t,value:e,lineno:n,colno:r}}var R=function(){function t(t,e){this.str=t,this.index=0,this.len=t.length,this.lineno=0,this.colno=0,this.in_code=!1;var n=(e=e||{}).tags||{};this.tags={BLOCK_START:n.blockStart||"{%",BLOCK_END:n.blockEnd||"%}",VARIABLE_START:n.variableStart||"{{",VARIABLE_END:n.variableEnd||"}}",COMMENT_START:n.commentStart||"{#",COMMENT_END:n.commentEnd||"#}"},this.trimBlocks=!!e.trimBlocks,this.lstripBlocks=!!e.lstripBlocks}var e=t.prototype;return e.nextToken=function(){var t,e=this.lineno,n=this.colno;if(this.in_code){var R=this.current();if(this.isFinished())return null;if('"'===R||"'"===R)return P(s,this._parseString(R),e,n);if(t=this._extract(i))return P(a,t,e,n);if((t=this._extractString(this.tags.BLOCK_END))||(t=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&("\n"===(R=this.current())?this.forward():"\r"===R&&(this.forward(),"\n"===(R=this.current())?this.forward():this.back())),P(l,t,e,n);if((t=this._extractString(this.tags.VARIABLE_END))||(t=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,P(f,t,e,n);if("r"===R&&"/"===this.str.charAt(this.index+1)){this.forwardN(2);for(var N="";!this.isFinished();){if("/"===this.current()&&"\\"!==this.previous()){this.forward();break}N+=this.current(),this.forward()}for(var L=["g","i","m","y"],I="";!this.isFinished()&&-1!==L.indexOf(this.current());)I+=this.current(),this.forward();return P(C,{body:N,flags:I},e,n)}if(-1!==o.indexOf(R)){this.forward();var M,D=["==","===","!=","!==","<=",">=","//","**"],F=R+this.current();switch(-1!==r.indexOf(D,F)&&(this.forward(),R=F,-1!==r.indexOf(D,F+this.current())&&(R=F+this.current(),this.forward())),R){case"(":M=p;break;case")":M=m;break;case"[":M=v;break;case"]":M=y;break;case"{":M=g;break;case"}":M=_;break;case",":M=x;break;case":":M=E;break;case"~":M=w;break;case"|":M=T;break;default:M=b}return P(M,R,e,n)}if((t=this._extractUntil(i+o)).match(/^[-+]?[0-9]+$/)){if("."===this.current()){this.forward();var j=this._extract("0123456789");return P(S,t+"."+j,e,n)}return P("int",t,e,n)}if(t.match(/^(true|false)$/))return P(k,t,e,n);if("none"===t)return P(A,t,e,n);if("null"===t)return P(A,t,e,n);if(t)return P(O,t,e,n);throw new Error("Unexpected value while parsing: "+t)}var U,B=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((t=this._extractString(this.tags.BLOCK_START+"-"))||(t=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,P(c,t,e,n);if((t=this._extractString(this.tags.VARIABLE_START+"-"))||(t=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,P(h,t,e,n);t="";var $=!1;for(this._matches(this.tags.COMMENT_START)&&($=!0,t=this._extractString(this.tags.COMMENT_START));null!==(U=this._extractUntil(B));){if(t+=U,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!$){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=t.length){var z=t.slice(-this.colno);if(/^\s+$/.test(z)&&!(t=t.slice(0,-this.colno)).length)return this.nextToken()}break}if(this._matches(this.tags.COMMENT_END)){if(!$)throw new Error("unexpected end of comment");t+=this._extractString(this.tags.COMMENT_END);break}t+=this.current(),this.forward()}if(null===U&&$)throw new Error("expected end of comment, got end of file");return P($?d:u,t,e,n)},e._parseString=function(t){this.forward();for(var e="";!this.isFinished()&&this.current()!==t;){var n=this.current();if("\\"===n){switch(this.forward(),this.current()){case"n":e+="\n";break;case"t":e+="\t";break;case"r":e+="\r";break;default:e+=this.current()}this.forward()}else e+=n,this.forward()}return this.forward(),e},e._matches=function(t){return this.index+t.length>this.len?null:this.str.slice(this.index,this.index+t.length)===t},e._extractString=function(t){return this._matches(t)?(this.forwardN(t.length),t):null},e._extractUntil=function(t){return this._extractMatching(!0,t||"")},e._extract=function(t){return this._extractMatching(!1,t)},e._extractMatching=function(t,e){if(this.isFinished())return null;var n=e.indexOf(this.current());if(t&&-1===n||!t&&-1!==n){var r=this.current();this.forward();for(var i=e.indexOf(this.current());(t&&-1===i||!t&&-1!==i)&&!this.isFinished();)r+=this.current(),this.forward(),i=e.indexOf(this.current());return r}return""},e._extractRegex=function(t){var e=this.currentStr().match(t);return e?(this.forwardN(e[0].length),e):null},e.isFinished=function(){return this.index>=this.len},e.forwardN=function(t){for(var e=0;e<t;e++)this.forward()},e.forward=function(){this.index++,"\n"===this.previous()?(this.lineno++,this.colno=0):this.colno++},e.backN=function(t){for(var e=0;e<t;e++)this.back()},e.back=function(){if(this.index--,"\n"===this.current()){this.lineno--;var t=this.src.lastIndexOf("\n",this.index-1);this.colno=-1===t?this.index:this.index-t}else this.colno--},e.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},e.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},e.previous=function(){return this.str.charAt(this.index-1)},t}();t.exports={lex:function(t,e){return new R(t,e)},TOKEN_STRING:s,TOKEN_WHITESPACE:a,TOKEN_DATA:u,TOKEN_BLOCK_START:c,TOKEN_BLOCK_END:l,TOKEN_VARIABLE_START:h,TOKEN_VARIABLE_END:f,TOKEN_COMMENT:d,TOKEN_LEFT_PAREN:p,TOKEN_RIGHT_PAREN:m,TOKEN_LEFT_BRACKET:v,TOKEN_RIGHT_BRACKET:y,TOKEN_LEFT_CURLY:g,TOKEN_RIGHT_CURLY:_,TOKEN_OPERATOR:b,TOKEN_COMMA:x,TOKEN_COLON:E,TOKEN_TILDE:w,TOKEN_PIPE:T,TOKEN_INT:"int",TOKEN_FLOAT:S,TOKEN_BOOLEAN:k,TOKEN_NONE:A,TOKEN_SYMBOL:O,TOKEN_SPECIAL:"special",TOKEN_REGEX:C}},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(6),o=n(19).PrecompiledLoader,s=function(t){var e,n;function i(e,n){var r;return(r=t.call(this)||this).baseURL=e||".",n=n||{},r.useCache=!!n.useCache,r.async=!!n.async,r}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var o=i.prototype;return o.resolve=function(t,e){throw new Error("relative templates not support in the browser yet")},o.getSource=function(t,e){var n,r=this,i=this.useCache;return this.fetch(this.baseURL+"/"+t,(function(o,s){if(o)if(e)e(o.content);else{if(404!==o.status)throw o.content;n=null}else n={src:s,path:t,noCache:!i},r.emit("load",t,n),e&&e(null,n)})),n},o.fetch=function(t,e){if("undefined"==typeof window)throw new Error("WebLoader can only by used in a browser");var n=new XMLHttpRequest,r=!0;n.onreadystatechange=function(){4===n.readyState&&r&&(r=!1,0===n.status||200===n.status?e(null,n.responseText):e({status:n.status,content:n.responseText}))},t+=(-1===t.indexOf("?")?"?":"&")+"s="+(new Date).getTime(),n.open("GET",t,this.async),n.send()},i}(i);t.exports={WebLoader:s,PrecompiledLoader:o}},function(t,e,n){"use strict";var r,i=n(0),o=n(7),s=o.Environment,a=o.Template,u=n(6),c=n(10),l=n(23),h=n(5),f=n(8),d=n(9),p=n(2),m=n(3),v=n(25);function y(t,e){var n;return e=e||{},i.isObject(t)&&(e=t,t=null),c.FileSystemLoader?n=new c.FileSystemLoader(t,{watch:e.watch,noCache:e.noCache}):c.WebLoader&&(n=new c.WebLoader(t,{useCache:e.web&&e.web.useCache,async:e.web&&e.web.async})),r=new s(n,e),e&&e.express&&r.express(e.express),r}t.exports={Environment:s,Template:a,Loader:u,FileSystemLoader:c.FileSystemLoader,NodeResolveLoader:c.NodeResolveLoader,PrecompiledLoader:c.PrecompiledLoader,WebLoader:c.WebLoader,compiler:h,parser:f,lexer:d,runtime:p,lib:i,nodes:m,installJinjaCompat:v,configure:y,reset:function(){r=void 0},compile:function(t,e,n,i){return r||y(),new a(t,e,n,i)},render:function(t,e,n){return r||y(),r.render(t,e,n)},renderString:function(t,e,n){return r||y(),r.renderString(t,e,n)},precompile:l?l.precompile:void 0,precompileString:l?l.precompileString:void 0}},function(t,e,n){"use strict";var r=n(13),i=[],o=[],s=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function a(t){var e;(e=i.length?i.pop():new u).task=t,r(e)}function u(){this.task=null}t.exports=a,u.prototype.call=function(){try{this.task.call()}catch(t){a.onerror?a.onerror(t):(o.push(t),s())}finally{this.task=null,i[i.length]=this}}},function(t,e,n){"use strict";(function(e){function n(t){i.length||r(),i[i.length]=t}t.exports=n;var r,i=[],o=0;function s(){for(;o<i.length;){var t=o;if(o+=1,i[t].call(),o>1024){for(var e=0,n=i.length-o;e<n;e++)i[e]=i[e+o];i.length-=o,o=0}}i.length=0,o=0}var a,u,c,l=void 0!==e?e:self,h=l.MutationObserver||l.WebKitMutationObserver;function f(t){return function(){var e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}"function"==typeof h?(a=1,u=new h(s),c=document.createTextNode(""),u.observe(c,{characterData:!0}),r=function(){a=-a,c.data=a}):r=f(s),n.requestFlush=r,n.makeRequestCallFromTimer=f}).call(e,n(14))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r;!function(n){"use strict";var i=function(){var t=Array.prototype.slice.call(arguments);"function"==typeof t[0]&&t[0].apply(null,t.splice(1))},o=function(t){"function"==typeof setImmediate?setImmediate(t):"undefined"!=typeof process&&process.nextTick?process.nextTick(t):setTimeout(t,0)},s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=function(t,e,n){var r=n?o:i;if(e=e||function(){},!s(t)){var a=new Error("First argument to waterfall must be an array of functions");return e(a)}if(!t.length)return e();var u=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=t.next();o?i.push(u(o)):i.push(e),r((function(){t.apply(null,i)}))}}};u(function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)}(t))()};void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function i(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,i),r(n)},t.once("error",o)),t.once(e,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s,a;if(c(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):v(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var c=u.length,l=v(u,c);for(n=0;n<c;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return c(e),this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,d(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var r=n(3),i=n(0),o=0;function s(){return"hole_"+o++}function a(t,e){for(var n=null,r=0;r<t.length;r++){var i=e(t[r]);i!==t[r]&&(n||(n=t.slice()),n[r]=i)}return n||t}function u(t,e,n){if(!(t instanceof r.Node))return t;if(!n){var i=e(t);if(i&&i!==t)return i}if(t instanceof r.NodeList){var o=a(t.children,(function(t){return u(t,e,n)}));o!==t.children&&(t=new r[t.typename](t.lineno,t.colno,o))}else if(t instanceof r.CallExtension){var s=u(t.args,e,n),c=a(t.contentArgs,(function(t){return u(t,e,n)}));s===t.args&&c===t.contentArgs||(t=new r[t.typename](t.extName,t.prop,s,c))}else{var l=t.fields.map((function(e){return t[e]})),h=a(l,(function(t){return u(t,e,n)}));h!==l&&(t=new r[t.typename](t.lineno,t.colno),h.forEach((function(e,n){t[t.fields[n]]=e})))}return n&&e(t)||t}function c(t,e){return u(t,e,!0)}function l(t,e,n){var o=[],a=c(n?t[n]:t,(function(t){var n;return t instanceof r.Block?t:((t instanceof r.Filter&&-1!==i.indexOf(e,t.name.value)||t instanceof r.CallExtensionAsync)&&(n=new r.Symbol(t.lineno,t.colno,s()),o.push(new r.FilterAsync(t.lineno,t.colno,t.name,t.args,n))),n)}));return n?t[n]=a:t=a,o.length?(o.push(t),new r.NodeList(t.lineno,t.colno,o)):t}t.exports={transform:function(t,e){return function(t,e){return function(t){return c(t,(function(t){if(t instanceof r.If||t instanceof r.For){var e=!1;if(u(t,(function(t){if(t instanceof r.FilterAsync||t instanceof r.IfAsync||t instanceof r.AsyncEach||t instanceof r.AsyncAll||t instanceof r.CallExtensionAsync)return e=!0,t})),e){if(t instanceof r.If)return new r.IfAsync(t.lineno,t.colno,t.cond,t.body,t.else_);if(t instanceof r.For&&!(t instanceof r.AsyncAll))return new r.AsyncEach(t.lineno,t.colno,t.arr,t.name,t.body,t.else_)}}}))}(function(t){return u(t,(function(t){if(t instanceof r.Block){var e=!1,n=s();t.body=u(t.body,(function(t){if(t instanceof r.FunCall&&"super"===t.name.value)return e=!0,new r.Symbol(t.lineno,t.colno,n)})),e&&t.body.children.unshift(new r.Super(0,0,t.name,new r.Symbol(0,0,n)))}}))}(function(t,e){return c(t,(function(t){return t instanceof r.Output?l(t,e):t instanceof r.Set?l(t,e,"value"):t instanceof r.For?l(t,e,"arr"):t instanceof r.If?l(t,e,"cond"):t instanceof r.CallExtension?l(t,e,"args"):void 0}))}(t,e)))}(t,e||[])}}},function(t,e,n){"use strict";var r=n(0),i=n(2);function o(t,e){return null==t||!1===t?e:t}function s(t){return t!=t}function a(t){var e=(t=o(t,"")).toLowerCase();return i.copySafeness(t,e.charAt(0).toUpperCase()+e.slice(1))}function u(t){if(r.isString(t))return t.split("");if(r.isObject(t))return r._entries(t||{}).map((function(t){return{key:t[0],value:t[1]}}));if(r.isArray(t))return t;throw new r.TemplateError("list filter: type not iterable")}function c(t){return function(e,n,i){void 0===n&&(n="truthy");var o=this,s=o.env.getTest(n);return r.toArray(e).filter((function(e){return s.call(o,e,i)===t}))}}function l(t){return i.copySafeness(t,t.replace(/^\s*|\s*$/g,""))}(e=t.exports={}).abs=Math.abs,e.batch=function(t,e,n){var r,i=[],o=[];for(r=0;r<t.length;r++)r%e==0&&o.length&&(i.push(o),o=[]),o.push(t[r]);if(o.length){if(n)for(r=o.length;r<e;r++)o.push(n);i.push(o)}return i},e.capitalize=a,e.center=function(t,e){if(e=e||80,(t=o(t,"")).length>=e)return t;var n=e-t.length,s=r.repeat(" ",n/2-n%2),a=r.repeat(" ",n/2);return i.copySafeness(t,s+t+a)},e.default=function(t,e,n){return n?t||e:void 0!==t?t:e},e.dictsort=function(t,e,n){if(!r.isObject(t))throw new r.TemplateError("dictsort filter: val must be an object");var i,o=[];for(var s in t)o.push([s,t[s]]);if(void 0===n||"key"===n)i=0;else{if("value"!==n)throw new r.TemplateError("dictsort filter: You can only sort by either key or value");i=1}return o.sort((function(t,n){var o=t[i],s=n[i];return e||(r.isString(o)&&(o=o.toUpperCase()),r.isString(s)&&(s=s.toUpperCase())),o>s?1:o===s?0:-1})),o},e.dump=function(t,e){return JSON.stringify(t,null,e)},e.escape=function(t){return t instanceof i.SafeString?t:(t=null==t?"":t,i.markSafe(r.escape(t.toString())))},e.safe=function(t){return t instanceof i.SafeString?t:(t=null==t?"":t,i.markSafe(t.toString()))},e.first=function(t){return t[0]},e.forceescape=function(t){return t=null==t?"":t,i.markSafe(r.escape(t.toString()))},e.groupby=function(t,e){return r.groupBy(t,e,this.env.opts.throwOnUndefined)},e.indent=function(t,e,n){if(""===(t=o(t,"")))return"";e=e||4;var s=t.split("\n"),a=r.repeat(" ",e),u=s.map((function(t,e){return 0!==e||n?""+a+t:t})).join("\n");return i.copySafeness(t,u)},e.join=function(t,e,n){return e=e||"",n&&(t=r.map(t,(function(t){return t[n]}))),t.join(e)},e.last=function(t){return t[t.length-1]},e.length=function(t){var e=o(t,"");return void 0!==e?"function"==typeof Map&&e instanceof Map||"function"==typeof Set&&e instanceof Set?e.size:!r.isObject(e)||e instanceof i.SafeString?e.length:r.keys(e).length:0},e.list=u,e.lower=function(t){return(t=o(t,"")).toLowerCase()},e.nl2br=function(t){return null==t?"":i.copySafeness(t,t.replace(/\r\n|\n/g,"<br />\n"))},e.random=function(t){return t[Math.floor(Math.random()*t.length)]},e.reject=c(!1),e.rejectattr=function(t,e){return t.filter((function(t){return!t[e]}))},e.select=c(!0),e.selectattr=function(t,e){return t.filter((function(t){return!!t[e]}))},e.replace=function(t,e,n,r){var o=t;if(e instanceof RegExp)return t.replace(e,n);void 0===r&&(r=-1);var s="";if("number"==typeof e)e=""+e;else if("string"!=typeof e)return t;if("number"==typeof t&&(t=""+t),"string"!=typeof t&&!(t instanceof i.SafeString))return t;if(""===e)return s=n+t.split("").join(n)+n,i.copySafeness(t,s);var a=t.indexOf(e);if(0===r||-1===a)return t;for(var u=0,c=0;a>-1&&(-1===r||c<r);)s+=t.substring(u,a)+n,u=a+e.length,c++,a=t.indexOf(e,u);return u<t.length&&(s+=t.substring(u)),i.copySafeness(o,s)},e.reverse=function(t){var e;return(e=r.isString(t)?u(t):r.map(t,(function(t){return t}))).reverse(),r.isString(t)?i.copySafeness(t,e.join("")):e},e.round=function(t,e,n){e=e||0;var r=Math.pow(10,e);return("ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round)(t*r)/r},e.slice=function(t,e,n){for(var r=Math.floor(t.length/e),i=t.length%e,o=[],s=0,a=0;a<e;a++){var u=s+a*r;a<i&&s++;var c=s+(a+1)*r,l=t.slice(u,c);n&&a>=i&&l.push(n),o.push(l)}return o},e.sum=function(t,e,n){return void 0===n&&(n=0),e&&(t=r.map(t,(function(t){return t[e]}))),n+t.reduce((function(t,e){return t+e}),0)},e.sort=i.makeMacro(["value","reverse","case_sensitive","attribute"],[],(function(t,e,n,i){var o=this,s=r.map(t,(function(t){return t})),a=r.getAttrGetter(i);return s.sort((function(t,s){var u=i?a(t):t,c=i?a(s):s;if(o.env.opts.throwOnUndefined&&i&&(void 0===u||void 0===c))throw new TypeError('sort: attribute "'+i+'" resolved to undefined');return!n&&r.isString(u)&&r.isString(c)&&(u=u.toLowerCase(),c=c.toLowerCase()),u<c?e?1:-1:u>c?e?-1:1:0})),s})),e.string=function(t){return i.copySafeness(t,t)},e.striptags=function(t,e){var n,r=l((t=o(t,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,""));return n=e?r.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):r.replace(/\s+/gi," "),i.copySafeness(t,n)},e.title=function(t){var e=(t=o(t,"")).split(" ").map((function(t){return a(t)}));return i.copySafeness(t,e.join(" "))},e.trim=l,e.truncate=function(t,e,n,r){var s=t;if(e=e||255,(t=o(t,"")).length<=e)return t;if(n)t=t.substring(0,e);else{var a=t.lastIndexOf(" ",e);-1===a&&(a=e),t=t.substring(0,a)}return t+=null!=r?r:"...",i.copySafeness(s,t)},e.upper=function(t){return(t=o(t,"")).toUpperCase()},e.urlencode=function(t){var e=encodeURIComponent;return r.isString(t)?e(t):(r.isArray(t)?t:r._entries(t)).map((function(t){var n=t[0],r=t[1];return e(n)+"="+e(r)})).join("&")};var h=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,f=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,d=/^https?:\/\/.*$/,p=/^www\./,m=/\.(?:org|net|com)(?:\:|\/|$)/;e.urlize=function(t,e,n){s(e)&&(e=1/0);var r=!0===n?' rel="nofollow"':"";return t.split(/(\s+)/).filter((function(t){return t&&t.length})).map((function(t){var n=t.match(h),i=n?n[1]:t,o=i.substr(0,e);return d.test(i)?'<a href="'+i+'"'+r+">"+o+"</a>":p.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":f.test(i)?'<a href="mailto:'+i+'">'+i+"</a>":m.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":t})).join("")},e.wordcount=function(t){var e=(t=o(t,""))?t.match(/\w+/g):null;return e?e.length:null},e.float=function(t,e){var n=parseFloat(t);return s(n)?e:n};var v=i.makeMacro(["value","default","base"],[],(function(t,e,n){void 0===n&&(n=10);var r=parseInt(t,n);return s(r)?e:r}));e.int=v,e.d=e.default,e.e=e.escape},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}var i=function(t){var e,n;function i(e){var n;return(n=t.call(this)||this).precompiled=e||{},n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.getSource=function(t){return this.precompiled[t]?{src:{type:"code",obj:this.precompiled[t]},path:t}:null},i}(n(6));t.exports={PrecompiledLoader:i}},function(t,e,n){"use strict";var r=n(2).SafeString;e.callable=function(t){return"function"==typeof t},e.defined=function(t){return void 0!==t},e.divisibleby=function(t,e){return t%e==0},e.escaped=function(t){return t instanceof r},e.equalto=function(t,e){return t===e},e.eq=e.equalto,e.sameas=e.equalto,e.even=function(t){return t%2==0},e.falsy=function(t){return!t},e.ge=function(t,e){return t>=e},e.greaterthan=function(t,e){return t>e},e.gt=e.greaterthan,e.le=function(t,e){return t<=e},e.lessthan=function(t,e){return t<e},e.lt=e.lessthan,e.lower=function(t){return t.toLowerCase()===t},e.ne=function(t,e){return t!==e},e.null=function(t){return null===t},e.number=function(t){return"number"==typeof t},e.odd=function(t){return t%2==1},e.string=function(t){return"string"==typeof t},e.truthy=function(t){return!!t},e.undefined=function(t){return void 0===t},e.upper=function(t){return t.toUpperCase()===t},e.iterable=function(t){return"undefined"!=typeof Symbol?!!t[Symbol.iterator]:Array.isArray(t)||"string"==typeof t},e.mapping=function(t){var e=null!=t&&"object"==typeof t&&!Array.isArray(t);return Set?e&&!(t instanceof Set):e}},function(t,e,n){"use strict";function r(t){var e=-1;return{current:null,reset:function(){e=-1,this.current=null},next:function(){return++e>=t.length&&(e=0),this.current=t[e],this.current}}}t.exports=function(){return{range:function(t,e,n){void 0===e?(e=t,t=0,n=1):n||(n=1);var r=[];if(n>0)for(var i=t;i<e;i+=n)r.push(i);else for(var o=t;o>e;o+=n)r.push(o);return r},cycler:function(){return r(Array.prototype.slice.call(arguments))},joiner:function(t){return function(t){t=t||",";var e=!0;return function(){var n=e?"":t;return e=!1,n}}(t)}}}},function(t,e,n){var r=n(4);t.exports=function(t,e){function n(t,e){if(this.name=t,this.path=t,this.defaultEngine=e.defaultEngine,this.ext=r.extname(t),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return n.prototype.render=function(e,n){t.render(this.name,e,n)},e.set("view",n),e.set("nunjucksEnv",t),t}},function(t,e,n){"use strict";var r=n(4),i=n(4),o=n(0)._prettifyError,s=n(5),a=n(7).Environment,u=n(24);function c(t,e){return!!Array.isArray(e)&&e.some((function(e){return t.match(e)}))}function l(t,e){(e=e||{}).isString=!0;var n=e.env||new a([]),r=e.wrapper||u;if(!e.name)throw new Error('the "name" option is required when compiling a string');return r([h(t,e.name,n)],e)}function h(t,e,n){var r,i=(n=n||new a([])).asyncFilters,u=n.extensionsList;e=e.replace(/\\/g,"/");try{r=s.compile(t,i,u,e,n.opts)}catch(t){throw o(e,!1,t)}return{name:e,template:r}}t.exports={precompile:function(t,e){var n=(e=e||{}).env||new a([]),o=e.wrapper||u;if(e.isString)return l(t,e);var s=r.existsSync(t)&&r.statSync(t),f=[],d=[];if(s.isFile())f.push(h(r.readFileSync(t,"utf-8"),e.name||t,n));else if(s.isDirectory()){!function n(o){r.readdirSync(o).forEach((function(s){var a=i.join(o,s),u=a.substr(i.join(t,"/").length),l=r.statSync(a);l&&l.isDirectory()?c(u+="/",e.exclude)||n(a):c(u,e.include)&&d.push(a)}))}(t);for(var p=0;p<d.length;p++){var m=d[p].replace(i.join(t,"/"),"");try{f.push(h(r.readFileSync(d[p],"utf-8"),m,n))}catch(t){if(!e.force)throw t;console.error(t)}}}return o(f,e)},precompileString:l}},function(t,e,n){"use strict";t.exports=function(t,e){var n="";e=e||{};for(var r=0;r<t.length;r++){var i=JSON.stringify(t[r].name);n+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+i+"] = (function() {\n"+t[r].template+"\n})();\n",e.asFunction&&(n+="return function(ctx, cb) { return nunjucks.render("+i+", ctx, cb); }\n"),n+="})();\n"}return n}},function(t,e,n){t.exports=function(){"use strict";var t,e,n=this.runtime,r=this.lib,i=this.compiler.Compiler,o=this.parser.Parser,s=this.nodes,a=this.lexer,u=n.contextOrFrameLookup,c=n.memberLookup;function l(t){return{index:t.index,lineno:t.lineno,colno:t.colno}}if(i&&(t=i.prototype.assertType),o&&(e=o.prototype.parseAggregate),n.contextOrFrameLookup=function(t,e,n){var r=u.apply(this,arguments);if(void 0!==r)return r;switch(n){case"True":return!0;case"False":return!1;case"None":return null;default:return}},s&&i&&o){var h=s.Node.extend("Slice",{fields:["start","stop","step"],init:function(t,e,n,r,i){n=n||new s.Literal(t,e,null),r=r||new s.Literal(t,e,null),i=i||new s.Literal(t,e,1),this.parent(t,e,n,r,i)}});i.prototype.assertType=function(e){e instanceof h||t.apply(this,arguments)},i.prototype.compileSlice=function(t,e){this._emit("("),this._compileExpression(t.start,e),this._emit("),("),this._compileExpression(t.stop,e),this._emit("),("),this._compileExpression(t.step,e),this._emit(")")},o.prototype.parseAggregate=function(){var t=this,n=l(this.tokens);n.colno--,n.index--;try{return e.apply(this)}catch(e){var i=l(this.tokens),o=function(){return r._assign(t.tokens,i),e};r._assign(this.tokens,n),this.peeked=!1;var u=this.peekToken();if(u.type!==a.TOKEN_LEFT_BRACKET)throw o();this.nextToken();for(var c=new h(u.lineno,u.colno),f=!1,d=0;d<=c.fields.length&&!this.skip(a.TOKEN_RIGHT_BRACKET);d++){if(d===c.fields.length){if(!f)break;this.fail("parseSlice: too many slice components",u.lineno,u.colno)}this.skip(a.TOKEN_COLON)?f=!0:(c[c.fields[d]]=this.parseExpression(),f=this.skip(a.TOKEN_COLON)||f)}if(!f)throw o();return new s.Array(u.lineno,u.colno,[c])}}}function f(t,e,r,i){t=t||[],null===e&&(e=i<0?t.length-1:0),null===r?r=i<0?-1:t.length:r<0&&(r+=t.length),e<0&&(e+=t.length);for(var o=[],s=e;!(s<0||s>t.length||i>0&&s>=r||i<0&&s<=r);s+=i)o.push(n.memberLookup(t,s));return o}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var p={pop:function(t){if(void 0===t)return this.pop();if(t>=this.length||t<0)throw new Error("KeyError");return this.splice(t,1)},append:function(t){return this.push(t)},remove:function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return this.splice(e,1);throw new Error("ValueError")},count:function(t){for(var e=0,n=0;n<this.length;n++)this[n]===t&&e++;return e},index:function(t){var e;if(-1===(e=this.indexOf(t)))throw new Error("ValueError");return e},find:function(t){return this.indexOf(t)},insert:function(t,e){return this.splice(t,0,e)}},m={items:function(){return r._entries(this)},values:function(){return r._values(this)},keys:function(){return r.keys(this)},get:function(t,e){var n=this[t];return void 0===n&&(n=e),n},has_key:function(t){return d(this,t)},pop:function(t,e){var n=this[t];if(void 0===n&&void 0!==e)n=e;else{if(void 0===n)throw new Error("KeyError");delete this[t]}return n},popitem:function(){var t=r.keys(this);if(!t.length)throw new Error("KeyError");var e=t[0],n=this[e];return delete this[e],[e,n]},setdefault:function(t,e){return void 0===e&&(e=null),t in this||(this[t]=e),this[t]},update:function(t){return r._assign(this,t),null}};return m.iteritems=m.items,m.itervalues=m.values,m.iterkeys=m.keys,n.memberLookup=function(t,e,n){return 4===arguments.length?f.apply(this,arguments):(t=t||{},r.isArray(t)&&d(p,e)?p[e].bind(t):r.isObject(t)&&d(m,e)?m[e].bind(t):c.apply(this,arguments))},function(){n.contextOrFrameLookup=u,n.memberLookup=c,i&&(i.prototype.assertType=t),o&&(o.prototype.parseAggregate=e)}}}])},t.exports=e()},540:function(t,e){!function(t){"use strict";function e(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length>1){e[0]=e[0].slice(0,-1);for(var r=e.length-1,i=1;i<r;++i)e[i]=e[i].slice(1,-1);return e[r]=e[r].slice(1),e.join("")}return e[0]}function n(t){return"(?:"+t+")"}function r(t){return void 0===t?"undefined":null===t?"null":Object.prototype.toString.call(t).split(" ").pop().split("]").shift().toLowerCase()}function i(t){return t.toUpperCase()}function o(t){var r="[A-Za-z]",i="[0-9]",o=e(i,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=e("[\\:\\/\\?\\#\\[\\]\\@]",a),c=t?"[\\uE000-\\uF8FF]":"[]",l=e(r,i,"[\\-\\.\\_\\~]",t?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),h=n(r+e(r,i,"[\\+\\-\\.]")+"*"),f=n(n(s+"|"+e(l,a,"[\\:]"))+"*"),d=(n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|"+i),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?"+i)),p=n(d+"\\."+d+"\\."+d+"\\."+d),m=n(o+"{1,4}"),v=n(n(m+"\\:"+m)+"|"+p),y=n(n(m+"\\:")+"{6}"+v),g=n("\\:\\:"+n(m+"\\:")+"{5}"+v),_=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+v),b=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+v),x=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+v),E=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+v),w=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+v),T=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),S=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),k=n([y,g,_,b,x,E,w,T,S].join("|")),A=n(n(l+"|"+s)+"+"),O=(n(k+"\\%25"+A),n(k+n("\\%25|\\%(?!"+o+"{2})")+A)),C=n("[vV]"+o+"+\\."+e(l,a,"[\\:]")+"+"),P=n("\\["+n(O+"|"+k+"|"+C)+"\\]"),R=n(n(s+"|"+e(l,a))+"*"),N=n(P+"|"+p+"(?!"+R+")|"+R),L=n("[0-9]*"),I=n(n(f+"@")+"?"+N+n("\\:"+L)+"?"),M=n(s+"|"+e(l,a,"[\\:\\@]")),D=n(M+"*"),F=n(M+"+"),j=n(n(s+"|"+e(l,a,"[\\@]"))+"+"),U=n(n("\\/"+D)+"*"),B=n("\\/"+n(F+U)+"?"),$=n(j+U),z=n(F+U),q="(?!"+M+")",V=(n(U+"|"+B+"|"+$+"|"+z+"|"+q),n(n(M+"|"+e("[\\/\\?]",c))+"*")),H=n(n(M+"|[\\/\\?]")+"*"),K=n(n("\\/\\/"+I+U)+"|"+B+"|"+z+"|"+q),Y=n(h+"\\:"+K+n("\\?"+V)+"?"+n("\\#"+H)+"?"),G=n(n("\\/\\/"+I+U)+"|"+B+"|"+$+"|"+q),Q=n(G+n("\\?"+V)+"?"+n("\\#"+H)+"?");return n(Y+"|"+Q),n(h+"\\:"+K+n("\\?"+V)+"?"),n(n("\\/\\/("+n("("+f+")@")+"?("+N+")"+n("\\:("+L+")")+"?)")+"?("+U+"|"+B+"|"+z+"|"+q+")"),n("\\?("+V+")"),n("\\#("+H+")"),n(n("\\/\\/("+n("("+f+")@")+"?("+N+")"+n("\\:("+L+")")+"?)")+"?("+U+"|"+B+"|"+$+"|"+q+")"),n("\\?("+V+")"),n("\\#("+H+")"),n(n("\\/\\/("+n("("+f+")@")+"?("+N+")"+n("\\:("+L+")")+"?)")+"?("+U+"|"+B+"|"+z+"|"+q+")"),n("\\?("+V+")"),n("\\#("+H+")"),n("("+f+")@"),n("\\:("+L+")"),{NOT_SCHEME:new RegExp(e("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",l,u),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+k+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+A+")")+"?\\]?$")}}var s=o(!1),a=o(!0),u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=36,h=/^xn--/,f=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,v=String.fromCharCode;function y(t){throw new RangeError(p[t])}function g(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+function(t,e){for(var n=[],r=t.length;r--;)n[r]=e(t[r]);return n}((t=t.replace(d,".")).split("."),e).join(".")}function _(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}var b=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},x=function(t,e,n){var r=0;for(t=n?m(t/700):t>>1,t+=m(t/e);t>455;r+=l)t=m(t/35);return m(r+36*t/(t+38))},E=function(t){var e,n=[],r=t.length,i=0,o=128,s=72,a=t.lastIndexOf("-");a<0&&(a=0);for(var u=0;u<a;++u)t.charCodeAt(u)>=128&&y("not-basic"),n.push(t.charCodeAt(u));for(var h=a>0?a+1:0;h<r;){for(var f=i,d=1,p=l;;p+=l){h>=r&&y("invalid-input");var v=(e=t.charCodeAt(h++))-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l;(v>=l||v>m((c-i)/d))&&y("overflow"),i+=v*d;var g=p<=s?1:p>=s+26?26:p-s;if(v<g)break;var _=l-g;d>m(c/_)&&y("overflow"),d*=_}var b=n.length+1;s=x(i-f,b,0==f),m(i/b)>c-o&&y("overflow"),o+=m(i/b),i%=b,n.splice(i++,0,o)}return String.fromCodePoint.apply(String,n)},w=function(t){var e=[],n=(t=_(t)).length,r=128,i=0,o=72,s=!0,a=!1,u=void 0;try{for(var h,f=t[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var d=h.value;d<128&&e.push(v(d))}}catch(t){a=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(a)throw u}}var p=e.length,g=p;for(p&&e.push("-");g<n;){var E=c,w=!0,T=!1,S=void 0;try{for(var k,A=t[Symbol.iterator]();!(w=(k=A.next()).done);w=!0){var O=k.value;O>=r&&O<E&&(E=O)}}catch(t){T=!0,S=t}finally{try{!w&&A.return&&A.return()}finally{if(T)throw S}}var C=g+1;E-r>m((c-i)/C)&&y("overflow"),i+=(E-r)*C,r=E;var P=!0,R=!1,N=void 0;try{for(var L,I=t[Symbol.iterator]();!(P=(L=I.next()).done);P=!0){var M=L.value;if(M<r&&++i>c&&y("overflow"),M==r){for(var D=i,F=l;;F+=l){var j=F<=o?1:F>=o+26?26:F-o;if(D<j)break;var U=D-j,B=l-j;e.push(v(b(j+U%B,0))),D=m(U/B)}e.push(v(b(D,0))),o=x(i,C,g==p),i=0,++g}}}catch(t){R=!0,N=t}finally{try{!P&&I.return&&I.return()}finally{if(R)throw N}}++i,++r}return e.join("")},T=function(t){return g(t,(function(t){return f.test(t)?"xn--"+w(t):t}))},S=function(t){return g(t,(function(t){return h.test(t)?E(t.slice(4).toLowerCase()):t}))},k={};function A(t){var e=t.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function O(t){for(var e="",n=0,r=t.length;n<r;){var i=parseInt(t.substr(n+1,2),16);if(i<128)e+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(t.substr(n+4,2),16);e+=String.fromCharCode((31&i)<<6|63&o)}else e+=t.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var s=parseInt(t.substr(n+4,2),16),a=parseInt(t.substr(n+7,2),16);e+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else e+=t.substr(n,9);n+=9}else e+=t.substr(n,3),n+=3}return e}function C(t,e){function n(t){var n=O(t);return n.match(e.UNRESERVED)?n:t}return t.scheme&&(t.scheme=String(t.scheme).replace(e.PCT_ENCODED,n).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==t.userinfo&&(t.userinfo=String(t.userinfo).replace(e.PCT_ENCODED,n).replace(e.NOT_USERINFO,A).replace(e.PCT_ENCODED,i)),void 0!==t.host&&(t.host=String(t.host).replace(e.PCT_ENCODED,n).toLowerCase().replace(e.NOT_HOST,A).replace(e.PCT_ENCODED,i)),void 0!==t.path&&(t.path=String(t.path).replace(e.PCT_ENCODED,n).replace(t.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,A).replace(e.PCT_ENCODED,i)),void 0!==t.query&&(t.query=String(t.query).replace(e.PCT_ENCODED,n).replace(e.NOT_QUERY,A).replace(e.PCT_ENCODED,i)),void 0!==t.fragment&&(t.fragment=String(t.fragment).replace(e.PCT_ENCODED,n).replace(e.NOT_FRAGMENT,A).replace(e.PCT_ENCODED,i)),t}function P(t){return t.replace(/^0*(.*)/,"$1")||"0"}function R(t,e){var n=t.match(e.IPV4ADDRESS)||[],r=u(n,2)[1];return r?r.split(".").map(P).join("."):t}function N(t,e){var n=t.match(e.IPV6ADDRESS)||[],r=u(n,3),i=r[1],o=r[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=u(s,2),c=a[0],l=a[1],h=l?l.split(":").map(P):[],f=c.split(":").map(P),d=e.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,m=f.length-p,v=Array(p),y=0;y<p;++y)v[y]=h[y]||f[m+y]||"";d&&(v[p-1]=R(v[p-1],e));var g=v.reduce((function(t,e,n){if(!e||"0"===e){var r=t[t.length-1];r&&r.index+r.length===n?r.length++:t.push({index:n,length:1})}return t}),[]).sort((function(t,e){return e.length-t.length}))[0],_=void 0;if(g&&g.length>1){var b=v.slice(0,g.index),x=v.slice(g.index+g.length);_=b.join(":")+"::"+x.join(":")}else _=v.join(":");return o&&(_+="%"+o),_}return t}var L=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,I=void 0==="".match(/(){0}/)[1];function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==e.iri?a:s;"suffix"===e.reference&&(t=(e.scheme?e.scheme+":":"")+"//"+t);var i=t.match(L);if(i){I?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==t.indexOf("@")?i[3]:void 0,n.host=-1!==t.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==t.indexOf("?")?i[7]:void 0,n.fragment=-1!==t.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=t.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=N(R(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",e.reference&&"suffix"!==e.reference&&e.reference!==n.reference&&(n.error=n.error||"URI is not a "+e.reference+" reference.");var o=k[(e.scheme||n.scheme||"").toLowerCase()];if(e.unicodeSupport||o&&o.unicodeSupport)C(n,r);else{if(n.host&&(e.domainHost||o&&o.domainHost))try{n.host=T(n.host.replace(r.PCT_ENCODED,O).toLowerCase())}catch(t){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+t}C(n,s)}o&&o.parse&&o.parse(n,e)}else n.error=n.error||"URI can not be parsed.";return n}function D(t,e){var n=!1!==e.iri?a:s,r=[];return void 0!==t.userinfo&&(r.push(t.userinfo),r.push("@")),void 0!==t.host&&r.push(N(R(String(t.host),n),n).replace(n.IPV6ADDRESS,(function(t,e,n){return"["+e+(n?"%25"+n:"")+"]"}))),"number"!=typeof t.port&&"string"!=typeof t.port||(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0}var F=/^\.\.?\//,j=/^\/\.(\/|$)/,U=/^\/\.\.(\/|$)/,B=/^\/?(?:.|\n)*?(?=\/|$)/;function $(t){for(var e=[];t.length;)if(t.match(F))t=t.replace(F,"");else if(t.match(j))t=t.replace(j,"/");else if(t.match(U))t=t.replace(U,"/"),e.pop();else if("."===t||".."===t)t="";else{var n=t.match(B);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];t=t.slice(r.length),e.push(r)}return e.join("")}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.iri?a:s,r=[],i=k[(e.scheme||t.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(t,e),t.host)if(n.IPV6ADDRESS.test(t.host));else if(e.domainHost||i&&i.domainHost)try{t.host=e.iri?S(t.host):T(t.host.replace(n.PCT_ENCODED,O).toLowerCase())}catch(n){t.error=t.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+n}C(t,n),"suffix"!==e.reference&&t.scheme&&(r.push(t.scheme),r.push(":"));var o=D(t,e);if(void 0!==o&&("suffix"!==e.reference&&r.push("//"),r.push(o),t.path&&"/"!==t.path.charAt(0)&&r.push("/")),void 0!==t.path){var u=t.path;e.absolutePath||i&&i.absolutePath||(u=$(u)),void 0===o&&(u=u.replace(/^\/\//,"/%2F")),r.push(u)}return void 0!==t.query&&(r.push("?"),r.push(t.query)),void 0!==t.fragment&&(r.push("#"),r.push(t.fragment)),r.join("")}function q(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(t=M(z(t,n),n),e=M(z(e,n),n)),!(n=n||{}).tolerant&&e.scheme?(r.scheme=e.scheme,r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=$(e.path||""),r.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=$(e.path||""),r.query=e.query):(e.path?("/"===e.path.charAt(0)?r.path=$(e.path):(void 0===t.userinfo&&void 0===t.host&&void 0===t.port||t.path?t.path?r.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:r.path=e.path:r.path="/"+e.path,r.path=$(r.path)),r.query=e.query):(r.path=t.path,void 0!==e.query?r.query=e.query:r.query=t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=e.fragment,r}function V(t,e){return t&&t.toString().replace(e&&e.iri?a.PCT_ENCODED:s.PCT_ENCODED,O)}var H={scheme:"http",domainHost:!0,parse:function(t,e){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t},serialize:function(t,e){var n="https"===String(t.scheme).toLowerCase();return t.port!==(n?443:80)&&""!==t.port||(t.port=void 0),t.path||(t.path="/"),t}},K={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize};function Y(t){return"boolean"==typeof t.secure?t.secure:"wss"===String(t.scheme).toLowerCase()}var G={scheme:"ws",domainHost:!0,parse:function(t,e){var n=t;return n.secure=Y(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(t,e){if(t.port!==(Y(t)?443:80)&&""!==t.port||(t.port=void 0),"boolean"==typeof t.secure&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){var n=t.resourceName.split("?"),r=u(n,2),i=r[0],o=r[1];t.path=i&&"/"!==i?i:void 0,t.query=o,t.resourceName=void 0}return t.fragment=void 0,t}},Q={scheme:"wss",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize},W={},X="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",J="[0-9A-Fa-f]",Z=n(n("%[EFef][0-9A-Fa-f]%"+J+J+"%"+J+J)+"|"+n("%[89A-Fa-f][0-9A-Fa-f]%"+J+J)+"|"+n("%"+J+J)),tt=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),et=new RegExp(X,"g"),nt=new RegExp(Z,"g"),rt=new RegExp(e("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',tt),"g"),it=new RegExp(e("[^]",X,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ot=it;function st(t){var e=O(t);return e.match(et)?e:t}var at={scheme:"mailto",parse:function(t,e){var n=t,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},s=n.query.split("&"),a=0,u=s.length;a<u;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),h=0,f=l.length;h<f;++h)r.push(l[h]);break;case"subject":n.subject=V(c[1],e);break;case"body":n.body=V(c[1],e);break;default:i=!0,o[V(c[0],e)]=V(c[1],e)}}i&&(n.headers=o)}n.query=void 0;for(var d=0,p=r.length;d<p;++d){var m=r[d].split("@");if(m[0]=V(m[0]),e.unicodeSupport)m[1]=V(m[1],e).toLowerCase();else try{m[1]=T(V(m[1],e).toLowerCase())}catch(t){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}r[d]=m.join("@")}return n},serialize:function(t,e){var n,r=t,o=null!=(n=t.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var s=0,a=o.length;s<a;++s){var u=String(o[s]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(nt,st).replace(nt,i).replace(rt,A),h=u.slice(c+1);try{h=e.iri?S(h):T(V(h,e).toLowerCase())}catch(t){r.error=r.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+t}o[s]=l+"@"+h}r.path=o.join(",")}var f=t.headers=t.headers||{};t.subject&&(f.subject=t.subject),t.body&&(f.body=t.body);var d=[];for(var p in f)f[p]!==W[p]&&d.push(p.replace(nt,st).replace(nt,i).replace(it,A)+"="+f[p].replace(nt,st).replace(nt,i).replace(ot,A));return d.length&&(r.query=d.join("&")),r}},ut=/^([^\:]+)\:(.*)/,ct={scheme:"urn",parse:function(t,e){var n=t.path&&t.path.match(ut),r=t;if(n){var i=e.scheme||r.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=i+":"+(e.nid||o),u=k[a];r.nid=o,r.nss=s,r.path=void 0,u&&(r=u.parse(r,e))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(t,e){var n=e.scheme||t.scheme||"urn",r=t.nid,i=n+":"+(e.nid||r),o=k[i];o&&(t=o.serialize(t,e));var s=t,a=t.nss;return s.path=(r||e.nid)+":"+a,s}},lt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ht={scheme:"urn:uuid",parse:function(t,e){var n=t;return n.uuid=n.nss,n.nss=void 0,e.tolerant||n.uuid&&n.uuid.match(lt)||(n.error=n.error||"UUID is not valid."),n},serialize:function(t,e){var n=t;return n.nss=(t.uuid||"").toLowerCase(),n}};k[H.scheme]=H,k[K.scheme]=K,k[G.scheme]=G,k[Q.scheme]=Q,k[at.scheme]=at,k[ct.scheme]=ct,k[ht.scheme]=ht,t.SCHEMES=k,t.pctEncChar=A,t.pctDecChars=O,t.parse=M,t.removeDotSegments=$,t.serialize=z,t.resolveComponents=q,t.resolve=function(t,e,n){var r=function(t,e){var n=t;if(e)for(var r in e)n[r]=e[r];return n}({scheme:"null"},n);return z(q(M(t,r),M(e,r),r,!0),r)},t.normalize=function(t,e){return"string"==typeof t?t=z(M(t,e),e):"object"===r(t)&&(t=M(z(t,e),e)),t},t.equal=function(t,e,n){return"string"==typeof t?t=z(M(t,n),n):"object"===r(t)&&(t=z(t,n)),"string"==typeof e?e=z(M(e,n),n):"object"===r(e)&&(e=z(e,n)),t===e},t.escapeComponent=function(t,e){return t&&t.toString().replace(e&&e.iri?a.ESCAPE:s.ESCAPE,A)},t.unescapeComponent=V,Object.defineProperty(t,"__esModule",{value:!0})}(e)},654:()=>{},894:t=>{"use strict";t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},680:t=>{"use strict";t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{default:()=>mr});var t=n(181);function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function s(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}const u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(c,t);var e,n,r,u=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=a(n);if(r){var i=a(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return s(this,t)});function c(){return i(this,c),u.apply(this,arguments)}return e=c,Object.defineProperty(e,"prototype",{writable:!1}),e}(t.DefaultDrawer);var c=n(96),l=n.n(c);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}const v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(n);if(r){var i=m(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return p(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{blockType:null,provider:null};return f(this,o),(t=i.call(this,e)).blockType=e.blockType||null,t.provider=e.provider||null,t}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(t.ComponentDefinition),y={$id:"https://ditrit.io/schemas",type:"object",properties:{name:{type:"string"},model:{type:"string"},icon:{type:"string"},attributes:{type:"array",items:{$ref:"#/definitions/attribute"}},data:{type:"array",items:{$ref:"#/definitions/data"}},modules:{type:"array",items:{$ref:"#/definitions/module"}},resources:{type:"array",items:{$ref:"#/definitions/resource"}},variables:{type:"array",items:{$ref:"#/definitions/variable"}}},required:["name","attributes","data","modules","resources","variables"],definitions:{defaultObject:{type:"object",properties:{type:{type:"string"},model:{type:"string"},icon:{type:"string"},isContainer:{type:"boolean"},attributes:{type:"array",items:{$ref:"#/definitions/attribute"}}},required:["type","attributes"]},attribute:{type:"object",properties:{name:{type:"string"},type:{type:"string",pattern:"(String|Boolean|Number|Array|Object|Link|Reference)"},required:{type:"boolean"},linkType:{type:"string"},linkRef:{type:"string"},attributes:{type:"array",items:{$ref:"#/definitions/attribute"}},rules:{$ref:"#/definitions/rule"}},required:["name","type"]},rule:{type:"object",properties:{values:{type:"array",items:{type:"string"}},min:{type:"integer"},max:{type:"integer"},regex:{type:"string"}}},data:{$ref:"#/definitions/defaultObject"},module:{$ref:"#/definitions/defaultObject"},resource:{$ref:"#/definitions/defaultObject"},variable:{$ref:"#/definitions/defaultObject"}}},g={aws:JSON.parse('{"name":"aws","isContainer":false,"attributes":[{"name":"region","type":"String","required":true}],"data":[{"type":"aws_ami","model":"DefaultModel","icon":"Aws_EC2_AMI","isContainer":false,"attributes":[]}],"modules":[{"type":"server","model":"DefaultModel","icon":"Aws_Servers","isContainer":false,"attributes":[]}],"resources":[{"type":"aws_security_group","model":"DefaultModel","icon":"AwsSecurityGroup","isContainer":false,"attributes":[{"name":"vpc_id","type":"Link","required":false,"linkType":"default","linkRef":"aws_vpc","attributes":[],"rules":{}}]},{"type":"aws_instance","model":"DefaultModel","icon":"Aws_EC2-Instance","isContainer":false,"attributes":[{"name":"security_groups","type":"Link","required":false,"linkType":"inverse","linkRef":"aws_security_group","attributes":[],"rules":{}},{"name":"vpc_security_group_ids","type":"Link","required":false,"linkType":"inverse","linkRef":"aws_security_group","attributes":[],"rules":{}},{"name":"subnet_id","type":"Link","required":false,"linkType":"default","linkRef":"aws_subnet","attributes":[],"rules":{}}]},{"type":"aws_volume_attachment","model":"DefaultModel","icon":"Aws_Elastic-Block-Store_Volume","isContainer":false,"attributes":[{"name":"device_name","type":"String","required":false},{"name":"volume_id","type":"Link","required":false,"linkType":"Default","linkRef":"aws_ebs_volume","attributes":[],"rules":{}},{"name":"instance_id","type":"Link","required":false,"linkType":"Default","linkRef":"aws_instance","attributes":[],"rules":{}}]},{"type":"aws_ebs_volume","model":"DefaultModel","icon":"Aws_Elastic-Block-Store_Volume","isContainer":false,"attributes":[{"name":"availability_zone","type":"String","required":false,"attributes":[],"rules":{}}]},{"type":"aws_elb","model":"DefaultModel","icon":"Aws_Elastic-Load-Balancing_Network-Load-Balancer","isContainer":false,"attributes":[{"name":"listener","type":"Object","required":true,"attributes":[{"name":"instance_port","type":"String","required":true,"attributes":[],"rules":{}},{"name":"lb_port","type":"Number","required":true,"attributes":[],"rules":{}},{"name":"lb_protocol","type":"String","required":true,"attributes":[],"rules":{}},{"name":"instance_protocol","type":"String","required":true,"attributes":[],"rules":{}}],"rules":{}},{"name":"subnets","type":"Link","required":false,"linkType":"Default","linkRef":"aws_subnet","attributes":[],"rules":{}},{"name":"security_groups","type":"Link","required":false,"linkType":"Default","linkRef":"aws_security_group","attributes":[],"rules":{}},{"name":"instances","type":"Link","required":false,"linkType":"Default","linkRef":"aws_instance","attributes":[],"rules":{}}]},{"type":"aws_vpc","model":"DefaultModel","icon":"Aws_Virtual-Private-Cloud","isContainer":true,"containerRef":[],"attributes":[]},{"type":"aws_internet_gateway","model":"DefaultModel","icon":"Aws_VPC_Internet-Gateway","isContainer":false,"required":false,"attributes":[{"name":"vpc_id","type":"Reference","required":false,"reference":"aws_vpc","attributes":[],"rules":{}}]},{"type":"aws_route","model":"DefaultModel","icon":"Aws_Route-53","isContainer":false,"attributes":[{"name":"route_table_id","type":"Reference","required":true,"linkType":"","reference":"aws_route","attributes":[],"rules":{}},{"name":"gateway_id","type":"Link","required":false,"linkType":"Default","linkRef":"aws_internet_gateway","attributes":[],"rules":{}}]},{"type":"aws_subnet","model":"DefaultModel","icon":"AwsSubnet","isContainer":false,"attributes":[{"name":"vpc_id","type":"Reference","required":false,"reference":"aws_vpc","attributes":[],"rules":{}},{"name":"gateway_id","type":"Link","required":false,"linkType":"Default","linkRef":"aws_internet_gateway","attributes":[],"rules":{}}]},{"type":"aws_db_subnet_group","model":"DefaultModel","icon":"AwsDbSubnetGroup","isContainer":true,"attributes":[{"name":"subnet_ids","type":"Reference","required":true,"reference":"aws_subnet","attributes":[],"rules":{}}]},{"type":"aws_route53_zone","model":"DefaultModel","icon":"Aws_Route-53-Hosted-Zone","isContainer":true,"attributes":[{"name":"name","type":"String","required":true,"linkType":"","linkRef":"","attributes":[],"rules":{}}]},{"type":"aws_route53_record","model":"DefaultModel","icon":"Aws_Route-53_Route-Table","isContainer":false,"attributes":[{"name":"zone_id","type":"Reference","required":true,"reference":"aws_route53_zone","attributes":[],"rules":{}},{"name":"records","type":"Link","required":false,"linkType":"Default","linkRef":"aws_route53_record","attributes":[],"rules":{}}]},{"type":"aws_db_instance","model":"DefaultModel","icon":"","isContainer":false,"attributes":[{"name":"instance_class","type":"String","required":true,"attributes":[],"rules":{}},{"name":"db_subnet_group_name","type":"Link","required":false,"linkType":"Default","linkRef":"aws_db_subnet_group","attributes":[],"rules":{}},{"name":"vpc_security_group_ids","type":"Link","required":true,"linkType":"Default","linkRef":"aws_security_group","attributes":[],"rules":{}}]},{"type":"aws_key_pair","model":"DefaultModel","icon":"Aws_Identity-Access-Management_Long-Term-Security-Credential","isContainer":false,"attributes":[]}],"variables":[{"type":"image_id","model":"DefaultModel","icon":"variable","isContainer":false,"attributes":[]}]}')};function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function S(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return k(t)}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}const O=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=A(i);if(o){var n=A(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return S(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this)).providers=g,t.ajv=new(l()),t.schema=y,t.getAttributeDefinition=t.getAttributeDefinition.bind(k(t)),t}return n=a,r=[{key:"validate",value:function(){var t=this,e=[];if(Object.keys(this.providers).forEach((function(n){var r=t.ajv.compile(t.schema);r(t.providers[n])||e.push({provider:n,errors:r.errors})})),e.length>0)throw new Error("Metadata are not valid",{cause:e});return!0}},{key:"getDefinitions",value:function(){var t=this.getComponentDefinitions();return{components:t,links:this.getLinkDefinitions(t)}}},{key:"getLinkDefinitions",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){t.definedAttributes.forEach((function(r){return e.setLinkDefinition(n,t.type,r)}))})),n}},{key:"setLinkDefinition",value:function(e,n,r){var i=this;if(r.definedAttributes.length>0&&r.definedAttributes.forEach((function(t){return i.setLinkDefinition(e,n,t)})),"Link"===r.type){var o=new t.ComponentLinkDefinition({type:r.linkType});"Reverse"===r.linkType?(o.sourceRef=r.linkRef,o.targetRef=n):(o.sourceRef=n,o.targetRef=r.linkRef),o.attributeRef=r.name,e.push(o)}}},{key:"getComponentDefinitions",value:function(){var t=this,e=[];return Object.keys(this.providers).map((function(e){return t.providers[e]})).forEach((function(n){e.push(t.getProviderDefinition(n)),n.data.forEach((function(r){return e.push(t.getBlockDefinition("data",n.name,r))})),n.modules.forEach((function(r){return e.push(t.getBlockDefinition("module",n.name,r))})),n.resources.forEach((function(r){return e.push(t.getBlockDefinition("resource",n.name,r))})),n.variables.forEach((function(r){return e.push(t.getBlockDefinition("variable",n.name,r))}))})),e}},{key:"getProviderDefinition",value:function(t){var e=new v({blockType:"provider",provider:t.name,type:t.name,icon:t.icon,model:t.model,definedAttributes:t.attributes.map(this.getAttributeDefinition),isContainer:t.isContainer});return e.parentTypes=this.getParentTypes(e),e}},{key:"getBlockDefinition",value:function(t,e,n){var r=new v({blockType:t,provider:e,type:n.type,model:n.model,icon:n.icon,isContainer:n.isContainer,definedAttributes:n.attributes.map(this.getAttributeDefinition)});return r.parentTypes=this.getParentTypes(r),r}},{key:"getAttributeDefinition",value:function(e){var n=e.attributes||[];return new t.ComponentAttributeDefinition(x(x({},e),{},{definedAttributes:n.map(this.getAttributeDefinition)}))}},{key:"getParentTypes",value:function(t){var e=[];return t.definedAttributes.filter((function(t){return"Reference"===t.type})).map((function(t){return t.containerRef})).filter((function(t){return!e.includes(t)})).forEach((function(t){return e.push(t)})),e}}],r&&w(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.DefaultMetadata);String.prototype.seed=String.prototype.seed||Math.round(Math.random()*Math.pow(2,32)),String.prototype.hashCode=function(){const t=this.toString();let e,n;const r=3&t.length,i=t.length-r;let o=String.prototype.seed;const s=3432918353,a=461845907;let u=0;for(;u<i;)n=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,n=(65535&n)*s+(((n>>>16)*s&65535)<<16)&4294967295,n=n<<15|n>>>17,n=(65535&n)*a+(((n>>>16)*a&65535)<<16)&4294967295,o^=n,o=o<<13|o>>>19,e=5*(65535&o)+((5*(o>>>16)&65535)<<16)&4294967295,o=27492+(65535&e)+((58964+(e>>>16)&65535)<<16);switch(n=0,r){case 3:n^=(255&t.charCodeAt(u+2))<<16;case 2:n^=(255&t.charCodeAt(u+1))<<8;case 1:n^=255&t.charCodeAt(u),n=(65535&n)*s+(((n>>>16)*s&65535)<<16)&4294967295,n=n<<15|n>>>17,n=(65535&n)*a+(((n>>>16)*a&65535)<<16)&4294967295,o^=n}return o^=t.length,o^=o>>>16,o=2246822507*(65535&o)+((2246822507*(o>>>16)&65535)<<16)&4294967295,o^=o>>>13,o=3266489909*(65535&o)+((3266489909*(o>>>16)&65535)<<16)&4294967295,o^=o>>>16,o>>>0},String.prototype.codePointAt||function(){var t=function(){let t;try{const e={},n=Object.defineProperty;t=n(e,e,e)&&n}catch(t){}return t}();const e=function(t){if(null==this)throw TypeError();const e=String(this),n=e.length;let r=t?Number(t):0;if(r!=r&&(r=0),r<0||r>=n)return;const i=e.charCodeAt(r);let o;return i>=55296&&i<=56319&&n>r+1&&(o=e.charCodeAt(r+1),o>=56320&&o<=57343)?1024*(i-55296)+o-56320+65536:i};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}(),String.fromCodePoint||function(){const t=function(){let t;try{const e={},n=Object.defineProperty;t=n(e,e,e)&&n}catch(t){}return t}(),e=String.fromCharCode,n=Math.floor,r=function(t){const r=16384,i=[];let o,s,a=-1;const u=arguments.length;if(!u)return"";let c="";for(;++a<u;){let t=Number(arguments[a]);if(!isFinite(t)||t<0||t>1114111||n(t)!==t)throw RangeError("Invalid code point: "+t);t<=65535?i.push(t):(t-=65536,o=55296+(t>>10),s=t%1024+56320,i.push(o,s)),(a+1===u||i.length>r)&&(c+=e.apply(null,i),i.length=0)}return c};t?t(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}();class C{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t){this._text=t}}function P(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}C.INVALID_TYPE=0,C.EPSILON=-2,C.MIN_USER_TOKEN_TYPE=1,C.EOF=-1,C.DEFAULT_CHANNEL=0,C.HIDDEN_CHANNEL=1;class R{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){const e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{let t=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":t=e;break;case"string":t=e.hashCode();break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}t*=3432918353,t=t<<15|t>>>17,t*=461845907,this.count=this.count+1;let n=this.hash^t;n=n<<13|n>>>19,n=5*n+3864292196,this.hash=n}}}finish(){let t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,t*=3266489909,t^=t>>>16,t}static hashStuff(){const t=new R;return t.update.apply(t,arguments),t.finish()}}function N(t){return t?t.hashCode():-1}function L(t,e){return t?t.equals(e):t===e}function I(t){return null===t?"null":t}function M(t){return Array.isArray(t)?"["+t.map(I).join(", ")+"]":"null"}const D="h-";class F{constructor(t,e){this.data={},this.hashFunction=t||N,this.equalsFunction=e||L}add(t){const e=D+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e];return n.push(t),t}return this.data[e]=[t],t}has(t){return null!=this.get(t)}get(t){const e=D+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e]}return null}values(){return Object.keys(this.data).filter((t=>t.startsWith(D))).flatMap((t=>this.data[t]),this)}toString(){return M(this.values())}get length(){return Object.keys(this.data).filter((t=>t.startsWith(D))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}class j{hashCode(){const t=new R;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(null===t||t===j.NONE)return e;if(null===e||e===j.NONE)return t;const n=new U(t,e);return 1===n.opnds.length?n.opnds[0]:n}static orContext(t,e){if(null===t)return e;if(null===e)return t;if(t===j.NONE||e===j.NONE)return j.NONE;const n=new B(t,e);return 1===n.opnds.length?n.opnds[0]:n}}class U extends j{constructor(t,e){super();const n=new F;t instanceof U?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof U?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=$(n);if(r.length>0){let t=null;r.map((function(e){(null===t||e.precedence<t.precedence)&&(t=e)})),n.add(t)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof U&&P(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const o=this.opnds[i],s=o.evalPrecedence(t,e);if(n|=s!==o,null===s)return null;s!==j.NONE&&r.push(s)}if(!n)return this;if(0===r.length)return j.NONE;let i=null;return r.map((function(t){i=null===i?t:j.andContext(i,t)})),i}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("&&")}}class B extends j{constructor(t,e){super();const n=new F;t instanceof B?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof B?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=$(n);if(r.length>0){const t=r.sort((function(t,e){return t.compareTo(e)})),e=t[t.length-1];n.add(e)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof B&&P(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const o=this.opnds[i],s=o.evalPrecedence(t,e);if(n|=s!==o,s===j.NONE)return j.NONE;null!==s&&r.push(s)}if(!n)return this;if(0===r.length)return null;return r.map((function(t){return t})),null}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("||")}}function $(t){const e=[];return t.values().map((function(t){t instanceof j.PrecedencePredicate&&e.push(t)})),e}function z(t,e){if(null===t){const t={state:null,alt:null,context:null,semanticContext:null};return e&&(t.reachesIntoOuterContext=0),t}{const n={};return n.state=t.state||null,n.alt=void 0===t.alt?null:t.alt,n.context=t.context||null,n.semanticContext=t.semanticContext||null,e&&(n.reachesIntoOuterContext=t.reachesIntoOuterContext||0,n.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),n}}class q{constructor(t,e){this.checkContext(t,e),t=z(t),e=z(e,!0),this.state=null!==t.state?t.state:e.state,this.alt=null!==t.alt?t.alt:e.alt,this.context=null!==t.context?t.context:e.context,this.semanticContext=null!==t.semanticContext?t.semanticContext:null!==e.semanticContext?e.semanticContext:j.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}hashCode(){const t=new R;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t||t instanceof q&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(null===this.context?null===t.context:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed}hashCodeForConfigSet(){const t=new R;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t||t instanceof q&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext)}toString(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==j.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class V{constructor(t,e){this.start=t,this.stop=e}clone(){return new V(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}V.INVALID_INTERVAL=new V(-1,-2);class H{constructor(){this.intervals=null,this.readOnly=!1}first(t){return null===this.intervals||0===this.intervals.length?C.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new V(t,t+1))}addRange(t,e){this.addInterval(new V(t,e+1))}addInterval(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new V(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new V(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}addSet(t){return null!==t.intervals&&t.intervals.forEach((t=>this.addInterval(t)),this),this}reduce(t){if(t<this.intervals.length-1){const e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new V(e.start,n.stop),this.intervals.splice(t+1,1))}}complement(t,e){const n=new H;return n.addInterval(new V(t,e+1)),null!==this.intervals&&this.intervals.forEach((t=>n.removeRange(t))),n}contains(t){if(null===this.intervals)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals){let e=0;for(let n=0;n<this.intervals.length;n++){const n=this.intervals[e];if(t.stop<=n.start)return;if(t.start>n.start&&t.stop<n.stop){this.intervals[e]=new V(n.start,t.start);const r=new V(t.stop,n.stop);return void this.intervals.splice(e,0,r)}t.start<=n.start&&t.stop>=n.stop?(this.intervals.splice(e,1),e-=1):t.start<n.stop?this.intervals[e]=new V(n.start,t.start):t.stop<n.stop&&(this.intervals[e]=new V(t.stop,n.stop)),e+=1}}}removeOne(t){if(null!==this.intervals)for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new V(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new V(n.start,n.stop-1));if(t<n.stop-1){const r=new V(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}toString(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}toCharString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===C.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(n.start)+"'"):t.push("'"+String.fromCharCode(n.start)+"'..'"+String.fromCharCode(n.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}toIndexString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===C.EOF?t.push("<EOF>"):t.push(n.start.toString()):t.push(n.start.toString()+".."+(n.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}toTokenString(t,e){const n=[];for(let r=0;r<this.intervals.length;r++){const i=this.intervals[r];for(let r=i.start;r<i.stop;r++)n.push(this.elementName(t,e,r))}return n.length>1?"{"+n.join(", ")+"}":n[0]}elementName(t,e,n){return n===C.EOF?"<EOF>":n===C.EPSILON?"<EPSILON>":t[n]||e[n]}get length(){return this.intervals.map((t=>t.length)).reduce(((t,e)=>t+e))}}class K{constructor(){this.atn=null,this.stateNumber=K.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t){return t instanceof K&&this.stateNumber===t.stateNumber}isNonGreedyExitState(){return!1}addTransition(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}K.INVALID_TYPE=0,K.BASIC=1,K.RULE_START=2,K.BLOCK_START=3,K.PLUS_BLOCK_START=4,K.STAR_BLOCK_START=5,K.TOKEN_START=6,K.RULE_STOP=7,K.BLOCK_END=8,K.STAR_LOOP_BACK=9,K.STAR_LOOP_ENTRY=10,K.PLUS_LOOP_BACK=11,K.LOOP_END=12,K.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],K.INVALID_STATE_NUMBER=-1;class Y extends K{constructor(){return super(),this.stateType=K.RULE_STOP,this}}class G{constructor(t){if(null==t)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}}G.EPSILON=1,G.RANGE=2,G.RULE=3,G.PREDICATE=4,G.ATOM=5,G.ACTION=6,G.SET=7,G.NOT_SET=8,G.WILDCARD=9,G.PRECEDENCE=10,G.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],G.serializationTypes={EpsilonTransition:G.EPSILON,RangeTransition:G.RANGE,RuleTransition:G.RULE,PredicateTransition:G.PREDICATE,AtomTransition:G.ATOM,ActionTransition:G.ACTION,SetTransition:G.SET,NotSetTransition:G.NOT_SET,WildcardTransition:G.WILDCARD,PrecedencePredicateTransition:G.PRECEDENCE};class Q extends G{constructor(t,e,n,r){super(t),this.ruleIndex=e,this.precedence=n,this.followState=r,this.serializationType=G.RULE,this.isEpsilon=!0}matches(t,e,n){return!1}}class W extends G{constructor(t,e){super(t),this.serializationType=G.SET,null!=e?this.label=e:(this.label=new H,this.label.addOne(C.INVALID_TYPE))}matches(t,e,n){return this.label.contains(t)}toString(){return this.label.toString()}}class X extends W{constructor(t,e){super(t,e),this.serializationType=G.NOT_SET}matches(t,e,n){return t>=e&&t<=n&&!super.matches(t,e,n)}toString(){return"~"+super.toString()}}class J extends G{constructor(t){super(t),this.serializationType=G.WILDCARD}matches(t,e,n){return t>=e&&t<=n}toString(){return"."}}class Z extends G{constructor(t){super(t)}}class tt extends class extends class{}{}{}class et extends tt{getRuleContext(){throw new Error("missing interface implementation")}}class nt extends tt{}class rt extends nt{}const it={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);let r=it.getNodeText(t,e);r=function(t,e){return t=t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);const i=t.getChildCount();if(0===i)return r;let o="("+r+" ";i>0&&(r=it.toStringTree(t.getChild(0),e),o=o.concat(r));for(let n=1;n<i;n++)r=it.toStringTree(t.getChild(n),e),o=o.concat(" "+r);return o=o.concat(")"),o},getNodeText:function(t,e,n){if(e=e||null,null!==(n=n||null)&&(e=n.ruleNames),null!==e){if(t instanceof et){const n=t.getRuleContext().getAltNumber();return 0!=n?e[t.ruleIndex]+":"+n:e[t.ruleIndex]}if(t instanceof rt)return t.toString();if(t instanceof nt&&null!==t.symbol)return t.symbol.text}const r=t.getPayload();return r instanceof C?r.text:t.getPayload().toString()},getChildren:function(t){const e=[];for(let n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){let e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return it.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return it.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){const r=[];return it._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof nt?t.symbol.type===e&&r.push(t):!n&&t instanceof et&&t.ruleIndex===e&&r.push(t);for(let i=0;i<t.getChildCount();i++)it._findAllNodes(t.getChild(i),e,n,r)},descendants:function(t){let e=[t];for(let n=0;n<t.getChildCount();n++)e=e.concat(it.descendants(t.getChild(n)));return e}},ot=it;class st extends et{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;null!==e;)e=e.parentCtx,t+=1;return t}isEmpty(){return-1===this.invokingState}getSourceInterval(){return V.INVALID_INTERVAL}getRuleContext(){return this}getPayload(){return this}getText(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return ot.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let n=this,r="[";for(;null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{const e=n.ruleIndex;r+=e>=0&&e<t.length?t[e]:""+e}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+="]",r}}class at{constructor(t){this.cachedHashCode=t}isEmpty(){return this===at.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===at.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}}at.EMPTY=null,at.EMPTY_RETURN_STATE=2147483647,at.globalNodeCount=1,at.id=at.globalNodeCount;class ut extends at{constructor(t,e){const n=new R;return n.update(t,e),super(n.finish()),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===at.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t||t instanceof ut&&this.hashCode()===t.hashCode()&&P(this.returnStates,t.returnStates)&&P(this.parents,t.parents)}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==at.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}}get length(){return this.returnStates.length}}class ct extends at{constructor(t,e){let n=0;const r=new R;null!==t?r.update(t,e):r.update(1),n=r.finish(),super(n),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t||t instanceof ct&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}toString(){const t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===at.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}get length(){return 1}static create(t,e){return e===at.EMPTY_RETURN_STATE&&null===t?at.EMPTY:new ct(t,e)}}class lt extends ct{constructor(){super(null,at.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}}at.EMPTY=new lt;const ht="h-";class ft{constructor(t,e){this.data={},this.hashFunction=t||N,this.equalsFunction=e||L}set(t,e){const n=ht+this.hashFunction(t);if(n in this.data){const r=this.data[n];for(let n=0;n<r.length;n++){const i=r[n];if(this.equalsFunction(t,i.key)){const t=i.value;return i.value=e,t}}return r.push({key:t,value:e}),e}return this.data[n]=[{key:t,value:e}],e}containsKey(t){const e=ht+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return!0}}return!1}get(t){const e=ht+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return r.value}}return null}entries(){return Object.keys(this.data).filter((t=>t.startsWith(ht))).flatMap((t=>this.data[t]),this)}getKeys(){return this.entries().map((t=>t.key))}getValues(){return this.entries().map((t=>t.value))}toString(){return"["+this.entries().map((t=>"{"+t.key+":"+t.value+"}")).join(", ")+"]"}get length(){return Object.keys(this.data).filter((t=>t.startsWith(ht))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}function dt(t,e){if(null==e&&(e=st.EMPTY),null===e.parentCtx||e===st.EMPTY)return at.EMPTY;const n=dt(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return ct.create(n,r.followState.stateNumber)}function pt(t,e,n){if(t.isEmpty())return t;let r=n.get(t)||null;if(null!==r)return r;if(r=e.get(t),null!==r)return n.set(t,r),r;let i=!1,o=[];for(let r=0;r<o.length;r++){const s=pt(t.getParent(r),e,n);if(i||s!==t.getParent(r)){if(!i){o=[];for(let e=0;e<t.length;e++)o[e]=t.getParent(e);i=!0}o[r]=s}}if(!i)return e.add(t),n.set(t,t),t;let s=null;return s=0===o.length?at.EMPTY:1===o.length?ct.create(o[0],t.getReturnState(0)):new ut(o,t.returnStates),e.add(s),n.set(s,s),n.set(t,s),s}function mt(t,e,n,r){if(t===e)return t;if(t instanceof ct&&e instanceof ct)return function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}const i=function(t,e,n){if(n){if(t===at.EMPTY)return at.EMPTY;if(e===at.EMPTY)return at.EMPTY}else{if(t===at.EMPTY&&e===at.EMPTY)return at.EMPTY;if(t===at.EMPTY){const t=[e.returnState,at.EMPTY_RETURN_STATE],n=[e.parentCtx,null];return new ut(n,t)}if(e===at.EMPTY){const e=[t.returnState,at.EMPTY_RETURN_STATE],n=[t.parentCtx,null];return new ut(n,e)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){const i=mt(t.parentCtx,e.parentCtx,n,r);if(i===t.parentCtx)return t;if(i===e.parentCtx)return e;const o=ct.create(i,t.returnState);return null!==r&&r.set(t,e,o),o}{let n=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(n=t.parentCtx),null!==n){const i=[t.returnState,e.returnState];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState);const o=new ut([n,n],i);return null!==r&&r.set(t,e,o),o}const i=[t.returnState,e.returnState];let o=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState,o=[e.parentCtx,t.parentCtx]);const s=new ut(o,i);return null!==r&&r.set(t,e,s),s}}(t,e,n,r);if(n){if(t instanceof lt)return t;if(e instanceof lt)return e}return t instanceof ct&&(t=new ut([t.getParent()],[t.returnState])),e instanceof ct&&(e=new ut([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}let i=0,o=0,s=0,a=[],u=[];for(;i<t.returnStates.length&&o<e.returnStates.length;){const c=t.parents[i],l=e.parents[o];if(t.returnStates[i]===e.returnStates[o]){const e=t.returnStates[i],h=null!==c&&null!==l&&c===l;e===at.EMPTY_RETURN_STATE&&null===c&&null===l||h?(u[s]=c,a[s]=e):(u[s]=mt(c,l,n,r),a[s]=e),i+=1,o+=1}else t.returnStates[i]<e.returnStates[o]?(u[s]=c,a[s]=t.returnStates[i],i+=1):(u[s]=l,a[s]=e.returnStates[o],o+=1);s+=1}if(i<t.returnStates.length)for(let e=i;e<t.returnStates.length;e++)u[s]=t.parents[e],a[s]=t.returnStates[e],s+=1;else for(let t=o;t<e.returnStates.length;t++)u[s]=e.parents[t],a[s]=e.returnStates[t],s+=1;if(s<u.length){if(1===s){const n=ct.create(u[0],a[0]);return null!==r&&r.set(t,e,n),n}u=u.slice(0,s),a=a.slice(0,s)}const c=new ut(u,a);return c===t?(null!==r&&r.set(t,e,t),t):c===e?(null!==r&&r.set(t,e,e),e):(function(t){const e=new ft;for(let n=0;n<t.length;n++){const r=t[n];e.containsKey(r)||e.set(r,r)}for(let n=0;n<t.length;n++)t[n]=e.get(t[n])}(u),null!==r&&r.set(t,e,c),c)}(t,e,n,r)}class vt{constructor(){this.data=[]}add(t){this.data[t]=!0}or(t){Object.keys(t.data).map((t=>this.add(t)),this)}remove(t){delete this.data[t]}has(t){return!0===this.data[t]}values(){return Object.keys(this.data)}minValue(){return Math.min.apply(null,this.values())}hashCode(){return R.hashStuff(this.values())}equals(t){return t instanceof vt&&P(this.data,t.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.values().length}}class yt{constructor(t){this.atn=t}getDecisionLookahead(t){if(null===t)return null;const e=t.transitions.length,n=[];for(let r=0;r<e;r++){n[r]=new H;const e=new F,i=!1;this._LOOK(t.transition(r).target,null,at.EMPTY,n[r],e,new vt,i,!1),(0===n[r].length||n[r].contains(yt.HIT_PRED))&&(n[r]=null)}return n}LOOK(t,e,n){const r=new H,i=null!==(n=n||null)?dt(t.atn,n):null;return this._LOOK(t,e,i,r,new F,new vt,!0,!0),r}_LOOK(t,e,n,r,i,o,s,a){const u=new q({state:t,alt:0,context:n},null);if(!i.has(u)){if(i.add(u),t===e){if(null===n)return void r.addOne(C.EPSILON);if(n.isEmpty()&&a)return void r.addOne(C.EOF)}if(t instanceof Y){if(null===n)return void r.addOne(C.EPSILON);if(n.isEmpty()&&a)return void r.addOne(C.EOF);if(n!==at.EMPTY){const u=o.has(t.ruleIndex);try{o.remove(t.ruleIndex);for(let t=0;t<n.length;t++){const u=this.atn.states[n.getReturnState(t)];this._LOOK(u,e,n.getParent(t),r,i,o,s,a)}}finally{u&&o.add(t.ruleIndex)}return}}for(let u=0;u<t.transitions.length;u++){const c=t.transitions[u];if(c.constructor===Q){if(o.has(c.target.ruleIndex))continue;const t=ct.create(n,c.followState.stateNumber);try{o.add(c.target.ruleIndex),this._LOOK(c.target,e,t,r,i,o,s,a)}finally{o.remove(c.target.ruleIndex)}}else if(c instanceof Z)s?this._LOOK(c.target,e,n,r,i,o,s,a):r.addOne(yt.HIT_PRED);else if(c.isEpsilon)this._LOOK(c.target,e,n,r,i,o,s,a);else if(c.constructor===J)r.addRange(C.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let t=c.label;null!==t&&(c instanceof X&&(t=t.complement(C.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),r.addSet(t))}}}}}yt.HIT_PRED=C.INVALID_TYPE;class gt{constructor(t,e){this.grammarType=t,this.maxTokenType=e,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t,e){return new yt(this).LOOK(t,null,e)}nextTokensNoContext(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}nextTokens(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}addState(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}removeState(t){this.states[t.stateNumber]=null}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}getDecisionState(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}getExpectedTokens(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";const n=this.states[t];let r=this.nextTokens(n);if(!r.contains(C.EPSILON))return r;const i=new H;for(i.addSet(r),i.removeOne(C.EPSILON);null!==e&&e.invokingState>=0&&r.contains(C.EPSILON);){const t=this.states[e.invokingState].transitions[0];r=this.nextTokens(t.followState),i.addSet(r),i.removeOne(C.EPSILON),e=e.parentCtx}return r.contains(C.EPSILON)&&i.addOne(C.EOF),i}}gt.INVALID_ALT_NUMBER=0;class _t extends K{constructor(){super(),this.stateType=K.BASIC}}class bt extends K{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class xt extends bt{constructor(){return super(),this.endState=null,this}}class Et extends K{constructor(){return super(),this.stateType=K.BLOCK_END,this.startState=null,this}}class wt extends K{constructor(){return super(),this.stateType=K.LOOP_END,this.loopBackState=null,this}}class Tt extends K{constructor(){return super(),this.stateType=K.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class St extends bt{constructor(){return super(),this.stateType=K.TOKEN_START,this}}class kt extends bt{constructor(){return super(),this.stateType=K.PLUS_LOOP_BACK,this}}class At extends K{constructor(){return super(),this.stateType=K.STAR_LOOP_BACK,this}}class Ot extends bt{constructor(){return super(),this.stateType=K.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class Ct extends xt{constructor(){return super(),this.stateType=K.PLUS_BLOCK_START,this.loopBackState=null,this}}class Pt extends xt{constructor(){return super(),this.stateType=K.STAR_BLOCK_START,this}}class Rt extends xt{constructor(){return super(),this.stateType=K.BLOCK_START,this}}class Nt extends G{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=G.ATOM}makeLabel(){const t=new H;return t.addOne(this.label_),t}matches(t,e,n){return this.label_===t}toString(){return this.label_}}class Lt extends G{constructor(t,e,n){super(t),this.serializationType=G.RANGE,this.start=e,this.stop=n,this.label=this.makeLabel()}makeLabel(){const t=new H;return t.addRange(this.start,this.stop),t}matches(t,e,n){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class It extends G{constructor(t,e,n,r){super(t),this.serializationType=G.ACTION,this.ruleIndex=e,this.actionIndex=void 0===n?-1:n,this.isCtxDependent=void 0!==r&&r,this.isEpsilon=!0}matches(t,e,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class Mt extends G{constructor(t,e){super(t),this.serializationType=G.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,n){return!1}toString(){return"epsilon"}}class Dt extends j{constructor(t,e,n){super(),this.ruleIndex=void 0===t?-1:t,this.predIndex=void 0===e?-1:e,this.isCtxDependent=void 0!==n&&n}evaluate(t,e){const n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t||t instanceof Dt&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}j.NONE=new Dt;class Ft extends Z{constructor(t,e,n,r){super(t),this.serializationType=G.PREDICATE,this.ruleIndex=e,this.predIndex=n,this.isCtxDependent=r,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new Dt(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class jt extends j{constructor(t){super(),this.precedence=void 0===t?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?j.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t||t instanceof jt&&this.precedence===t.precedence}toString(){return"{"+this.precedence+">=prec}?"}}j.PrecedencePredicate=jt;class Ut extends Z{constructor(t,e){super(t),this.serializationType=G.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new jt(this.precedence)}toString(){return this.precedence+" >= _p"}}class Bt{constructor(t){void 0===t&&(t=null),this.readOnly=!1,this.verifyATN=null===t||t.verifyATN,this.generateRuleBypassTransitions=null!==t&&t.generateRuleBypassTransitions}}Bt.defaultOptions=new Bt,Bt.defaultOptions.readOnly=!0;class $t{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){const t=new R;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}}class zt extends $t{constructor(){super(6)}execute(t){t.skip()}toString(){return"skip"}}zt.INSTANCE=new zt;class qt extends $t{constructor(t){super(0),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t||t instanceof qt&&this.channel===t.channel}toString(){return"channel("+this.channel+")"}}class Vt extends $t{constructor(t,e){super(1),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t||t instanceof Vt&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}class Ht extends $t{constructor(){super(3)}execute(t){t.more()}toString(){return"more"}}Ht.INSTANCE=new Ht;class Kt extends $t{constructor(t){super(7),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t||t instanceof Kt&&this.type===t.type}toString(){return"type("+this.type+")"}}class Yt extends $t{constructor(t){super(5),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof Yt&&this.mode===t.mode}toString(){return"pushMode("+this.mode+")"}}class Gt extends $t{constructor(){super(4)}execute(t){t.popMode()}toString(){return"popMode"}}Gt.INSTANCE=new Gt;class Qt extends $t{constructor(t){super(2),this.mode=t}execute(t){t.mode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof Qt&&this.mode===t.mode}toString(){return"mode("+this.mode+")"}}function Wt(t,e){const n=[];return n[t-1]=e,n.map((function(t){return e}))}class Xt{constructor(t){null==t&&(t=Bt.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}deserialize(t){const e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();const n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);const r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}reset(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){const e=function(t){const e=t.charCodeAt(0);return e>1?e-2:e+65534},n=t.split("").map(e);return n[0]=t.charCodeAt(0),this.data=n,this.pos=0,!0}return this.data=t,this.pos=0,!1}skipUUID(){let t=0;for(;t++<8;)this.readInt()}checkVersion(t){const e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}readATN(){const t=this.readInt(),e=this.readInt();return new gt(t,e)}readStates(t,e){let n,r,i;const o=[],s=[],a=this.readInt();for(let n=0;n<a;n++){const n=this.readInt();if(n===K.INVALID_TYPE){t.addState(null);continue}let r=this.readInt();e&&65535===r&&(r=-1);const i=this.stateFactory(n,r);if(n===K.LOOP_END){const t=this.readInt();o.push([i,t])}else if(i instanceof xt){const t=this.readInt();s.push([i,t])}t.addState(i)}for(n=0;n<o.length;n++)r=o[n],r[0].loopBackState=t.states[r[1]];for(n=0;n<s.length;n++)r=s[n],r[0].endState=t.states[r[1]];let u=this.readInt();for(n=0;n<u;n++)i=this.readInt(),t.states[i].nonGreedy=!0;let c=this.readInt();for(n=0;n<c;n++)i=this.readInt(),t.states[i].isPrecedenceRule=!0}readRules(t,e){let n;const r=this.readInt();for(0===t.grammarType&&(t.ruleToTokenType=Wt(r,0)),t.ruleToStartState=Wt(r,0),n=0;n<r;n++){const r=this.readInt();if(t.ruleToStartState[n]=t.states[r],0===t.grammarType){let r=this.readInt();e&&65535===r&&(r=C.EOF),t.ruleToTokenType[n]=r}}for(t.ruleToStopState=Wt(r,0),n=0;n<t.states.length;n++){const e=t.states[n];e instanceof Y&&(t.ruleToStopState[e.ruleIndex]=e,t.ruleToStartState[e.ruleIndex].stopState=e)}}readModes(t){const e=this.readInt();for(let n=0;n<e;n++){let e=this.readInt();t.modeToStartState.push(t.states[e])}}readSets(t,e,n){const r=this.readInt();for(let t=0;t<r;t++){const t=new H;e.push(t);const r=this.readInt();0!==this.readInt()&&t.addOne(-1);for(let e=0;e<r;e++){const e=n(),r=n();t.addRange(e,r)}}}readEdges(t,e){let n,r,i,o,s;const a=this.readInt();for(n=0;n<a;n++){const n=this.readInt(),r=this.readInt(),i=this.readInt(),s=this.readInt(),a=this.readInt(),u=this.readInt();o=this.edgeFactory(t,i,n,r,s,a,u,e),t.states[n].addTransition(o)}for(n=0;n<t.states.length;n++)for(i=t.states[n],r=0;r<i.transitions.length;r++){const e=i.transitions[r];if(!(e instanceof Q))continue;let n=-1;t.ruleToStartState[e.target.ruleIndex].isPrecedenceRule&&0===e.precedence&&(n=e.target.ruleIndex),o=new Mt(e.followState,n),t.ruleToStopState[e.target.ruleIndex].addTransition(o)}for(n=0;n<t.states.length;n++){if(i=t.states[n],i instanceof xt){if(null===i.endState)throw"IllegalState";if(null!==i.endState.startState)throw"IllegalState";i.endState.startState=i}if(i instanceof kt)for(r=0;r<i.transitions.length;r++)s=i.transitions[r].target,s instanceof Ct&&(s.loopBackState=i);else if(i instanceof At)for(r=0;r<i.transitions.length;r++)s=i.transitions[r].target,s instanceof Ot&&(s.loopBackState=i)}}readDecisions(t){const e=this.readInt();for(let n=0;n<e;n++){const e=this.readInt(),r=t.states[e];t.decisionToState.push(r),r.decision=n}}readLexerActions(t,e){if(0===t.grammarType){const n=this.readInt();t.lexerActions=Wt(n,null);for(let r=0;r<n;r++){const n=this.readInt();let i=this.readInt();e&&65535===i&&(i=-1);let o=this.readInt();e&&65535===o&&(o=-1),t.lexerActions[r]=this.lexerActionFactory(n,i,o)}}}generateRuleBypassTransitions(t){let e;const n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let n,r;const i=new Rt;i.ruleIndex=e,t.addState(i);const o=new Et;o.ruleIndex=e,t.addState(o),i.endState=o,t.defineDecisionState(i),o.startState=i;let s=null,a=null;if(t.ruleToStartState[e].isPrecedenceRule){for(a=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){a=r,s=r.loopBackState.transitions[0];break}if(null===s)throw"Couldn't identify final state of the precedence rule prefix section."}else a=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(let t=0;t<r.transitions.length;t++){const e=r.transitions[t];e!==s&&e.target===a&&(e.target=o)}}const u=t.ruleToStartState[e],c=u.transitions.length;for(;c>0;)i.addTransition(u.transitions[c-1]),u.transitions=u.transitions.slice(-1);t.ruleToStartState[e].addTransition(new Mt(i)),o.addTransition(new Mt(a));const l=new _t;t.addState(l),l.addTransition(new Nt(o,t.ruleToTokenType[e])),i.addTransition(new Mt(l))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof Ot))return null;const n=t.transitions[t.transitions.length-1].target;return n instanceof wt&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof Y?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){const n=t.states[e];if(n instanceof Ot&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){const t=n.transitions[n.transitions.length-1].target;t instanceof wt&&t.epsilonOnlyTransitions&&t.transitions[0].target instanceof Y&&(n.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){const n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof Ct)this.checkCondition(null!==n.loopBackState);else if(n instanceof Ot)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof Pt)this.checkCondition(n.transitions[1].target instanceof wt),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof wt))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof Pt),this.checkCondition(n.nonGreedy)}else n instanceof At?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof Ot)):n instanceof wt?this.checkCondition(null!==n.loopBackState):n instanceof Tt?this.checkCondition(null!==n.stopState):n instanceof xt?this.checkCondition(null!==n.endState):n instanceof Et?this.checkCondition(null!==n.startState):n instanceof bt?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof Y)}}checkCondition(t,e){if(!t)throw null==e&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(t,e,n,r,i,o,s,a){const u=t.states[r];switch(e){case G.EPSILON:return new Mt(u);case G.RANGE:return new Lt(u,0!==s?C.EOF:i,o);case G.RULE:return new Q(t.states[i],o,s,u);case G.PREDICATE:return new Ft(u,i,o,0!==s);case G.PRECEDENCE:return new Ut(u,i);case G.ATOM:return new Nt(u,0!==s?C.EOF:i);case G.ACTION:return new It(u,i,o,0!==s);case G.SET:return new W(u,a[i]);case G.NOT_SET:return new X(u,a[i]);case G.WILDCARD:return new J(u);default:throw"The specified transition type: "+e+" is not valid."}}stateFactory(t,e){if(null===this.stateFactories){const t=[];t[K.INVALID_TYPE]=null,t[K.BASIC]=()=>new _t,t[K.RULE_START]=()=>new Tt,t[K.BLOCK_START]=()=>new Rt,t[K.PLUS_BLOCK_START]=()=>new Ct,t[K.STAR_BLOCK_START]=()=>new Pt,t[K.TOKEN_START]=()=>new St,t[K.RULE_STOP]=()=>new Y,t[K.BLOCK_END]=()=>new Et,t[K.STAR_LOOP_BACK]=()=>new At,t[K.STAR_LOOP_ENTRY]=()=>new Ot,t[K.PLUS_LOOP_BACK]=()=>new kt,t[K.LOOP_END]=()=>new wt,this.stateFactories=t}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";{const n=this.stateFactories[t]();if(null!==n)return n.ruleIndex=e,n}}lexerActionFactory(t,e,n){if(null===this.actionFactories){const t=[];t[0]=(t,e)=>new qt(t),t[1]=(t,e)=>new Vt(t,e),t[2]=(t,e)=>new Qt(t),t[3]=(t,e)=>Ht.INSTANCE,t[4]=(t,e)=>Gt.INSTANCE,t[5]=(t,e)=>new Yt(t),t[6]=(t,e)=>zt.INSTANCE,t[7]=(t,e)=>new Kt(t),this.actionFactories=t}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}class Jt{syntaxError(t,e,n,r,i,o){}reportAmbiguity(t,e,n,r,i,o,s){}reportAttemptingFullContext(t,e,n,r,i,o){}reportContextSensitivity(t,e,n,r,i,o){}}class Zt extends Jt{constructor(){super()}syntaxError(t,e,n,r,i,o){console.error("line "+n+":"+r+" "+i)}}Zt.INSTANCE=new Zt;class te extends Jt{constructor(t){if(super(),null===t)throw"delegates";return this.delegates=t,this}syntaxError(t,e,n,r,i,o){this.delegates.map((s=>s.syntaxError(t,e,n,r,i,o)))}reportAmbiguity(t,e,n,r,i,o,s){this.delegates.map((a=>a.reportAmbiguity(t,e,n,r,i,o,s)))}reportAttemptingFullContext(t,e,n,r,i,o){this.delegates.map((s=>s.reportAttemptingFullContext(t,e,n,r,i,o)))}reportContextSensitivity(t,e,n,r,i,o){this.delegates.map((s=>s.reportContextSensitivity(t,e,n,r,i,o)))}}class ee{constructor(){this._listeners=[Zt.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t){"4.10.1"!==t&&console.log("ANTLR runtime and generated code versions disagree: 4.10.1!="+t)}addErrorListener(t){this._listeners.push(t)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(let r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";let e=this.tokenTypeMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),e.EOF=C.EOF,this.tokenTypeMapCache[t]=e),e}getRuleIndexMap(){const t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";let e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}getTokenType(t){const e=this.getTokenTypeMap()[t];return void 0!==e?e:C.INVALID_TYPE}getErrorHeader(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===C.EOF?"<EOF>":"<"+t.type+">"),e=e.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"),"'"+e+"'"}getErrorListenerDispatch(){return new te(this._listeners)}sempred(t,e,n){return!0}precpred(t,e){return!0}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}ee.tokenTypeMapCache={},ee.ruleIndexMapCache={};class ne extends C{constructor(t,e,n,r,i){super(),this.source=void 0!==t?t:ne.EMPTY_SOURCE,this.type=void 0!==e?e:null,this.channel=void 0!==n?n:C.DEFAULT_CHANNEL,this.start=void 0!==r?r:-1,this.stop=void 0!==i?i:-1,this.tokenIndex=-1,null!==this.source[0]?(this.line=t[0].line,this.column=t[0].column):this.column=-1}clone(){const t=new ne(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}toString(){let t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(null!==this._text)return this._text;const t=this.getInputStream();if(null===t)return null;const e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"}set text(t){this._text=t}}ne.EMPTY_SOURCE=[null,null];class re extends class{}{constructor(t){super(),this.copyText=void 0!==t&&t}create(t,e,n,r,i,o,s,a){const u=new ne(t,e,r,i,o);return u.line=s,u.column=a,null!==n?u.text=n:this.copyText&&null!==t[1]&&(u.text=t[1].getText(i,o)),u}createThin(t,e){const n=new ne(null,t);return n.text=e,n}}re.DEFAULT=new re;class ie extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,ie),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,null!==this.recognizer&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class oe extends ie{constructor(t,e,n,r){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=n,this.deadEndConfigs=r}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new V(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}class se extends ee{constructor(t){super(),this._input=t,this._factory=re.DEFAULT,this._tokenFactorySourcePair=[this,t],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=C.DEFAULT_CHANNEL,this._type=C.INVALID_TYPE,this._modeStack=[],this._mode=se.DEFAULT_MODE,this._text=null}reset(){null!==this._input&&this._input.seek(0),this._token=null,this._type=C.INVALID_TYPE,this._channel=C.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=se.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(null===this._input)throw"nextToken requires a non-null input stream.";const t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=C.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let t=!1;for(;;){this._type=C.INVALID_TYPE;let e=se.SKIP;try{e=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof ie))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===C.EOF&&(this._hitEOF=!0),this._type===C.INVALID_TYPE&&(this._type=e),this._type===se.SKIP){t=!0;break}if(this._type!==se.MORE)break}if(!t)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}skip(){this._type=se.SKIP}more(){this._type=se.MORE}mode(t){this._mode=t}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}popMode(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const t=this.column,e=this.line,n=this._factory.create(this._tokenFactorySourcePair,C.EOF,null,C.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(n),n}getCharIndex(){return this._input.index}getAllTokens(){const t=[];let e=this.nextToken();for(;e.type!==C.EOF;)t.push(e),e=this.nextToken();return t}notifyListeners(t){const e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),i="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i,t)}getErrorDisplay(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e.join("")}getErrorDisplayForChar(t){return t.charCodeAt(0)===C.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(t){this._input.LA(1)!==C.EOF&&(t instanceof oe?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return null!==this._text?this._text:this._interp.getText(this._input)}set text(t){this._text=t}}function ae(t){return t.hashCodeForConfigSet()}function ue(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}se.DEFAULT_MODE=0,se.MORE=-2,se.SKIP=-3,se.DEFAULT_TOKEN_CHANNEL=C.DEFAULT_CHANNEL,se.HIDDEN=C.HIDDEN_CHANNEL,se.MIN_CHAR_VALUE=0,se.MAX_CHAR_VALUE=1114111;class ce{constructor(t){this.configLookup=new F(ae,ue),this.fullCtx=void 0===t||t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==j.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.add(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;const r=!this.fullCtx,i=mt(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=i,!0}getStates(){const t=new F;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){const t=[];for(let e=0;e<this.configs.length;e++){const n=this.configs[e].semanticContext;n!==j.NONE&&t.push(n.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];n.context=t.getCachedContext(n.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof ce&&P(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){const t=new R;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return 0===this.configs.length}contains(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new F}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return M(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==gt.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class le{constructor(t,e){return null===t&&(t=-1),null===e&&(e=new ce),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t=new F;if(null!==this.configs)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}equals(t){return this===t||t instanceof le&&this.configs.equals(t.configs)}toString(){let t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}hashCode(){const t=new R;return t.update(this.configs),t.finish()}}class he{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(null===this.sharedContextCache)return t;const e=new ft;return pt(t,this.sharedContextCache,e)}}he.ERROR=new le(2147483647,new ce);class fe extends ce{constructor(){super(),this.configLookup=new F}}class de extends q{constructor(t,e){super(t,e);const n=t.lexerActionExecutor||null;return this.lexerActionExecutor=n||(null!==e?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=null!==e&&this.checkNonGreedyDecision(e,this.state),this.hashCodeForConfigSet=de.prototype.hashCode,this.equalsForConfigSet=de.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof de&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof bt&&e.nonGreedy}}class pe extends $t{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t||t instanceof pe&&this.offset===t.offset&&this.action===t.action}}class me{constructor(t){return this.lexerActions=null===t?[]:t,this.cachedHashCode=R.hashStuff(t),this}fixOffsetBeforeMatch(t){let e=null;for(let n=0;n<this.lexerActions.length;n++)!this.lexerActions[n].isPositionDependent||this.lexerActions[n]instanceof pe||(null===e&&(e=this.lexerActions.concat([])),e[n]=new pe(t,this.lexerActions[n]));return null===e?this:new me(e)}execute(t,e,n){let r=!1;const i=e.index;try{for(let o=0;o<this.lexerActions.length;o++){let s=this.lexerActions[o];if(s instanceof pe){const t=s.offset;e.seek(n+t),s=s.action,r=n+t!==i}else s.isPositionDependent&&(e.seek(i),r=!1);s.execute(t)}}finally{r&&e.seek(i)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof me){if(this.cachedHashCode!=t.cachedHashCode)return!1;if(this.lexerActions.length!=t.lexerActions.length)return!1;{const e=this.lexerActions.length;for(let n=0;n<e;++n)if(!this.lexerActions[n].equals(t.lexerActions[n]))return!1;return!0}}return!1}static append(t,e){if(null===t)return new me([e]);const n=t.lexerActions.concat([e]);return new me(n)}}function ve(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}class ye{constructor(){ve(this)}reset(){ve(this)}}class ge extends he{constructor(t,e,n,r){super(e,r),this.decisionToDFA=n,this.recog=t,this.startIndex=-1,this.line=1,this.column=0,this.mode=se.DEFAULT_MODE,this.prevAccept=new ye}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;const n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const r=this.decisionToDFA[e];return null===r.s0?this.matchATN(t):this.execATN(t,r.s0)}finally{t.release(n)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=se.DEFAULT_MODE}matchATN(t){const e=this.atn.modeToStartState[this.mode];ge.debug&&console.log("matchATN mode "+this.mode+" start: "+e);const n=this.mode,r=this.computeStartState(t,e),i=r.hasSemanticContext;r.hasSemanticContext=!1;const o=this.addDFAState(r);i||(this.decisionToDFA[this.mode].s0=o);const s=this.execATN(t,o);return ge.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),s}execATN(t,e){ge.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);let n=t.LA(1),r=e;for(;;){ge.debug&&console.log("execATN loop starting closure: "+r.configs);let e=this.getExistingTargetState(r,n);if(null===e&&(e=this.computeTargetState(t,r,n)),e===he.ERROR)break;if(n!==C.EOF&&this.consume(t),e.isAcceptState&&(this.captureSimState(this.prevAccept,t,e),n===C.EOF))break;n=t.LA(1),r=e}return this.failOrAccept(this.prevAccept,t,r.configs,n)}getExistingTargetState(t,e){if(null===t.edges||e<ge.MIN_DFA_EDGE||e>ge.MAX_DFA_EDGE)return null;let n=t.edges[e-ge.MIN_DFA_EDGE];return void 0===n&&(n=null),ge.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,n){const r=new fe;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,he.ERROR),he.ERROR):this.addDFAEdge(e,n,null,r)}failOrAccept(t,e,n,r){if(null!==this.prevAccept.dfaState){const n=t.dfaState.lexerActionExecutor;return this.accept(e,n,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(r===C.EOF&&e.index===this.startIndex)return C.EOF;throw new oe(this.recog,e,this.startIndex,n)}getReachableConfigSet(t,e,n,r){let i=gt.INVALID_ALT_NUMBER;for(let o=0;o<e.items.length;o++){const s=e.items[o],a=s.alt===i;if(!a||!s.passedThroughNonGreedyDecision){ge.debug&&console.log("testing %s at %s\n",this.getTokenName(r),s.toString(this.recog,!0));for(let e=0;e<s.state.transitions.length;e++){const o=s.state.transitions[e],u=this.getReachableTarget(o,r);if(null!==u){let e=s.lexerActionExecutor;null!==e&&(e=e.fixOffsetBeforeMatch(t.index-this.startIndex));const o=r===C.EOF,c=new de({state:u,lexerActionExecutor:e},s);this.closure(t,c,n,a,!0,o)&&(i=s.alt)}}}}}accept(t,e,n,r,i,o){ge.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=i,this.column=o,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}getReachableTarget(t,e){return t.matches(e,0,se.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,e){const n=at.EMPTY,r=new fe;for(let i=0;i<e.transitions.length;i++){const o=e.transitions[i].target,s=new de({state:o,alt:i+1,context:n},null);this.closure(t,s,r,!1,!1,!1)}return r}closure(t,e,n,r,i,o){let s=null;if(ge.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof Y){if(ge.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new de({state:e.state,context:at.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(let a=0;a<e.context.length;a++)if(e.context.getReturnState(a)!==at.EMPTY_RETURN_STATE){const u=e.context.getParent(a),c=this.atn.states[e.context.getReturnState(a)];s=new de({state:c,context:u},e),r=this.closure(t,s,n,r,i,o)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(let a=0;a<e.state.transitions.length;a++){const u=e.state.transitions[a];s=this.getEpsilonTarget(t,e,u,n,i,o),null!==s&&(r=this.closure(t,s,n,r,i,o))}return r}getEpsilonTarget(t,e,n,r,i,o){let s=null;if(n.serializationType===G.RULE){const t=ct.create(e.context,n.followState.stateNumber);s=new de({state:n.target,context:t},e)}else{if(n.serializationType===G.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(n.serializationType===G.PREDICATE)ge.debug&&console.log("EVAL rule "+n.ruleIndex+":"+n.predIndex),r.hasSemanticContext=!0,this.evaluatePredicate(t,n.ruleIndex,n.predIndex,i)&&(s=new de({state:n.target},e));else if(n.serializationType===G.ACTION)if(null===e.context||e.context.hasEmptyPath()){const t=me.append(e.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);s=new de({state:n.target,lexerActionExecutor:t},e)}else s=new de({state:n.target},e);else n.serializationType===G.EPSILON?s=new de({state:n.target},e):n.serializationType!==G.ATOM&&n.serializationType!==G.RANGE&&n.serializationType!==G.SET||o&&n.matches(C.EOF,0,se.MAX_CHAR_VALUE)&&(s=new de({state:n.target},e))}return s}evaluatePredicate(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);const i=this.column,o=this.line,s=t.index,a=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=i,this.line=o,t.seek(s),t.release(a)}}captureSimState(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}addDFAEdge(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){const t=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),t)return n}return e<ge.MIN_DFA_EDGE||e>ge.MAX_DFA_EDGE||(ge.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-ge.MIN_DFA_EDGE]=n),n}addDFAState(t){const e=new le(null,t);let n=null;for(let e=0;e<t.items.length;e++){const r=t.items[e];if(r.state instanceof Y){n=r;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);const r=this.decisionToDFA[this.mode],i=r.states.get(e);if(null!==i)return i;const o=e;return o.stateNumber=r.states.length,t.setReadonly(!0),o.configs=t,r.states.add(o),o}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}ge.debug=!1,ge.dfa_debug=!1,ge.MIN_DFA_EDGE=0,ge.MAX_DFA_EDGE=127;class _e{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}}class be{constructor(){this.data={}}get(t){return this.data["k-"+t]||null}set(t,e){this.data["k-"+t]=e}values(){return Object.keys(this.data).filter((t=>t.startsWith("k-"))).map((t=>this.data[t]),this)}}const xe={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(xe.allConfigsInRuleStopStates(e))return!0;if(t===xe.SLL&&e.hasSemanticContext){const t=new ce;for(let n=0;n<e.items.length;n++){let r=e.items[n];r=new q({semanticContext:j.NONE},r),t.add(r)}e=t}const n=xe.getConflictingAltSubsets(e);return xe.hasConflictingAltSet(n)&&!xe.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(let e=0;e<t.items.length;e++)if(t.items[e].state instanceof Y)return!0;return!1},allConfigsInRuleStopStates:function(t){for(let e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof Y))return!1;return!0},resolvesToJustOneViableAlt:function(t){return xe.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!xe.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){const e=xe.getAlts(t);return 1===e.length?e.minValue():gt.INVALID_ALT_NUMBER},getAlts:function(t){const e=new vt;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){const e=new ft;return e.hashFunction=function(t){R.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){let n=e.get(t);null===n&&(n=new vt,e.set(t,n)),n.add(t.alt)})),e.getValues()},getStateToAltMap:function(t){const e=new be;return t.items.map((function(t){let n=e.get(t.state);null===n&&(n=new vt,e.set(t.state,n)),n.add(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){const e=xe.getStateToAltMap(t).values();for(let t=0;t<e.length;t++)if(1===e[t].length)return!0;return!1},getSingleViableAlt:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n].minValue();if(null===e)e=r;else if(e!==r)return gt.INVALID_ALT_NUMBER}return e}},Ee=xe;class we extends ie{constructor(t,e,n,r,i,o){o=o||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:o}),this.deadEndConfigs=i,this.startToken=n,this.offendingToken=r}}class Te{constructor(t){this.defaultMapCtor=t||ft,this.cacheMap=new this.defaultMapCtor}get(t,e){const n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}set(t,e,n){let r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}const Se={ATN:gt,ATNDeserializer:Xt,LexerATNSimulator:ge,ParserATNSimulator:class extends he{constructor(t,e,n,r){super(e,r),this.parser=t,this.decisionToDFA=n,this.predictionMode=Ee.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.debug_list_atn_decisions=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,n){(this.debug||this.debug_list_atn_decisions)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;const r=this.decisionToDFA[e];this._dfa=r;const i=t.mark(),o=t.index;try{let e;if(e=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0,null===e){null===n&&(n=st.EMPTY),(this.debug||this.debug_list_atn_decisions)&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));const i=!1;let o=this.computeStartState(r.atnStartState,st.EMPTY,i);r.precedenceDfa?(r.s0.configs=o,o=this.applyPrecedenceFilter(o),e=this.addDFAState(r,new le(null,o)),r.setPrecedenceStartState(this.parser.getPrecedence(),e)):(e=this.addDFAState(r,new le(null,o)),r.s0=e)}const s=this.execATN(r,e,t,o,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),s}finally{this._dfa=null,this.mergeCache=null,t.seek(o),t.release(i)}}execATN(t,e,n,r,i){let o;(this.debug||this.debug_list_atn_decisions)&&console.log("execATN decision "+t.decision+" exec LA(1)=="+this.getLookaheadName(n)+" line "+n.LT(1).line+":"+n.LT(1).column);let s=e;this.debug&&console.log("s0 = "+e);let a=n.LA(1);for(;;){let e=this.getExistingTargetState(s,a);if(null===e&&(e=this.computeTargetState(t,s,a)),e===he.ERROR){const t=this.noViableAlt(n,i,s.configs,r);if(n.seek(r),o=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(s.configs,i),o!==gt.INVALID_ALT_NUMBER)return o;throw t}if(e.requiresFullContext&&this.predictionMode!==Ee.SLL){let s=null;if(null!==e.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const t=n.index;if(t!==r&&n.seek(r),s=this.evalSemanticContext(e.predicates,i,!0),1===s.length)return this.debug&&console.log("Full LL avoided"),s.minValue();t!==r&&n.seek(t)}this.dfa_debug&&console.log("ctx sensitive state "+i+" in "+e);const a=!0,u=this.computeStartState(t.atnStartState,i,a);return this.reportAttemptingFullContext(t,s,e.configs,r,n.index),o=this.execATNWithFullContext(t,e,u,n,r,i),o}if(e.isAcceptState){if(null===e.predicates)return e.prediction;const o=n.index;n.seek(r);const s=this.evalSemanticContext(e.predicates,i,!0);if(0===s.length)throw this.noViableAlt(n,i,e.configs,r);return 1===s.length||this.reportAmbiguity(t,e,r,o,!1,s,e.configs),s.minValue()}s=e,a!==C.EOF&&(n.consume(),a=n.LA(1))}}getExistingTargetState(t,e){const n=t.edges;return null===n?null:n[e+1]||null}computeTargetState(t,e,n){const r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,he.ERROR),he.ERROR;let i=new le(null,r);const o=this.getUniqueAlt(r);if(this.debug){const t=Ee.getConflictingAltSubsets(r);console.log("SLL altSubSets="+M(t)+", configs="+r+", predict="+o+", allSubsetsConflict="+Ee.allSubsetsConflict(t)+", conflictingAlts="+this.getConflictingAlts(r))}return o!==gt.INVALID_ALT_NUMBER?(i.isAcceptState=!0,i.configs.uniqueAlt=o,i.prediction=o):Ee.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(i.configs.conflictingAlts=this.getConflictingAlts(r),i.requiresFullContext=!0,i.isAcceptState=!0,i.prediction=i.configs.conflictingAlts.minValue()),i.isAcceptState&&i.configs.hasSemanticContext&&(this.predicateDFAState(i,this.atn.getDecisionState(t.decision)),null!==i.predicates&&(i.prediction=gt.INVALID_ALT_NUMBER)),i=this.addDFAEdge(t,e,n,i),i}predicateDFAState(t,e){const n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),i=this.getPredsForAmbigAlts(r,t.configs,n);null!==i?(t.predicates=this.getPredicatePredictions(r,i),t.prediction=gt.INVALID_ALT_NUMBER):t.prediction=r.minValue()}execATNWithFullContext(t,e,n,r,i,o){(this.debug||this.debug_list_atn_decisions)&&console.log("execATNWithFullContext "+n);let s,a=!1,u=n;r.seek(i);let c=r.LA(1),l=-1;for(;;){if(s=this.computeReachSet(u,c,!0),null===s){const t=this.noViableAlt(r,o,u,i);r.seek(i);const e=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(u,o);if(e!==gt.INVALID_ALT_NUMBER)return e;throw t}const t=Ee.getConflictingAltSubsets(s);if(this.debug&&console.log("LL altSubSets="+t+", predict="+Ee.getUniqueAlt(t)+", resolvesToJustOneViableAlt="+Ee.resolvesToJustOneViableAlt(t)),s.uniqueAlt=this.getUniqueAlt(s),s.uniqueAlt!==gt.INVALID_ALT_NUMBER){l=s.uniqueAlt;break}if(this.predictionMode!==Ee.LL_EXACT_AMBIG_DETECTION){if(l=Ee.resolvesToJustOneViableAlt(t),l!==gt.INVALID_ALT_NUMBER)break}else if(Ee.allSubsetsConflict(t)&&Ee.allSubsetsEqual(t)){a=!0,l=Ee.getSingleViableAlt(t);break}u=s,c!==C.EOF&&(r.consume(),c=r.LA(1))}return s.uniqueAlt!==gt.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,l,s,i,r.index),l):(this.reportAmbiguity(t,e,i,r.index,a,null,s),l)}computeReachSet(t,e,n){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new Te);const r=new ce(n);let i=null;for(let o=0;o<t.items.length;o++){const s=t.items[o];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+s),s.state instanceof Y)(n||e===C.EOF)&&(null===i&&(i=[]),i.push(s),this.debug_add&&console.log("added "+s+" to skippedStopStates"));else for(let t=0;t<s.state.transitions.length;t++){const n=s.state.transitions[t],i=this.getReachableTarget(n,e);if(null!==i){const t=new q({state:i},s);r.add(t,this.mergeCache),this.debug_add&&console.log("added "+t+" to intermediate")}}}let o=null;if(null===i&&e!==C.EOF&&(1===r.items.length||this.getUniqueAlt(r)!==gt.INVALID_ALT_NUMBER)&&(o=r),null===o){o=new ce(n);const t=new F,i=e===C.EOF;for(let e=0;e<r.items.length;e++)this.closure(r.items[e],o,t,!1,n,i)}if(e===C.EOF&&(o=this.removeAllConfigsNotInRuleStopState(o,o===r)),!(null===i||n&&Ee.hasConfigInRuleStopState(o)))for(let t=0;t<i.length;t++)o.add(i[t],this.mergeCache);return 0===o.items.length?null:o}removeAllConfigsNotInRuleStopState(t,e){if(Ee.allConfigsInRuleStopStates(t))return t;const n=new ce(t.fullCtx);for(let r=0;r<t.items.length;r++){const i=t.items[r];if(i.state instanceof Y)n.add(i,this.mergeCache);else if(e&&i.state.epsilonOnlyTransitions&&this.atn.nextTokens(i.state).contains(C.EPSILON)){const t=this.atn.ruleToStopState[i.state.ruleIndex];n.add(new q({state:t},i),this.mergeCache)}}return n}computeStartState(t,e,n){const r=dt(this.atn,e),i=new ce(n);for(let e=0;e<t.transitions.length;e++){const o=t.transitions[e].target,s=new q({state:o,alt:e+1,context:r},null),a=new F;this.closure(s,i,a,!0,n,!1)}return i}applyPrecedenceFilter(t){let e;const n=[],r=new ce(t.fullCtx);for(let i=0;i<t.items.length;i++){if(e=t.items[i],1!==e.alt)continue;const o=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==o&&(n[e.state.stateNumber]=e.context,o!==e.semanticContext?r.add(new q({semanticContext:o},e),this.mergeCache):r.add(e,this.mergeCache))}for(let i=0;i<t.items.length;i++)if(e=t.items[i],1!==e.alt){if(!e.precedenceFilterSuppressed){const t=n[e.state.stateNumber]||null;if(null!==t&&t.equals(e.context))continue}r.add(e,this.mergeCache)}return r}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,n){let r=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];t.has(i.alt)&&(r[i.alt]=j.orContext(r[i.alt]||null,i.semanticContext))}let i=0;for(let t=1;t<n+1;t++){const e=r[t]||null;null===e?r[t]=j.NONE:e!==j.NONE&&(i+=1)}return 0===i&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+M(r)),r}getPredicatePredictions(t,e){const n=[];let r=!1;for(let i=1;i<e.length;i++){const o=e[i];null!==t&&t.has(i)&&n.push(new _e(o,i)),o!==j.NONE&&(r=!0)}return r?n:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){const n=this.splitAccordingToSemanticValidity(t,e),r=n[0],i=n[1];let o=this.getAltThatFinishedDecisionEntryRule(r);return o!==gt.INVALID_ALT_NUMBER||i.items.length>0&&(o=this.getAltThatFinishedDecisionEntryRule(i),o!==gt.INVALID_ALT_NUMBER)?o:gt.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof Y&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?gt.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){const n=new ce(t.fullCtx),r=new ce(t.fullCtx);for(let i=0;i<t.items.length;i++){const o=t.items[i];o.semanticContext!==j.NONE?o.semanticContext.evaluate(this.parser,e)?n.add(o):r.add(o):n.add(o)}return[n,r]}evalSemanticContext(t,e,n){const r=new vt;for(let i=0;i<t.length;i++){const o=t[i];if(o.pred===j.NONE){if(r.add(o.alt),!n)break;continue}const s=o.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+o+"="+s),s&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+o.alt),r.add(o.alt),!n))break}return r}closure(t,e,n,r,i,o){this.closureCheckingStopState(t,e,n,r,i,0,o)}closureCheckingStopState(t,e,n,r,i,o,s){if((this.debug||this.debug_closure)&&(console.log("closure("+t.toString(this.parser,!0)+")"),t.reachesIntoOuterContext>50))throw"problem";if(t.state instanceof Y){if(!t.context.isEmpty()){for(let a=0;a<t.context.length;a++){if(t.context.getReturnState(a)===at.EMPTY_RETURN_STATE){if(i){e.add(new q({state:t.state,context:at.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,i,o,s);continue}const u=this.atn.states[t.context.getReturnState(a)],c=t.context.getParent(a),l={state:u,alt:t.alt,context:c,semanticContext:t.semanticContext},h=new q(l,null);h.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(h,e,n,r,i,o-1,s)}return}if(i)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,i,o,s)}closure_(t,e,n,r,i,o,s){const a=t.state;a.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let u=0;u<a.transitions.length;u++){if(0===u&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const c=a.transitions[u],l=r&&!(c instanceof It),h=this.getEpsilonTarget(t,c,l,0===o,i,s);if(null!==h){let r=o;if(t.state instanceof Y){if(null!==this._dfa&&this._dfa.precedenceDfa&&c.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(h.precedenceFilterSuppressed=!0),h.reachesIntoOuterContext+=1,n.add(h)!==h)continue;e.dipsIntoOuterContext=!0,r-=1,this.debug&&console.log("dips into outer ctx: "+h)}else{if(!c.isEpsilon&&n.add(h)!==h)continue;c instanceof Q&&r>=0&&(r+=1)}this.closureCheckingStopState(h,e,n,l,i,r,s)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const e=t.state;if(e.stateType!==K.STAR_LOOP_ENTRY)return!1;if(e.stateType!==K.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const n=t.context.length;for(let r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;const r=e.transitions[0].target.endState.stateNumber,i=this.atn.states[r];for(let r=0;r<n;r++){const n=t.context.getReturnState(r),o=this.atn.states[n];if(1!==o.transitions.length||!o.transitions[0].isEpsilon)return!1;const s=o.transitions[0].target;if(!(o.stateType===K.BLOCK_END&&s===e||o===i||s===i||s.stateType===K.BLOCK_END&&1===s.transitions.length&&s.transitions[0].isEpsilon&&s.transitions[0].target===e))return!1}return!0}getRuleName(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(t,e,n,r,i,o){switch(e.serializationType){case G.RULE:return this.ruleTransition(t,e);case G.PRECEDENCE:return this.precedenceTransition(t,e,n,r,i);case G.PREDICATE:return this.predTransition(t,e,n,r,i);case G.ACTION:return this.actionTransition(t,e);case G.EPSILON:return new q({state:e.target},t);case G.ATOM:case G.RANGE:case G.SET:return o&&e.matches(C.EOF,0,1)?new q({state:e.target},t):null;default:return null}}actionTransition(t,e){if(this.debug){const t=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+t)}return new q({state:e.target},t)}precedenceTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+M(this.parser.getRuleInvocationStack())));let o=null;if(n&&r)if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(o=new q({state:e.target},t))}else{const n=j.andContext(t.semanticContext,e.getPredicate());o=new q({state:e.target,semanticContext:n},t)}else o=new q({state:e.target},t);return this.debug&&console.log("config from pred transition="+o),o}predTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+M(this.parser.getRuleInvocationStack())));let o=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(o=new q({state:e.target},t))}else{const n=j.andContext(t.semanticContext,e.getPredicate());o=new q({state:e.target,semanticContext:n},t)}else o=new q({state:e.target},t);return this.debug&&console.log("config from pred transition="+o),o}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);const n=e.followState,r=ct.create(t.context,n.stateNumber);return new q({state:e.target,context:r},t)}getConflictingAlts(t){const e=Ee.getConflictingAltSubsets(t);return Ee.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==gt.INVALID_ALT_NUMBER?(e=new vt,e.add(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(t){if(t===C.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const e=t.getDeadEndConfigs();for(let t=0;t<e.length;t++){const n=e[t];let r="no edges";if(n.state.transitions.length>0){const t=n.state.transitions[0];t instanceof Nt?r="Atom "+this.getTokenName(t.label):t instanceof W&&(r=(t instanceof X?"~":"")+"Set "+t.set)}console.error(n.toString(this.parser,!0)+":"+r)}}noViableAlt(t,e,n,r){return new we(this.parser,t,t.get(r),t.LT(1),n,e)}getUniqueAlt(t){let e=gt.INVALID_ALT_NUMBER;for(let n=0;n<t.items.length;n++){const r=t.items[n];if(e===gt.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return gt.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){const e=null===this.parser?null:this.parser.literalNames,n=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(e,n))}return r}addDFAState(t,e){if(e===he.ERROR)return e;const n=t.states.get(e);return null!==n?n:(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new V(r,i+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,i,e,n)}reportContextSensitivity(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new V(r,i+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,i,e,n)}reportAmbiguity(t,e,n,r,i,o,s){if(this.debug||this.retry_debug){const t=new V(n,r+1);console.log("reportAmbiguity "+o+":"+s+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,n,r,i,o,s)}},PredictionMode:Ee};class ke{constructor(t,e,n){this.dfa=t,this.literalNames=e||[],this.symbolicNames=n||[]}toString(){if(null===this.dfa.s0)return null;let t="";const e=this.dfa.sortedStates();for(let n=0;n<e.length;n++){const r=e[n];if(null!==r.edges){const e=r.edges.length;for(let n=0;n<e;n++){const e=r.edges[n]||null;null!==e&&2147483647!==e.stateNumber&&(t=t.concat(this.getStateString(r)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(n)),t=t.concat("->"),t=t.concat(this.getStateString(e)),t=t.concat("\n"))}}}return 0===t.length?null:t}getEdgeLabel(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){const e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+M(t.predicates):e+"=>"+t.prediction.toString():e}}class Ae extends ke{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}}const Oe={DFA:class{constructor(t,e){if(void 0===e&&(e=0),this.atnStartState=t,this.decision=e,this._states=new F,this.s0=null,this.precedenceDfa=!1,t instanceof Ot&&t.isPrecedenceDecision){this.precedenceDfa=!0;const t=new le(null,new ce);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new F,t){const t=new le(null,new ce);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}toString(t,e){return t=t||null,e=e||null,null===this.s0?"":new ke(this,t,e).toString()}toLexerString(){return null===this.s0?"":new Ae(this).toString()}get states(){return this._states}},DFASerializer:ke,LexerDFASerializer:Ae,PredPrediction:_e};class Ce{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}}class Pe{walk(t,e){if(e instanceof rt||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof nt)t.visitTerminal(e);else{this.enterRule(t,e);for(let n=0;n<e.getChildCount();n++){const r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}enterRule(t,e){const n=e.getRuleContext();t.enterEveryRule(n),n.enterRule(t)}exitRule(t,e){const n=e.getRuleContext();n.exitRule(t),t.exitEveryRule(n)}}Pe.DEFAULT=new Pe;const Re={Trees:ot,RuleNode:et,ErrorNode:rt,TerminalNode:nt,ParseTreeListener:Ce,ParseTreeVisitor:class{visit(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}},ParseTreeWalker:Pe};class Ne extends ie{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}}class Le extends ie{constructor(t,e,n){super({message:Ie(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});const r=t._interp.atn.states[t.state].transitions[0];r instanceof Ft?(this.ruleIndex=r.ruleIndex,this.predicateIndex=r.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}}function Ie(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}class Me extends Error{constructor(){super(),Error.captureStackTrace(this,Me)}}class De extends class{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}}{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof we?this.reportNoViableAlternative(t,e):e instanceof Ne?this.reportInputMismatch(t,e):e instanceof Le?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);const n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}sync(t){if(this.inErrorRecoveryMode(t))return;const e=t._interp.atn.states[t.state],n=t.getTokenStream().LA(1),r=t.atn.nextTokens(e);if(r.contains(n))return this.nextTokensContext=null,void(this.nextTokenState=K.INVALID_STATE_NUMBER);if(r.contains(C.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case K.BLOCK_START:case K.STAR_BLOCK_START:case K.PLUS_BLOCK_START:case K.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new Ne(t);case K.PLUS_LOOP_BACK:case K.STAR_LOOP_BACK:{this.reportUnwantedToken(t);const e=new H;e.addSet(t.getExpectedTokens());const n=e.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,n)}}}reportNoViableAlternative(t,e){const n=t.getTokenStream();let r;r=null!==n?e.startToken.type===C.EOF?"<EOF>":n.getText(new V(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";const i="no viable alternative at input "+this.escapeWSAndQuote(r);t.notifyErrorListeners(i,e.offendingToken,e)}reportInputMismatch(t,e){const n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}reportFailedPredicate(t,e){const n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}recoverInline(t){const e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new Ne(t)}singleTokenInsertion(t){const e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){const e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();const e=t.getCurrentToken();return this.reportMatch(t),e}return null}getMissingSymbol(t){const e=t.getCurrentToken(),n=this.getExpectedTokens(t).first();let r;r=n===C.EOF?"<missing EOF>":"<missing "+t.literalNames[n]+">";let i=e;const o=t.getTokenStream().LT(-1);return i.type===C.EOF&&null!==o&&(i=o),t.getTokenFactory().create(i.source,n,r,C.DEFAULT_CHANNEL,-1,-1,i.line,i.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===C.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(t){const e=t._interp.atn;let n=t._ctx;const r=new H;for(;null!==n&&n.invokingState>=0;){const t=e.states[n.invokingState].transitions[0],i=e.nextTokens(t.followState);r.addSet(i),n=n.parentCtx}return r.removeOne(C.EPSILON),r}consumeUntil(t,e){let n=t.getTokenStream().LA(1);for(;n!==C.EOF&&!e.contains(n);)t.consume(),n=t.getTokenStream().LA(1)}}const Fe={RecognitionException:ie,NoViableAltException:we,LexerNoViableAltException:oe,InputMismatchException:Ne,FailedPredicateException:Le,DiagnosticErrorListener:class extends Jt{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,n,r,i,o,s){if(this.exactOnly&&!i)return;const a="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(o,s)+", input='"+t.getTokenStream().getText(new V(n,r))+"'";t.notifyErrorListeners(a)}reportAttemptingFullContext(t,e,n,r,i,o){const s="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new V(n,r))+"'";t.notifyErrorListeners(s)}reportContextSensitivity(t,e,n,r,i,o){const s="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new V(n,r))+"'";t.notifyErrorListeners(s)}getDecisionDescription(t,e){const n=e.decision,r=e.atnStartState.ruleIndex,i=t.ruleNames;if(r<0||r>=i.length)return""+n;const o=i[r]||null;return null===o||0===o.length?""+n:`${n} (${o})`}getConflictingAlts(t,e){if(null!==t)return t;const n=new vt;for(let t=0;t<e.items.length;t++)n.add(e.items[t].alt);return`{${n.values().join(", ")}}`}},BailErrorStrategy:class extends De{constructor(){super()}recover(t,e){let n=t._ctx;for(;null!==n;)n.exception=e,n=n.parentCtx;throw new Me(e)}recoverInline(t){this.recover(t,new Ne(t))}sync(t){}},DefaultErrorStrategy:De,ErrorListener:Jt};class je{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let t=0;t<this.strdata.length;){const e=this.strdata.codePointAt(t);this.data.push(e),t+=e<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let t=0;t<this.strdata.length;t++){const e=this.strdata.charCodeAt(t);this.data[t]=e}}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(t){if(0===t)return 0;t<0&&(t+=1);const e=this._index+t-1;return e<0||e>=this._size?C.EOF:this.data[e]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n="";for(let r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}var Ue=n(654);const Be={fromString:function(t){return new je(t,!0)},fromBlob:function(t,e,n,r){const i=new window.FileReader;i.onload=function(t){const e=new je(t.target.result,!0);n(e)},i.onerror=r,i.readAsText(t,e)},fromBuffer:function(t,e){return new je(t.toString(e),!0)},fromPath:function(t,e,n){Ue.readFile(t,e,(function(t,e){let r=null;null!==e&&(r=new je(e,!0)),n(t,r)}))},fromPathSync:function(t,e){const n=Ue.readFileSync(t,e);return new je(n,!0)}};class $e extends Ce{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class ze extends ee{constructor(t){super(),this._input=null,this._errHandler=new De,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t)}reset(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}match(t){let e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}getParseListeners(){return this._parseListeners||[]}addParseListener(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(null!==this._parseListeners){const e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}triggerExitRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t){this._input.tokenSource._factory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";let e=this.bypassAltsAtnCache[t];if(null===e){const n=new Bt;n.generateRuleBypassTransitions=!0,e=new Xt(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}getInputStream(){return this.getTokenStream()}setInputStream(t){this.setTokenStream(t)}getTokenStream(){return this._input}setTokenStream(t){this._input=null,this.reset(),this._input=t}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;const r=e.line,i=e.column;this.getErrorListenerDispatch().syntaxError(this,e,r,i,t,n)}consume(){const t=this.getCurrentToken();t.type!==C.EOF&&this.getInputStream().consume();const e=null!==this._parseListeners&&this._parseListeners.length>0;if(this.buildParseTrees||e){let n;n=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t),n.invokingState=this.state,e&&this._parseListeners.forEach((function(t){n instanceof rt||void 0!==n.isErrorNode&&n.isErrorNode()?t.visitErrorNode(n):n instanceof nt&&t.visitTerminal(n)}))}return t}addContextToParseTree(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}getPrecedence(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,n){const r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}precpred(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(t){const e=this._interp.atn;let n=this._ctx;const r=e.states[this.state];let i=e.nextTokens(r);if(i.contains(t))return!0;if(!i.contains(C.EPSILON))return!1;for(;null!==n&&n.invokingState>=0&&i.contains(C.EPSILON);){const r=e.states[n.invokingState].transitions[0];if(i=e.nextTokens(r.followState),i.contains(t))return!0;n=n.parentCtx}return!(!i.contains(C.EPSILON)||t!==C.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){const e=this.getRuleIndexMap()[t];return null!==e?e:-1}getRuleInvocationStack(t){null===(t=t||null)&&(t=this._ctx);const e=[];for(;null!==t;){const n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t=!1;for(let e=0;e<this._interp.decisionToDFA.length;e++){const n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}getSourceName(){return this._input.sourceName}setTrace(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new $e(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}ze.bypassAltsAtnCache={};class qe extends nt{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(null===this.symbol)return V.INVALID_INTERVAL;const t=this.symbol.tokenIndex;return new V(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===C.EOF?"<EOF>":this.symbol.text}}class Ve extends qe{constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}}class He extends st{constructor(t,e){super(t=t||null,e=e||null),this.ruleIndex=-1,this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof Ve&&(this.children.push(t),t.parentCtx=this)}),this))}enterRule(t){}exitRule(t){}addChild(t){return null===this.children&&(this.children=[]),this.children.push(t),t}removeLastChild(){null!==this.children&&this.children.pop()}addTokenNode(t){const e=new qe(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){const e=new Ve(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}getToken(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof nt&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}getTokens(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof nt&&r.symbol.type===t&&e.push(r)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof t&&e.push(r)}return e}}getChildCount(){return null===this.children?0:this.children.length}getSourceInterval(){return null===this.start||null===this.stop?V.INVALID_INTERVAL:new V(this.start.tokenIndex,this.stop.tokenIndex)}}st.EMPTY=new He;const Ke={arrayToString:M},Ye={atn:Se,dfa:Oe,tree:Re,error:Fe,Token:C,CommonToken:ne,CharStreams:Be,InputStream:je,FileStream:class extends je{constructor(t,e){super(Ue.readFileSync(t,"utf8"),e),this.fileName=t}},CommonTokenStream:class extends class extends class{}{constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get(t){return this.lazyInit(),this.tokens[t]}consume(){let t=!1;if(t=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!t&&this.LA(1)===C.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){const e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){const t=this.tokenSource.nextToken();if(t.tokenIndex=this.tokens.length,this.tokens.push(t),t.type===C.EOF)return this.fetchedEOF=!0,e+1}return t}getTokens(t,e,n){if(void 0===n&&(n=null),t<0||e<0)return null;this.lazyInit();const r=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(let i=t;i<e;i++){const t=this.tokens[i];if(t.type===C.EOF)break;(null===n||n.contains(t.type))&&r.push(t)}return r}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);const e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.index&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.tokens.length)return-1;let n=this.tokens[t];for(;n.channel!==this.channel;){if(n.type===C.EOF)return-1;t+=1,this.sync(t),n=this.tokens[t]}return t}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.nextTokenOnChannel(t+1,se.DEFAULT_TOKEN_CHANNEL),r=t+1,i=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,i,e)}getHiddenTokensToLeft(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.previousTokenOnChannel(t-1,se.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;const r=n+1,i=t-1;return this.filterForChannel(r,i,e)}filterForChannel(t,e,n){const r=[];for(let i=t;i<e+1;i++){const t=this.tokens[i];-1===n?t.channel!==se.DEFAULT_TOKEN_CHANNEL&&r.push(t):t.channel===n&&r.push(t)}return 0===r.length?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(t){this.lazyInit(),this.fill(),null==t&&(t=new V(0,this.tokens.length-1));let e=t.start;e instanceof C&&(e=e.tokenIndex);let n=t.stop;if(n instanceof C&&(n=n.tokenIndex),null===e||null===n||e<0||n<0)return"";n>=this.tokens.length&&(n=this.tokens.length-1);let r="";for(let t=e;t<n+1;t++){const e=this.tokens[t];if(e.type===C.EOF)break;r+=e.text}return r}fill(){for(this.lazyInit();1e3===this.fetch(1e3););}}{constructor(t,e){super(t),this.channel=void 0===e?C.DEFAULT_CHANNEL:e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(0===t||this.index-t<0)return null;let e=this.index,n=1;for(;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);let e=this.index,n=1;for(;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e=0;e<this.tokens.length;e++){const n=this.tokens[e];if(n.channel===this.channel&&(t+=1),n.type===C.EOF)break}return t}},Lexer:se,Parser:ze,PredictionContextCache:class{constructor(){this.cache=new ft}add(t){if(t===at.EMPTY)return at.EMPTY;const e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}},ParserRuleContext:He,Interval:V,IntervalSet:H,LL1Analyzer:yt,Utils:Ke},Ge=Ye;function Qe(t){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xe(t,e){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xe(t,e)}function Je(t,e){if(e&&("object"===Qe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ze(t){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(t)}var tn=function(t){return t.getText().replaceAll('"',"").trim()};const en=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xe(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ze(i);if(o){var n=Ze(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Je(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=s.call(this)).definitions=t,e.components=[],e.errors=[],e.currentComponent=null,e.currentBlockType=null,e.currentField=null,e.currentComplexeField=null,e.currentFile=null,e}return n=a,(r=[{key:"addComponent",value:function(){this.currentComponent.path=this.currentFile.path,this.components.push(this.currentComponent),this.currentComponent=null,this.currentBlockType=null}},{key:"enterFile",value:function(){}},{key:"exitFile",value:function(){}},{key:"enterDirective",value:function(){}},{key:"exitDirective",value:function(){}},{key:"enterDataDirective",value:function(){this.currentBlockType="data",this.currentComponent=new t.Component}},{key:"exitDataDirective",value:function(){this.addComponent()}},{key:"enterModuleDirective",value:function(e){this.currentBlockType="module",this.currentComponent=new t.Component;var n=tn(e.name());this.currentComponent.definition=this.definitions.find((function(t){return"module"===t.blockType&&t.type===n}))||null}},{key:"exitModuleDirective",value:function(){this.addComponent()}},{key:"enterModuleSource",value:function(){}},{key:"exitModuleSource",value:function(e){this.currentComponent.attributes.push(new t.ComponentAttribute({name:"source",value:tn(e.STRING()),type:"String"}))}},{key:"enterProviderDirective",value:function(e){this.currentBlockType="provider",this.currentComponent=new t.Component;var n=tn(e.name());this.currentComponent.definition=this.definitions.find((function(t){return"provider"===t.blockType&&t.provider===n}))||null}},{key:"exitProviderDirective",value:function(){this.addComponent()}},{key:"enterTerraformDirective",value:function(){}},{key:"exitTerraformDirective",value:function(){}},{key:"enterResourceDirective",value:function(){this.currentBlockType="resource",this.currentComponent=new t.Component}},{key:"exitResourceDirective",value:function(){this.addComponent()}},{key:"enterVariableDirective",value:function(e){var n=tn(e.name());this.currentBlockType="variable",this.currentComponent=new t.Component,this.currentComponent.definition=this.definitions.find((function(t){return"variable"===t.blockType&&t.type===n}))||null}},{key:"exitVariableDirective",value:function(){this.addComponent()}},{key:"enterOutputDirective",value:function(){}},{key:"exitOutputDirective",value:function(){}},{key:"enterName",value:function(){}},{key:"exitName",value:function(t){this.currentComponent.name=tn(t)}},{key:"enterProviderType",value:function(t){var e=this,n=tn(t);this.currentComponent.definition=this.definitions.find((function(t){return t.blockType===e.currentBlockType&&t.type===n}))||null}},{key:"exitProviderType",value:function(){}},{key:"enterType",value:function(){}},{key:"exitType",value:function(){}},{key:"enterObject",value:function(){}},{key:"exitObject",value:function(){}},{key:"enterField",value:function(){}},{key:"exitField",value:function(e){var n=this;this.currentField||(e.expression().BOOLEAN()?this.currentField=new t.ComponentAttribute({type:"Boolean",value:"true"===e.expression().BOOLEAN().getText()}):e.expression().NUMBER()?this.currentField=new t.ComponentAttribute({type:"Number",value:parseFloat(e.expression().NUMBER().getText())}):this.currentField=new t.ComponentAttribute({type:"String",value:"null"===e.expression().getText()?null:tn(e.expression())})),this.currentField.name=tn(e.IDENTIFIER()),this.currentComplexeField?this.currentComplexeField.value.push(this.currentField):this.currentComponent.attributes.push(this.currentField),this.currentField.definition=this.currentComponent.definition.definedAttributes.find((function(t){return t.name===n.currentField.name}))||null,this.currentField=null}},{key:"enterComplexField",value:function(){this.currentComplexeField=new t.ComponentAttribute({value:[],type:"Object"})}},{key:"exitComplexField",value:function(t){this.currentComplexeField.name=tn(t.IDENTIFIER()),this.currentComponent.attributes.push(this.currentComplexeField),this.currentComplexeField=null}},{key:"enterValidation",value:function(){}},{key:"exitValidation",value:function(){}},{key:"enterCondition",value:function(){}},{key:"exitCondition",value:function(){}},{key:"enterExpression",value:function(){}},{key:"exitExpression",value:function(){}},{key:"enterFunctionCall",value:function(){}},{key:"exitFunctionCall",value:function(){}},{key:"enterComplexExpression",value:function(){}},{key:"exitComplexExpression",value:function(){}},{key:"enterArray",value:function(){this.currentField=new t.ComponentAttribute}},{key:"exitArray",value:function(t){this.currentField.type="Array",this.currentField.value=t.children.map((function(t){return tn(t)})).filter((function(t){return"["!==t&&"]"!==t&&","!==t}))}},{key:"enterIndex",value:function(){}},{key:"exitIndex",value:function(){}}])&&We(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(Ge.tree.ParseTreeListener);function nn(t){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(t)}function rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function on(t,e){return on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},on(t,e)}function sn(t,e){if(e&&("object"===nn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return an(t)}function an(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function un(t){return un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},un(t)}function cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ln=["","*\b\b\t","\t\t\t\t","\t\b\t\b\t\t\t\n\t\n\v","\t\v\f\t\f\r\t\r\t\t","\t\t\t","\t\t\t\t","\t\t\t","\t\t\t\t",'\t\t \t !\t!"',"\t\"#\t#$\t$%\t%&\t&'\t'(\t(",")\t)*\t*+\t+,\t,-\t-.\t./\t/","0\t01\t1","","","","","","","","\b\b\b\b\b\b\b","\b\b\t\t\t\t\t\t\t","\n\n\n\n\n\v\v\v","\v\f\f\f\f\f\f\f","\r\r\r\r\r\r\r\r","\r\r","","","","","","","\n","","","","\n","","","","","","","\n","\n\f","\v\n","","\n    \n \f  \v",'   !!!!\n!""','""""##$$%',"%%%\n%\f%%\v%%\n","%&&&&&\n&\f&&\v","&&&&&&''''","'\n'\f''\v'''(","((\n(\f((\v((()",")\n)\r))))***","*****++,,","--..//0011","11112\b","\n\f\b\t\n\v\f",'\r "$&',"(*,.02468:","<>@BDFHJ L!N\"P#R$T%V&X'","Z\\^(`)b*((>>@@~~","--112;&&00C\\aac|","\udc02\n","$$11^^ddhhppttvv2;CHch!$$^^",'3;\f\f\v\f""',"c|\b#&/1??aa}}","\b","\n\f","","","",""," ",'"$',"&(","*,",".02","46","8:","@J","LN","PRT","VX","^`","bd","k\bp\nw","\f","","","","",' "',"$&","(*",",.0","24","68",":<",">@","BDF","HJ","LN","PR","TV","XZ\\","^`","bdeo","efqfgfghwhi","nijgjkl","flmcmnvno","copquqr","qrswstttu","euvgv\twx","rxytyzqz{x","{|k|}f}~g","~t\v","vg","tt","chq","to","\rt","gu","qw","teg","x","ct","kc","dn","g","qw","vrw","v","nk","uv","o","cr","q","dl","gev","e","qp","fk","vk","qp","g","ttq","ta","og","uu","ci","g","}","!","?#*","%+","']",")_+",".-","0/","/1",",3",'\t"',"??","20\t","","","","5v","tw","g$","vt","wg$","hc","nu","g$","hc","nug","$","","7","uv","tk","pi","$u","vtk","pi","$p","wo","dg","t$p","wo","dg","t$","dq","qn$","dq","qn","$c","p{","","","","9","><","",";",">","\t","=","\t\n","\t\t\b","","?","$B!","H$","","","$","A^",'\t\tD"',"","Cw","F#F#F#","F#E\t\n","G\n\v","I2","\t\f\t","","","","K","1",",","\v","","",",","1","\b&M1","1","\n\r","","","\b'","O%","\n\r","","","\b(Q","\t","","","\b)S",">>","GQ","H\b*","U\t","WR)Y","F#[","H$]","J%_\t","aG","QH","\b1","c","",""].join(""),hn=(new Ge.atn.ATNDeserializer).deserialize(ln),fn=hn.decisionToState.map((function(t,e){return new Ge.dfa.DFA(t,e)})),dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&on(t,e)}(s,t);var e,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=un(r);if(i){var n=un(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return sn(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this,t))._interp=new Ge.atn.LexerATNSimulator(an(e),hn,fn,new Ge.PredictionContextCache),e}return e=s,(n=[{key:"atn",get:function(){return hn}}])&&rn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Ge.Lexer);function pn(t){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(t)}function mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t,e,n){return e&&vn(t.prototype,e),n&&vn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_n(t,e)}function _n(t,e){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_n(t,e)}function bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wn(t);if(e){var i=wn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xn(this,n)}}function xn(t,e){if(e&&("object"===pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return En(t)}function En(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wn(t){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wn(t)}function Tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}cn(dn,"grammarFileName","terraformLexer.g4"),cn(dn,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),cn(dn,"modeNames",["DEFAULT_MODE","SCRIPT"]),cn(dn,"literalNames",[null,"'module'","'data'","'source'","'provider'","'terraform'","'resource'","'variable'","'output'","'list'","'map'","'object'","'condition'","'error_message'","'{'","'}'","'='","'('","')'","'['","']'","','","'.'","'-'","'*'",null,null,null,null,null,null,null,null,null,null,"'<<EOF'",null,null,null,null,"'EOF'"]),cn(dn,"symbolicNames",[null,"MODULE","DATA","SOURCE","PROVIDER","TERRAFORM","RESOURCE","VARIABLE","OUTPUT","LIST","MAP","OBJECT","CONDITION","ERROR","AO","AF","EQUAL","PO","PF","CO","CF","VIRG","POINT","TIRET","MULT","BOOLEANOP","BOOLEAN","TYPE","IDENTIFIER","STRING","NUMBER","COMMENT","LINE_COMMENT","HAS_COMMENT","WS","OPEN","IDENTIFIERS","WSS","NUMBERS","AUTRE","CLOSE"]),cn(dn,"ruleNames",["MODULE","DATA","SOURCE","PROVIDER","TERRAFORM","RESOURCE","VARIABLE","OUTPUT","LIST","MAP","OBJECT","CONDITION","ERROR","AO","AF","EQUAL","PO","PF","CO","CF","VIRG","POINT","TIRET","MULT","BOOLEANOP","BOOLEAN","TYPE","IDENTIFIER","LetterOrDigit","Letter","STRING","ESC","UNICODE","HEX","SAFECODEPOINT","NUMBER","COMMENT","LINE_COMMENT","HAS_COMMENT","WS","OPEN","IDENTIFIERS","WSS","HEXS","SAFECODEPOINTS","NUMBERS","AUTRE","CLOSE"]),dn.EOF=Ge.Token.EOF,dn.MODULE=1,dn.DATA=2,dn.SOURCE=3,dn.PROVIDER=4,dn.TERRAFORM=5,dn.RESOURCE=6,dn.VARIABLE=7,dn.OUTPUT=8,dn.LIST=9,dn.MAP=10,dn.OBJECT=11,dn.CONDITION=12,dn.ERROR=13,dn.AO=14,dn.AF=15,dn.EQUAL=16,dn.PO=17,dn.PF=18,dn.CO=19,dn.CF=20,dn.VIRG=21,dn.POINT=22,dn.TIRET=23,dn.MULT=24,dn.BOOLEANOP=25,dn.BOOLEAN=26,dn.TYPE=27,dn.IDENTIFIER=28,dn.STRING=29,dn.NUMBER=30,dn.COMMENT=31,dn.LINE_COMMENT=32,dn.HAS_COMMENT=33,dn.WS=34,dn.OPEN=35,dn.IDENTIFIERS=36,dn.WSS=37,dn.NUMBERS=38,dn.AUTRE=39,dn.CLOSE=40,dn.SCRIPT=1;var Sn=["","*\t\t","\t\t\t\t","\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f","\r\t\r\t\t\t","\t\t\t","\t\t\t\t","\t2\n\r","3","=\n","D\n\r","E","O\n\rP","","","\b\b\b\bb\n\b\r\b\bc\b\b\t","\t\t\t\t\t\t\n\n","\n\n\ns\n\n\r\n\nt\n\n\v","\v\v\v\v}\n\v\r\v\v","~\v\v\f\f\r\r","","","\n","\n\r","","","\n","\r\n","\n","\r","","\n","\n","","\n\f\v","\n","\n\r","\n","\r\n\r","","\n","","\n\f","\v","\n\f","\v\n","\n","*\b\n\f",' "$&(*,.',"","  1<",">\bI","\nT\fX^","gn","x","","",' "',"$&","(*,",".02","102331","344","5=\f6=\b7=\t","8=\n9=\v:=\b",";=<5<6","<7<8<9","<:<;=",">??@\r","@A\fACBD","CBDEEC","EFFGGH","HIJ","JK\fKNLO\n","MONLNM","OPPNPQ","QRRS","S\tTUUV","VWW\v","XYYZ\fZ[","[\\\\]]\r","^__a","`ba`bc","cacdde","eff","gh\bhi\rij\fj","kkllm","mno\top","\fprqsr","qsttr","tuuvvw","wxy\nyz","\fz|{}","|{}~~|","~","","","","\v","\v","","\f","","","\r","","","",""," ","","","","\t","&","","","","","","","","","","","!","","$","","","","","#"," ","(","","","%"," ",",*","","","","","'","&","&","","","","","",")","\b","\t","","","%&",")'","","","","","","","*","*","(","","","","\f\b","*\t\f",".","\f",".","","","","+","","&","&","","","","","","","","-\t","/3<ENPct~","",""].join(""),kn=(new Ge.atn.ATNDeserializer).deserialize(Sn),An=kn.decisionToState.map((function(t,e){return new Ge.dfa.DFA(t,e)})),On=new Ge.PredictionContextCache,Cn=function(t){gn(n,t);var e=bn(n);function n(t){var r;return mn(this,n),(r=e.call(this,t))._interp=new Ge.atn.ParserATNSimulator(En(r),kn,An,On),r.ruleNames=n.ruleNames,r.literalNames=n.literalNames,r.symbolicNames=n.symbolicNames,r}return yn(n,[{key:"atn",get:function(){return kn}},{key:"sempred",value:function(t,e,n){if(20===e)return this.complexExpression_sempred(t,n);throw"No predicate with index:".concat(e)}},{key:"complexExpression_sempred",value:function(t,e){switch(e){case 0:return this.precpred(this._ctx,6);case 1:return this.precpred(this._ctx,5);case 2:return this.precpred(this._ctx,4);default:throw"No predicate with index:".concat(e)}}},{key:"file",value:function(){var t=new Pn(this,this._ctx,this.state);this.enterRule(t,0,n.RULE_file);var e=0;try{this.enterOuterAlt(t,1),this.state=47,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=46,this.directive(),this.state=49,this._errHandler.sync(this),e=this._input.LA(1)}while(0==(-32&e)&&0!=(1<<e&(1<<n.MODULE|1<<n.DATA|1<<n.PROVIDER|1<<n.TERRAFORM|1<<n.RESOURCE|1<<n.VARIABLE|1<<n.OUTPUT)))}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"directive",value:function(){var t=new Rn(this,this._ctx,this.state);this.enterRule(t,2,n.RULE_directive);try{switch(this.state=58,this._errHandler.sync(this),this._input.LA(1)){case n.PROVIDER:this.enterOuterAlt(t,1),this.state=51,this.providerDirective();break;case n.TERRAFORM:this.enterOuterAlt(t,2),this.state=52,this.terraformDirective();break;case n.RESOURCE:this.enterOuterAlt(t,3),this.state=53,this.resourceDirective();break;case n.VARIABLE:this.enterOuterAlt(t,4),this.state=54,this.variableDirective();break;case n.OUTPUT:this.enterOuterAlt(t,5),this.state=55,this.outputDirective();break;case n.MODULE:this.enterOuterAlt(t,6),this.state=56,this.moduleDirective();break;case n.DATA:this.enterOuterAlt(t,7),this.state=57,this.dataDirective();break;default:throw new Ge.error.NoViableAltException(this)}}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"dataDirective",value:function(){var t=new Nn(this,this._ctx,this.state);this.enterRule(t,4,n.RULE_dataDirective);var e=0;try{this.enterOuterAlt(t,1),this.state=60,this.match(n.DATA),this.state=61,this.providerType(),this.state=62,this.name(),this.state=63,this.match(n.AO),this.state=65,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=64,this.object(),this.state=67,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.SOURCE||e===n.IDENTIFIER);this.state=69,this.match(n.AF)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"moduleDirective",value:function(){var t=new Ln(this,this._ctx,this.state);this.enterRule(t,6,n.RULE_moduleDirective);var e=0;try{this.enterOuterAlt(t,1),this.state=71,this.match(n.MODULE),this.state=72,this.name(),this.state=73,this.match(n.AO),this.state=76,this._errHandler.sync(this),e=this._input.LA(1);do{switch(this.state=76,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,3,this._ctx)){case 1:this.state=74,this.moduleSource();break;case 2:this.state=75,this.object()}this.state=78,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.SOURCE||e===n.IDENTIFIER);this.state=80,this.match(n.AF)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"moduleSource",value:function(){var t=new In(this,this._ctx,this.state);this.enterRule(t,8,n.RULE_moduleSource);try{this.enterOuterAlt(t,1),this.state=82,this.match(n.SOURCE),this.state=83,this.match(n.EQUAL),this.state=84,this.match(n.STRING)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"providerDirective",value:function(){var t=new Mn(this,this._ctx,this.state);this.enterRule(t,10,n.RULE_providerDirective);try{this.enterOuterAlt(t,1),this.state=86,this.match(n.PROVIDER),this.state=87,this.name(),this.state=88,this.match(n.AO),this.state=89,this.object(),this.state=90,this.match(n.AF)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"terraformDirective",value:function(){var t=new Dn(this,this._ctx,this.state);this.enterRule(t,12,n.RULE_terraformDirective);var e=0;try{this.enterOuterAlt(t,1),this.state=92,this.match(n.TERRAFORM),this.state=93,this.match(n.AO),this.state=95,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=94,this.object(),this.state=97,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.SOURCE||e===n.IDENTIFIER);this.state=99,this.match(n.AF)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"resourceDirective",value:function(){var t=new Fn(this,this._ctx,this.state);this.enterRule(t,14,n.RULE_resourceDirective);try{this.enterOuterAlt(t,1),this.state=101,this.match(n.RESOURCE),this.state=102,this.providerType(),this.state=103,this.name(),this.state=104,this.match(n.AO),this.state=105,this.object(),this.state=106,this.match(n.AF)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"variableDirective",value:function(){var t=new jn(this,this._ctx,this.state);this.enterRule(t,16,n.RULE_variableDirective);var e=0;try{this.enterOuterAlt(t,1),this.state=108,this.match(n.VARIABLE),this.state=109,this.name(),this.state=110,this.match(n.AO),this.state=112,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=111,this.object(),this.state=114,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.SOURCE||e===n.IDENTIFIER);this.state=116,this.match(n.AF)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"outputDirective",value:function(){var t=new Un(this,this._ctx,this.state);this.enterRule(t,18,n.RULE_outputDirective);var e=0;try{this.enterOuterAlt(t,1),this.state=118,this.match(n.OUTPUT),this.state=119,this.name(),this.state=120,this.match(n.AO),this.state=122,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=121,this.object(),this.state=124,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.SOURCE||e===n.IDENTIFIER);this.state=126,this.match(n.AF)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"name",value:function(){var t=new Bn(this,this._ctx,this.state);this.enterRule(t,20,n.RULE_name);try{this.enterOuterAlt(t,1),this.state=128,this.match(n.STRING)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"providerType",value:function(){var t=new $n(this,this._ctx,this.state);this.enterRule(t,22,n.RULE_providerType);try{this.enterOuterAlt(t,1),this.state=130,this.match(n.STRING)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"type",value:function(){var t=new zn(this,this._ctx,this.state);this.enterRule(t,24,n.RULE_type);try{switch(this.state=149,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,8,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=132,this.match(n.TYPE);break;case 2:this.enterOuterAlt(t,2),this.state=133,this.match(n.LIST);break;case 3:this.enterOuterAlt(t,3),this.state=134,this.match(n.LIST),this.state=135,this.match(n.PO),this.state=136,this.type(),this.state=137,this.match(n.PF);break;case 4:this.enterOuterAlt(t,4),this.state=139,this.match(n.MAP),this.state=140,this.match(n.PO),this.state=141,this.type(),this.state=142,this.match(n.PF);break;case 5:this.enterOuterAlt(t,5),this.state=144,this.match(n.OBJECT),this.state=145,this.match(n.PO),this.state=146,this.object(),this.state=147,this.match(n.PF)}}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"object",value:function(){var t=new qn(this,this._ctx,this.state);this.enterRule(t,26,n.RULE_object);try{this.enterOuterAlt(t,1),this.state=153,this._errHandler.sync(this);var e=1;do{if(1!==e)throw new Ge.error.NoViableAltException(this);switch(this.state=153,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,9,this._ctx)){case 1:this.state=151,this.complexField();break;case 2:this.state=152,this.field()}this.state=155,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,10,this._ctx)}while(2!=e&&e!=Ge.atn.ATN.INVALID_ALT_NUMBER)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"field",value:function(){var t=new Vn(this,this._ctx,this.state);this.enterRule(t,28,n.RULE_field);var e=0;try{this.enterOuterAlt(t,1),this.state=157,(e=this._input.LA(1))!==n.SOURCE&&e!==n.IDENTIFIER?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=158,this.match(n.EQUAL),this.state=159,this.expression()}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"complexField",value:function(){var t=new Hn(this,this._ctx,this.state);this.enterRule(t,30,n.RULE_complexField);var e=0;try{switch(this.state=177,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,12,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=161,this.match(n.IDENTIFIER),this.state=162,this.match(n.AO),this.state=163,this.object(),this.state=164,this.match(n.AF);break;case 2:this.enterOuterAlt(t,2),this.state=166,this.match(n.IDENTIFIER),this.state=167,this.match(n.EQUAL),this.state=168,this.match(n.AO),this.state=172,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=169,this.match(n.STRING),this.state=170,this.match(n.EQUAL),this.state=171,this.match(n.STRING),this.state=174,this._errHandler.sync(this),e=this._input.LA(1)}while(e===n.STRING);this.state=176,this.match(n.AF)}}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"validation",value:function(){var t=new Kn(this,this._ctx,this.state);this.enterRule(t,32,n.RULE_validation);var e=0;try{this.enterOuterAlt(t,1),this.state=179,this.match(n.AO),this.state=180,this.match(n.CONDITION),this.state=181,this.match(n.EQUAL),this.state=183,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=182,this.condition(),this.state=185,this._errHandler.sync(this),e=this._input.LA(1)}while(0==(-32&e)&&0!=(1<<e&(1<<n.BOOLEANOP|1<<n.BOOLEAN|1<<n.IDENTIFIER|1<<n.STRING|1<<n.NUMBER)));this.state=187,this.match(n.ERROR),this.state=188,this.match(n.EQUAL),this.state=189,this.match(n.STRING),this.state=190,this.match(n.AF)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"condition",value:function(){var t=new Yn(this,this._ctx,this.state);this.enterRule(t,34,n.RULE_condition);try{switch(this.state=197,this._errHandler.sync(this),this._input.LA(1)){case n.STRING:this.enterOuterAlt(t,1),this.state=192,this.match(n.STRING);break;case n.NUMBER:this.enterOuterAlt(t,2),this.state=193,this.match(n.NUMBER);break;case n.BOOLEAN:this.enterOuterAlt(t,3),this.state=194,this.match(n.BOOLEAN);break;case n.BOOLEANOP:this.enterOuterAlt(t,4),this.state=195,this.match(n.BOOLEANOP);break;case n.IDENTIFIER:this.enterOuterAlt(t,5),this.state=196,this.functionCall();break;default:throw new Ge.error.NoViableAltException(this)}}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"expression",value:function(){var t=new Gn(this,this._ctx,this.state);this.enterRule(t,36,n.RULE_expression);try{switch(this.state=205,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,15,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=199,this.match(n.NUMBER);break;case 2:this.enterOuterAlt(t,2),this.state=200,this.match(n.BOOLEAN);break;case 3:this.enterOuterAlt(t,3),this.state=201,this.array();break;case 4:this.enterOuterAlt(t,4),this.state=202,this.complexExpression(0);break;case 5:this.enterOuterAlt(t,5),this.state=203,this.match(n.STRING);break;case 6:this.enterOuterAlt(t,6),this.state=204,this.type()}}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"functionCall",value:function(){var t=new Qn(this,this._ctx,this.state);this.enterRule(t,38,n.RULE_functionCall);try{this.enterOuterAlt(t,1),this.state=207,this.match(n.IDENTIFIER),this.state=208,this.match(n.PO),this.state=209,this.expression(),this.state=214,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,16,this._ctx);2!=e&&e!=Ge.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=210,this.match(n.VIRG),this.state=211,this.expression()),this.state=216,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,16,this._ctx);this.state=218,this._errHandler.sync(this),this._input.LA(1)===n.VIRG&&(this.state=217,this.match(n.VIRG)),this.state=220,this.match(n.PF)}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"complexExpression",value:function(t){void 0===t&&(t=0);var e=this._ctx,r=this.state,i=new Wn(this,this._ctx,r);this.enterRecursionRule(i,40,n.RULE_complexExpression,t);var o=0;try{switch(this.enterOuterAlt(i,1),this.state=247,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,22,this._ctx)){case 1:this.state=223,this.match(n.IDENTIFIER);break;case 2:this.state=225,this._errHandler.sync(this);var s=1;do{if(1!==s)throw new Ge.error.NoViableAltException(this);this.state=224,(o=this._input.LA(1))!==n.TIRET&&o!==n.IDENTIFIER?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=227,this._errHandler.sync(this),s=this._interp.adaptivePredict(this._input,18,this._ctx)}while(2!=s&&s!=Ge.atn.ATN.INVALID_ALT_NUMBER);break;case 3:this.state=229,this.match(n.OPEN),this.state=237,this._errHandler.sync(this),o=this._input.LA(1);do{switch(this.state=237,this._errHandler.sync(this),this._input.LA(1)){case n.IDENTIFIERS:this.state=230,this.match(n.IDENTIFIERS);break;case n.AUTRE:this.state=231,this.match(n.AUTRE);break;case n.WSS:this.state=233,this._errHandler.sync(this),s=1;do{if(1!==s)throw new Ge.error.NoViableAltException(this);this.state=232,this.match(n.WSS),this.state=235,this._errHandler.sync(this),s=this._interp.adaptivePredict(this._input,19,this._ctx)}while(2!=s&&s!=Ge.atn.ATN.INVALID_ALT_NUMBER);break;default:throw new Ge.error.NoViableAltException(this)}this.state=239,this._errHandler.sync(this),o=this._input.LA(1)}while(0==(o-36&-32)&&0!=(1<<o-36&(1<<n.IDENTIFIERS-36|1<<n.WSS-36|1<<n.AUTRE-36)));this.state=241,this.match(n.CLOSE);break;case 4:this.state=242,this.match(n.STRING),this.state=243,this.complexExpression(0),this.state=244,this.match(n.STRING);break;case 5:this.state=246,this.functionCall()}for(this._ctx.stop=this._input.LT(-1),this.state=262,this._errHandler.sync(this),s=this._interp.adaptivePredict(this._input,24,this._ctx);2!=s&&s!=Ge.atn.ATN.INVALID_ALT_NUMBER;){if(1===s)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),this.state=260,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,23,this._ctx)){case 1:if(i=new Wn(this,e,r),this.pushNewRecursionContext(i,40,n.RULE_complexExpression),this.state=249,!this.precpred(this._ctx,6))throw new Ge.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=250,this.match(n.POINT),this.state=251,this.complexExpression(7);break;case 2:if(i=new Wn(this,e,r),this.pushNewRecursionContext(i,40,n.RULE_complexExpression),this.state=252,!this.precpred(this._ctx,5))throw new Ge.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=253,this.match(n.CO),this.state=254,this.index(),this.state=255,this.match(n.CF);break;case 3:if(i=new Wn(this,e,r),this.pushNewRecursionContext(i,40,n.RULE_complexExpression),this.state=257,!this.precpred(this._ctx,4))throw new Ge.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=258,this.match(n.POINT),this.state=259,this.index()}this.state=264,this._errHandler.sync(this),s=this._interp.adaptivePredict(this._input,24,this._ctx)}}catch(t){if(!(t instanceof Ge.error.RecognitionException))throw t;i.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return i}},{key:"array",value:function(){var t=new Xn(this,this._ctx,this.state);this.enterRule(t,42,n.RULE_array);try{switch(this.state=281,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,27,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=265,this.match(n.CO),this.state=266,this.match(n.CF);break;case 2:this.enterOuterAlt(t,2),this.state=267,this.match(n.CO),this.state=268,this.expression(),this.state=273,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,25,this._ctx);2!=e&&e!=Ge.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=269,this.match(n.VIRG),this.state=270,this.expression()),this.state=275,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,25,this._ctx);this.state=277,this._errHandler.sync(this),this._input.LA(1)===n.VIRG&&(this.state=276,this.match(n.VIRG)),this.state=279,this.match(n.CF)}}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"index",value:function(){var t=new Jn(this,this._ctx,this.state);this.enterRule(t,44,n.RULE_index);var e=0;try{this.enterOuterAlt(t,1),this.state=283,(e=this._input.LA(1))!==n.MULT&&e!==n.NUMBER?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof Ge.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}}]),n}(Ge.Parser);Tn(Cn,"grammarFileName","terraformParser.g4"),Tn(Cn,"literalNames",[null,"'module'","'data'","'source'","'provider'","'terraform'","'resource'","'variable'","'output'","'list'","'map'","'object'","'condition'","'error_message'","'{'","'}'","'='","'('","')'","'['","']'","','","'.'","'-'","'*'",null,null,null,null,null,null,null,null,null,null,"'<<EOF'",null,null,null,null,"'EOF'"]),Tn(Cn,"symbolicNames",[null,"MODULE","DATA","SOURCE","PROVIDER","TERRAFORM","RESOURCE","VARIABLE","OUTPUT","LIST","MAP","OBJECT","CONDITION","ERROR","AO","AF","EQUAL","PO","PF","CO","CF","VIRG","POINT","TIRET","MULT","BOOLEANOP","BOOLEAN","TYPE","IDENTIFIER","STRING","NUMBER","COMMENT","LINE_COMMENT","HAS_COMMENT","WS","OPEN","IDENTIFIERS","WSS","NUMBERS","AUTRE","CLOSE"]),Tn(Cn,"ruleNames",["file","directive","dataDirective","moduleDirective","moduleSource","providerDirective","terraformDirective","resourceDirective","variableDirective","outputDirective","name","providerType","type","object","field","complexField","validation","condition","expression","functionCall","complexExpression","array","index"]),Cn.EOF=Ge.Token.EOF,Cn.MODULE=1,Cn.DATA=2,Cn.SOURCE=3,Cn.PROVIDER=4,Cn.TERRAFORM=5,Cn.RESOURCE=6,Cn.VARIABLE=7,Cn.OUTPUT=8,Cn.LIST=9,Cn.MAP=10,Cn.OBJECT=11,Cn.CONDITION=12,Cn.ERROR=13,Cn.AO=14,Cn.AF=15,Cn.EQUAL=16,Cn.PO=17,Cn.PF=18,Cn.CO=19,Cn.CF=20,Cn.VIRG=21,Cn.POINT=22,Cn.TIRET=23,Cn.MULT=24,Cn.BOOLEANOP=25,Cn.BOOLEAN=26,Cn.TYPE=27,Cn.IDENTIFIER=28,Cn.STRING=29,Cn.NUMBER=30,Cn.COMMENT=31,Cn.LINE_COMMENT=32,Cn.HAS_COMMENT=33,Cn.WS=34,Cn.OPEN=35,Cn.IDENTIFIERS=36,Cn.WSS=37,Cn.NUMBERS=38,Cn.AUTRE=39,Cn.CLOSE=40,Cn.RULE_file=0,Cn.RULE_directive=1,Cn.RULE_dataDirective=2,Cn.RULE_moduleDirective=3,Cn.RULE_moduleSource=4,Cn.RULE_providerDirective=5,Cn.RULE_terraformDirective=6,Cn.RULE_resourceDirective=7,Cn.RULE_variableDirective=8,Cn.RULE_outputDirective=9,Cn.RULE_name=10,Cn.RULE_providerType=11,Cn.RULE_type=12,Cn.RULE_object=13,Cn.RULE_field=14,Cn.RULE_complexField=15,Cn.RULE_validation=16,Cn.RULE_condition=17,Cn.RULE_expression=18,Cn.RULE_functionCall=19,Cn.RULE_complexExpression=20,Cn.RULE_array=21,Cn.RULE_index=22;var Pn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"directive",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Rn):this.getTypedRuleContext(Rn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_file,o}return yn(n,[{key:"enterRule",value:function(t){t instanceof en&&t.enterFile(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitFile(this)}}]),n}(Ge.ParserRuleContext),Rn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_directive,o}return yn(n,[{key:"providerDirective",value:function(){return this.getTypedRuleContext(Mn,0)}},{key:"terraformDirective",value:function(){return this.getTypedRuleContext(Dn,0)}},{key:"resourceDirective",value:function(){return this.getTypedRuleContext(Fn,0)}},{key:"variableDirective",value:function(){return this.getTypedRuleContext(jn,0)}},{key:"outputDirective",value:function(){return this.getTypedRuleContext(Un,0)}},{key:"moduleDirective",value:function(){return this.getTypedRuleContext(Ln,0)}},{key:"dataDirective",value:function(){return this.getTypedRuleContext(Nn,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterDirective(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitDirective(this)}}]),n}(Ge.ParserRuleContext),Nn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"object",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(qn):this.getTypedRuleContext(qn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_dataDirective,o}return yn(n,[{key:"DATA",value:function(){return this.getToken(Cn.DATA,0)}},{key:"providerType",value:function(){return this.getTypedRuleContext($n,0)}},{key:"name",value:function(){return this.getTypedRuleContext(Bn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterDataDirective(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitDataDirective(this)}}]),n}(Ge.ParserRuleContext),Ln=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"moduleSource",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(In):this.getTypedRuleContext(In,t)})),Tn(En(o),"object",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(qn):this.getTypedRuleContext(qn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_moduleDirective,o}return yn(n,[{key:"MODULE",value:function(){return this.getToken(Cn.MODULE,0)}},{key:"name",value:function(){return this.getTypedRuleContext(Bn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterModuleDirective(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitModuleDirective(this)}}]),n}(Ge.ParserRuleContext),In=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_moduleSource,o}return yn(n,[{key:"SOURCE",value:function(){return this.getToken(Cn.SOURCE,0)}},{key:"EQUAL",value:function(){return this.getToken(Cn.EQUAL,0)}},{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterModuleSource(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitModuleSource(this)}}]),n}(Ge.ParserRuleContext),Mn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_providerDirective,o}return yn(n,[{key:"PROVIDER",value:function(){return this.getToken(Cn.PROVIDER,0)}},{key:"name",value:function(){return this.getTypedRuleContext(Bn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"object",value:function(){return this.getTypedRuleContext(qn,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterProviderDirective(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitProviderDirective(this)}}]),n}(Ge.ParserRuleContext),Dn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"object",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(qn):this.getTypedRuleContext(qn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_terraformDirective,o}return yn(n,[{key:"TERRAFORM",value:function(){return this.getToken(Cn.TERRAFORM,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterTerraformDirective(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitTerraformDirective(this)}}]),n}(Ge.ParserRuleContext),Fn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_resourceDirective,o}return yn(n,[{key:"RESOURCE",value:function(){return this.getToken(Cn.RESOURCE,0)}},{key:"providerType",value:function(){return this.getTypedRuleContext($n,0)}},{key:"name",value:function(){return this.getTypedRuleContext(Bn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"object",value:function(){return this.getTypedRuleContext(qn,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterResourceDirective(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitResourceDirective(this)}}]),n}(Ge.ParserRuleContext),jn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"object",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(qn):this.getTypedRuleContext(qn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_variableDirective,o}return yn(n,[{key:"VARIABLE",value:function(){return this.getToken(Cn.VARIABLE,0)}},{key:"name",value:function(){return this.getTypedRuleContext(Bn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterVariableDirective(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitVariableDirective(this)}}]),n}(Ge.ParserRuleContext),Un=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"object",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(qn):this.getTypedRuleContext(qn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_outputDirective,o}return yn(n,[{key:"OUTPUT",value:function(){return this.getToken(Cn.OUTPUT,0)}},{key:"name",value:function(){return this.getTypedRuleContext(Bn,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterOutputDirective(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitOutputDirective(this)}}]),n}(Ge.ParserRuleContext),Bn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_name,o}return yn(n,[{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterName(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitName(this)}}]),n}(Ge.ParserRuleContext),$n=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_providerType,o}return yn(n,[{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterProviderType(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitProviderType(this)}}]),n}(Ge.ParserRuleContext),zn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_type,o}return yn(n,[{key:"TYPE",value:function(){return this.getToken(Cn.TYPE,0)}},{key:"LIST",value:function(){return this.getToken(Cn.LIST,0)}},{key:"PO",value:function(){return this.getToken(Cn.PO,0)}},{key:"type",value:function(){return this.getTypedRuleContext(n,0)}},{key:"PF",value:function(){return this.getToken(Cn.PF,0)}},{key:"MAP",value:function(){return this.getToken(Cn.MAP,0)}},{key:"OBJECT",value:function(){return this.getToken(Cn.OBJECT,0)}},{key:"object",value:function(){return this.getTypedRuleContext(qn,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterType(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitType(this)}}]),n}(Ge.ParserRuleContext),qn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"complexField",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Hn):this.getTypedRuleContext(Hn,t)})),Tn(En(o),"field",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Vn):this.getTypedRuleContext(Vn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_object,o}return yn(n,[{key:"enterRule",value:function(t){t instanceof en&&t.enterObject(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitObject(this)}}]),n}(Ge.ParserRuleContext),Vn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_field,o}return yn(n,[{key:"EQUAL",value:function(){return this.getToken(Cn.EQUAL,0)}},{key:"expression",value:function(){return this.getTypedRuleContext(Gn,0)}},{key:"IDENTIFIER",value:function(){return this.getToken(Cn.IDENTIFIER,0)}},{key:"SOURCE",value:function(){return this.getToken(Cn.SOURCE,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterField(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitField(this)}}]),n}(Ge.ParserRuleContext),Hn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"EQUAL",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.EQUAL):this.getToken(Cn.EQUAL,t)})),Tn(En(o),"STRING",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.STRING):this.getToken(Cn.STRING,t)})),o.parser=t,o.ruleIndex=Cn.RULE_complexField,o}return yn(n,[{key:"IDENTIFIER",value:function(){return this.getToken(Cn.IDENTIFIER,0)}},{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"object",value:function(){return this.getTypedRuleContext(qn,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterComplexField(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitComplexField(this)}}]),n}(Ge.ParserRuleContext),Kn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"EQUAL",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.EQUAL):this.getToken(Cn.EQUAL,t)})),Tn(En(o),"condition",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Yn):this.getTypedRuleContext(Yn,t)})),o.parser=t,o.ruleIndex=Cn.RULE_validation,o}return yn(n,[{key:"AO",value:function(){return this.getToken(Cn.AO,0)}},{key:"CONDITION",value:function(){return this.getToken(Cn.CONDITION,0)}},{key:"ERROR",value:function(){return this.getToken(Cn.ERROR,0)}},{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"AF",value:function(){return this.getToken(Cn.AF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterValidation(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitValidation(this)}}]),n}(Ge.ParserRuleContext),Yn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_condition,o}return yn(n,[{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"NUMBER",value:function(){return this.getToken(Cn.NUMBER,0)}},{key:"BOOLEAN",value:function(){return this.getToken(Cn.BOOLEAN,0)}},{key:"BOOLEANOP",value:function(){return this.getToken(Cn.BOOLEANOP,0)}},{key:"functionCall",value:function(){return this.getTypedRuleContext(Qn,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterCondition(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitCondition(this)}}]),n}(Ge.ParserRuleContext),Gn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_expression,o}return yn(n,[{key:"NUMBER",value:function(){return this.getToken(Cn.NUMBER,0)}},{key:"BOOLEAN",value:function(){return this.getToken(Cn.BOOLEAN,0)}},{key:"array",value:function(){return this.getTypedRuleContext(Xn,0)}},{key:"complexExpression",value:function(){return this.getTypedRuleContext(Wn,0)}},{key:"STRING",value:function(){return this.getToken(Cn.STRING,0)}},{key:"type",value:function(){return this.getTypedRuleContext(zn,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterExpression(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitExpression(this)}}]),n}(Ge.ParserRuleContext),Qn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"expression",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Gn):this.getTypedRuleContext(Gn,t)})),Tn(En(o),"VIRG",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.VIRG):this.getToken(Cn.VIRG,t)})),o.parser=t,o.ruleIndex=Cn.RULE_functionCall,o}return yn(n,[{key:"IDENTIFIER",value:function(){return this.getToken(Cn.IDENTIFIER,0)}},{key:"PO",value:function(){return this.getToken(Cn.PO,0)}},{key:"PF",value:function(){return this.getToken(Cn.PF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterFunctionCall(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitFunctionCall(this)}}]),n}(Ge.ParserRuleContext),Wn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"IDENTIFIER",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.IDENTIFIER):this.getToken(Cn.IDENTIFIER,t)})),Tn(En(o),"TIRET",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.TIRET):this.getToken(Cn.TIRET,t)})),Tn(En(o),"IDENTIFIERS",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.IDENTIFIERS):this.getToken(Cn.IDENTIFIERS,t)})),Tn(En(o),"AUTRE",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.AUTRE):this.getToken(Cn.AUTRE,t)})),Tn(En(o),"WSS",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.WSS):this.getToken(Cn.WSS,t)})),Tn(En(o),"STRING",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.STRING):this.getToken(Cn.STRING,t)})),Tn(En(o),"complexExpression",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(n):this.getTypedRuleContext(n,t)})),o.parser=t,o.ruleIndex=Cn.RULE_complexExpression,o}return yn(n,[{key:"OPEN",value:function(){return this.getToken(Cn.OPEN,0)}},{key:"CLOSE",value:function(){return this.getToken(Cn.CLOSE,0)}},{key:"functionCall",value:function(){return this.getTypedRuleContext(Qn,0)}},{key:"POINT",value:function(){return this.getToken(Cn.POINT,0)}},{key:"CO",value:function(){return this.getToken(Cn.CO,0)}},{key:"index",value:function(){return this.getTypedRuleContext(Jn,0)}},{key:"CF",value:function(){return this.getToken(Cn.CF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterComplexExpression(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitComplexExpression(this)}}]),n}(Ge.ParserRuleContext),Xn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),Tn(En(o=e.call(this,r,i)),"expression",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Gn):this.getTypedRuleContext(Gn,t)})),Tn(En(o),"VIRG",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(Cn.VIRG):this.getToken(Cn.VIRG,t)})),o.parser=t,o.ruleIndex=Cn.RULE_array,o}return yn(n,[{key:"CO",value:function(){return this.getToken(Cn.CO,0)}},{key:"CF",value:function(){return this.getToken(Cn.CF,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterArray(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitArray(this)}}]),n}(Ge.ParserRuleContext),Jn=function(t){gn(n,t);var e=bn(n);function n(t,r,i){var o;return mn(this,n),void 0===r&&(r=null),null==i&&(i=-1),(o=e.call(this,r,i)).parser=t,o.ruleIndex=Cn.RULE_index,o}return yn(n,[{key:"NUMBER",value:function(){return this.getToken(Cn.NUMBER,0)}},{key:"MULT",value:function(){return this.getToken(Cn.MULT,0)}},{key:"enterRule",value:function(t){t instanceof en&&t.enterIndex(this)}},{key:"exitRule",value:function(t){t instanceof en&&t.exitIndex(this)}}]),n}(Ge.ParserRuleContext);function Zn(t){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zn(t)}function tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nr(t,e){return nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nr(t,e)}function rr(t,e){if(e&&("object"===Zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}Cn.FileContext=Pn,Cn.DirectiveContext=Rn,Cn.DataDirectiveContext=Nn,Cn.ModuleDirectiveContext=Ln,Cn.ModuleSourceContext=In,Cn.ProviderDirectiveContext=Mn,Cn.TerraformDirectiveContext=Dn,Cn.ResourceDirectiveContext=Fn,Cn.VariableDirectiveContext=jn,Cn.OutputDirectiveContext=Un,Cn.NameContext=Bn,Cn.ProviderTypeContext=$n,Cn.TypeContext=zn,Cn.ObjectContext=qn,Cn.FieldContext=Vn,Cn.ComplexFieldContext=Hn,Cn.ValidationContext=Kn,Cn.ConditionContext=Yn,Cn.ExpressionContext=Gn,Cn.FunctionCallContext=Qn,Cn.ComplexExpressionContext=Wn,Cn.ArrayContext=Xn,Cn.IndexContext=Jn;var or=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nr(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ir(i);if(o){var n=ir(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return rr(this,t)});function a(){return tr(this,a),s.apply(this,arguments)}return n=a,r=[{key:"isParsable",value:function(t){return/^.*\.tf$/.test(t.path)}},{key:"parse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=new en(this.definitions.components);t.forEach((function(t){e.currentFile=t;var n=new Ge.InputStream(t.content),r=new dn(n),i=new Ge.CommonTokenStream(r),o=new Cn(i);o.buildParseTrees=!0;var s=o.file();Ge.tree.ParseTreeWalker.DEFAULT.walk(e,s)}));var n=e.components.map((function(t){return t.id=t.name,t}));return{components:this.getComponentTree(n),links:this.getLinks(n),errors:e.errors}}},{key:"getComponentTree",value:function(t){var e=this,n=[];return t.forEach((function(r){e.hasParent(r)?e.getParents(t,r).forEach((function(t){t.children.push(r)})):n.push(r)})),n}},{key:"getParents",value:function(t,e){return t.filter((function(t){return!!t.definition.isContainer&&e.attributes.some((function(e){return e.definition&&"Reference"===e.definition.type&&e.definition.containerRef===t.definition.type&&e.value===t.id}))}))}},{key:"hasParent",value:function(t){return!!t.definition&&t.definition.parentTypes.length>0&&t.attributes.some((function(t){return t.definition&&"Reference"===t.definition.type}))}},{key:"getLinks",value:function(e){var n=[];return this.definitions.links.forEach((function(r){var i="Default"===r.type?r.sourceRef:r.targetRef;e.filter((function(t){return t.definition&&t.definition.type===i})).forEach((function(e){e.attributes.filter((function(t){return t.name===r.attributeRef})).forEach((function(i){"Array"===i.type?i.value.forEach((function(i){return n.push(new t.ComponentLink({source:e.id,target:i,definition:r}))})):n.push(new t.ComponentLink({source:e.id,target:i.value,definition:r}))}))}))})),n}}],r&&er(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.DefaultParser);const sr=or;var ar=n(985),ur=n.n(ar);function cr(t){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cr(t)}function lr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hr(t,e){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hr(t,e)}function fr(t,e){if(e&&("object"===cr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function dr(t){return dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dr(t)}var pr=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dr(i);if(o){var n=dr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return fr(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this)).template="{% for _block in components %}\n{{ _block.definition.blockType }} {% if ['resource','data'].includes(_block.definition.blockType) %}\"{{ _block.definition.type }}\" {% endif %}\"{{ _block.name }}\" {\n{% for attribute in _block.attributes %}\n    {% if attribute.type == 'Object' %}\n    {{ attribute.name }} {\n        {% for attr in attribute.value %}\n        {{ attr.name }} = {{ attr.value | dump }}\n        {% endfor %}\n    }\n    {% else %}\n    {{ attribute.name }} = {{ attribute.value | dump }}\n    {% endif %}\n{% endfor %}\n}\n\n{% endfor %}",ur().configure({autoescape:!1,trimBlocks:!0,lstripBlocks:!0}),t}return n=a,r=[{key:"render",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"./new_file.tf";e.forEach((function(e){var r=t.find((function(t){return t.id===e.source}));r&&n.setComponentAttribute(r,e.definition.attributeRef,"Array",e.target)}));var i=new Map;return this.collectComponentsFromTree(i,t,r),this.generateFilesFromComponentsMap(i)}},{key:"setComponentAttribute",value:function(e,n,r,i){var o=e.attributes.find((function(t){return t.name===n})),s="Array"===r;o?s&&!o.value.includes(i)?o.value.push(i):s||(o.value=i):e.attributes.push(new t.ComponentAttribute({name:n,value:s?[i]:i,type:r}))}},{key:"setContainerAttribute",value:function(t,e){var n=e.definition.definedAttributes.find((function(e){return"Reference"===e.type&&e.containerRef===t.definition.type}));this.setComponentAttribute(e,n.name,"String",t.id)}},{key:"collectComponentsFromTree",value:function(t,e,n){var r=this;e.forEach((function(e){r.initComponentPath(e,n),t.has(e.path)?t.get(e.path).push(e):t.set(e.path,[e]),0!==e.children.length&&(e.children.forEach((function(t){return r.setContainerAttribute(e,t)})),r.collectComponentsFromTree(t,e.children,e.path))}))}},{key:"initComponentPath",value:function(t,e){t.path||(t.path=e)}},{key:"generateFilesFromComponentsMap",value:function(e){var n=this,r=[];return e.forEach((function(e,i){r.push(new t.FileInput({path:i,content:"".concat(ur().renderString(n.template,{components:e}).trim(),"\n")}))})),r}}],r&&lr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.DefaultRender);const mr={PluginDrawer:u,PluginMetadata:O,PluginParser:sr,PluginRenderer:pr,resources:{}}})();var i=exports;for(var o in r)i[o]=r[o];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();