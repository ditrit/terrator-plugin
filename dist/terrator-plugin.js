/*! For license information please see terrator-plugin.js.LICENSE.txt */
(()=>{var e={19:(e,t,n)=>{"use strict";var r=n(354),i=n(30),o=n(6),s=n(585),a=n(492),u=n(950),c=n(845),l=n(897),h=n(740);e.exports=v,v.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return!0!==n.$async&&(this.errors=n.errors),i},v.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},v.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,r);return this}var s=this._getId(e);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return k(this,t=i.normalizeId(t||s)),this._schemas[t]=this._addSchema(e,n,r,!0),this},v.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},v.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(d)?d:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r},v.prototype.getSchema=function(e){var t=g(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var o=n.schema,a=n.root,u=n.baseId,c=r.call(e,o,a,void 0,u);return e._fragments[t]=new s({ref:t,fragment:!0,schema:o,root:a,baseId:u,validate:c}),c}}(this,e)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return _(this,this._schemas,e),_(this,this._refs,e),this;switch(typeof e){case"undefined":return _(this,this._schemas),_(this,this._refs),this._cache.clear(),this;case"string":var t=g(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},v.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var s=e[o];s&&(i+=r+s.dataPath+" "+s.message+n)}return i.slice(0,-n.length)},v.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,a=o?o(e):e,u=this._cache.get(a);if(u)return u;r=r||!1!==this._opts.addUsedSchema;var c=i.normalizeId(this._getId(e));c&&r&&k(this,c);var l,h=!1!==this._opts.validateSchema&&!t;h&&!(l=c&&c==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var f=i.ids.call(this,e),p=new s({id:c,schema:e,localRefs:f,cacheKey:a,meta:n});return"#"!=c[0]&&r&&(this._refs[c]=p),this._cache.put(a,p),h&&l&&this.validateSchema(e,!0),p},v.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}},v.prototype.compileAsync=n(686);var f=n(635);v.prototype.addKeyword=f.add,v.prototype.getKeyword=f.get,v.prototype.removeKeyword=f.remove,v.prototype.validateKeyword=f.validate;var p=n(551);v.ValidationError=p.Validation,v.MissingRefError=p.MissingRef,v.$dataMetaSchema=l;var d="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],y=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=h.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:E,warn:E,error:E};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(e){switch(e.schemaId){case"auto":return x;case"id":return b;default:return w}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=a),this._metaOpts=function(e){for(var t=h.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}(this),function(e){var t;if(e._opts.$data&&(t=n(420),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=n(198);e._opts.$data&&(r=l(r,y)),e.addMetaSchema(r,d,!0),e._refs["http://json-schema.org/schema"]=d}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function g(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function _(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function b(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function w(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function x(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function k(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function E(){}},6:e=>{"use strict";var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}},686:(e,t,n)=>{"use strict";var r=n(551).MissingRef;e.exports=function e(t,n,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var s=a(t).then((function(){var e=o._addSchema(t,void 0,n);return e.validate||u(e)}));return i&&s.then((function(e){i(null,e)}),i),s;function a(t){var n=t.$schema;return n&&!o.getSchema(n)?e.call(o,{$ref:n},!0):Promise.resolve()}function u(e){try{return o._compile(e)}catch(t){if(t instanceof r)return function(t){var r=t.missingSchema;if(c(r))throw new Error("Schema "+r+" is loaded but "+t.missingRef+" cannot be resolved");var i=o._loadingSchemas[r];return i||(i=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(s,s),i.then((function(e){if(!c(r))return a(e).then((function(){c(r)||o.addSchema(e,r,void 0,n)}))})).then((function(){return u(e)}));function s(){delete o._loadingSchemas[r]}function c(e){return o._refs[e]||o._schemas[e]}}(t);throw t}}}},551:(e,t,n)=>{"use strict";var r=n(30);function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},950:(e,t,n)=>{"use strict";var r=n(740),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,a=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,h=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,f=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,d=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",r.copy(m[e])}function y(e){var t=e.match(i);if(!t)return!1;var n=+t[1],r=+t[2],s=+t[3];return r>=1&&r<=12&&s>=1&&s<=(2==r&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:o[r])}function v(e,t){var n=e.match(s);if(!n)return!1;var r=n[1],i=n[2],o=n[3],a=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!t||a)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:h,"json-pointer":f,"json-pointer-uri-fragment":p,"relative-json-pointer":d},m.full={date:y,time:v,"date-time":function(e){var t=e.split(g);return 2==t.length&&y(t[0])&&v(t[1],!0)},uri:function(e){return _.test(e)&&u.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:h,"json-pointer":f,"json-pointer-uri-fragment":p,"relative-json-pointer":d};var g=/t|\s/i,_=/\/|:/,b=/[^\\]\\Z/;function w(e){if(b.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},354:(e,t,n)=>{"use strict";var r=n(30),i=n(740),o=n(551),s=n(492),a=n(873),u=i.ucs2length,c=n(17),l=o.Validation;function h(e,t,n){var r=p.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function f(e,t,n){var r=p.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function p(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function d(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function y(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function g(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=function e(t,n,p,_){var b=this,w=this._opts,x=[void 0],k={},E=[],S={},T=[],A={},O=[];n=n||{schema:t,refVal:x,refs:k};var N=h.call(this,t,n,_),P=this._compilations[N.index];if(N.compiling)return P.callValidate=function e(){var t=P.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var C=this._formats,R=this.RULES;try{var L=D(t,n,p,_);P.validate=L;var I=P.callValidate;return I&&(I.schema=L.schema,I.errors=null,I.refs=L.refs,I.refVal=L.refVal,I.root=L.root,I.$async=L.$async,w.sourceCode&&(I.source=L.source)),L}finally{f.call(this,t,n,_)}function D(t,s,h,f){var p=!s||s&&s.schema==t;if(s.schema!=n.schema)return e.call(b,t,s,h,f);var _,S=!0===t.$async,A=a({isTop:!0,schema:t,isRoot:p,baseId:f,root:s,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:R,validate:a,util:i,resolve:r,resolveRef:M,usePattern:B,useDefault:U,useCustomRule:z,opts:w,formats:C,logger:b.logger,self:b});A=g(x,y)+g(E,d)+g(T,m)+g(O,v)+A,w.processCode&&(A=w.processCode(A,t));try{_=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",A)(b,R,C,n,x,T,O,c,u,l),x[0]=_}catch(e){throw b.logger.error("Error compiling schema, function code:",A),e}return _.schema=t,_.errors=null,_.refs=k,_.refVal=x,_.root=p?_:s,S&&(_.$async=!0),!0===w.sourceCode&&(_.source={code:A,patterns:E,defaults:T}),_}function M(t,i,o){i=r.url(t,i);var s,a,u=k[i];if(void 0!==u)return F(s=x[u],a="refVal["+u+"]");if(!o&&n.refs){var c=n.refs[i];if(void 0!==c)return F(s=n.refVal[c],a=j(i,s))}a=j(i);var l=r.call(b,D,n,i);if(void 0===l){var h=p&&p[i];h&&(l=r.inlineRef(h,w.inlineRefs)?h:e.call(b,h,n,p,t))}if(void 0!==l)return function(e,t){var n=k[e];x[n]=t}(i,l),F(l,a);!function(e){delete k[e]}(i)}function j(e,t){var n=x.length;return x[n]=t,k[e]=n,"refVal"+n}function F(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function B(e){var t=S[e];return void 0===t&&(t=S[e]=E.length,E[t]=e),"pattern"+t}function U(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=s(e),n=A[t];return void 0===n&&(n=A[t]=T.length,T[n]=e),"default"+n}}function z(e,t,n,r){if(!1!==b._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o&&!o(t)){var s="keyword schema is invalid: "+b.errorsText(o.errors);if("log"!=b._opts.validateSchema)throw new Error(s);b.logger.error(s)}}var a,u=e.definition.compile,c=e.definition.inline,l=e.definition.macro;if(u)a=u.call(b,t,n,r);else if(l)a=l.call(b,t,n,r),!1!==w.validateSchema&&b.validateSchema(a,!0);else if(c)a=c.call(b,r,e.keyword,t,n);else if(!(a=e.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var h=O.length;return O[h]=a,{code:"customRule"+h,validate:a}}}},30:(e,t,n)=>{"use strict";var r=n(579),i=n(17),o=n(740),s=n(585),a=n(106);function u(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return u.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof s)return d(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,a,l=c.call(this,t,n);return l&&(i=l.schema,t=l.root,a=l.baseId),i instanceof s?o=i.validate||e.call(this,i.schema,t,void 0,a):void 0!==i&&(o=d(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,a)),o}function c(e,t){var n=r.parse(t),i=g(n),o=v(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var a=b(i),u=this._refs[a];if("string"==typeof u)return l.call(this,e,u,n);if(u instanceof s)u.validate||this._compile(u),e=u;else{if(!((u=this._schemas[a])instanceof s))return;if(u.validate||this._compile(u),a==b(t))return{schema:u,root:e,baseId:o};e=u}if(!e.schema)return;o=v(this._getId(e.schema))}return f.call(this,n,o,e.schema,e)}function l(e,t,n){var r=c.call(this,e,t);if(r){var i=r.schema,o=r.baseId;e=r.root;var s=this._getId(i);return s&&(o=w(o,s)),f.call(this,n,o,i,e)}}e.exports=u,u.normalizeId=b,u.fullPath=v,u.url=w,u.ids=function(e){var t=b(this._getId(e)),n={"":t},s={"":v(t,!1)},u={},c=this;return a(e,{allKeys:!0},(function(e,t,a,l,h,f,p){if(""!==t){var d=c._getId(e),m=n[l],y=s[l]+"/"+h;if(void 0!==p&&(y+="/"+("number"==typeof p?p:o.escapeFragment(p))),"string"==typeof d){d=m=b(m?r.resolve(m,d):d);var v=c._refs[d];if("string"==typeof v&&(v=c._refs[v]),v&&v.schema){if(!i(e,v.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=b(y))if("#"==d[0]){if(u[d]&&!i(e,u[d]))throw new Error('id "'+d+'" resolves to more than one schema');u[d]=e}else c._refs[d]=y}n[t]=m,s[t]=y}})),u},u.inlineRef=d,u.schema=c;var h=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function f(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),s=1;s<i.length;s++){var a=i[s];if(a){if(void 0===(n=n[a=o.unescapeFragment(a)]))break;var u;if(!h[a]&&((u=this._getId(n))&&(t=w(t,u)),n.$ref)){var l=w(t,n.$ref),f=c.call(this,r,l);f&&(n=f.schema,r=f.root,t=f.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var p=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(e,t){return!1!==t&&(void 0===t||!0===t?m(e):t?y(e)<=t:void 0)}function m(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&!m(t))return!1}else for(var r in e){if("$ref"==r)return!1;if("object"==typeof(t=e[r])&&!m(t))return!1}return!0}function y(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&(n+=y(t)),n==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(p[i])n++;else if("object"==typeof(t=e[i])&&(n+=y(t)+1),n==1/0)return 1/0}return n}function v(e,t){return!1!==t&&(e=b(e)),g(r.parse(e))}function g(e){return r.serialize(e).split("#")[0]+"#"}var _=/#\/?$/;function b(e){return e?e.replace(_,""):""}function w(e,t){return t=b(t),r.resolve(e,t)}},845:(e,t,n)=>{"use strict";var r=n(403),i=n(740).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:i}})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},585:(e,t,n)=>{"use strict";var r=n(740);e.exports=function(e){r.copy(e,this)}},853:e=>{"use strict";e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n}},740:(e,t,n)=>{"use strict";function r(e,t,n,r){var i=r?" !== ":" === ",o=r?" || ":" && ",s=r?"!":"",a=r?"":"!";switch(e){case"null":return t+i+"null";case"array":return s+"Array.isArray("+t+")";case"object":return"("+s+t+o+"typeof "+t+i+'"object"'+o+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+o+a+"("+t+" % 1)"+o+t+i+t+(n?o+s+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(n?o+s+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:r,checkDataTypes:function(e,t,n){if(1===e.length)return r(e[0],t,n,!0);var i="",s=o(e);for(var a in s.array&&s.object&&(i=s.null?"(":"(!"+t+" || ",i+="typeof "+t+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer,s)i+=(i?" && ":"")+r(a,t,n,!0);return i},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var o=t[r];(i[o]||"array"===e&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:u,escapeQuotes:c,equal:n(17),ucs2length:n(853),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var n in e)if(!t[n])return n},toQuotedString:l,getPathExpr:function(e,t,n,r){return p(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){return p(e,l(n?"/"+d(t):u(t)))},getData:function(e,t,n){var r,i,o,s;if(""===e)return"rootData";if("/"==e[0]){if(!h.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(s=e.match(f)))throw new Error("Invalid JSON-pointer: "+e);if(r=+s[1],"#"==(i=s[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var a=o,c=i.split("/"),l=0;l<c.length;l++){var p=c[l];p&&(a+=" && "+(o+=u(m(p))))}return a},unescapeFragment:function(e){return m(decodeURIComponent(e))},unescapeJsonPointer:m,escapeFragment:function(e){return encodeURIComponent(d(e))},escapeJsonPointer:d};var i=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var s=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function u(e){return"number"==typeof e?"["+e+"]":s.test(e)?"."+e:"['"+c(e)+"']"}function c(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(e){return"'"+c(e)+"'"}var h=/^\/(?:[^~]|~0|~1)*$/,f=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function d(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function m(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},897:e=>{"use strict";var t=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,n){for(var r=0;r<n.length;r++){e=JSON.parse(JSON.stringify(e));var i,o=n[r].split("/"),s=e;for(i=1;i<o.length;i++)s=s[o[i]];for(i=0;i<t.length;i++){var a=t[i],u=s[a];u&&(s[a]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},659:(e,t,n)=>{"use strict";var r=n(198);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},667:e=>{"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(s||""),f=e.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a;var p="maximum"==t,d=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[d],y=e.opts.$data&&m&&m.$data,v=p?"<":">",g=p?">":"<",_=void 0;if(!f&&"number"!=typeof a&&void 0!==a)throw new Error(t+" must be number");if(!y&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(d+" must be number or boolean");if(y){var b,w=e.util.getData(m.$data,s,e.dataPathArr),x="exclusive"+o,k="exclType"+o,E="exclIsNumber"+o,S="' + "+(A="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+w+"; ",i+=" var "+x+"; var "+k+" = typeof "+(w="schemaExcl"+o)+"; if ("+k+" != 'boolean' && "+k+" != 'undefined' && "+k+" != 'number') { ",_=d,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(_||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+d+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var T=i;i=b.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+T+"]); ":i+=" validate.errors = ["+T+"]; return false; ":i+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+k+" == 'number' ? ( ("+x+" = "+r+" === undefined || "+w+" "+v+"= "+r+") ? "+h+" "+g+"= "+w+" : "+h+" "+g+" "+r+" ) : ( ("+x+" = "+w+" === true) ? "+h+" "+g+"= "+r+" : "+h+" "+g+" "+r+" ) || "+h+" !== "+h+") { var op"+o+" = "+x+" ? '"+v+"' : '"+v+"='; ",void 0===a&&(_=d,c=e.errSchemaPath+"/"+d,r=w,f=y)}else if(S=v,(E="number"==typeof m)&&f){var A="'"+S+"'";i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+v+"= "+r+" ? "+h+" "+g+"= "+m+" : "+h+" "+g+" "+r+" ) || "+h+" !== "+h+") { "}else E&&void 0===a?(x=!0,_=d,c=e.errSchemaPath+"/"+d,r=m,g+="="):(E&&(r=Math[p?"min":"max"](m,a)),m===(!E||r)?(x=!0,_=d,c=e.errSchemaPath+"/"+d,g+="="):(x=!1,S+="=")),A="'"+S+"'",i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+" "+g+" "+r+" || "+h+" !== "+h+") { ";return _=_||t,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(_||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+A+", limit: "+r+", exclusive: "+x+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+S+" ",i+=f?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",T=i,i=b.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+T+"]); ":i+=" validate.errors = ["+T+"]; return false; ":i+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i}},119:e=>{"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(s||""),f=e.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,!f&&"number"!=typeof a)throw new Error(t+" must be number");i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var p=t,d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+a,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},935:e=>{"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(s||""),f=e.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,!f&&"number"!=typeof a)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+h+".length ":i+=" ucs2length("+h+") ",i+=" "+p+" "+r+") { ";var d=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=f?"' + "+r+" + '":""+a,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var y=i;return i=m.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},298:e=>{"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(s||""),f=e.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,!f&&"number"!=typeof a)throw new Error(t+" must be number");i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+h+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var p=t,d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+a,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},353:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var l="valid"+u.level,h=u.baseId,f=!0,p=i;if(p)for(var d,m=-1,y=p.length-1;m<y;)d=p[m+=1],(e.opts.strictKeywords?"object"==typeof d&&Object.keys(d).length>0||!1===d:e.util.schemaHasRules(d,e.RULES.all))&&(f=!1,u.schema=d,u.schemaPath=o+"["+m+"]",u.errSchemaPath=s+"/"+m,r+="  "+e.validate(u)+" ",u.baseId=h,a&&(r+=" if ("+l+") { ",c+="}"));return a&&(r+=f?" if (true) { ":" "+c.slice(0,-1)+" "),r}},480:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,p=e.util.copy(e),d="";p.level++;var m="valid"+p.level,y=s.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(y){var v=p.baseId;r+=" var "+f+" = errors; var "+h+" = false;  ";var g=e.compositeRule;e.compositeRule=p.compositeRule=!0;var _=s;if(_)for(var b,w=-1,x=_.length-1;w<x;)b=_[w+=1],p.schema=b,p.schemaPath=a+"["+w+"]",p.errSchemaPath=u+"/"+w,r+="  "+e.validate(p)+" ",p.baseId=v,r+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",d+="}";e.compositeRule=p.compositeRule=g,r+=" "+d+" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else c&&(r+=" if (true) { ");return r}},278:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,s=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?r+=" console.log("+s+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+s+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r}},224:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="valid"+i,f=e.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; "),f||(r+=" var schema"+i+" = validate.schema"+a+";"),r+="var "+h+" = equal("+l+", schema"+i+"); if (!"+h+") {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var d=r;return r=p.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+d+"]); ":r+=" validate.errors = ["+d+"]; return false; ":r+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}},674:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,p=e.util.copy(e);p.level++;var d="valid"+p.level,m="i"+i,y=p.dataLevel=e.dataLevel+1,v="data"+y,g=e.baseId,_=e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all);if(r+="var "+f+" = errors;var "+h+";",_){var b=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=s,p.schemaPath=a,p.errSchemaPath=u,r+=" var "+d+" = false; for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var w=l+"["+m+"]";p.dataPathArr[y]=m;var x=e.validate(p);p.baseId=g,e.util.varOccurences(x,v)<2?r+=" "+e.util.varReplace(x,v,w)+" ":r+=" var "+v+" = "+w+"; "+x+" ",r+=" if ("+d+") break; }  ",e.compositeRule=p.compositeRule=b,r+="  if (!"+d+") {"}else r+=" if ("+l+".length == 0) {";var k=k||[];k.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var E=r;return r=k.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",_&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r}},992:e=>{"use strict";e.exports=function(e,t,n){var r,i,o=" ",s=e.level,a=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(a||""),p="valid"+s,d="errs__"+s,m=e.opts.$data&&u&&u.$data;m?(o+=" var schema"+s+" = "+e.util.getData(u.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=u;var y,v,g,_,b,w=this,x="definition"+s,k=w.definition,E="";if(m&&k.$data){b="keywordValidate"+s;var S=k.validateSchema;o+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+b+" = "+x+".validate;"}else{if(!(_=e.useCustomRule(w,u,e.schema,e)))return;i="validate.schema"+c,b=_.code,y=k.compile,v=k.inline,g=k.macro}var T=b+".errors",A="i"+s,O="ruleErr"+s,N=k.async;if(N&&!e.async)throw new Error("async keyword in sync schema");if(v||g||(o+=T+" = null;"),o+="var "+d+" = errors;var "+p+";",m&&k.$data&&(E+="}",o+=" if ("+i+" === undefined) { "+p+" = true; } else { ",S&&(E+="}",o+=" "+p+" = "+x+".validateSchema("+i+"); if ("+p+") { ")),v)k.statements?o+=" "+_.validate+" ":o+=" "+p+" = "+_.validate+"; ";else if(g){var P=e.util.copy(e);E="",P.level++;var C="valid"+P.level;P.schema=_.validate,P.schemaPath="";var R=e.compositeRule;e.compositeRule=P.compositeRule=!0;var L=e.validate(P).replace(/validate\.schema/g,b);e.compositeRule=P.compositeRule=R,o+=" "+L}else{(j=j||[]).push(o),o="",o+="  "+b+".call( ",e.opts.passContext?o+="this":o+="self",y||!1===k.schema?o+=" , "+f+" ":o+=" , "+i+" , "+f+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var I=a?"data"+(a-1||""):"parentData",D=a?e.dataPathArr[a]:"parentDataProperty",M=o+=" , "+I+" , "+D+" , rootData )  ";o=j.pop(),!1===k.errors?(o+=" "+p+" = ",N&&(o+="await "),o+=M+"; "):o+=N?" var "+(T="customErrors"+s)+" = null; try { "+p+" = await "+M+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+T+" = e.errors; else throw e; } ":" "+T+" = null; "+p+" = "+M+"; "}if(k.modifying&&(o+=" if ("+I+") "+f+" = "+I+"["+D+"];"),o+=""+E,k.valid)h&&(o+=" if (true) { ");else{var j;o+=" if ( ",void 0===k.valid?(o+=" !",o+=g?""+C:""+p):o+=" "+!k.valid+" ",o+=") { ",r=w.keyword,(j=j||[]).push(o),o="",(j=j||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var F=o;o=j.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+F+"]); ":o+=" validate.errors = ["+F+"]; return false; ":o+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=o;o=j.pop(),v?k.errors?"full"!=k.errors&&(o+="  for (var "+A+"="+d+"; "+A+"<errors; "+A+"++) { var "+O+" = vErrors["+A+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+f+"; "),o+=" } "):!1===k.errors?o+=" "+B+" ":(o+=" if ("+d+" == errors) { "+B+" } else {  for (var "+A+"="+d+"; "+A+"<errors; "+A+"++) { var "+O+" = vErrors["+A+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+f+"; "),o+=" } } "):g?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===k.errors?o+=" "+B+" ":(o+=" if (Array.isArray("+T+")) { if (vErrors === null) vErrors = "+T+"; else vErrors = vErrors.concat("+T+"); errors = vErrors.length;  for (var "+A+"="+d+"; "+A+"<errors; "+A+"++) { var "+O+" = vErrors["+A+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+";  "+O+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+f+"; "),o+=" } } else { "+B+" } "),o+=" } ",h&&(o+=" else { ")}return o}},926:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=e.util.copy(e),p="";f.level++;var d="valid"+f.level,m={},y={},v=e.opts.ownProperties;for(w in s)if("__proto__"!=w){var g=s[w],_=Array.isArray(g)?y:m;_[w]=g}r+="var "+h+" = errors;";var b=e.errorPath;for(var w in r+="var missing"+i+";",y)if((_=y[w]).length){if(r+=" if ( "+l+e.util.getProperty(w)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),c){r+=" && ( ";var x=_;if(x)for(var k=-1,E=x.length-1;k<E;)P=x[k+=1],k&&(r+=" || "),r+=" ( ( "+(I=l+(L=e.util.getProperty(P)))+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:L)+") ) ";r+=")) {  ";var S="missing"+i,T="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,S,!0):b+" + "+S);var A=A||[];A.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+T+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==_.length?r+="property "+e.util.escapeQuotes(_[0]):r+="properties "+e.util.escapeQuotes(_.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var O=r;r=A.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var N=_;if(N)for(var P,C=-1,R=N.length-1;C<R;){P=N[C+=1];var L=e.util.getProperty(P),I=(T=e.util.escapeQuotes(P),l+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,P,e.opts.jsonPointers)),r+=" if ( "+I+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+T+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==_.length?r+="property "+e.util.escapeQuotes(_[0]):r+="properties "+e.util.escapeQuotes(_.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",c&&(p+="}",r+=" else { ")}e.errorPath=b;var D=f.baseId;for(var w in m)g=m[w],(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all))&&(r+=" "+d+" = true; if ( "+l+e.util.getProperty(w)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),r+=") { ",f.schema=g,f.schemaPath=a+e.util.getProperty(w),f.errSchemaPath=u+"/"+e.util.escapeFragment(w),r+="  "+e.validate(f)+" ",f.baseId=D,r+=" }  ",c&&(r+=" if ("+d+") { ",p+="}"));return c&&(r+="   "+p+" if ("+h+" == errors) {"),r}},598:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="valid"+i,f=e.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var p="i"+i,d="schema"+i;f||(r+=" var "+d+" = validate.schema"+a+";"),r+="var "+h+";",f&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=h+" = false;for (var "+p+"=0; "+p+"<"+d+".length; "+p+"++) if (equal("+l+", "+d+"["+p+"])) { "+h+" = true; break; }",f&&(r+="  }  "),r+=" if (!"+h+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var y=r;return r=m.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}},400:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||"");if(!1===e.opts.format)return c&&(r+=" if (true) { "),r;var h,f=e.opts.$data&&s&&s.$data;f?(r+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",h="schema"+i):h=s;var p=e.opts.unknownFormats,d=Array.isArray(p);if(f)r+=" var "+(m="format"+i)+" = formats["+h+"]; var "+(y="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(v="formatType"+i)+" = "+y+" && "+m+".type || 'string'; if ("+y+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",f&&(r+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+h+" && !"+m+" ",d&&(r+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),r+=") || "),r+=" ("+m+" && "+v+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+m+"("+l+") : "+m+"("+l+")) ":r+=" "+m+"("+l+") ",r+=" : "+m+".test("+l+"))))) {";else{var m;if(!(m=e.formats[s])){if("ignore"==p)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(r+=" if (true) { "),r;if(d&&p.indexOf(s)>=0)return c&&(r+=" if (true) { "),r;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var y,v=(y="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(y){var g=!0===m.async;m=m.validate}if(v!=n)return c&&(r+=" if (true) { "),r;if(g){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(_="formats"+e.util.getProperty(s)+".validate")+"("+l+"))) { "}else{r+=" if (! ";var _="formats"+e.util.getProperty(s);y&&(_+=".validate"),r+="function"==typeof m?" "+_+"("+l+") ":" "+_+".test("+l+") ",r+=") { "}}var b=b||[];b.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",r+=f?""+h:""+e.util.toQuotedString(s),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=f?"' + "+h+" + '":""+e.util.escapeQuotes(s),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+a:""+e.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var w=r;return r=b.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c&&(r+=" else { "),r}},532:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,p=e.util.copy(e);p.level++;var d="valid"+p.level,m=e.schema.then,y=e.schema.else,v=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),g=void 0!==y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all)),_=p.baseId;if(v||g){var b;p.createErrors=!1,p.schema=s,p.schemaPath=a,p.errSchemaPath=u,r+=" var "+f+" = errors; var "+h+" = true;  ";var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,r+="  "+e.validate(p)+" ",p.baseId=_,p.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=w,v?(r+=" if ("+d+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(p)+" ",p.baseId=_,r+=" "+h+" = "+d+"; ",v&&g?r+=" var "+(b="ifClause"+i)+" = 'then'; ":b="'then'",r+=" } ",g&&(r+=" else { ")):r+=" if (!"+d+") { ",g&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(p)+" ",p.baseId=_,r+=" "+h+" = "+d+"; ",v&&g?r+=" var "+(b="ifClause"+i)+" = 'else'; ":b="'else'",r+=" } "),r+=" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+b+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+b+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",c&&(r+=" else { ")}else c&&(r+=" if (true) { ");return r}},403:(e,t,n)=>{"use strict";e.exports={$ref:n(990),allOf:n(353),anyOf:n(480),$comment:n(278),const:n(224),contains:n(674),dependencies:n(926),enum:n(598),format:n(400),if:n(532),items:n(371),maximum:n(667),minimum:n(667),maxItems:n(119),minItems:n(119),maxLength:n(935),minLength:n(935),maxProperties:n(298),minProperties:n(298),multipleOf:n(294),not:n(914),oneOf:n(326),pattern:n(317),properties:n(374),propertyNames:n(32),required:n(850),uniqueItems:n(898),validate:n(873)}},371:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,p=e.util.copy(e),d="";p.level++;var m="valid"+p.level,y="i"+i,v=p.dataLevel=e.dataLevel+1,g="data"+v,_=e.baseId;if(r+="var "+f+" = errors;var "+h+";",Array.isArray(s)){var b=e.schema.additionalItems;if(!1===b){r+=" "+h+" = "+l+".length <= "+s.length+"; ";var w=u;u=e.errSchemaPath+"/additionalItems",r+="  if (!"+h+") {   ";var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var k=r;r=x.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=w,c&&(d+="}",r+=" else { ")}var E=s;if(E)for(var S,T=-1,A=E.length-1;T<A;)if(S=E[T+=1],e.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0||!1===S:e.util.schemaHasRules(S,e.RULES.all)){r+=" "+m+" = true; if ("+l+".length > "+T+") { ";var O=l+"["+T+"]";p.schema=S,p.schemaPath=a+"["+T+"]",p.errSchemaPath=u+"/"+T,p.errorPath=e.util.getPathExpr(e.errorPath,T,e.opts.jsonPointers,!0),p.dataPathArr[v]=T;var N=e.validate(p);p.baseId=_,e.util.varOccurences(N,g)<2?r+=" "+e.util.varReplace(N,g,O)+" ":r+=" var "+g+" = "+O+"; "+N+" ",r+=" }  ",c&&(r+=" if ("+m+") { ",d+="}")}"object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))&&(p.schema=b,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+l+".length > "+s.length+") {  for (var "+y+" = "+s.length+"; "+y+" < "+l+".length; "+y+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0),O=l+"["+y+"]",p.dataPathArr[v]=y,N=e.validate(p),p.baseId=_,e.util.varOccurences(N,g)<2?r+=" "+e.util.varReplace(N,g,O)+" ":r+=" var "+g+" = "+O+"; "+N+" ",c&&(r+=" if (!"+m+") break; "),r+=" } }  ",c&&(r+=" if ("+m+") { ",d+="}"))}else(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all))&&(p.schema=s,p.schemaPath=a,p.errSchemaPath=u,r+="  for (var "+y+" = 0; "+y+" < "+l+".length; "+y+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0),O=l+"["+y+"]",p.dataPathArr[v]=y,N=e.validate(p),p.baseId=_,e.util.varOccurences(N,g)<2?r+=" "+e.util.varReplace(N,g,O)+" ":r+=" var "+g+" = "+O+"; "+N+" ",c&&(r+=" if (!"+m+") break; "),r+=" }");return c&&(r+=" "+d+" if ("+f+" == errors) {"),r}},294:e=>{"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(s||""),f=e.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,!f&&"number"!=typeof a)throw new Error(t+" must be number");i+="var division"+o+";if (",f&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+h+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",f&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=f?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var d=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},914:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=e.util.copy(e);f.level++;var p="valid"+f.level;if(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){f.schema=s,f.schemaPath=a,f.errSchemaPath=u,r+=" var "+h+" = errors;  ";var d,m=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(d=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+e.validate(f)+" ",f.createErrors=!0,d&&(f.opts.allErrors=d),e.compositeRule=f.compositeRule=m,r+=" if ("+p+") {   ";var y=y||[];y.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var v=r;r=y.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ");return r}},326:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,p=e.util.copy(e),d="";p.level++;var m="valid"+p.level,y=p.baseId,v="prevValid"+i,g="passingSchemas"+i;r+="var "+f+" = errors , "+v+" = false , "+h+" = false , "+g+" = null; ";var _=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=s;if(b)for(var w,x=-1,k=b.length-1;x<k;)w=b[x+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))?(p.schema=w,p.schemaPath=a+"["+x+"]",p.errSchemaPath=u+"/"+x,r+="  "+e.validate(p)+" ",p.baseId=y):r+=" var "+m+" = true; ",x&&(r+=" if ("+m+" && "+v+") { "+h+" = false; "+g+" = ["+g+", "+x+"]; } else { ",d+="}"),r+=" if ("+m+") { "+h+" = "+v+" = true; "+g+" = "+x+"; }";return e.compositeRule=p.compositeRule=_,r+=d+"if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},317:e=>{"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(s||""),f=e.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(f?"(new RegExp("+r+"))":e.usePattern(a))+".test("+h+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=f?""+r:""+e.util.toQuotedString(a),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+r+" + '":""+e.util.escapeQuotes(a),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+e.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var d=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},374:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=e.util.copy(e),p="";f.level++;var d="valid"+f.level,m="key"+i,y="idx"+i,v=f.dataLevel=e.dataLevel+1,g="data"+v,_="dataProperties"+i,b=Object.keys(s||{}).filter(L),w=e.schema.patternProperties||{},x=Object.keys(w).filter(L),k=e.schema.additionalProperties,E=b.length||x.length,S=!1===k,T="object"==typeof k&&Object.keys(k).length,A=e.opts.removeAdditional,O=S||T||A,N=e.opts.ownProperties,P=e.baseId,C=e.schema.required;if(C&&(!e.opts.$data||!C.$data)&&C.length<e.opts.loopRequired)var R=e.util.toHash(C);function L(e){return"__proto__"!==e}if(r+="var "+h+" = errors;var "+d+" = true;",N&&(r+=" var "+_+" = undefined;"),O){if(r+=N?" "+_+" = "+_+" || Object.keys("+l+"); for (var "+y+"=0; "+y+"<"+_+".length; "+y+"++) { var "+m+" = "+_+"["+y+"]; ":" for (var "+m+" in "+l+") { ",E){if(r+=" var isAdditional"+i+" = !(false ",b.length)if(b.length>8)r+=" || validate.schema"+a+".hasOwnProperty("+m+") ";else{var I=b;if(I)for(var D=-1,M=I.length-1;D<M;)Y=I[D+=1],r+=" || "+m+" == "+e.util.toQuotedString(Y)+" "}if(x.length){var j=x;if(j)for(var F=-1,B=j.length-1;F<B;)oe=j[F+=1],r+=" || "+e.usePattern(oe)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==A)r+=" delete "+l+"["+m+"]; ";else{var U=e.errorPath,z="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),S)if(A)r+=" delete "+l+"["+m+"]; ";else{r+=" "+d+" = false; ";var V=u;u=e.errSchemaPath+"/additionalProperties",(ne=ne||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+z+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var $=r;r=ne.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+$+"]); ":r+=" validate.errors = ["+$+"]; return false; ":r+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=V,c&&(r+=" break; ")}else if(T)if("failing"==A){r+=" var "+h+" = errors;  ";var q=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=k,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var K=l+"["+m+"]";f.dataPathArr[v]=m;var H=e.validate(f);f.baseId=P,e.util.varOccurences(H,g)<2?r+=" "+e.util.varReplace(H,g,K)+" ":r+=" var "+g+" = "+K+"; "+H+" ",r+=" if (!"+d+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+m+"]; }  ",e.compositeRule=f.compositeRule=q}else f.schema=k,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),K=l+"["+m+"]",f.dataPathArr[v]=m,H=e.validate(f),f.baseId=P,e.util.varOccurences(H,g)<2?r+=" "+e.util.varReplace(H,g,K)+" ":r+=" var "+g+" = "+K+"; "+H+" ",c&&(r+=" if (!"+d+") break; ");e.errorPath=U}E&&(r+=" } "),r+=" }  ",c&&(r+=" if ("+d+") { ",p+="}")}var W=e.opts.useDefaults&&!e.compositeRule;if(b.length){var G=b;if(G)for(var Y,Q=-1,X=G.length-1;Q<X;){var Z=s[Y=G[Q+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all)){var J=e.util.getProperty(Y),ee=(K=l+J,W&&void 0!==Z.default);if(f.schema=Z,f.schemaPath=a+J,f.errSchemaPath=u+"/"+e.util.escapeFragment(Y),f.errorPath=e.util.getPath(e.errorPath,Y,e.opts.jsonPointers),f.dataPathArr[v]=e.util.toQuotedString(Y),H=e.validate(f),f.baseId=P,e.util.varOccurences(H,g)<2){H=e.util.varReplace(H,g,K);var te=K}else te=g,r+=" var "+g+" = "+K+"; ";if(ee)r+=" "+H+" ";else{if(R&&R[Y]){r+=" if ( "+te+" === undefined ",N&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Y)+"') "),r+=") { "+d+" = false; ",U=e.errorPath,V=u;var ne,re=e.util.escapeQuotes(Y);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(U,Y,e.opts.jsonPointers)),u=e.errSchemaPath+"/required",(ne=ne||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+re+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",$=r,r=ne.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+$+"]); ":r+=" validate.errors = ["+$+"]; return false; ":r+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=V,e.errorPath=U,r+=" } else { "}else c?(r+=" if ( "+te+" === undefined ",N&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Y)+"') "),r+=") { "+d+" = true; } else { "):(r+=" if ("+te+" !== undefined ",N&&(r+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Y)+"') "),r+=" ) { ");r+=" "+H+" } "}}c&&(r+=" if ("+d+") { ",p+="}")}}if(x.length){var ie=x;if(ie)for(var oe,se=-1,ae=ie.length-1;se<ae;)Z=w[oe=ie[se+=1]],(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all))&&(f.schema=Z,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),r+=N?" "+_+" = "+_+" || Object.keys("+l+"); for (var "+y+"=0; "+y+"<"+_+".length; "+y+"++) { var "+m+" = "+_+"["+y+"]; ":" for (var "+m+" in "+l+") { ",r+=" if ("+e.usePattern(oe)+".test("+m+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),K=l+"["+m+"]",f.dataPathArr[v]=m,H=e.validate(f),f.baseId=P,e.util.varOccurences(H,g)<2?r+=" "+e.util.varReplace(H,g,K)+" ":r+=" var "+g+" = "+K+"; "+H+" ",c&&(r+=" if (!"+d+") break; "),r+=" } ",c&&(r+=" else "+d+" = true; "),r+=" }  ",c&&(r+=" if ("+d+") { ",p+="}"))}return c&&(r+=" "+p+" if ("+h+" == errors) {"),r}},32:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=e.util.copy(e);f.level++;var p="valid"+f.level;if(r+="var "+h+" = errors;",e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){f.schema=s,f.schemaPath=a,f.errSchemaPath=u;var d="key"+i,m="idx"+i,y="i"+i,v="' + "+d+" + '",g="data"+(f.dataLevel=e.dataLevel+1),_="dataProperties"+i,b=e.opts.ownProperties,w=e.baseId;b&&(r+=" var "+_+" = undefined; "),r+=b?" "+_+" = "+_+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+_+".length; "+m+"++) { var "+d+" = "+_+"["+m+"]; ":" for (var "+d+" in "+l+") { ",r+=" var startErrs"+i+" = errors; ";var x=d,k=e.compositeRule;e.compositeRule=f.compositeRule=!0;var E=e.validate(f);f.baseId=w,e.util.varOccurences(E,g)<2?r+=" "+e.util.varReplace(E,g,x)+" ":r+=" var "+g+" = "+x+"; "+E+" ",e.compositeRule=f.compositeRule=k,r+=" if (!"+p+") { for (var "+y+"=startErrs"+i+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+d+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),c&&(r+=" break; "),r+=" } }"}return c&&(r+="  if ("+h+" == errors) {"),r}},990:e=>{"use strict";e.exports=function(e,t,n){var r,i,o=" ",s=e.level,a=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(a||""),f="valid"+s;if("#"==u||"#/"==u)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===p){var d=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(d),(g=g||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var m=o;o=g.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,d);e.logger.warn(d),l&&(o+=" if (true) { ")}}else if(p.inline){var y=e.util.copy(e);y.level++;var v="valid"+y.level;y.schema=p.schema,y.schemaPath="",y.errSchemaPath=u,o+=" "+e.validate(y).replace(/validate\.schema/g,p.code)+" ",l&&(o+=" if ("+v+") { ")}else r=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var g;(g=g||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+h+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var _=o+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?e.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(o=g.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(o+=" var "+f+"; "),o+=" try { await "+_+"; ",l&&(o+=" "+f+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(o+=" "+f+" = false; "),o+=" } ",l&&(o+=" if ("+f+") { ")}else o+=" if (!"+_+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(o+=" else { ")}return o}},850:e=>{"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),h="valid"+i,f=e.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var p="schema"+i;if(!f)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var d=[],m=s;if(m)for(var y,v=-1,g=m.length-1;v<g;){y=m[v+=1];var _=e.schema.properties[y];_&&(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:e.util.schemaHasRules(_,e.RULES.all))||(d[d.length]=y)}}else d=s;if(f||d.length){var b=e.errorPath,w=f||d.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(c)if(r+=" var missing"+i+"; ",w){f||(r+=" var "+p+" = validate.schema"+a+"; ");var k="' + "+(N="schema"+i+"["+(A="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,N,e.opts.jsonPointers)),r+=" var "+h+" = true; ",f&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=" for (var "+A+" = 0; "+A+" < "+p+".length; "+A+"++) { "+h+" = "+l+"["+p+"["+A+"]] !== undefined ",x&&(r+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+p+"["+A+"]) "),r+="; if (!"+h+") break; } ",f&&(r+="  }  "),r+="  if (!"+h+") {   ",(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var E=r;r=S.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var S,T=d;if(T)for(var A=-1,O=T.length-1;A<O;)C=T[A+=1],A&&(r+=" || "),r+=" ( ( "+(D=l+(I=e.util.getProperty(C)))+" === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(C)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:I)+") ) ";r+=") {  ",k="' + "+(N="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,N,!0):b+" + "+N),(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",E=r,r=S.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(w){var N;f||(r+=" var "+p+" = validate.schema"+a+"; "),k="' + "+(N="schema"+i+"["+(A="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,N,e.opts.jsonPointers)),f&&(r+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),r+=" for (var "+A+" = 0; "+A+" < "+p+".length; "+A+"++) { if ("+l+"["+p+"["+A+"]] === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+p+"["+A+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var P=d;if(P)for(var C,R=-1,L=P.length-1;R<L;){C=P[R+=1];var I=e.util.getProperty(C),D=(k=e.util.escapeQuotes(C),l+I);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,C,e.opts.jsonPointers)),r+=" if ( "+D+" === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(C)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else c&&(r+=" if (true) {");return r}},898:e=>{"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,h="data"+(s||""),f="valid"+o,p=e.opts.$data&&a&&a.$data;if(p?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,(a||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+f+"; if ("+r+" === false || "+r+" === undefined) "+f+" = true; else if (typeof "+r+" != 'boolean') "+f+" = false; else { "),i+=" var i = "+h+".length , "+f+" = true , j; if (i > 1) { ";var d=e.schema.items&&e.schema.items.type,m=Array.isArray(d);if(!d||"object"==d||"array"==d||m&&(d.indexOf("object")>=0||d.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+f+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var y="checkDataType"+(m?"s":"");i+=" if ("+e.util[y](d,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+f+") {   ";var v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var g=i;i=v.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i}},873:e=>{"use strict";e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.opts.strictKeywords){var a=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(a){var u="unknown keyword: "+a;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+s+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){t="false schema";var c=e.level,l=e.dataLevel,h=e.schema[t],f=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,m="data"+(l||""),y="valid"+c;if(!1===e.schema){e.isTop?d=!0:r+=" var "+y+" = false; ",(K=K||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var v=r;r=K.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+y+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var g=e.isTop;if(c=e.level=0,l=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var _="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(_);e.logger.warn(_)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(c=e.level,m="data"+((l=e.dataLevel)||""),s&&(e.baseId=e.resolve.url(e.baseId,s)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+c+" = errors;"}y="valid"+c,d=!e.opts.allErrors;var b="",w="",x=e.schema.type,k=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(k?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],k=!0)),k&&1==x.length&&(x=x[0],k=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var E=e.util.coerceToTypes(e.opts.coerceTypes,x);var S=e.RULES.types[x];if(E||k||!0===S||S&&!X(S)){f=e.schemaPath+".type",p=e.errSchemaPath+"/type",f=e.schemaPath+".type",p=e.errSchemaPath+"/type";var T=k?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[T](x,m,e.opts.strictNumbers,!0)+") { ",E){var A="dataType"+c,O="coerced"+c;r+=" var "+A+" = typeof "+m+"; var "+O+" = undefined; ","array"==e.opts.coerceTypes&&(r+=" if ("+A+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+A+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+O+" = "+m+"; } "),r+=" if ("+O+" !== undefined) ; ";var N=E;if(N)for(var P,C=-1,R=N.length-1;C<R;)"string"==(P=N[C+=1])?r+=" else if ("+A+" == 'number' || "+A+" == 'boolean') "+O+" = '' + "+m+"; else if ("+m+" === null) "+O+" = ''; ":"number"==P||"integer"==P?(r+=" else if ("+A+" == 'boolean' || "+m+" === null || ("+A+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==P&&(r+=" && !("+m+" % 1)"),r+=")) "+O+" = +"+m+"; "):"boolean"==P?r+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+O+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+O+" = true; ":"null"==P?r+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+O+" = null; ":"array"==e.opts.coerceTypes&&"array"==P&&(r+=" else if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+m+" == null) "+O+" = ["+m+"]; ");r+=" else {   ",(K=K||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=k?""+x.join(","):""+x,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+x.join(","):""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=K.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+O+" !== undefined) {  ";var L=l?"data"+(l-1||""):"parentData";r+=" "+m+" = "+O+"; ",l||(r+="if ("+L+" !== undefined)"),r+=" "+L+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+O+"; } "}else(K=K||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=k?""+x.join(","):""+x,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+x.join(","):""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=K.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",d&&(r+=" } if (errors === ",r+=g?"0":"errs_"+c,r+=") { ",w+="}");else{var I=e.RULES;if(I)for(var D=-1,M=I.length-1;D<M;)if(X(S=I[D+=1])){if(S.type&&(r+=" if ("+e.util.checkDataType(S.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==S.type&&e.schema.properties){h=e.schema.properties;var j=Object.keys(h);if(j)for(var F,B=-1,U=j.length-1;B<U;)if(void 0!==($=h[F=j[B+=1]]).default){var z=m+e.util.getProperty(F);if(e.compositeRule){if(e.opts.strictDefaults){if(_="default is ignored for: "+z,"log"!==e.opts.strictDefaults)throw new Error(_);e.logger.warn(_)}}else r+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+z+" === null || "+z+" === '' "),r+=" ) "+z+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault($.default)+" ":r+=" "+JSON.stringify($.default)+" ",r+="; "}}else if("array"==S.type&&Array.isArray(e.schema.items)){var V=e.schema.items;if(V){C=-1;for(var $,q=V.length-1;C<q;)if(void 0!==($=V[C+=1]).default)if(z=m+"["+C+"]",e.compositeRule){if(e.opts.strictDefaults){if(_="default is ignored for: "+z,"log"!==e.opts.strictDefaults)throw new Error(_);e.logger.warn(_)}}else r+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+z+" === null || "+z+" === '' "),r+=" ) "+z+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault($.default)+" ":r+=" "+JSON.stringify($.default)+" ",r+="; "}}var K,H=S.rules;if(H)for(var W,G=-1,Y=H.length-1;G<Y;)if(Z(W=H[G+=1])){var Q=W.code(e,W.keyword,S.type);Q&&(r+=" "+Q+" ",d&&(b+="}"))}if(d&&(r+=" "+b+" ",b=""),S.type&&(r+=" } ",x&&x===S.type&&!E))r+=" else { ",f=e.schemaPath+".type",p=e.errSchemaPath+"/type",(K=K||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=k?""+x.join(","):""+x,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+x.join(","):""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=K.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ";d&&(r+=" if (errors === ",r+=g?"0":"errs_"+c,r+=") { ",w+="}")}}function X(e){for(var t=e.rules,n=0;n<t.length;n++)if(Z(t[n]))return!0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return d&&(r+=" "+w+" "),g?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+y+" = errors === errs_"+c+";",r}},635:(e,t,n)=>{"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(992),o=n(659);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var s=0;s<o.length;s++)u(e,o[s],t);else u(e,o,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0))}function u(e,t,r){for(var o,s=0;s<n.length;s++){var a=n[s];if(a.type==t){o=a;break}}o||(o={type:t,rules:[]},n.push(o));var u={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(u),n.custom[e]=u}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this},validate:function e(t,n){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(r(t))return!0;if(e.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}}},17:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},492:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,s;if(Array.isArray(t)){for(s="[",n=0;n<t.length;n++)n&&(s+=","),s+=e(t[n])||"null";return s+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(s="",n=0;n<u.length;n++){var c=u[n],l=e(t[c]);l&&(s&&(s+=","),s+=JSON.stringify(c)+":"+l)}return o.splice(a,1),"{"+s+"}"}}(e)}},106:e=>{"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,r,i,o,s,a,u,c,l,h){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var f in r(o,s,a,u,c,l,h),o){var p=o[f];if(Array.isArray(p)){if(f in t.arrayKeywords)for(var d=0;d<p.length;d++)n(e,r,i,p[d],s+"/"+f+"/"+d,a,s,f,o,d)}else if(f in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)n(e,r,i,p[m],s+"/"+f+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,f,o,m)}else(f in t.keywords||e.allKeys&&!(f in t.skipKeywords))&&n(e,r,i,p,s+"/"+f,a,s,f,o)}i(o,s,a,u,c,l,h)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},916:(e,t)=>{(()=>{var e={326:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";var r=Array.prototype,i=Object.prototype,o={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},s=/[&"'<>\\]/g;function a(e,t){return i.hasOwnProperty.call(e,t)}function u(e){return o[e]}function c(e,t,n){var r,i,o;if(e instanceof Error&&(e=(i=e).name+": "+i.message),Object.setPrototypeOf?(r=new Error(e),Object.setPrototypeOf(r,c.prototype)):(r=this,Object.defineProperty(r,"message",{enumerable:!1,writable:!0,value:e})),Object.defineProperty(r,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(r,this.constructor),i){var s=Object.getOwnPropertyDescriptor(i,"stack");(o=s&&(s.get||function(){return s.value}))||(o=function(){return i.stack})}else{var a=new Error(e).stack;o=function(){return a}}return Object.defineProperty(r,"stack",{get:function(){return o.call(r)}}),Object.defineProperty(r,"cause",{value:i}),r.lineno=t,r.colno=n,r.firstUpdate=!0,r.Update=function(e){var t="("+(e||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?t+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(t+=" [Line "+this.lineno+"]")),t+="\n ",this.firstUpdate&&(t+=" "),this.message=t+(this.message||""),this.firstUpdate=!1,this},r}function l(e){return"[object Function]"===i.toString.call(e)}function h(e){return"[object Array]"===i.toString.call(e)}function f(e){return"[object String]"===i.toString.call(e)}function p(e){return"[object Object]"===i.toString.call(e)}function d(e){var t,n=(t=e)?"string"==typeof t?t.split("."):[t]:[];return function(e){for(var t=e,r=0;r<n.length;r++){var i=n[r];if(!a(t,i))return;t=t[i]}return t}}function m(e){return Array.prototype.slice.call(e)}function y(e,t,n){return Array.prototype.indexOf.call(e||[],t,n)}function v(e){var t=[];for(var n in e)a(e,n)&&t.push(n);return t}(t=e.exports={}).hasOwnProp=a,t._prettifyError=function(e,n,r){if(r.Update||(r=new t.TemplateError(r)),r.Update(e),!n){var i=r;(r=new Error(i.message)).name=i.name}return r},Object.setPrototypeOf?Object.setPrototypeOf(c.prototype,Error.prototype):c.prototype=Object.create(Error.prototype,{constructor:{value:c}}),t.TemplateError=c,t.escape=function(e){return e.replace(s,u)},t.isFunction=l,t.isArray=h,t.isString=f,t.isObject=p,t.getAttrGetter=d,t.groupBy=function(e,t,n){for(var r={},i=l(t)?t:d(t),o=0;o<e.length;o++){var s=e[o],a=i(s,o);if(void 0===a&&!0===n)throw new TypeError('groupby: attribute "'+t+'" resolved to undefined');(r[a]||(r[a]=[])).push(s)}return r},t.toArray=m,t.without=function(e){var t=[];if(!e)return t;for(var n=e.length,r=m(arguments).slice(1),i=-1;++i<n;)-1===y(r,e[i])&&t.push(e[i]);return t},t.repeat=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},t.each=function(e,t,n){if(null!=e)if(r.forEach&&e.forEach===r.forEach)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},t.map=function(e,t){var n=[];if(null==e)return n;if(r.map&&e.map===r.map)return e.map(t);for(var i=0;i<e.length;i++)n[n.length]=t(e[i],i);return e.length===+e.length&&(n.length=e.length),n},t.asyncIter=function(e,t,n){var r=-1;!function i(){++r<e.length?t(e[r],r,i,n):n()}()},t.asyncFor=function(e,t,n){var r=v(e||{}),i=r.length,o=-1;!function s(){o++;var a=r[o];o<i?t(a,e[a],o,i,s):n()}()},t.indexOf=y,t.keys=v,t._entries=function(e){return v(e).map((function(t){return[t,e[t]]}))},t._values=function(e){return v(e).map((function(t){return e[t]}))},t._assign=t.extend=function(e,t){return e=e||{},v(t).forEach((function(n){e[n]=t[n]})),e},t.inOperator=function(e,t){if(h(t)||f(t))return-1!==t.indexOf(e);if(p(t))return e in t;throw new Error('Cannot use "in" operator to search for "'+e+'" in unexpected types.')}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key))?i:String(i),r)}var i}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var a=n(16),u=n(0);function c(e,t,n){n=n||{},u.keys(n).forEach((function(t){var r,i;n[t]=(r=e.prototype[t],i=n[t],"function"!=typeof r||"function"!=typeof i?i:function(){var e=this.parent;this.parent=r;var t=i.apply(this,arguments);return this.parent=e,t})}));var r=function(e){function n(){return e.apply(this,arguments)||this}return o(n,e),i(n,[{key:"typename",get:function(){return t}}]),n}(e);return u._assign(r.prototype,n),r}var l=function(){function e(){this.init.apply(this,arguments)}return e.prototype.init=function(){},e.extend=function(e,t){return"object"==typeof e&&(t=e,e="anonymous"),c(this,e,t)},i(e,[{key:"typename",get:function(){return this.constructor.name}}]),e}(),h=function(e){function t(){var t,n;return(t=n=e.call(this)||this).init.apply(t,arguments),n}return o(t,e),t.prototype.init=function(){},t.extend=function(e,t){return"object"==typeof e&&(t=e,e="anonymous"),c(this,e,t)},i(t,[{key:"typename",get:function(){return this.constructor.name}}]),t}(a);e.exports={Obj:l,EmitterObj:h}},function(e,t,n){"use strict";var r=n(0),i=Array.from,o="function"==typeof Symbol&&Symbol.iterator&&"function"==typeof i,s=function(){function e(e,t){this.variables=Object.create(null),this.parent=e,this.topLevel=!1,this.isolateWrites=t}var t=e.prototype;return t.set=function(e,t,n){var r=e.split("."),i=this.variables,o=this;if(n&&(o=this.resolve(r[0],!0)))o.set(e,t);else{for(var s=0;s<r.length-1;s++){var a=r[s];i[a]||(i[a]={}),i=i[a]}i[r[r.length-1]]=t}},t.get=function(e){var t=this.variables[e];return void 0!==t?t:null},t.lookup=function(e){var t=this.parent,n=this.variables[e];return void 0!==n?n:t&&t.lookup(e)},t.resolve=function(e,t){var n=t&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[e]?this:n&&n.resolve(e)},t.push=function(t){return new e(this,t)},t.pop=function(){return this.parent},e}();function a(e){return e&&Object.prototype.hasOwnProperty.call(e,"__keywords")}function u(e){var t=e.length;return 0===t?0:a(e[t-1])?t-1:t}function c(e){if("string"!=typeof e)return e;this.val=e,this.length=e.length}c.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),c.prototype.valueOf=function(){return this.val},c.prototype.toString=function(){return this.val},e.exports={Frame:s,makeMacro:function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s,c=u(i),l=function(e){var t=e.length;if(t){var n=e[t-1];if(a(n))return n}return{}}(i);if(c>e.length)s=i.slice(0,e.length),i.slice(s.length,c).forEach((function(e,n){n<t.length&&(l[t[n]]=e)})),s.push(l);else if(c<e.length){s=i.slice(0,c);for(var h=c;h<e.length;h++){var f=e[h];s.push(l[f]),delete l[f]}s.push(l)}else s=i;return n.apply(this,s)}},makeKeywordArgs:function(e){return e.__keywords=!0,e},numArgs:u,suppressValue:function(e,t){return e=null!=e?e:"",!t||e instanceof c||(e=r.escape(e.toString())),e},ensureDefined:function(e,t,n){if(null==e)throw new r.TemplateError("attempted to output null or undefined value",t+1,n+1);return e},memberLookup:function(e,t){if(null!=e)return"function"==typeof e[t]?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e[t].apply(e,r)}:e[t]},contextOrFrameLookup:function(e,t,n){var r=t.lookup(n);return void 0!==r?r:e.lookup(n)},callWrap:function(e,t,n,r){if(!e)throw new Error("Unable to call `"+t+"`, which is undefined or falsey");if("function"!=typeof e)throw new Error("Unable to call `"+t+"`, which is not a function");return e.apply(n,r)},handleError:function(e,t,n){return e.lineno?e:new r.TemplateError(e,t,n)},isArray:r.isArray,keys:r.keys,SafeString:c,copySafeness:function(e,t){return e instanceof c?new c(t):t.toString()},markSafe:function(e){var t=typeof e;return"string"===t?new c(e):"function"!==t?e:function(t){var n=e.apply(this,arguments);return"string"==typeof n?new c(n):n}},asyncEach:function(e,t,n,i){if(r.isArray(e)){var o=e.length;r.asyncIter(e,(function(e,r,i){switch(t){case 1:n(e,r,o,i);break;case 2:n(e[0],e[1],r,o,i);break;case 3:n(e[0],e[1],e[2],r,o,i);break;default:e.push(r,o,i),n.apply(this,e)}}),i)}else r.asyncFor(e,(function(e,t,r,i,o){n(e,t,r,i,o)}),i)},asyncAll:function(e,t,n,i){var o,s,a=0;function u(e,t){a++,s[e]=t,a===o&&i(null,s.join(""))}if(r.isArray(e))if(o=e.length,s=new Array(o),0===o)i(null,"");else for(var c=0;c<e.length;c++){var l=e[c];switch(t){case 1:n(l,c,o,u);break;case 2:n(l[0],l[1],c,o,u);break;case 3:n(l[0],l[1],l[2],c,o,u);break;default:l.push(c,o,u),n.apply(this,l)}}else{var h=r.keys(e||{});if(o=h.length,s=new Array(o),0===o)i(null,"");else for(var f=0;f<h.length;f++){var p=h[f];n(p,e[p],f,o,u)}}},inOperator:r.inOperator,fromIterator:function(e){return"object"!=typeof e||null===e||r.isArray(e)?e:o&&Symbol.iterator in e?i(e):e}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key))?i:String(i),r)}var i}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e,t,n){e instanceof t&&n.push(e),e instanceof u&&e.findAll(t,n)}var u=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.init=function(e,t){for(var n=arguments,r=this,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];this.lineno=e,this.colno=t,this.fields.forEach((function(e,t){var i=n[t+2];void 0===i&&(i=null),r[e]=i}))},n.findAll=function(e,t){var n=this;return t=t||[],this instanceof l?this.children.forEach((function(n){return a(n,e,t)})):this.fields.forEach((function(r){return a(n[r],e,t)})),t},n.iterFields=function(e){var t=this;this.fields.forEach((function(n){e(t[n],n)}))},t}(n(1).Obj),c=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),i(t,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),t}(u),l=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.init=function(t,n,r){e.prototype.init.call(this,t,n,r||[])},n.addChild=function(e){this.children.push(e)},i(t,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),t}(u),h=l.extend("Root"),f=c.extend("Literal"),p=c.extend("Symbol"),d=l.extend("Group"),m=l.extend("Array"),y=u.extend("Pair",{fields:["key","value"]}),v=l.extend("Dict"),g=u.extend("LookupVal",{fields:["target","val"]}),_=u.extend("If",{fields:["cond","body","else_"]}),b=_.extend("IfAsync"),w=u.extend("InlineIf",{fields:["cond","body","else_"]}),x=u.extend("For",{fields:["arr","name","body","else_"]}),k=x.extend("AsyncEach"),E=x.extend("AsyncAll"),S=u.extend("Macro",{fields:["name","args","body"]}),T=S.extend("Caller"),A=u.extend("Import",{fields:["template","target","withContext"]}),O=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(t,n,r,i,o){e.prototype.init.call(this,t,n,r,i||new l,o)},i(t,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),t}(u),N=u.extend("FunCall",{fields:["name","args"]}),P=N.extend("Filter"),C=P.extend("FilterAsync",{fields:["name","args","symbol"]}),R=v.extend("KeywordArgs"),L=u.extend("Block",{fields:["name","body"]}),I=u.extend("Super",{fields:["blockName","symbol"]}),D=u.extend("TemplateRef",{fields:["template"]}).extend("Extends"),M=u.extend("Include",{fields:["template","ignoreMissing"]}),j=u.extend("Set",{fields:["targets","value"]}),F=u.extend("Switch",{fields:["expr","cases","default"]}),B=u.extend("Case",{fields:["cond","body"]}),U=l.extend("Output"),z=u.extend("Capture",{fields:["body"]}),V=f.extend("TemplateData"),$=u.extend("UnaryOp",{fields:["target"]}),q=u.extend("BinOp",{fields:["left","right"]}),K=q.extend("In"),H=q.extend("Is"),W=q.extend("Or"),G=q.extend("And"),Y=$.extend("Not"),Q=q.extend("Add"),X=q.extend("Concat"),Z=q.extend("Sub"),J=q.extend("Mul"),ee=q.extend("Div"),te=q.extend("FloorDiv"),ne=q.extend("Mod"),re=q.extend("Pow"),ie=$.extend("Neg"),oe=$.extend("Pos"),se=u.extend("Compare",{fields:["expr","ops"]}),ae=u.extend("CompareOperand",{fields:["expr","type"]}),ue=u.extend("CallExtension",{init:function(e,t,n,r){this.parent(),this.extName=e.__name||e,this.prop=t,this.args=n||new l,this.contentArgs=r||[],this.autoescape=e.autoescape},fields:["extName","prop","args","contentArgs"]}),ce=ue.extend("CallExtensionAsync");function le(e,t,n){var r=e.split("\n");r.forEach((function(e,i){e&&(n&&i>0||!n)&&process.stdout.write(" ".repeat(t));var o=i===r.length-1?"":"\n";process.stdout.write(""+e+o)}))}e.exports={Node:u,Root:h,NodeList:l,Value:c,Literal:f,Symbol:p,Group:d,Array:m,Pair:y,Dict:v,Output:U,Capture:z,TemplateData:V,If:_,IfAsync:b,InlineIf:w,For:x,AsyncEach:k,AsyncAll:E,Macro:S,Caller:T,Import:A,FromImport:O,FunCall:N,Filter:P,FilterAsync:C,KeywordArgs:R,Block:L,Super:I,Extends:D,Include:M,Set:j,Switch:F,Case:B,LookupVal:g,BinOp:q,In:K,Is:H,Or:W,And:G,Not:Y,Add:Q,Concat:X,Sub:Z,Mul:J,Div:ee,FloorDiv:te,Mod:ne,Pow:re,Neg:ie,Pos:oe,Compare:se,CompareOperand:ae,CallExtension:ue,CallExtensionAsync:ce,printNodes:function e(t,n){if(n=n||0,le(t.typename+": ",n),t instanceof l)le("\n"),t.children.forEach((function(t){e(t,n+2)}));else if(t instanceof ue)le(t.extName+"."+t.prop+"\n"),t.args&&e(t.args,n+2),t.contentArgs&&t.contentArgs.forEach((function(t){e(t,n+2)}));else{var r=[],i=null;t.iterFields((function(e,t){e instanceof u?r.push([t,e]):(i=i||{})[t]=e})),i?le(JSON.stringify(i,null,2)+"\n",null,!0):le("\n"),r.forEach((function(t){var r=t[0],i=t[1];le("["+r+"] =>",n+2),e(i,n+4)}))}}}},function(e,t){},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(8),o=n(17),s=n(3),a=n(0).TemplateError,u=n(2).Frame,c=n(1).Obj,l={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},h=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var o=i.prototype;return o.init=function(e,t){this.templateName=e,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=t},o.fail=function(e,t,n){throw void 0!==t&&(t+=1),void 0!==n&&(n+=1),new a(e,t,n)},o._pushBuffer=function(){var e=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=e,this._emit("var "+this.buffer+' = "";'),e},o._popBuffer=function(){this.buffer=this.bufferStack.pop()},o._emit=function(e){this.codebuf.push(e)},o._emitLine=function(e){this._emit(e+"\n")},o._emitLines=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){return e._emitLine(t)}))},o._emitFuncBegin=function(e,t){this.buffer="output",this._scopeClosers="",this._emitLine("function "+t+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+e.lineno+";"),this._emitLine("var colno = "+e.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},o._emitFuncEnd=function(e){e||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},o._addScopeLevel=function(){this._scopeClosers+="})"},o._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},o._withScopedSyntax=function(e){var t=this._scopeClosers;this._scopeClosers="",e.call(this),this._closeScopeLevels(),this._scopeClosers=t},o._makeCallback=function(e){var t=this._tmpid();return"function("+t+(e?","+e:"")+") {\nif("+t+") { cb("+t+"); return; }"},o._tmpid=function(){return this.lastId++,"t_"+this.lastId},o._templateName=function(){return null==this.templateName?"undefined":JSON.stringify(this.templateName)},o._compileChildren=function(e,t){var n=this;e.children.forEach((function(e){n.compile(e,t)}))},o._compileAggregate=function(e,t,n,r){var i=this;n&&this._emit(n),e.children.forEach((function(e,n){n>0&&i._emit(","),i.compile(e,t)})),r&&this._emit(r)},o._compileExpression=function(e,t){this.assertType(e,s.Literal,s.Symbol,s.Group,s.Array,s.Dict,s.FunCall,s.Caller,s.Filter,s.LookupVal,s.Compare,s.InlineIf,s.In,s.Is,s.And,s.Or,s.Not,s.Add,s.Concat,s.Sub,s.Mul,s.Div,s.FloorDiv,s.Mod,s.Pow,s.Neg,s.Pos,s.Compare,s.NodeList),this.compile(e,t)},o.assertType=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.some((function(t){return e instanceof t}))||this.fail("assertType: invalid type: "+e.typename,e.lineno,e.colno)},o.compileCallExtension=function(e,t,n){var r=this,i=e.args,o=e.contentArgs,a="boolean"!=typeof e.autoescape||e.autoescape;if(n||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+e.extName+'")["'+e.prop+'"]('),this._emit("context"),(i||o)&&this._emit(","),i&&(i instanceof s.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),i.children.forEach((function(e,n){r._compileExpression(e,t),(n!==i.children.length-1||o.length)&&r._emit(",")}))),o.length&&o.forEach((function(e,n){if(n>0&&r._emit(","),e){r._emitLine("function(cb) {"),r._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var i=r._pushBuffer();r._withScopedSyntax((function(){r.compile(e,t),r._emitLine("cb(null, "+i+");")})),r._popBuffer(),r._emitLine("return "+i+";"),r._emitLine("}")}else r._emit("null")})),n){var u=this._tmpid();this._emitLine(", "+this._makeCallback(u)),this._emitLine(this.buffer+" += runtime.suppressValue("+u+", "+a+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+a+" && env.opts.autoescape);\n")},o.compileCallExtensionAsync=function(e,t){this.compileCallExtension(e,t,!0)},o.compileNodeList=function(e,t){this._compileChildren(e,t)},o.compileLiteral=function(e){if("string"==typeof e.value){var t=e.value.replace(/\\/g,"\\\\");t=(t=(t=(t=(t=t.replace(/"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t")).replace(/\u2028/g,"\\u2028"),this._emit('"'+t+'"')}else null===e.value?this._emit("null"):this._emit(e.value.toString())},o.compileSymbol=function(e,t){var n=e.value,r=t.lookup(n);r?this._emit(r):this._emit('runtime.contextOrFrameLookup(context, frame, "'+n+'")')},o.compileGroup=function(e,t){this._compileAggregate(e,t,"(",")")},o.compileArray=function(e,t){this._compileAggregate(e,t,"[","]")},o.compileDict=function(e,t){this._compileAggregate(e,t,"{","}")},o.compilePair=function(e,t){var n=e.key,r=e.value;n instanceof s.Symbol?n=new s.Literal(n.lineno,n.colno,n.value):n instanceof s.Literal&&"string"==typeof n.value||this.fail("compilePair: Dict keys must be strings or names",n.lineno,n.colno),this.compile(n,t),this._emit(": "),this._compileExpression(r,t)},o.compileInlineIf=function(e,t){this._emit("("),this.compile(e.cond,t),this._emit("?"),this.compile(e.body,t),this._emit(":"),null!==e.else_?this.compile(e.else_,t):this._emit('""'),this._emit(")")},o.compileIn=function(e,t){this._emit("runtime.inOperator("),this.compile(e.left,t),this._emit(","),this.compile(e.right,t),this._emit(")")},o.compileIs=function(e,t){var n=e.right.name?e.right.name.value:e.right.value;this._emit('env.getTest("'+n+'").call(context, '),this.compile(e.left,t),e.right.args&&(this._emit(","),this.compile(e.right.args,t)),this._emit(") === true")},o._binOpEmitter=function(e,t,n){this.compile(e.left,t),this._emit(n),this.compile(e.right,t)},o.compileOr=function(e,t){return this._binOpEmitter(e,t," || ")},o.compileAnd=function(e,t){return this._binOpEmitter(e,t," && ")},o.compileAdd=function(e,t){return this._binOpEmitter(e,t," + ")},o.compileConcat=function(e,t){return this._binOpEmitter(e,t,' + "" + ')},o.compileSub=function(e,t){return this._binOpEmitter(e,t," - ")},o.compileMul=function(e,t){return this._binOpEmitter(e,t," * ")},o.compileDiv=function(e,t){return this._binOpEmitter(e,t," / ")},o.compileMod=function(e,t){return this._binOpEmitter(e,t," % ")},o.compileNot=function(e,t){this._emit("!"),this.compile(e.target,t)},o.compileFloorDiv=function(e,t){this._emit("Math.floor("),this.compile(e.left,t),this._emit(" / "),this.compile(e.right,t),this._emit(")")},o.compilePow=function(e,t){this._emit("Math.pow("),this.compile(e.left,t),this._emit(", "),this.compile(e.right,t),this._emit(")")},o.compileNeg=function(e,t){this._emit("-"),this.compile(e.target,t)},o.compilePos=function(e,t){this._emit("+"),this.compile(e.target,t)},o.compileCompare=function(e,t){var n=this;this.compile(e.expr,t),e.ops.forEach((function(e){n._emit(" "+l[e.type]+" "),n.compile(e.expr,t)}))},o.compileLookupVal=function(e,t){this._emit("runtime.memberLookup(("),this._compileExpression(e.target,t),this._emit("),"),this._compileExpression(e.val,t),this._emit(")")},o._getNodeName=function(e){switch(e.typename){case"Symbol":return e.value;case"FunCall":return"the return value of ("+this._getNodeName(e.name)+")";case"LookupVal":return this._getNodeName(e.target)+'["'+this._getNodeName(e.val)+'"]';case"Literal":return e.value.toString();default:return"--expression--"}},o.compileFunCall=function(e,t){this._emit("(lineno = "+e.lineno+", colno = "+e.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(e.name,t),this._emit(', "'+this._getNodeName(e.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(e.args,t,"[","])"),this._emit(")")},o.compileFilter=function(e,t){var n=e.name;this.assertType(n,s.Symbol),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(e.args,t),this._emit(")")},o.compileFilterAsync=function(e,t){var n=e.name,r=e.symbol.value;this.assertType(n,s.Symbol),t.set(r,r),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(e.args,t),this._emitLine(", "+this._makeCallback(r)),this._addScopeLevel()},o.compileKeywordArgs=function(e,t){this._emit("runtime.makeKeywordArgs("),this.compileDict(e,t),this._emit(")")},o.compileSet=function(e,t){var n=this,r=[];e.targets.forEach((function(e){var i=e.value,o=t.lookup(i);null==o&&(o=n._tmpid(),n._emitLine("var "+o+";")),r.push(o)})),e.value?(this._emit(r.join(" = ")+" = "),this._compileExpression(e.value,t),this._emitLine(";")):(this._emit(r.join(" = ")+" = "),this.compile(e.body,t),this._emitLine(";")),e.targets.forEach((function(e,t){var i=r[t],o=e.value;n._emitLine('frame.set("'+o+'", '+i+", true);"),n._emitLine("if(frame.topLevel) {"),n._emitLine('context.setVariable("'+o+'", '+i+");"),n._emitLine("}"),"_"!==o.charAt(0)&&(n._emitLine("if(frame.topLevel) {"),n._emitLine('context.addExport("'+o+'", '+i+");"),n._emitLine("}"))}))},o.compileSwitch=function(e,t){var n=this;this._emit("switch ("),this.compile(e.expr,t),this._emit(") {"),e.cases.forEach((function(e,r){n._emit("case "),n.compile(e.cond,t),n._emit(": "),n.compile(e.body,t),e.body.children.length&&n._emitLine("break;")})),e.default&&(this._emit("default:"),this.compile(e.default,t)),this._emit("}")},o.compileIf=function(e,t,n){var r=this;this._emit("if("),this._compileExpression(e.cond,t),this._emitLine(") {"),this._withScopedSyntax((function(){r.compile(e.body,t),n&&r._emit("cb()")})),e.else_?(this._emitLine("}\nelse {"),this._withScopedSyntax((function(){r.compile(e.else_,t),n&&r._emit("cb()")}))):n&&(this._emitLine("}\nelse {"),this._emit("cb()")),this._emitLine("}")},o.compileIfAsync=function(e,t){this._emit("(function(cb) {"),this.compileIf(e,t,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},o._emitLoopBindings=function(e,t,n,r){var i=this;[{name:"index",val:n+" + 1"},{name:"index0",val:n},{name:"revindex",val:r+" - "+n},{name:"revindex0",val:r+" - "+n+" - 1"},{name:"first",val:n+" === 0"},{name:"last",val:n+" === "+r+" - 1"},{name:"length",val:r}].forEach((function(e){i._emitLine('frame.set("loop.'+e.name+'", '+e.val+");")}))},o.compileFor=function(e,t){var n=this,r=this._tmpid(),i=this._tmpid(),o=this._tmpid();if(t=t.push(),this._emitLine("frame = frame.push();"),this._emit("var "+o+" = "),this._compileExpression(e.arr,t),this._emitLine(";"),this._emit("if("+o+") {"),this._emitLine(o+" = runtime.fromIterator("+o+");"),e.name instanceof s.Array){this._emitLine("var "+r+";"),this._emitLine("if(runtime.isArray("+o+")) {"),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for("+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),e.name.children.forEach((function(i,s){var a=n._tmpid();n._emitLine("var "+a+" = "+o+"["+r+"]["+s+"];"),n._emitLine('frame.set("'+i+'", '+o+"["+r+"]["+s+"]);"),t.set(e.name.children[s].value,a)})),this._emitLoopBindings(e,o,r,i),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("}"),this._emitLine("} else {");var a=e.name.children,u=a[0],c=a[1],l=this._tmpid(),h=this._tmpid();t.set(u.value,l),t.set(c.value,h),this._emitLine(r+" = -1;"),this._emitLine("var "+i+" = runtime.keys("+o+").length;"),this._emitLine("for(var "+l+" in "+o+") {"),this._emitLine(r+"++;"),this._emitLine("var "+h+" = "+o+"["+l+"];"),this._emitLine('frame.set("'+u.value+'", '+l+");"),this._emitLine('frame.set("'+c.value+'", '+h+");"),this._emitLoopBindings(e,o,r,i),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("}"),this._emitLine("}")}else{var f=this._tmpid();t.set(e.name.value,f),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for(var "+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),this._emitLine("var "+f+" = "+o+"["+r+"];"),this._emitLine('frame.set("'+e.name.value+'", '+f+");"),this._emitLoopBindings(e,o,r,i),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("}")}this._emitLine("}"),e.else_&&(this._emitLine("if (!"+i+") {"),this.compile(e.else_,t),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o._compileAsyncLoop=function(e,t,n){var r=this,i=this._tmpid(),o=this._tmpid(),a=this._tmpid(),u=n?"asyncAll":"asyncEach";if(t=t.push(),this._emitLine("frame = frame.push();"),this._emit("var "+a+" = runtime.fromIterator("),this._compileExpression(e.arr,t),this._emitLine(");"),e.name instanceof s.Array){var c=e.name.children.length;this._emit("runtime."+u+"("+a+", "+c+", function("),e.name.children.forEach((function(e){r._emit(e.value+",")})),this._emit(i+","+o+",next) {"),e.name.children.forEach((function(e){var n=e.value;t.set(n,n),r._emitLine('frame.set("'+n+'", '+n+");")}))}else{var l=e.name.value;this._emitLine("runtime."+u+"("+a+", 1, function("+l+", "+i+", "+o+",next) {"),this._emitLine('frame.set("'+l+'", '+l+");"),t.set(l,l)}this._emitLoopBindings(e,a,i,o),this._withScopedSyntax((function(){var o;n&&(o=r._pushBuffer()),r.compile(e.body,t),r._emitLine("next("+i+(o?","+o:"")+");"),n&&r._popBuffer()}));var h=this._tmpid();this._emitLine("}, "+this._makeCallback(h)),this._addScopeLevel(),n&&this._emitLine(this.buffer+" += "+h+";"),e.else_&&(this._emitLine("if (!"+a+".length) {"),this.compile(e.else_,t),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o.compileAsyncEach=function(e,t){this._compileAsyncLoop(e,t)},o.compileAsyncAll=function(e,t){this._compileAsyncLoop(e,t,!0)},o._compileMacro=function(e,t){var n=this,r=[],i=null,o="macro_"+this._tmpid(),a=void 0!==t;e.args.children.forEach((function(t,o){o===e.args.children.length-1&&t instanceof s.Dict?i=t:(n.assertType(t,s.Symbol),r.push(t))}));var c,l=[].concat(r.map((function(e){return"l_"+e.value})),["kwargs"]),h=r.map((function(e){return'"'+e.value+'"'})),f=(i&&i.children||[]).map((function(e){return'"'+e.key.value+'"'}));c=a?t.push(!0):new u,this._emitLines("var "+o+" = runtime.makeMacro(","["+h.join(", ")+"], ","["+f.join(", ")+"], ","function ("+l.join(", ")+") {","var callerFrame = frame;","frame = "+(a?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),r.forEach((function(e){n._emitLine('frame.set("'+e.value+'", l_'+e.value+");"),c.set(e.value,"l_"+e.value)})),i&&i.children.forEach((function(e){var t=e.key.value;n._emit('frame.set("'+t+'", '),n._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+t+'")'),n._emit(' ? kwargs["'+t+'"] : '),n._compileExpression(e.value,c),n._emit(");")}));var p=this._pushBuffer();return this._withScopedSyntax((function(){n.compile(e.body,c)})),this._emitLine("frame = "+(a?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+p+");"),this._emitLine("});"),this._popBuffer(),o},o.compileMacro=function(e,t){var n=this._compileMacro(e),r=e.name.value;t.set(r,n),t.parent?this._emitLine('frame.set("'+r+'", '+n+");"):("_"!==e.name.value.charAt(0)&&this._emitLine('context.addExport("'+r+'");'),this._emitLine('context.setVariable("'+r+'", '+n+");"))},o.compileCaller=function(e,t){this._emit("(function (){");var n=this._compileMacro(e,t);this._emit("return "+n+";})()")},o._compileGetTemplate=function(e,t,n,r){var i=this._tmpid(),o=this._templateName(),s=this._makeCallback(i),a=n?"true":"false",u=r?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(e.template,t),this._emitLine(", "+a+", "+o+", "+u+", "+s),i},o.compileImport=function(e,t){var n=e.target.value,r=this._compileGetTemplate(e,t,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),t.set(n,r),t.parent?this._emitLine('frame.set("'+n+'", '+r+");"):this._emitLine('context.setVariable("'+n+'", '+r+");")},o.compileFromImport=function(e,t){var n=this,r=this._compileGetTemplate(e,t,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),e.names.children.forEach((function(e){var i,o,a=n._tmpid();e instanceof s.Pair?(i=e.key.value,o=e.value.value):o=i=e.value,n._emitLine("if(Object.prototype.hasOwnProperty.call("+r+', "'+i+'")) {'),n._emitLine("var "+a+" = "+r+"."+i+";"),n._emitLine("} else {"),n._emitLine("cb(new Error(\"cannot import '"+i+"'\")); return;"),n._emitLine("}"),t.set(o,a),t.parent?n._emitLine('frame.set("'+o+'", '+a+");"):n._emitLine('context.setVariable("'+o+'", '+a+");")}))},o.compileBlock=function(e){var t=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+e.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(t)),this._emitLine(this.buffer+" += "+t+";"),this._addScopeLevel()},o.compileSuper=function(e,t){var n=e.blockName.value,r=e.symbol.value,i=this._makeCallback(r);this._emitLine('context.getSuper(env, "'+n+'", b_'+n+", frame, runtime, "+i),this._emitLine(r+" = runtime.markSafe("+r+");"),this._addScopeLevel(),t.set(r,r)},o.compileExtends=function(e,t){var n=this._tmpid(),r=this._compileGetTemplate(e,t,!0,!1);this._emitLine("parentTemplate = "+r),this._emitLine("for(var "+n+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+n+", parentTemplate.blocks["+n+"]);"),this._emitLine("}"),this._addScopeLevel()},o.compileInclude=function(e,t){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var n=this._compileGetTemplate(e,t,!1,e.ignoreMissing);this._emitLine("callback(null,"+n+");});"),this._emitLine("});");var r=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(r)),this._emitLine("callback(null,"+r+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},o.compileTemplateData=function(e,t){this.compileLiteral(e,t)},o.compileCapture=function(e,t){var n=this,r=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=r},o.compileOutput=function(e,t){var n=this;e.children.forEach((function(r){r instanceof s.TemplateData?r.value&&(n._emit(n.buffer+" += "),n.compileLiteral(r,t),n._emitLine(";")):(n._emit(n.buffer+" += runtime.suppressValue("),n.throwOnUndefined&&n._emit("runtime.ensureDefined("),n.compile(r,t),n.throwOnUndefined&&n._emit(","+e.lineno+","+e.colno+")"),n._emit(", env.opts.autoescape);\n"))}))},o.compileRoot=function(e,t){var n=this;t&&this.fail("compileRoot: root node can't have frame"),t=new u,this._emitFuncBegin(e,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(e,t),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var r=[],i=e.findAll(s.Block);i.forEach((function(e,t){var i=e.name.value;if(-1!==r.indexOf(i))throw new Error('Block "'+i+'" defined more than once.');r.push(i),n._emitFuncBegin(e,"b_"+i);var o=new u;n._emitLine("var frame = frame.push(true);"),n.compile(e.body,o),n._emitFuncEnd()})),this._emitLine("return {"),i.forEach((function(e,t){var r="b_"+e.name.value;n._emitLine(r+": "+r+",")})),this._emitLine("root: root\n};")},o.compile=function(e,t){var n=this["compile"+e.typename];n?n.call(this,e,t):this.fail("compile: Cannot compile node: "+e.typename,e.lineno,e.colno)},o.getCode=function(){return this.codebuf.join("")},i}(c);e.exports={compile:function(e,t,n,r,s){void 0===s&&(s={});var a=new h(r,s.throwOnUndefined),u=(n||[]).map((function(e){return e.preprocess})).filter((function(e){return!!e})).reduce((function(e,t){return t(e)}),e);return a.compile(o.transform(i.parse(u,n,s),t,r)),a.getCode()},Compiler:h}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(4),o=n(1).EmitterObj;e.exports=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var s=o.prototype;return s.resolve=function(e,t){return i.resolve(i.dirname(e),t)},s.isRelative=function(e){return 0===e.indexOf("./")||0===e.indexOf("../")},o}(o)},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}var o=n(12),s=n(15),a=n(0),u=n(5),c=n(18),l=n(10),h=l.FileSystemLoader,f=l.WebLoader,p=l.PrecompiledLoader,d=n(20),m=n(21),y=n(1),v=y.Obj,g=y.EmitterObj,_=n(2),b=_.handleError,w=_.Frame,x=n(22);function k(e,t,n){o((function(){e(t,n)}))}var E={type:"code",obj:{root:function(e,t,n,r,i){try{i(null,"")}catch(e){i(b(e,null,null))}}}},S=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.init=function(e,t){var n=this;t=this.opts=t||{},this.opts.dev=!!t.dev,this.opts.autoescape=null==t.autoescape||t.autoescape,this.opts.throwOnUndefined=!!t.throwOnUndefined,this.opts.trimBlocks=!!t.trimBlocks,this.opts.lstripBlocks=!!t.lstripBlocks,this.loaders=[],e?this.loaders=a.isArray(e)?e:[e]:h?this.loaders=[new h("views")]:f&&(this.loaders=[new f("/views")]),"undefined"!=typeof window&&window.nunjucksPrecompiled&&this.loaders.unshift(new p(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=m(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],a._entries(c).forEach((function(e){var t=e[0],r=e[1];return n.addFilter(t,r)})),a._entries(d).forEach((function(e){var t=e[0],r=e[1];return n.addTest(t,r)}))},n._initLoaders=function(){var e=this;this.loaders.forEach((function(t){t.cache={},"function"==typeof t.on&&(t.on("update",(function(n,r){t.cache[n]=null,e.emit("update",n,r,t)})),t.on("load",(function(n,r){e.emit("load",n,r,t)})))}))},n.invalidateCache=function(){this.loaders.forEach((function(e){e.cache={}}))},n.addExtension=function(e,t){return t.__name=e,this.extensions[e]=t,this.extensionsList.push(t),this},n.removeExtension=function(e){var t=this.getExtension(e);t&&(this.extensionsList=a.without(this.extensionsList,t),delete this.extensions[e])},n.getExtension=function(e){return this.extensions[e]},n.hasExtension=function(e){return!!this.extensions[e]},n.addGlobal=function(e,t){return this.globals[e]=t,this},n.getGlobal=function(e){if(void 0===this.globals[e])throw new Error("global not found: "+e);return this.globals[e]},n.addFilter=function(e,t,n){var r=t;return n&&this.asyncFilters.push(e),this.filters[e]=r,this},n.getFilter=function(e){if(!this.filters[e])throw new Error("filter not found: "+e);return this.filters[e]},n.addTest=function(e,t){return this.tests[e]=t,this},n.getTest=function(e){if(!this.tests[e])throw new Error("test not found: "+e);return this.tests[e]},n.resolveTemplate=function(e,t,n){return e.isRelative&&t&&e.isRelative(n)&&e.resolve?e.resolve(t,n):n},n.getTemplate=function(e,t,n,r,i){var o,s=this,u=this,c=null;if(e&&e.raw&&(e=e.raw),a.isFunction(n)&&(i=n,n=null,t=t||!1),a.isFunction(t)&&(i=t,t=!1),e instanceof A)c=e;else{if("string"!=typeof e)throw new Error("template names must be a string: "+e);for(var l=0;l<this.loaders.length;l++){var h=this.loaders[l];if(c=h.cache[this.resolveTemplate(h,n,e)])break}}return c?(t&&c.compile(),i?void i(null,c):c):(a.asyncIter(this.loaders,(function(t,r,i,o){function s(e,n){e?o(e):n?(n.loader=t,o(null,n)):i()}e=u.resolveTemplate(t,n,e),t.async?t.getSource(e,s):s(null,t.getSource(e))}),(function(n,a){if(a||n||r||(n=new Error("template not found: "+e)),n){if(i)return void i(n);throw n}var u;a?(u=new A(a.src,s,a.path,t),a.noCache||(a.loader.cache[e]=u)):u=new A(E,s,"",t),i?i(null,u):o=u})),o)},n.express=function(e){return x(this,e)},n.render=function(e,t,n){a.isFunction(t)&&(n=t,t=null);var r=null;return this.getTemplate(e,(function(e,i){if(e&&n)k(n,e);else{if(e)throw e;r=i.render(t,n)}})),r},n.renderString=function(e,t,n,r){return a.isFunction(n)&&(r=n,n={}),new A(e,this,(n=n||{}).path).render(t,r)},n.waterfall=function(e,t,n){return s(e,t,n)},t}(g),T=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.init=function(e,t,n){var r=this;this.env=n||new S,this.ctx=a.extend({},e),this.blocks={},this.exported=[],a.keys(t).forEach((function(e){r.addBlock(e,t[e])}))},n.lookup=function(e){return e in this.env.globals&&!(e in this.ctx)?this.env.globals[e]:this.ctx[e]},n.setVariable=function(e,t){this.ctx[e]=t},n.getVariables=function(){return this.ctx},n.addBlock=function(e,t){return this.blocks[e]=this.blocks[e]||[],this.blocks[e].push(t),this},n.getBlock=function(e){if(!this.blocks[e])throw new Error('unknown block "'+e+'"');return this.blocks[e][0]},n.getSuper=function(e,t,n,r,i,o){var s=a.indexOf(this.blocks[t]||[],n),u=this.blocks[t][s+1];if(-1===s||!u)throw new Error('no super block available for "'+t+'"');u(e,this,r,i,o)},n.addExport=function(e){this.exported.push(e)},n.getExported=function(){var e=this,t={};return this.exported.forEach((function(n){t[n]=e.ctx[n]})),t},t}(v),A=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.init=function(e,t,n,r){if(this.env=t||new S,a.isObject(e))switch(e.type){case"code":this.tmplProps=e.obj;break;case"string":this.tmplStr=e.obj;break;default:throw new Error("Unexpected template object type "+e.type+"; expected 'code', or 'string'")}else{if(!a.isString(e))throw new Error("src must be a string or an object describing the source");this.tmplStr=e}if(this.path=n,r)try{this._compile()}catch(e){throw a._prettifyError(this.path,this.env.opts.dev,e)}else this.compiled=!1},n.render=function(e,t,n){var r=this;"function"==typeof e?(n=e,e={}):"function"==typeof t&&(n=t,t=null);var i=!t;try{this.compile()}catch(e){var o=a._prettifyError(this.path,this.env.opts.dev,e);if(n)return k(n,o);throw o}var s=new T(e||{},this.blocks,this.env),u=t?t.push(!0):new w;u.topLevel=!0;var c=null,l=!1;return this.rootRenderFunc(this.env,s,u,_,(function(e,t){if(!l||!n||void 0===t)if(e&&(e=a._prettifyError(r.path,r.env.opts.dev,e),l=!0),n)i?k(n,e,t):n(e,t);else{if(e)throw e;c=t}})),c},n.getExported=function(e,t,n){"function"==typeof e&&(n=e,e={}),"function"==typeof t&&(n=t,t=null);try{this.compile()}catch(e){if(n)return n(e);throw e}var r=t?t.push():new w;r.topLevel=!0;var i=new T(e||{},this.blocks,this.env);this.rootRenderFunc(this.env,i,r,_,(function(e){e?n(e,null):n(null,i.getExported())}))},n.compile=function(){this.compiled||this._compile()},n._compile=function(){var e;if(this.tmplProps)e=this.tmplProps;else{var t=u.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);e=new Function(t)()}this.blocks=this._getBlocks(e),this.rootRenderFunc=e.root,this.compiled=!0},n._getBlocks=function(e){var t={};return a.keys(e).forEach((function(n){"b_"===n.slice(0,2)&&(t[n.slice(2)]=e[n])})),t},t}(v);e.exports={Environment:S,Template:A}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(9),o=n(3),s=n(1).Obj,a=n(0),u=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var u=s.prototype;return u.init=function(e){this.tokens=e,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},u.nextToken=function(e){var t;if(this.peeked){if(e||this.peeked.type!==i.TOKEN_WHITESPACE)return t=this.peeked,this.peeked=null,t;this.peeked=null}if(t=this.tokens.nextToken(),!e)for(;t&&t.type===i.TOKEN_WHITESPACE;)t=this.tokens.nextToken();return t},u.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},u.pushToken=function(e){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=e},u.error=function(e,t,n){if(void 0===t||void 0===n){var r=this.peekToken()||{};t=r.lineno,n=r.colno}return void 0!==t&&(t+=1),void 0!==n&&(n+=1),new a.TemplateError(e,t,n)},u.fail=function(e,t,n){throw this.error(e,t,n)},u.skip=function(e){var t=this.nextToken();return!(!t||t.type!==e)||(this.pushToken(t),!1)},u.expect=function(e){var t=this.nextToken();return t.type!==e&&this.fail("expected "+e+", got "+t.type,t.lineno,t.colno),t},u.skipValue=function(e,t){var n=this.nextToken();return!(!n||n.type!==e||n.value!==t)||(this.pushToken(n),!1)},u.skipSymbol=function(e){return this.skipValue(i.TOKEN_SYMBOL,e)},u.advanceAfterBlockEnd=function(e){var t;return e||((t=this.peekToken())||this.fail("unexpected end of file"),t.type!==i.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),e=this.nextToken().value),(t=this.nextToken())&&t.type===i.TOKEN_BLOCK_END?"-"===t.value.charAt(0)&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+e+" statement"),t},u.advanceAfterVariableEnd=function(){var e=this.nextToken();e&&e.type===i.TOKEN_VARIABLE_END?this.dropLeadingWhitespace="-"===e.value.charAt(e.value.length-this.tokens.tags.VARIABLE_END.length-1):(this.pushToken(e),this.fail("expected variable end"))},u.parseFor=function(){var e,t,n=this.peekToken();if(this.skipSymbol("for")?(e=new o.For(n.lineno,n.colno),t="endfor"):this.skipSymbol("asyncEach")?(e=new o.AsyncEach(n.lineno,n.colno),t="endeach"):this.skipSymbol("asyncAll")?(e=new o.AsyncAll(n.lineno,n.colno),t="endall"):this.fail("parseFor: expected for{Async}",n.lineno,n.colno),e.name=this.parsePrimary(),e.name instanceof o.Symbol||this.fail("parseFor: variable name expected for loop"),this.peekToken().type===i.TOKEN_COMMA){var r=e.name;for(e.name=new o.Array(r.lineno,r.colno),e.name.addChild(r);this.skip(i.TOKEN_COMMA);){var s=this.parsePrimary();e.name.addChild(s)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',n.lineno,n.colno),e.arr=this.parseExpression(),this.advanceAfterBlockEnd(n.value),e.body=this.parseUntilBlocks(t,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),e.else_=this.parseUntilBlocks(t)),this.advanceAfterBlockEnd(),e},u.parseMacro=function(){var e=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var t=this.parsePrimary(!0),n=this.parseSignature(),r=new o.Macro(e.lineno,e.colno,t,n);return this.advanceAfterBlockEnd(e.value),r.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),r},u.parseCall=function(){var e=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var t=this.parseSignature(!0)||new o.NodeList,n=this.parsePrimary();this.advanceAfterBlockEnd(e.value);var r=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var i=new o.Symbol(e.lineno,e.colno,"caller"),s=new o.Caller(e.lineno,e.colno,i,t,r),a=n.args.children;return a[a.length-1]instanceof o.KeywordArgs||a.push(new o.KeywordArgs),a[a.length-1].addChild(new o.Pair(e.lineno,e.colno,i,s)),new o.Output(e.lineno,e.colno,[n])},u.parseWithContext=function(){var e=this.peekToken(),t=null;return this.skipSymbol("with")?t=!0:this.skipSymbol("without")&&(t=!1),null!==t&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",e.lineno,e.colno)),t},u.parseImport=function(){var e=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",e.lineno,e.colno);var t=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',e.lineno,e.colno);var n=this.parseExpression(),r=this.parseWithContext(),i=new o.Import(e.lineno,e.colno,t,n,r);return this.advanceAfterBlockEnd(e.value),i},u.parseFrom=function(){var e=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var t=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",e.lineno,e.colno);for(var n,r=new o.NodeList;;){var s=this.peekToken();if(s.type===i.TOKEN_BLOCK_END){r.children.length||this.fail("parseFrom: Expected at least one import name",e.lineno,e.colno),"-"===s.value.charAt(0)&&(this.dropLeadingWhitespace=!0),this.nextToken();break}r.children.length>0&&!this.skip(i.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",e.lineno,e.colno);var a=this.parsePrimary();if("_"===a.value.charAt(0)&&this.fail("parseFrom: names starting with an underscore cannot be imported",a.lineno,a.colno),this.skipSymbol("as")){var u=this.parsePrimary();r.addChild(new o.Pair(a.lineno,a.colno,a,u))}else r.addChild(a);n=this.parseWithContext()}return new o.FromImport(e.lineno,e.colno,t,r,n)},u.parseBlock=function(){var e=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",e.lineno,e.colno);var t=new o.Block(e.lineno,e.colno);t.name=this.parsePrimary(),t.name instanceof o.Symbol||this.fail("parseBlock: variable name expected",e.lineno,e.colno),this.advanceAfterBlockEnd(e.value),t.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(t.name.value);var n=this.peekToken();return n||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(n.value),t},u.parseExtends=function(){var e="extends",t=this.peekToken();this.skipSymbol(e)||this.fail("parseTemplateRef: expected "+e);var n=new o.Extends(t.lineno,t.colno);return n.template=this.parseExpression(),this.advanceAfterBlockEnd(t.value),n},u.parseInclude=function(){var e="include",t=this.peekToken();this.skipSymbol(e)||this.fail("parseInclude: expected "+e);var n=new o.Include(t.lineno,t.colno);return n.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(n.ignoreMissing=!0),this.advanceAfterBlockEnd(t.value),n},u.parseIf=function(){var e,t=this.peekToken();this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?e=new o.If(t.lineno,t.colno):this.skipSymbol("ifAsync")?e=new o.IfAsync(t.lineno,t.colno):this.fail("parseIf: expected if, elif, or elseif",t.lineno,t.colno),e.cond=this.parseExpression(),this.advanceAfterBlockEnd(t.value),e.body=this.parseUntilBlocks("elif","elseif","else","endif");var n=this.peekToken();switch(n&&n.value){case"elseif":case"elif":e.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),e.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":e.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return e},u.parseSet=function(){var e=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",e.lineno,e.colno);for(var t,n=new o.Set(e.lineno,e.colno,[]);(t=this.parsePrimary())&&(n.targets.push(t),this.skip(i.TOKEN_COMMA)););return this.skipValue(i.TOKEN_OPERATOR,"=")?(n.value=this.parseExpression(),this.advanceAfterBlockEnd(e.value)):this.skip(i.TOKEN_BLOCK_END)?(n.body=new o.Capture(e.lineno,e.colno,this.parseUntilBlocks("endset")),n.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",e.lineno,e.colno),n},u.parseSwitch=function(){var e="switch",t="endswitch",n="case",r="default",i=this.peekToken();this.skipSymbol(e)||this.skipSymbol(n)||this.skipSymbol(r)||this.fail('parseSwitch: expected "switch," "case" or "default"',i.lineno,i.colno);var s=this.parseExpression();this.advanceAfterBlockEnd(e),this.parseUntilBlocks(n,r,t);var a,u=this.peekToken(),c=[];do{this.skipSymbol(n);var l=this.parseExpression();this.advanceAfterBlockEnd(e);var h=this.parseUntilBlocks(n,r,t);c.push(new o.Case(u.line,u.col,l,h)),u=this.peekToken()}while(u&&u.value===n);switch(u.value){case r:this.advanceAfterBlockEnd(),a=this.parseUntilBlocks(t),this.advanceAfterBlockEnd();break;case t:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new o.Switch(i.lineno,i.colno,s,c,a)},u.parseStatement=function(){var e=this.peekToken();if(e.type!==i.TOKEN_SYMBOL&&this.fail("tag name expected",e.lineno,e.colno),this.breakOnBlocks&&-1!==a.indexOf(this.breakOnBlocks,e.value))return null;switch(e.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var t=0;t<this.extensions.length;t++){var n=this.extensions[t];if(-1!==a.indexOf(n.tags||[],e.value))return n.parse(this,o,i)}this.fail("unknown block tag: "+e.value,e.lineno,e.colno)}},u.parseRaw=function(e){for(var t="end"+(e=e||"raw"),n=new RegExp("([\\s\\S]*?){%\\s*("+e+"|"+t+")\\s*(?=%})%}"),r=1,i="",s=null,a=this.advanceAfterBlockEnd();(s=this.tokens._extractRegex(n))&&r>0;){var u=s[0],c=s[1],l=s[2];l===e?r+=1:l===t&&(r-=1),0===r?(i+=c,this.tokens.backN(u.length-c.length)):i+=u}return new o.Output(a.lineno,a.colno,[new o.TemplateData(a.lineno,a.colno,i)])},u.parsePostfix=function(e){for(var t,n=this.peekToken();n;){if(n.type===i.TOKEN_LEFT_PAREN)e=new o.FunCall(n.lineno,n.colno,e,this.parseSignature());else if(n.type===i.TOKEN_LEFT_BRACKET)(t=this.parseAggregate()).children.length>1&&this.fail("invalid index"),e=new o.LookupVal(n.lineno,n.colno,e,t.children[0]);else{if(n.type!==i.TOKEN_OPERATOR||"."!==n.value)break;this.nextToken();var r=this.nextToken();r.type!==i.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+r.value,r.lineno,r.colno),t=new o.Literal(r.lineno,r.colno,r.value),e=new o.LookupVal(n.lineno,n.colno,e,t)}n=this.peekToken()}return e},u.parseExpression=function(){return this.parseInlineIf()},u.parseInlineIf=function(){var e=this.parseOr();if(this.skipSymbol("if")){var t=this.parseOr(),n=e;(e=new o.InlineIf(e.lineno,e.colno)).body=n,e.cond=t,this.skipSymbol("else")?e.else_=this.parseOr():e.else_=null}return e},u.parseOr=function(){for(var e=this.parseAnd();this.skipSymbol("or");){var t=this.parseAnd();e=new o.Or(e.lineno,e.colno,e,t)}return e},u.parseAnd=function(){for(var e=this.parseNot();this.skipSymbol("and");){var t=this.parseNot();e=new o.And(e.lineno,e.colno,e,t)}return e},u.parseNot=function(){var e=this.peekToken();return this.skipSymbol("not")?new o.Not(e.lineno,e.colno,this.parseNot()):this.parseIn()},u.parseIn=function(){for(var e=this.parseIs();;){var t=this.nextToken();if(!t)break;var n=t.type===i.TOKEN_SYMBOL&&"not"===t.value;if(n||this.pushToken(t),!this.skipSymbol("in")){n&&this.pushToken(t);break}var r=this.parseIs();e=new o.In(e.lineno,e.colno,e,r),n&&(e=new o.Not(e.lineno,e.colno,e))}return e},u.parseIs=function(){var e=this.parseCompare();if(this.skipSymbol("is")){var t=this.skipSymbol("not"),n=this.parseCompare();e=new o.Is(e.lineno,e.colno,e,n),t&&(e=new o.Not(e.lineno,e.colno,e))}return e},u.parseCompare=function(){for(var e=["==","===","!=","!==","<",">","<=",">="],t=this.parseConcat(),n=[];;){var r=this.nextToken();if(!r)break;if(-1===e.indexOf(r.value)){this.pushToken(r);break}n.push(new o.CompareOperand(r.lineno,r.colno,this.parseConcat(),r.value))}return n.length?new o.Compare(n[0].lineno,n[0].colno,t,n):t},u.parseConcat=function(){for(var e=this.parseAdd();this.skipValue(i.TOKEN_TILDE,"~");){var t=this.parseAdd();e=new o.Concat(e.lineno,e.colno,e,t)}return e},u.parseAdd=function(){for(var e=this.parseSub();this.skipValue(i.TOKEN_OPERATOR,"+");){var t=this.parseSub();e=new o.Add(e.lineno,e.colno,e,t)}return e},u.parseSub=function(){for(var e=this.parseMul();this.skipValue(i.TOKEN_OPERATOR,"-");){var t=this.parseMul();e=new o.Sub(e.lineno,e.colno,e,t)}return e},u.parseMul=function(){for(var e=this.parseDiv();this.skipValue(i.TOKEN_OPERATOR,"*");){var t=this.parseDiv();e=new o.Mul(e.lineno,e.colno,e,t)}return e},u.parseDiv=function(){for(var e=this.parseFloorDiv();this.skipValue(i.TOKEN_OPERATOR,"/");){var t=this.parseFloorDiv();e=new o.Div(e.lineno,e.colno,e,t)}return e},u.parseFloorDiv=function(){for(var e=this.parseMod();this.skipValue(i.TOKEN_OPERATOR,"//");){var t=this.parseMod();e=new o.FloorDiv(e.lineno,e.colno,e,t)}return e},u.parseMod=function(){for(var e=this.parsePow();this.skipValue(i.TOKEN_OPERATOR,"%");){var t=this.parsePow();e=new o.Mod(e.lineno,e.colno,e,t)}return e},u.parsePow=function(){for(var e=this.parseUnary();this.skipValue(i.TOKEN_OPERATOR,"**");){var t=this.parseUnary();e=new o.Pow(e.lineno,e.colno,e,t)}return e},u.parseUnary=function(e){var t,n=this.peekToken();return t=this.skipValue(i.TOKEN_OPERATOR,"-")?new o.Neg(n.lineno,n.colno,this.parseUnary(!0)):this.skipValue(i.TOKEN_OPERATOR,"+")?new o.Pos(n.lineno,n.colno,this.parseUnary(!0)):this.parsePrimary(),e||(t=this.parseFilter(t)),t},u.parsePrimary=function(e){var t,n=this.nextToken(),r=null;if(n?n.type===i.TOKEN_STRING?t=n.value:n.type===i.TOKEN_INT?t=parseInt(n.value,10):n.type===i.TOKEN_FLOAT?t=parseFloat(n.value):n.type===i.TOKEN_BOOLEAN?"true"===n.value?t=!0:"false"===n.value?t=!1:this.fail("invalid boolean: "+n.value,n.lineno,n.colno):n.type===i.TOKEN_NONE?t=null:n.type===i.TOKEN_REGEX&&(t=new RegExp(n.value.body,n.value.flags)):this.fail("expected expression, got end of file"),void 0!==t?r=new o.Literal(n.lineno,n.colno,t):n.type===i.TOKEN_SYMBOL?r=new o.Symbol(n.lineno,n.colno,n.value):(this.pushToken(n),r=this.parseAggregate()),e||(r=this.parsePostfix(r)),r)return r;throw this.error("unexpected token: "+n.value,n.lineno,n.colno)},u.parseFilterName=function(){for(var e=this.expect(i.TOKEN_SYMBOL),t=e.value;this.skipValue(i.TOKEN_OPERATOR,".");)t+="."+this.expect(i.TOKEN_SYMBOL).value;return new o.Symbol(e.lineno,e.colno,t)},u.parseFilterArgs=function(e){return this.peekToken().type===i.TOKEN_LEFT_PAREN?this.parsePostfix(e).args.children:[]},u.parseFilter=function(e){for(;this.skip(i.TOKEN_PIPE);){var t=this.parseFilterName();e=new o.Filter(t.lineno,t.colno,t,new o.NodeList(t.lineno,t.colno,[e].concat(this.parseFilterArgs(e))))}return e},u.parseFilterStatement=function(){var e=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var t=this.parseFilterName(),n=this.parseFilterArgs(t);this.advanceAfterBlockEnd(e.value);var r=new o.Capture(t.lineno,t.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var i=new o.Filter(t.lineno,t.colno,t,new o.NodeList(t.lineno,t.colno,[r].concat(n)));return new o.Output(t.lineno,t.colno,[i])},u.parseAggregate=function(){var e,t=this.nextToken();switch(t.type){case i.TOKEN_LEFT_PAREN:e=new o.Group(t.lineno,t.colno);break;case i.TOKEN_LEFT_BRACKET:e=new o.Array(t.lineno,t.colno);break;case i.TOKEN_LEFT_CURLY:e=new o.Dict(t.lineno,t.colno);break;default:return null}for(;;){var n=this.peekToken().type;if(n===i.TOKEN_RIGHT_PAREN||n===i.TOKEN_RIGHT_BRACKET||n===i.TOKEN_RIGHT_CURLY){this.nextToken();break}if(e.children.length>0&&(this.skip(i.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",t.lineno,t.colno)),e instanceof o.Dict){var r=this.parsePrimary();this.skip(i.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",t.lineno,t.colno);var s=this.parseExpression();e.addChild(new o.Pair(r.lineno,r.colno,r,s))}else{var a=this.parseExpression();e.addChild(a)}}return e},u.parseSignature=function(e,t){var n=this.peekToken();if(!t&&n.type!==i.TOKEN_LEFT_PAREN){if(e)return null;this.fail("expected arguments",n.lineno,n.colno)}n.type===i.TOKEN_LEFT_PAREN&&(n=this.nextToken());for(var r=new o.NodeList(n.lineno,n.colno),s=new o.KeywordArgs(n.lineno,n.colno),a=!1;;){if(n=this.peekToken(),!t&&n.type===i.TOKEN_RIGHT_PAREN){this.nextToken();break}if(t&&n.type===i.TOKEN_BLOCK_END)break;if(a&&!this.skip(i.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",n.lineno,n.colno);else{var u=this.parseExpression();this.skipValue(i.TOKEN_OPERATOR,"=")?s.addChild(new o.Pair(u.lineno,u.colno,u,this.parseExpression())):r.addChild(u)}a=!0}return s.children.length&&r.addChild(s),r},u.parseUntilBlocks=function(){for(var e=this.breakOnBlocks,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.breakOnBlocks=n;var i=this.parse();return this.breakOnBlocks=e,i},u.parseNodes=function(){for(var e,t=[];e=this.nextToken();)if(e.type===i.TOKEN_DATA){var n=e.value,r=this.peekToken(),s=r&&r.value;this.dropLeadingWhitespace&&(n=n.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),r&&(r.type===i.TOKEN_BLOCK_START&&"-"===s.charAt(s.length-1)||r.type===i.TOKEN_VARIABLE_START&&"-"===s.charAt(this.tokens.tags.VARIABLE_START.length)||r.type===i.TOKEN_COMMENT&&"-"===s.charAt(this.tokens.tags.COMMENT_START.length))&&(n=n.replace(/\s*$/,"")),t.push(new o.Output(e.lineno,e.colno,[new o.TemplateData(e.lineno,e.colno,n)]))}else if(e.type===i.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var a=this.parseStatement();if(!a)break;t.push(a)}else if(e.type===i.TOKEN_VARIABLE_START){var u=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),t.push(new o.Output(e.lineno,e.colno,[u]))}else e.type===i.TOKEN_COMMENT?this.dropLeadingWhitespace="-"===e.value.charAt(e.value.length-this.tokens.tags.COMMENT_END.length-1):this.fail("Unexpected token at top-level: "+e.type,e.lineno,e.colno);return t},u.parse=function(){return new o.NodeList(0,0,this.parseNodes())},u.parseAsRoot=function(){return new o.Root(0,0,this.parseNodes())},s}(s);e.exports={parse:function(e,t,n){var r=new u(i.lex(e,n));return void 0!==t&&(r.extensions=t),r.parseAsRoot()},Parser:u}},function(e,t,n){"use strict";var r=n(0),i=" \n\t\r ",o="()[]{}%*-+~/#,:|.<>=!",s="string",a="whitespace",u="data",c="block-start",l="block-end",h="variable-start",f="variable-end",p="comment",d="left-paren",m="right-paren",y="left-bracket",v="right-bracket",g="left-curly",_="right-curly",b="operator",w="comma",x="colon",k="tilde",E="pipe",S="float",T="boolean",A="none",O="symbol",N="regex";function P(e,t,n,r){return{type:e,value:t,lineno:n,colno:r}}var C=function(){function e(e,t){this.str=e,this.index=0,this.len=e.length,this.lineno=0,this.colno=0,this.in_code=!1;var n=(t=t||{}).tags||{};this.tags={BLOCK_START:n.blockStart||"{%",BLOCK_END:n.blockEnd||"%}",VARIABLE_START:n.variableStart||"{{",VARIABLE_END:n.variableEnd||"}}",COMMENT_START:n.commentStart||"{#",COMMENT_END:n.commentEnd||"#}"},this.trimBlocks=!!t.trimBlocks,this.lstripBlocks=!!t.lstripBlocks}var t=e.prototype;return t.nextToken=function(){var e,t=this.lineno,n=this.colno;if(this.in_code){var C=this.current();if(this.isFinished())return null;if('"'===C||"'"===C)return P(s,this._parseString(C),t,n);if(e=this._extract(i))return P(a,e,t,n);if((e=this._extractString(this.tags.BLOCK_END))||(e=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&("\n"===(C=this.current())?this.forward():"\r"===C&&(this.forward(),"\n"===(C=this.current())?this.forward():this.back())),P(l,e,t,n);if((e=this._extractString(this.tags.VARIABLE_END))||(e=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,P(f,e,t,n);if("r"===C&&"/"===this.str.charAt(this.index+1)){this.forwardN(2);for(var R="";!this.isFinished();){if("/"===this.current()&&"\\"!==this.previous()){this.forward();break}R+=this.current(),this.forward()}for(var L=["g","i","m","y"],I="";!this.isFinished()&&-1!==L.indexOf(this.current());)I+=this.current(),this.forward();return P(N,{body:R,flags:I},t,n)}if(-1!==o.indexOf(C)){this.forward();var D,M=["==","===","!=","!==","<=",">=","//","**"],j=C+this.current();switch(-1!==r.indexOf(M,j)&&(this.forward(),C=j,-1!==r.indexOf(M,j+this.current())&&(C=j+this.current(),this.forward())),C){case"(":D=d;break;case")":D=m;break;case"[":D=y;break;case"]":D=v;break;case"{":D=g;break;case"}":D=_;break;case",":D=w;break;case":":D=x;break;case"~":D=k;break;case"|":D=E;break;default:D=b}return P(D,C,t,n)}if((e=this._extractUntil(i+o)).match(/^[-+]?[0-9]+$/)){if("."===this.current()){this.forward();var F=this._extract("0123456789");return P(S,e+"."+F,t,n)}return P("int",e,t,n)}if(e.match(/^(true|false)$/))return P(T,e,t,n);if("none"===e)return P(A,e,t,n);if("null"===e)return P(A,e,t,n);if(e)return P(O,e,t,n);throw new Error("Unexpected value while parsing: "+e)}var B,U=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((e=this._extractString(this.tags.BLOCK_START+"-"))||(e=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,P(c,e,t,n);if((e=this._extractString(this.tags.VARIABLE_START+"-"))||(e=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,P(h,e,t,n);e="";var z=!1;for(this._matches(this.tags.COMMENT_START)&&(z=!0,e=this._extractString(this.tags.COMMENT_START));null!==(B=this._extractUntil(U));){if(e+=B,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!z){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=e.length){var V=e.slice(-this.colno);if(/^\s+$/.test(V)&&!(e=e.slice(0,-this.colno)).length)return this.nextToken()}break}if(this._matches(this.tags.COMMENT_END)){if(!z)throw new Error("unexpected end of comment");e+=this._extractString(this.tags.COMMENT_END);break}e+=this.current(),this.forward()}if(null===B&&z)throw new Error("expected end of comment, got end of file");return P(z?p:u,e,t,n)},t._parseString=function(e){this.forward();for(var t="";!this.isFinished()&&this.current()!==e;){var n=this.current();if("\\"===n){switch(this.forward(),this.current()){case"n":t+="\n";break;case"t":t+="\t";break;case"r":t+="\r";break;default:t+=this.current()}this.forward()}else t+=n,this.forward()}return this.forward(),t},t._matches=function(e){return this.index+e.length>this.len?null:this.str.slice(this.index,this.index+e.length)===e},t._extractString=function(e){return this._matches(e)?(this.forwardN(e.length),e):null},t._extractUntil=function(e){return this._extractMatching(!0,e||"")},t._extract=function(e){return this._extractMatching(!1,e)},t._extractMatching=function(e,t){if(this.isFinished())return null;var n=t.indexOf(this.current());if(e&&-1===n||!e&&-1!==n){var r=this.current();this.forward();for(var i=t.indexOf(this.current());(e&&-1===i||!e&&-1!==i)&&!this.isFinished();)r+=this.current(),this.forward(),i=t.indexOf(this.current());return r}return""},t._extractRegex=function(e){var t=this.currentStr().match(e);return t?(this.forwardN(t[0].length),t):null},t.isFinished=function(){return this.index>=this.len},t.forwardN=function(e){for(var t=0;t<e;t++)this.forward()},t.forward=function(){this.index++,"\n"===this.previous()?(this.lineno++,this.colno=0):this.colno++},t.backN=function(e){for(var t=0;t<e;t++)this.back()},t.back=function(){if(this.index--,"\n"===this.current()){this.lineno--;var e=this.src.lastIndexOf("\n",this.index-1);this.colno=-1===e?this.index:this.index-e}else this.colno--},t.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},t.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},t.previous=function(){return this.str.charAt(this.index-1)},e}();e.exports={lex:function(e,t){return new C(e,t)},TOKEN_STRING:s,TOKEN_WHITESPACE:a,TOKEN_DATA:u,TOKEN_BLOCK_START:c,TOKEN_BLOCK_END:l,TOKEN_VARIABLE_START:h,TOKEN_VARIABLE_END:f,TOKEN_COMMENT:p,TOKEN_LEFT_PAREN:d,TOKEN_RIGHT_PAREN:m,TOKEN_LEFT_BRACKET:y,TOKEN_RIGHT_BRACKET:v,TOKEN_LEFT_CURLY:g,TOKEN_RIGHT_CURLY:_,TOKEN_OPERATOR:b,TOKEN_COMMA:w,TOKEN_COLON:x,TOKEN_TILDE:k,TOKEN_PIPE:E,TOKEN_INT:"int",TOKEN_FLOAT:S,TOKEN_BOOLEAN:T,TOKEN_NONE:A,TOKEN_SYMBOL:O,TOKEN_SPECIAL:"special",TOKEN_REGEX:N}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(6),o=n(19).PrecompiledLoader,s=function(e){var t,n;function i(t,n){var r;return(r=e.call(this)||this).baseURL=t||".",n=n||{},r.useCache=!!n.useCache,r.async=!!n.async,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var o=i.prototype;return o.resolve=function(e,t){throw new Error("relative templates not support in the browser yet")},o.getSource=function(e,t){var n,r=this,i=this.useCache;return this.fetch(this.baseURL+"/"+e,(function(o,s){if(o)if(t)t(o.content);else{if(404!==o.status)throw o.content;n=null}else n={src:s,path:e,noCache:!i},r.emit("load",e,n),t&&t(null,n)})),n},o.fetch=function(e,t){if("undefined"==typeof window)throw new Error("WebLoader can only by used in a browser");var n=new XMLHttpRequest,r=!0;n.onreadystatechange=function(){4===n.readyState&&r&&(r=!1,0===n.status||200===n.status?t(null,n.responseText):t({status:n.status,content:n.responseText}))},e+=(-1===e.indexOf("?")?"?":"&")+"s="+(new Date).getTime(),n.open("GET",e,this.async),n.send()},i}(i);e.exports={WebLoader:s,PrecompiledLoader:o}},function(e,t,n){"use strict";var r,i=n(0),o=n(7),s=o.Environment,a=o.Template,u=n(6),c=n(10),l=n(23),h=n(5),f=n(8),p=n(9),d=n(2),m=n(3),y=n(25);function v(e,t){var n;return t=t||{},i.isObject(e)&&(t=e,e=null),c.FileSystemLoader?n=new c.FileSystemLoader(e,{watch:t.watch,noCache:t.noCache}):c.WebLoader&&(n=new c.WebLoader(e,{useCache:t.web&&t.web.useCache,async:t.web&&t.web.async})),r=new s(n,t),t&&t.express&&r.express(t.express),r}e.exports={Environment:s,Template:a,Loader:u,FileSystemLoader:c.FileSystemLoader,NodeResolveLoader:c.NodeResolveLoader,PrecompiledLoader:c.PrecompiledLoader,WebLoader:c.WebLoader,compiler:h,parser:f,lexer:p,runtime:d,lib:i,nodes:m,installJinjaCompat:y,configure:v,reset:function(){r=void 0},compile:function(e,t,n,i){return r||v(),new a(e,t,n,i)},render:function(e,t,n){return r||v(),r.render(e,t,n)},renderString:function(e,t,n){return r||v(),r.renderString(e,t,n)},precompile:l?l.precompile:void 0,precompileString:l?l.precompileString:void 0}},function(e,t,n){"use strict";var r=n(13),i=[],o=[],s=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function a(e){var t;(t=i.length?i.pop():new u).task=e,r(t)}function u(){this.task=null}e.exports=a,u.prototype.call=function(){try{this.task.call()}catch(e){a.onerror?a.onerror(e):(o.push(e),s())}finally{this.task=null,i[i.length]=this}}},function(e,t,n){"use strict";(function(t){function n(e){i.length||r(),i[i.length]=e}e.exports=n;var r,i=[],o=0;function s(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>1024){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0}var a,u,c,l=void 0!==t?t:self,h=l.MutationObserver||l.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof h?(a=1,u=new h(s),c=document.createTextNode(""),u.observe(c,{characterData:!0}),r=function(){a=-a,c.data=a}):r=f(s),n.requestFlush=r,n.makeRequestCallFromTimer=f}).call(t,n(14))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r;!function(n){"use strict";var i=function(){var e=Array.prototype.slice.call(arguments);"function"==typeof e[0]&&e[0].apply(null,e.splice(1))},o=function(e){"function"==typeof setImmediate?setImmediate(e):"undefined"!=typeof process&&process.nextTick?process.nextTick(e):setTimeout(e,0)},s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=function(e,t,n){var r=n?o:i;if(t=t||function(){},!s(e)){var a=new Error("First argument to waterfall must be an array of functions");return t(a)}if(!e.length)return t();var u=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=e.next();o?i.push(u(o)):i.push(t),r((function(){e.apply(null,i)}))}}};u(function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)}(e))()};void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=y(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(3),i=n(0),o=0;function s(){return"hole_"+o++}function a(e,t){for(var n=null,r=0;r<e.length;r++){var i=t(e[r]);i!==e[r]&&(n||(n=e.slice()),n[r]=i)}return n||e}function u(e,t,n){if(!(e instanceof r.Node))return e;if(!n){var i=t(e);if(i&&i!==e)return i}if(e instanceof r.NodeList){var o=a(e.children,(function(e){return u(e,t,n)}));o!==e.children&&(e=new r[e.typename](e.lineno,e.colno,o))}else if(e instanceof r.CallExtension){var s=u(e.args,t,n),c=a(e.contentArgs,(function(e){return u(e,t,n)}));s===e.args&&c===e.contentArgs||(e=new r[e.typename](e.extName,e.prop,s,c))}else{var l=e.fields.map((function(t){return e[t]})),h=a(l,(function(e){return u(e,t,n)}));h!==l&&(e=new r[e.typename](e.lineno,e.colno),h.forEach((function(t,n){e[e.fields[n]]=t})))}return n&&t(e)||e}function c(e,t){return u(e,t,!0)}function l(e,t,n){var o=[],a=c(n?e[n]:e,(function(e){var n;return e instanceof r.Block?e:((e instanceof r.Filter&&-1!==i.indexOf(t,e.name.value)||e instanceof r.CallExtensionAsync)&&(n=new r.Symbol(e.lineno,e.colno,s()),o.push(new r.FilterAsync(e.lineno,e.colno,e.name,e.args,n))),n)}));return n?e[n]=a:e=a,o.length?(o.push(e),new r.NodeList(e.lineno,e.colno,o)):e}e.exports={transform:function(e,t){return function(e,t){return function(e){return c(e,(function(e){if(e instanceof r.If||e instanceof r.For){var t=!1;if(u(e,(function(e){if(e instanceof r.FilterAsync||e instanceof r.IfAsync||e instanceof r.AsyncEach||e instanceof r.AsyncAll||e instanceof r.CallExtensionAsync)return t=!0,e})),t){if(e instanceof r.If)return new r.IfAsync(e.lineno,e.colno,e.cond,e.body,e.else_);if(e instanceof r.For&&!(e instanceof r.AsyncAll))return new r.AsyncEach(e.lineno,e.colno,e.arr,e.name,e.body,e.else_)}}}))}(function(e){return u(e,(function(e){if(e instanceof r.Block){var t=!1,n=s();e.body=u(e.body,(function(e){if(e instanceof r.FunCall&&"super"===e.name.value)return t=!0,new r.Symbol(e.lineno,e.colno,n)})),t&&e.body.children.unshift(new r.Super(0,0,e.name,new r.Symbol(0,0,n)))}}))}(function(e,t){return c(e,(function(e){return e instanceof r.Output?l(e,t):e instanceof r.Set?l(e,t,"value"):e instanceof r.For?l(e,t,"arr"):e instanceof r.If?l(e,t,"cond"):e instanceof r.CallExtension?l(e,t,"args"):void 0}))}(e,t)))}(e,t||[])}}},function(e,t,n){"use strict";var r=n(0),i=n(2);function o(e,t){return null==e||!1===e?t:e}function s(e){return e!=e}function a(e){var t=(e=o(e,"")).toLowerCase();return i.copySafeness(e,t.charAt(0).toUpperCase()+t.slice(1))}function u(e){if(r.isString(e))return e.split("");if(r.isObject(e))return r._entries(e||{}).map((function(e){return{key:e[0],value:e[1]}}));if(r.isArray(e))return e;throw new r.TemplateError("list filter: type not iterable")}function c(e){return function(t,n,i){void 0===n&&(n="truthy");var o=this,s=o.env.getTest(n);return r.toArray(t).filter((function(t){return s.call(o,t,i)===e}))}}function l(e){return i.copySafeness(e,e.replace(/^\s*|\s*$/g,""))}(t=e.exports={}).abs=Math.abs,t.batch=function(e,t,n){var r,i=[],o=[];for(r=0;r<e.length;r++)r%t==0&&o.length&&(i.push(o),o=[]),o.push(e[r]);if(o.length){if(n)for(r=o.length;r<t;r++)o.push(n);i.push(o)}return i},t.capitalize=a,t.center=function(e,t){if(t=t||80,(e=o(e,"")).length>=t)return e;var n=t-e.length,s=r.repeat(" ",n/2-n%2),a=r.repeat(" ",n/2);return i.copySafeness(e,s+e+a)},t.default=function(e,t,n){return n?e||t:void 0!==e?e:t},t.dictsort=function(e,t,n){if(!r.isObject(e))throw new r.TemplateError("dictsort filter: val must be an object");var i,o=[];for(var s in e)o.push([s,e[s]]);if(void 0===n||"key"===n)i=0;else{if("value"!==n)throw new r.TemplateError("dictsort filter: You can only sort by either key or value");i=1}return o.sort((function(e,n){var o=e[i],s=n[i];return t||(r.isString(o)&&(o=o.toUpperCase()),r.isString(s)&&(s=s.toUpperCase())),o>s?1:o===s?0:-1})),o},t.dump=function(e,t){return JSON.stringify(e,null,t)},t.escape=function(e){return e instanceof i.SafeString?e:(e=null==e?"":e,i.markSafe(r.escape(e.toString())))},t.safe=function(e){return e instanceof i.SafeString?e:(e=null==e?"":e,i.markSafe(e.toString()))},t.first=function(e){return e[0]},t.forceescape=function(e){return e=null==e?"":e,i.markSafe(r.escape(e.toString()))},t.groupby=function(e,t){return r.groupBy(e,t,this.env.opts.throwOnUndefined)},t.indent=function(e,t,n){if(""===(e=o(e,"")))return"";t=t||4;var s=e.split("\n"),a=r.repeat(" ",t),u=s.map((function(e,t){return 0!==t||n?""+a+e:e})).join("\n");return i.copySafeness(e,u)},t.join=function(e,t,n){return t=t||"",n&&(e=r.map(e,(function(e){return e[n]}))),e.join(t)},t.last=function(e){return e[e.length-1]},t.length=function(e){var t=o(e,"");return void 0!==t?"function"==typeof Map&&t instanceof Map||"function"==typeof Set&&t instanceof Set?t.size:!r.isObject(t)||t instanceof i.SafeString?t.length:r.keys(t).length:0},t.list=u,t.lower=function(e){return(e=o(e,"")).toLowerCase()},t.nl2br=function(e){return null==e?"":i.copySafeness(e,e.replace(/\r\n|\n/g,"<br />\n"))},t.random=function(e){return e[Math.floor(Math.random()*e.length)]},t.reject=c(!1),t.rejectattr=function(e,t){return e.filter((function(e){return!e[t]}))},t.select=c(!0),t.selectattr=function(e,t){return e.filter((function(e){return!!e[t]}))},t.replace=function(e,t,n,r){var o=e;if(t instanceof RegExp)return e.replace(t,n);void 0===r&&(r=-1);var s="";if("number"==typeof t)t=""+t;else if("string"!=typeof t)return e;if("number"==typeof e&&(e=""+e),"string"!=typeof e&&!(e instanceof i.SafeString))return e;if(""===t)return s=n+e.split("").join(n)+n,i.copySafeness(e,s);var a=e.indexOf(t);if(0===r||-1===a)return e;for(var u=0,c=0;a>-1&&(-1===r||c<r);)s+=e.substring(u,a)+n,u=a+t.length,c++,a=e.indexOf(t,u);return u<e.length&&(s+=e.substring(u)),i.copySafeness(o,s)},t.reverse=function(e){var t;return(t=r.isString(e)?u(e):r.map(e,(function(e){return e}))).reverse(),r.isString(e)?i.copySafeness(e,t.join("")):t},t.round=function(e,t,n){t=t||0;var r=Math.pow(10,t);return("ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round)(e*r)/r},t.slice=function(e,t,n){for(var r=Math.floor(e.length/t),i=e.length%t,o=[],s=0,a=0;a<t;a++){var u=s+a*r;a<i&&s++;var c=s+(a+1)*r,l=e.slice(u,c);n&&a>=i&&l.push(n),o.push(l)}return o},t.sum=function(e,t,n){return void 0===n&&(n=0),t&&(e=r.map(e,(function(e){return e[t]}))),n+e.reduce((function(e,t){return e+t}),0)},t.sort=i.makeMacro(["value","reverse","case_sensitive","attribute"],[],(function(e,t,n,i){var o=this,s=r.map(e,(function(e){return e})),a=r.getAttrGetter(i);return s.sort((function(e,s){var u=i?a(e):e,c=i?a(s):s;if(o.env.opts.throwOnUndefined&&i&&(void 0===u||void 0===c))throw new TypeError('sort: attribute "'+i+'" resolved to undefined');return!n&&r.isString(u)&&r.isString(c)&&(u=u.toLowerCase(),c=c.toLowerCase()),u<c?t?1:-1:u>c?t?-1:1:0})),s})),t.string=function(e){return i.copySafeness(e,e)},t.striptags=function(e,t){var n,r=l((e=o(e,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,""));return n=t?r.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):r.replace(/\s+/gi," "),i.copySafeness(e,n)},t.title=function(e){var t=(e=o(e,"")).split(" ").map((function(e){return a(e)}));return i.copySafeness(e,t.join(" "))},t.trim=l,t.truncate=function(e,t,n,r){var s=e;if(t=t||255,(e=o(e,"")).length<=t)return e;if(n)e=e.substring(0,t);else{var a=e.lastIndexOf(" ",t);-1===a&&(a=t),e=e.substring(0,a)}return e+=null!=r?r:"...",i.copySafeness(s,e)},t.upper=function(e){return(e=o(e,"")).toUpperCase()},t.urlencode=function(e){var t=encodeURIComponent;return r.isString(e)?t(e):(r.isArray(e)?e:r._entries(e)).map((function(e){var n=e[0],r=e[1];return t(n)+"="+t(r)})).join("&")};var h=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,f=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,p=/^https?:\/\/.*$/,d=/^www\./,m=/\.(?:org|net|com)(?:\:|\/|$)/;t.urlize=function(e,t,n){s(t)&&(t=1/0);var r=!0===n?' rel="nofollow"':"";return e.split(/(\s+)/).filter((function(e){return e&&e.length})).map((function(e){var n=e.match(h),i=n?n[1]:e,o=i.substr(0,t);return p.test(i)?'<a href="'+i+'"'+r+">"+o+"</a>":d.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":f.test(i)?'<a href="mailto:'+i+'">'+i+"</a>":m.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":e})).join("")},t.wordcount=function(e){var t=(e=o(e,""))?e.match(/\w+/g):null;return t?t.length:null},t.float=function(e,t){var n=parseFloat(e);return s(n)?t:n};var y=i.makeMacro(["value","default","base"],[],(function(e,t,n){void 0===n&&(n=10);var r=parseInt(e,n);return s(r)?t:r}));t.int=y,t.d=t.default,t.e=t.escape},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=function(e){var t,n;function i(t){var n;return(n=e.call(this)||this).precompiled=t||{},n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n),i.prototype.getSource=function(e){return this.precompiled[e]?{src:{type:"code",obj:this.precompiled[e]},path:e}:null},i}(n(6));e.exports={PrecompiledLoader:i}},function(e,t,n){"use strict";var r=n(2).SafeString;t.callable=function(e){return"function"==typeof e},t.defined=function(e){return void 0!==e},t.divisibleby=function(e,t){return e%t==0},t.escaped=function(e){return e instanceof r},t.equalto=function(e,t){return e===t},t.eq=t.equalto,t.sameas=t.equalto,t.even=function(e){return e%2==0},t.falsy=function(e){return!e},t.ge=function(e,t){return e>=t},t.greaterthan=function(e,t){return e>t},t.gt=t.greaterthan,t.le=function(e,t){return e<=t},t.lessthan=function(e,t){return e<t},t.lt=t.lessthan,t.lower=function(e){return e.toLowerCase()===e},t.ne=function(e,t){return e!==t},t.null=function(e){return null===e},t.number=function(e){return"number"==typeof e},t.odd=function(e){return e%2==1},t.string=function(e){return"string"==typeof e},t.truthy=function(e){return!!e},t.undefined=function(e){return void 0===e},t.upper=function(e){return e.toUpperCase()===e},t.iterable=function(e){return"undefined"!=typeof Symbol?!!e[Symbol.iterator]:Array.isArray(e)||"string"==typeof e},t.mapping=function(e){var t=null!=e&&"object"==typeof e&&!Array.isArray(e);return Set?t&&!(e instanceof Set):t}},function(e,t,n){"use strict";e.exports=function(){return{range:function(e,t,n){void 0===t?(t=e,e=0,n=1):n||(n=1);var r=[];if(n>0)for(var i=e;i<t;i+=n)r.push(i);else for(var o=e;o>t;o+=n)r.push(o);return r},cycler:function(){return e=Array.prototype.slice.call(arguments),t=-1,{current:null,reset:function(){t=-1,this.current=null},next:function(){return++t>=e.length&&(t=0),this.current=e[t],this.current}};var e,t},joiner:function(e){return function(e){e=e||",";var t=!0;return function(){var n=t?"":e;return t=!1,n}}(e)}}}},function(e,t,n){var r=n(4);e.exports=function(e,t){function n(e,t){if(this.name=e,this.path=e,this.defaultEngine=t.defaultEngine,this.ext=r.extname(e),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return n.prototype.render=function(t,n){e.render(this.name,t,n)},t.set("view",n),t.set("nunjucksEnv",e),e}},function(e,t,n){"use strict";var r=n(4),i=n(4),o=n(0)._prettifyError,s=n(5),a=n(7).Environment,u=n(24);function c(e,t){return!!Array.isArray(t)&&t.some((function(t){return e.match(t)}))}function l(e,t){(t=t||{}).isString=!0;var n=t.env||new a([]),r=t.wrapper||u;if(!t.name)throw new Error('the "name" option is required when compiling a string');return r([h(e,t.name,n)],t)}function h(e,t,n){var r,i=(n=n||new a([])).asyncFilters,u=n.extensionsList;t=t.replace(/\\/g,"/");try{r=s.compile(e,i,u,t,n.opts)}catch(e){throw o(t,!1,e)}return{name:t,template:r}}e.exports={precompile:function(e,t){var n=(t=t||{}).env||new a([]),o=t.wrapper||u;if(t.isString)return l(e,t);var s=r.existsSync(e)&&r.statSync(e),f=[],p=[];if(s.isFile())f.push(h(r.readFileSync(e,"utf-8"),t.name||e,n));else if(s.isDirectory()){!function n(o){r.readdirSync(o).forEach((function(s){var a=i.join(o,s),u=a.substr(i.join(e,"/").length),l=r.statSync(a);l&&l.isDirectory()?c(u+="/",t.exclude)||n(a):c(u,t.include)&&p.push(a)}))}(e);for(var d=0;d<p.length;d++){var m=p[d].replace(i.join(e,"/"),"");try{f.push(h(r.readFileSync(p[d],"utf-8"),m,n))}catch(e){if(!t.force)throw e;console.error(e)}}}return o(f,t)},precompileString:l}},function(e,t,n){"use strict";e.exports=function(e,t){var n="";t=t||{};for(var r=0;r<e.length;r++){var i=JSON.stringify(e[r].name);n+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+i+"] = (function() {\n"+e[r].template+"\n})();\n",t.asFunction&&(n+="return function(ctx, cb) { return nunjucks.render("+i+", ctx, cb); }\n"),n+="})();\n"}return n}},function(e,t,n){e.exports=function(){"use strict";var e,t,n=this.runtime,r=this.lib,i=this.compiler.Compiler,o=this.parser.Parser,s=this.nodes,a=this.lexer,u=n.contextOrFrameLookup,c=n.memberLookup;function l(e){return{index:e.index,lineno:e.lineno,colno:e.colno}}if(i&&(e=i.prototype.assertType),o&&(t=o.prototype.parseAggregate),n.contextOrFrameLookup=function(e,t,n){var r=u.apply(this,arguments);if(void 0!==r)return r;switch(n){case"True":return!0;case"False":return!1;case"None":return null;default:return}},s&&i&&o){var h=s.Node.extend("Slice",{fields:["start","stop","step"],init:function(e,t,n,r,i){n=n||new s.Literal(e,t,null),r=r||new s.Literal(e,t,null),i=i||new s.Literal(e,t,1),this.parent(e,t,n,r,i)}});i.prototype.assertType=function(t){t instanceof h||e.apply(this,arguments)},i.prototype.compileSlice=function(e,t){this._emit("("),this._compileExpression(e.start,t),this._emit("),("),this._compileExpression(e.stop,t),this._emit("),("),this._compileExpression(e.step,t),this._emit(")")},o.prototype.parseAggregate=function(){var e=this,n=l(this.tokens);n.colno--,n.index--;try{return t.apply(this)}catch(t){var i=l(this.tokens),o=function(){return r._assign(e.tokens,i),t};r._assign(this.tokens,n),this.peeked=!1;var u=this.peekToken();if(u.type!==a.TOKEN_LEFT_BRACKET)throw o();this.nextToken();for(var c=new h(u.lineno,u.colno),f=!1,p=0;p<=c.fields.length&&!this.skip(a.TOKEN_RIGHT_BRACKET);p++){if(p===c.fields.length){if(!f)break;this.fail("parseSlice: too many slice components",u.lineno,u.colno)}this.skip(a.TOKEN_COLON)?f=!0:(c[c.fields[p]]=this.parseExpression(),f=this.skip(a.TOKEN_COLON)||f)}if(!f)throw o();return new s.Array(u.lineno,u.colno,[c])}}}function f(e,t,r,i){e=e||[],null===t&&(t=i<0?e.length-1:0),null===r?r=i<0?-1:e.length:r<0&&(r+=e.length),t<0&&(t+=e.length);for(var o=[],s=t;!(s<0||s>e.length||i>0&&s>=r||i<0&&s<=r);s+=i)o.push(n.memberLookup(e,s));return o}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var d={pop:function(e){if(void 0===e)return this.pop();if(e>=this.length||e<0)throw new Error("KeyError");return this.splice(e,1)},append:function(e){return this.push(e)},remove:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return this.splice(t,1);throw new Error("ValueError")},count:function(e){for(var t=0,n=0;n<this.length;n++)this[n]===e&&t++;return t},index:function(e){var t;if(-1===(t=this.indexOf(e)))throw new Error("ValueError");return t},find:function(e){return this.indexOf(e)},insert:function(e,t){return this.splice(e,0,t)}},m={items:function(){return r._entries(this)},values:function(){return r._values(this)},keys:function(){return r.keys(this)},get:function(e,t){var n=this[e];return void 0===n&&(n=t),n},has_key:function(e){return p(this,e)},pop:function(e,t){var n=this[e];if(void 0===n&&void 0!==t)n=t;else{if(void 0===n)throw new Error("KeyError");delete this[e]}return n},popitem:function(){var e=r.keys(this);if(!e.length)throw new Error("KeyError");var t=e[0],n=this[t];return delete this[t],[t,n]},setdefault:function(e,t){return void 0===t&&(t=null),e in this||(this[e]=t),this[e]},update:function(e){return r._assign(this,e),null}};return m.iteritems=m.items,m.itervalues=m.values,m.iterkeys=m.keys,n.memberLookup=function(e,t,n){return 4===arguments.length?f.apply(this,arguments):(e=e||{},r.isArray(e)&&p(d,t)?d[t].bind(e):r.isObject(e)&&p(m,t)?m[t].bind(e):c.apply(this,arguments))},function(){n.contextOrFrameLookup=u,n.memberLookup=c,i&&(i.prototype.assertType=e),o&&(o.prototype.parseAggregate=t)}}}])},e.exports=t()}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";r.r(i),r.d(i,{Component:()=>b,ComponentAttribute:()=>s,ComponentAttributeDefinition:()=>O,ComponentDefinition:()=>x,ComponentDrawOption:()=>f,ComponentLink:()=>D,ComponentLinkDefinition:()=>j,DefaultConfiguration:()=>GN,DefaultData:()=>zN,DefaultDrawer:()=>oN,DefaultMetadata:()=>cN,DefaultParser:()=>pN,DefaultPlugin:()=>ZN,DefaultRender:()=>vN,FileInformation:()=>l,FileInput:()=>q,ParseError:()=>EN,Tag:()=>eP,Variable:()=>aP});var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}r.r(e),r.d(e,{Adder:()=>ve,Delaunay:()=>ju,FormatSpecifier:()=>th,InternMap:()=>be,InternSet:()=>we,Node:()=>Ty,Path:()=>Js,Voronoi:()=>Cu,ZoomTransform:()=>IT,active:()=>is,arc:()=>gE,area:()=>TE,areaRadial:()=>DE,ascending:()=>K,autoType:()=>yc,axisBottom:()=>un,axisLeft:()=>cn,axisRight:()=>an,axisTop:()=>sn,bin:()=>tt,bisect:()=>ee,bisectCenter:()=>J,bisectLeft:()=>Z,bisectRight:()=>X,bisector:()=>W,blob:()=>ol,blur:()=>te,blur2:()=>ne,blurImage:()=>re,brush:()=>Ls,brushSelection:()=>Ps,brushX:()=>Cs,brushY:()=>Rs,buffer:()=>al,chord:()=>qs,chordDirected:()=>Hs,chordTranspose:()=>Ks,cluster:()=>_y,color:()=>ei,contourDensity:()=>uu,contours:()=>eu,count:()=>ue,create:()=>Hk,creator:()=>mr,cross:()=>fe,csv:()=>fl,csvFormat:()=>rc,csvFormatBody:()=>ic,csvFormatRow:()=>sc,csvFormatRows:()=>oc,csvFormatValue:()=>ac,csvParse:()=>tc,csvParseRows:()=>nc,cubehelix:()=>qa,cumsum:()=>pe,curveBasis:()=>SS,curveBasisClosed:()=>AS,curveBasisOpen:()=>NS,curveBumpX:()=>BE,curveBumpY:()=>UE,curveBundle:()=>CS,curveCardinal:()=>IS,curveCardinalClosed:()=>MS,curveCardinalOpen:()=>FS,curveCatmullRom:()=>zS,curveCatmullRomClosed:()=>$S,curveCatmullRomOpen:()=>KS,curveLinear:()=>xE,curveLinearClosed:()=>WS,curveMonotoneX:()=>tT,curveMonotoneY:()=>nT,curveNatural:()=>oT,curveStep:()=>aT,curveStepAfter:()=>cT,curveStepBefore:()=>uT,descending:()=>H,deviation:()=>me,difference:()=>Bt,disjoint:()=>Ut,dispatch:()=>mn,drag:()=>qu,dragDisable:()=>Ir,dragEnable:()=>Dr,dsv:()=>hl,dsvFormat:()=>Ju,easeBack:()=>Jc,easeBackIn:()=>Xc,easeBackInOut:()=>Jc,easeBackOut:()=>Zc,easeBounce:()=>Gc,easeBounceIn:()=>Wc,easeBounceInOut:()=>Yc,easeBounceOut:()=>Gc,easeCircle:()=>Mc,easeCircleIn:()=>Ic,easeCircleInOut:()=>Mc,easeCircleOut:()=>Dc,easeCubic:()=>es,easeCubicIn:()=>Zo,easeCubicInOut:()=>es,easeCubicOut:()=>Jo,easeElastic:()=>nl,easeElasticIn:()=>tl,easeElasticInOut:()=>rl,easeElasticOut:()=>nl,easeExp:()=>Lc,easeExpIn:()=>Cc,easeExpInOut:()=>Lc,easeExpOut:()=>Rc,easeLinear:()=>gc,easePoly:()=>Ec,easePolyIn:()=>xc,easePolyInOut:()=>Ec,easePolyOut:()=>kc,easeQuad:()=>wc,easeQuadIn:()=>_c,easeQuadInOut:()=>wc,easeQuadOut:()=>bc,easeSin:()=>Nc,easeSinIn:()=>Ac,easeSinInOut:()=>Nc,easeSinOut:()=>Oc,every:()=>Lt,extent:()=>ye,fcumsum:()=>_e,filter:()=>Dt,flatGroup:()=>Pe,flatRollup:()=>Ce,forceCenter:()=>wl,forceCollide:()=>Il,forceLink:()=>jl,forceManyBody:()=>Hl,forceRadial:()=>Wl,forceSimulation:()=>Kl,forceX:()=>Gl,forceY:()=>Yl,format:()=>sh,formatDefaultLocale:()=>hh,formatLocale:()=>lh,formatPrefix:()=>ah,formatSpecifier:()=>eh,fsum:()=>ge,geoAlbers:()=>Im,geoAlbersUsa:()=>Dm,geoArea:()=>yf,geoAzimuthalEqualArea:()=>Bm,geoAzimuthalEqualAreaRaw:()=>Fm,geoAzimuthalEquidistant:()=>zm,geoAzimuthalEquidistantRaw:()=>Um,geoBounds:()=>Xf,geoCentroid:()=>cp,geoCircle:()=>bp,geoClipAntimeridian:()=>Cp,geoClipCircle:()=>Rp,geoClipExtent:()=>Up,geoClipRectangle:()=>Bp,geoConicConformal:()=>Wm,geoConicConformalRaw:()=>Hm,geoConicEqualArea:()=>Lm,geoConicEqualAreaRaw:()=>Rm,geoConicEquidistant:()=>Xm,geoConicEquidistantRaw:()=>Qm,geoContains:()=>rd,geoDistance:()=>Gp,geoEqualEarth:()=>iy,geoEqualEarthRaw:()=>ry,geoEquirectangular:()=>Ym,geoEquirectangularRaw:()=>Gm,geoGnomonic:()=>sy,geoGnomonicRaw:()=>oy,geoGraticule:()=>sd,geoGraticule10:()=>ad,geoIdentity:()=>ay,geoInterpolate:()=>ud,geoLength:()=>Kp,geoMercator:()=>$m,geoMercatorRaw:()=>Vm,geoNaturalEarth1:()=>cy,geoNaturalEarth1Raw:()=>uy,geoOrthographic:()=>hy,geoOrthographicRaw:()=>ly,geoPath:()=>mm,geoProjection:()=>Nm,geoProjectionMutator:()=>Pm,geoRotation:()=>vp,geoStereographic:()=>py,geoStereographicRaw:()=>fy,geoStream:()=>Kh,geoTransform:()=>ym,geoTransverseMercator:()=>my,geoTransverseMercatorRaw:()=>dy,gray:()=>Ea,greatest:()=>ut,greatestIndex:()=>St,group:()=>Ae,groupSort:()=>Ve,groups:()=>Oe,hcl:()=>La,hierarchy:()=>wy,histogram:()=>tt,hsl:()=>pi,html:()=>_l,image:()=>dl,index:()=>Ie,indexes:()=>De,interpolate:()=>Bi,interpolateArray:()=>Ci,interpolateBasis:()=>_i,interpolateBasisClosed:()=>bi,interpolateBlues:()=>_k,interpolateBrBG:()=>Cx,interpolateBuGn:()=>Yx,interpolateBuPu:()=>Xx,interpolateCividis:()=>Pk,interpolateCool:()=>Lk,interpolateCubehelix:()=>Uv,interpolateCubehelixDefault:()=>Ck,interpolateCubehelixLong:()=>zv,interpolateDate:()=>Li,interpolateDiscrete:()=>Av,interpolateGnBu:()=>Jx,interpolateGreens:()=>wk,interpolateGreys:()=>kk,interpolateHcl:()=>jv,interpolateHclLong:()=>Fv,interpolateHsl:()=>Lv,interpolateHslLong:()=>Iv,interpolateHue:()=>Ov,interpolateInferno:()=>qk,interpolateLab:()=>Dv,interpolateMagma:()=>$k,interpolateNumber:()=>Ii,interpolateNumberArray:()=>Ni,interpolateObject:()=>Di,interpolateOrRd:()=>tk,interpolateOranges:()=>Nk,interpolatePRGn:()=>Lx,interpolatePiYG:()=>Dx,interpolatePlasma:()=>Kk,interpolatePuBu:()=>ok,interpolatePuBuGn:()=>rk,interpolatePuOr:()=>jx,interpolatePuRd:()=>ak,interpolatePurples:()=>Sk,interpolateRainbow:()=>Dk,interpolateRdBu:()=>Bx,interpolateRdGy:()=>zx,interpolateRdPu:()=>ck,interpolateRdYlBu:()=>$x,interpolateRdYlGn:()=>Kx,interpolateReds:()=>Ak,interpolateRgb:()=>Si,interpolateRgbBasis:()=>Ai,interpolateRgbBasisClosed:()=>Oi,interpolateRound:()=>Nv,interpolateSinebow:()=>Bk,interpolateSpectral:()=>Wx,interpolateString:()=>Fi,interpolateTransformCss:()=>Ao,interpolateTransformSvg:()=>Oo,interpolateTurbo:()=>Uk,interpolateViridis:()=>Vk,interpolateWarm:()=>Rk,interpolateYlGn:()=>pk,interpolateYlGnBu:()=>hk,interpolateYlOrBr:()=>mk,interpolateYlOrRd:()=>vk,interpolateZoom:()=>Cv,interrupt:()=>wo,intersection:()=>zt,interval:()=>CT,isoFormat:()=>OT,isoParse:()=>PT,json:()=>yl,lab:()=>Sa,lch:()=>Ra,least:()=>kt,leastIndex:()=>Et,line:()=>SE,lineRadial:()=>IE,link:()=>qE,linkHorizontal:()=>KE,linkRadial:()=>WE,linkVertical:()=>HE,local:()=>Gk,map:()=>Mt,matcher:()=>wn,max:()=>nt,maxIndex:()=>rt,mean:()=>dt,median:()=>mt,medianIndex:()=>yt,merge:()=>vt,min:()=>it,minIndex:()=>ot,mode:()=>gt,namespace:()=>Mn,namespaces:()=>Dn,nice:()=>Je,now:()=>Ji,pack:()=>Xy,packEnclose:()=>Dy,packSiblings:()=>Yy,pairs:()=>_t,partition:()=>rv,path:()=>ea,pathRound:()=>ta,permute:()=>Fe,pie:()=>NE,piecewise:()=>Vv,pointRadial:()=>ME,pointer:()=>zi,pointers:()=>Qk,polygonArea:()=>qv,polygonCentroid:()=>Kv,polygonContains:()=>Qv,polygonHull:()=>Yv,polygonLength:()=>Xv,precisionFixed:()=>fh,precisionPrefix:()=>ph,precisionRound:()=>dh,quadtree:()=>Tl,quantile:()=>ct,quantileIndex:()=>ht,quantileSorted:()=>lt,quantize:()=>$v,quickselect:()=>st,radialArea:()=>DE,radialLine:()=>IE,randomBates:()=>ig,randomBernoulli:()=>ag,randomBeta:()=>lg,randomBinomial:()=>hg,randomCauchy:()=>pg,randomExponential:()=>og,randomGamma:()=>cg,randomGeometric:()=>ug,randomInt:()=>eg,randomIrwinHall:()=>rg,randomLcg:()=>_g,randomLogNormal:()=>ng,randomLogistic:()=>dg,randomNormal:()=>tg,randomPareto:()=>sg,randomPoisson:()=>mg,randomUniform:()=>Jv,randomWeibull:()=>fg,range:()=>wt,rank:()=>xt,reduce:()=>jt,reverse:()=>Ft,rgb:()=>ii,ribbon:()=>fa,ribbonArrow:()=>pa,rollup:()=>Re,rollups:()=>Le,scaleBand:()=>Eg,scaleDiverging:()=>px,scaleDivergingLog:()=>dx,scaleDivergingPow:()=>yx,scaleDivergingSqrt:()=>vx,scaleDivergingSymlog:()=>mx,scaleIdentity:()=>Bg,scaleImplicit:()=>xg,scaleLinear:()=>Fg,scaleLog:()=>Gg,scaleOrdinal:()=>kg,scalePoint:()=>Tg,scalePow:()=>r_,scaleQuantile:()=>a_,scaleQuantize:()=>u_,scaleRadial:()=>s_,scaleSequential:()=>sx,scaleSequentialLog:()=>ax,scaleSequentialPow:()=>cx,scaleSequentialQuantile:()=>hx,scaleSequentialSqrt:()=>lx,scaleSequentialSymlog:()=>ux,scaleSqrt:()=>i_,scaleSymlog:()=>Zg,scaleThreshold:()=>c_,scaleTime:()=>nx,scaleUtc:()=>rx,scan:()=>Tt,schemeAccent:()=>bx,schemeBlues:()=>gk,schemeBrBG:()=>Px,schemeBuGn:()=>Gx,schemeBuPu:()=>Qx,schemeCategory10:()=>_x,schemeDark2:()=>wx,schemeGnBu:()=>Zx,schemeGreens:()=>bk,schemeGreys:()=>xk,schemeOrRd:()=>ek,schemeOranges:()=>Ok,schemePRGn:()=>Rx,schemePaired:()=>xx,schemePastel1:()=>kx,schemePastel2:()=>Ex,schemePiYG:()=>Ix,schemePuBu:()=>ik,schemePuBuGn:()=>nk,schemePuOr:()=>Mx,schemePuRd:()=>sk,schemePurples:()=>Ek,schemeRdBu:()=>Fx,schemeRdGy:()=>Ux,schemeRdPu:()=>uk,schemeRdYlBu:()=>Vx,schemeRdYlGn:()=>qx,schemeReds:()=>Tk,schemeSet1:()=>Sx,schemeSet2:()=>Tx,schemeSet3:()=>Ax,schemeSpectral:()=>Hx,schemeTableau10:()=>Ox,schemeYlGn:()=>fk,schemeYlGnBu:()=>lk,schemeYlOrBr:()=>dk,schemeYlOrRd:()=>yk,select:()=>Nr,selectAll:()=>Xk,selection:()=>Or,selector:()=>vn,selectorAll:()=>bn,shuffle:()=>At,shuffler:()=>Ot,some:()=>It,sort:()=>Be,stack:()=>dT,stackOffsetDiverging:()=>yT,stackOffsetExpand:()=>mT,stackOffsetNone:()=>lT,stackOffsetSilhouette:()=>vT,stackOffsetWiggle:()=>gT,stackOrderAppearance:()=>_T,stackOrderAscending:()=>wT,stackOrderDescending:()=>kT,stackOrderInsideOut:()=>ET,stackOrderNone:()=>hT,stackOrderReverse:()=>ST,stratify:()=>cv,style:()=>Wn,subset:()=>Kt,sum:()=>Nt,superset:()=>$t,svg:()=>bl,symbol:()=>wS,symbolAsterisk:()=>YE,symbolCircle:()=>QE,symbolCross:()=>XE,symbolDiamond:()=>eS,symbolDiamond2:()=>tS,symbolPlus:()=>nS,symbolSquare:()=>rS,symbolSquare2:()=>iS,symbolStar:()=>uS,symbolTimes:()=>gS,symbolTriangle:()=>lS,symbolTriangle2:()=>fS,symbolWye:()=>vS,symbolX:()=>gS,symbols:()=>_S,symbolsFill:()=>_S,symbolsStroke:()=>bS,text:()=>cl,thresholdFreedmanDiaconis:()=>ft,thresholdScott:()=>pt,thresholdSturges:()=>et,tickFormat:()=>Mg,tickIncrement:()=>Xe,tickStep:()=>Ze,ticks:()=>Qe,timeDay:()=>C_,timeDays:()=>R_,timeFormat:()=>Cb,timeFormatDefaultLocale:()=>Zw,timeFormatLocale:()=>Nb,timeFriday:()=>$_,timeFridays:()=>Q_,timeHour:()=>A_,timeHours:()=>O_,timeInterval:()=>g_,timeMillisecond:()=>__,timeMilliseconds:()=>b_,timeMinute:()=>k_,timeMinutes:()=>E_,timeMonday:()=>B_,timeMondays:()=>H_,timeMonth:()=>pb,timeMonths:()=>db,timeParse:()=>Rb,timeSaturday:()=>q_,timeSaturdays:()=>X_,timeSecond:()=>w_,timeSeconds:()=>x_,timeSunday:()=>F_,timeSundays:()=>K_,timeThursday:()=>V_,timeThursdays:()=>Y_,timeTickInterval:()=>Sb,timeTicks:()=>Eb,timeTuesday:()=>U_,timeTuesdays:()=>W_,timeWednesday:()=>z_,timeWednesdays:()=>G_,timeWeek:()=>F_,timeWeeks:()=>K_,timeYear:()=>vb,timeYears:()=>gb,timeout:()=>ao,timer:()=>no,timerFlush:()=>ro,transition:()=>Yo,transpose:()=>Pt,tree:()=>gv,treemap:()=>kv,treemapBinary:()=>Ev,treemapDice:()=>nv,treemapResquarify:()=>Tv,treemapSlice:()=>_v,treemapSliceDice:()=>Sv,treemapSquarify:()=>xv,tsv:()=>pl,tsvFormat:()=>hc,tsvFormatBody:()=>fc,tsvFormatRow:()=>dc,tsvFormatRows:()=>pc,tsvFormatValue:()=>mc,tsvParse:()=>cc,tsvParseRows:()=>lc,union:()=>Ht,unixDay:()=>D_,unixDays:()=>M_,utcDay:()=>L_,utcDays:()=>I_,utcFormat:()=>Lb,utcFriday:()=>ib,utcFridays:()=>hb,utcHour:()=>N_,utcHours:()=>P_,utcMillisecond:()=>__,utcMilliseconds:()=>b_,utcMinute:()=>S_,utcMinutes:()=>T_,utcMonday:()=>eb,utcMondays:()=>ab,utcMonth:()=>mb,utcMonths:()=>yb,utcParse:()=>Ib,utcSaturday:()=>ob,utcSaturdays:()=>fb,utcSecond:()=>w_,utcSeconds:()=>x_,utcSunday:()=>J_,utcSundays:()=>sb,utcThursday:()=>rb,utcThursdays:()=>lb,utcTickInterval:()=>kb,utcTicks:()=>xb,utcTuesday:()=>tb,utcTuesdays:()=>ub,utcWednesday:()=>nb,utcWednesdays:()=>cb,utcWeek:()=>J_,utcWeeks:()=>sb,utcYear:()=>_b,utcYears:()=>bb,variance:()=>de,window:()=>$n,xml:()=>gl,zip:()=>Rt,zoom:()=>KT,zoomIdentity:()=>DT,zoomTransform:()=>MT});var o=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,value:null,type:null,definition:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.name,r=t.value,i=t.type,o=t.definition;this.name=n||null,this.value=null!=r?r:null,this.type=i||null,this.definition=o||null},r=[{key:"isVariable",get:function(){return!1}},{key:"hasError",value:function(){return null===this.definition?null===this.value||("array"===this.type.toLowerCase()?!Array.isArray(this.value):t(this.value)!==this.type.toLowerCase()):null!==this.value&&void 0!==this.value&&(this.__typeOfValueValidation()||this.__ruleValueValidation()||this.__ruleMinAndMaxValidation()||this.__ruleRegexValidation())}},{key:"__typeOfValueValidation",value:function(){var e=this.type.toLowerCase();return"Link"===this.definition.type?!Array.isArray(this.value)||this.value.some((function(e){return"string"!=typeof e})):"array"===e?!Array.isArray(this.value):t(this.value)!==e}},{key:"__ruleValueValidation",value:function(){var e=this;return this.definition.rules.values&&Array.isArray(this.value)?!this.value.every((function(t){return e.definition.rules.values.includes(t)})):this.definition.rules.values&&!this.definition.rules.values.includes(this.value)}},{key:"__ruleMinAndMaxValidation",value:function(){var e="number"==typeof this.value?this.value:this.value.length;return null!==this.definition.rules.min&&e<this.definition.rules.min||null!==this.definition.rules.max&&e>this.definition.rules.max}},{key:"__ruleRegexValidation",value:function(){return null!==this.definition.rules.regex&&!new RegExp(this.definition.rules.regex).test(this.value)}}],r&&function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}();const s=o;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var c=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.path;this.path=null!=n?n:null},(t=[{key:"fileName",get:function(){return this.path?this.path.replace(/^.*[\\/]/,""):null}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const l=c;var h=function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:null,y:null,width:null,height:null,hide:!1};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.x,r=t.y,i=t.width,o=t.height,s=t.hide;this.x=n||null,this.y=r||null,this.width=i||null,this.height=o||null,this.hide=s||!1}));const f=h;function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}function m(e,t,n){return t=v(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}var _=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,externalId:null,name:null,definition:null,drawOption:null,attributes:[]};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=m(this,t,[n]);var r=n.id,i=n.externalId,o=n.name,s=n.definition,a=n.drawOption,u=n.attributes;return e.__class="Component",e.id=r||null,e.externalId=i||e.id,e.name=o||null,e.definition=s||null,e.drawOption=a||new f,e.attributes=u||[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),n=t,r=[{key:"setExternalId",value:function(e){this.externalId=e}},{key:"getConfigurationKey",value:function(){return this.id}},{key:"setReferenceAttribute",value:function(e){var t=this.definition.definedAttributes.find((function(t){return t.containerRef===e.definition.type}));if(t){var n=this.attributes.filter((function(e){var n=e.definition;return(null==n?void 0:n.name)===t.name}));n.length>0?n.forEach((function(t){t.value=e.id})):this.attributes.push(this.createAttribute({name:t.name,value:e.id,type:"String",definition:t}))}}},{key:"__createNestedAttributes",value:function(e){var t=this,n=this.attributes;return e.slice().reverse().forEach((function(e){var r=n.find((function(t){return t.definition.name===e.name}));r||(r=t.createAttribute({name:e.name,definition:e,type:"Object",value:[]}),n.push(r)),n=r.value})),n}},{key:"createAttribute",value:function(e){return new s(e)}},{key:"removeAllReferenceAttributes",value:function(e){this.attributes=e?this.attributes.filter((function(t){return!("Reference"===t.definition.type&&t.definition.containerRef===e.definition.type&&t.value===e.id)})):this.attributes.filter((function(e){return"Reference"!==e.definition.type}))}},{key:"setLinkAttribute",value:function(e){var t=[],n=this.__getLinkAttribute(t,this.definition.definedAttributes,e),r=this.__createNestedAttributes(t),i=r.find((function(e){return e.definition.name===n.name}));i||(i=this.createAttribute({name:n.name,definition:n,type:"Array",value:[]}),r.push(i)),i.value.includes(e.target)||i.value.push(e.target)}},{key:"__getLinkAttribute",value:function(e,t,n){for(var r=0;r<t.length;r+=1){if("Object"===t[r].type){var i=this.__getLinkAttribute(e,t[r].definedAttributes,n);if(i)return e.push(t[r]),i}if("Link"===t[r].type&&t[r].name===n.definition.attributeRef)return t[r]}return null}},{key:"removeLinkAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.__removeLinkAttribute(this.attributes,e,t)}},{key:"__removeLinkAttribute",value:function(e,t,n){var r=this;e.forEach((function(e){var i;if("Object"===e.type&&r.__removeLinkAttribute(e.value,t,n),"Link"===(null===(i=e.definition)||void 0===i?void 0:i.type)&&(!n||e.name===n)){var o=e.value.findIndex((function(e){return e===t}));o>=0&&e.value.splice(o,1)}}))}},{key:"getAttributeByName",value:function(e){return this.__getAttributeByName(this.attributes,e)}},{key:"__getAttributeByName",value:function(e,t){for(var n=0;n<e.length;n+=1){if(e[n].name===t)return e[n];if("Object"===e[n].type){var r=this.__getAttributeByName(e[n].value,t);if(r)return r}}return null}},{key:"__setAttributesByField",value:function(e,t,n){for(var r=this,i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];t.forEach((function(t){"Object"===(null==t?void 0:t.type)&&r.__setAttributesByField.apply(r,[e,t.value,n].concat(o)),r.__compareAttributeField.apply(r,[t,n].concat(o))&&e.push(t)}))}},{key:"__compareAttributeField",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o;return"definitionType"===t?r.includes(null===(o=e.definition)||void 0===o?void 0:o.type):r.includes(e[t])}},{key:"getAttributesByType",value:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.__setAttributesByField.apply(this,[e,this.attributes,"type"].concat(n)),e}},{key:"getContainerId",value:function(){var e=this.attributes.find((function(e){var t=e.definition;return t&&"Reference"===t.type}));return e?e.value:null}},{key:"hasError",value:function(){return this.checkRequiredAttributes()||this.checkAttributesErrors()}},{key:"checkRequiredAttributes",value:function(){var e=this;return this.definition.definedAttributes.filter((function(e){return e.required})).some((function(t){var n=e.getAttributeByName(t.name);return!(null!=n&&n.value)||("Array"===n.type||"Object"===n.type)&&0===n.value.length||"String"===n.type&&""===n.value.trim()}))}},{key:"checkAttributesErrors",value:function(){return this.attributes.some((function(e){return e.hasError()}))}},{key:"getDefinedAttributesByType",value:function(e){var t=[];return this.__setDefinedAttributesByType(t,this.definition.definedAttributes,e),t}},{key:"__setDefinedAttributesByType",value:function(e,t,n){var r=this;t.forEach((function(t){"Object"===t.type&&r.__setDefinedAttributesByType(e,t.definedAttributes,n),t.type===n&&e.push(t)}))}},{key:"canContain",value:function(e){return this.definition.isContainer&&this.definition.childrenTypes.includes(e)}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(l);const b=_;var w=function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,icon:null,model:null,displayName:null,description:null,url:null,parentTypes:[],childrenTypes:[],definedAttributes:[],isContainer:!1,displayType:null,workflowDirection:null,linkModel:null,defaultWidth:0,defaultHeight:0,minWidth:0,minHeight:0,reservedWidth:0,reservedHeight:0,margin:10,gap:30};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.type,r=t.icon,i=t.model,o=t.displayName,s=t.description,a=t.url,u=t.parentTypes,c=t.childrenTypes,l=t.definedAttributes,h=t.isContainer,f=t.displayType,p=t.workflowDirection,d=t.linkModel,m=t.defaultWidth,y=t.defaultHeight,v=t.minWidth,g=t.minHeight,_=t.reservedWidth,b=t.reservedHeight,w=t.margin,x=t.gap;this.type=n||null,this.icon=r||null,this.model=i||null,this.displayName=o||null,this.description=s||null,this.url=a||null,this.parentTypes=u||[],this.childrenTypes=c||[],this.definedAttributes=l||[],this.isContainer=void 0!==h&&h,this.displayType=f||null,this.workflowDirection=p||"horizontal",this.linkModel=d||null,this.defaultWidth=m||0,this.defaultHeight=y||0,this.minWidth=v||0,this.minHeight=g||0,this.reservedWidth=_||0,this.reservedHeight=b||0,this.margin=w||10,this.gap=x||30}));const x=w;function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var A=function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,type:null,displayName:null,description:null,url:null,linkType:null,linkRef:[],linkModel:null,containerRef:null,required:!1,definedAttributes:[],rules:{values:null,min:null,max:null,regex:null}};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.name,r=t.type,i=t.displayName,o=t.description,s=t.url,a=t.linkType,u=t.linkRef,c=t.linkModel,l=t.containerRef,h=t.definedAttributes,f=t.required,p=t.rules;this.name=n||null,this.type=r||null,this.displayName=i||null,this.description=o||null,this.url=s||null,this.linkType=a||null,this.linkRef=u||[],this.linkModel=c||null,this.containerRef=l||null,this.definedAttributes=h||[],this.required=f||!1,this.rules=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({values:null,min:null,max:null,regex:null},p)}));const O=A;function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function P(e,t,n){return t=R(t),function(e,t){if(t&&("object"==N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,C()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}var I=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{source:null,target:null,name:null,definition:null,isReverse:!1};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=P(this,t);var r=n.source,i=n.target,o=n.name,s=n.definition,a=n.isReverse;return e.__class="Link",e.source=r||null,e.target=i||null,e.name=o||null,e.definition=s||null,e.isReverse=!!a,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(l);const D=I;var M=function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attributeRef:null,sourceRef:null,targetRef:null,type:null,model:null,isTemporary:!1};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.attributeRef,r=t.sourceRef,i=t.targetRef,o=t.type,s=t.model,a=t.isTemporary;this.attributeRef=n||null,this.sourceRef=r||null,this.targetRef=i||null,this.type=o||null,this.model=s||null,this.isTemporary=!!a}));const j=M;function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function B(e,t,n){return t=z(t),function(e,t){if(t&&("object"==F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,U()?Reflect.construct(t,n||[],z(e).constructor):t.apply(e,n))}function U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(U=function(){return!!e})()}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}var $=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:null,name:null,content:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=B(this,t,[n]);var r=n.content;return e.content=r||null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(l);const q=$;function K(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function W(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=K,n=(t,n)=>K(e(t),n),r=(t,n)=>e(t)-n):(t=e===K||e===H?e:G,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const s=i(e,t,n,o-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function G(){return 0}function Y(e){return null===e?NaN:+e}const Q=W(K),X=Q.right,Z=Q.left,J=W(Y).center,ee=X;function te(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=ae(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e}const ne=ie(ae),re=ie((function(e){const t=ae(e);return(e,n,r,i,o)=>{t(e,n,0+(r<<=2),0+(i<<=2),o<<=2),t(e,n,r+1,i+1,o),t(e,n,r+2,i+2,o),t(e,n,r+3,i+3,o)}}));function ie(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!n&&!r)return t;const a=n&&e(n),u=r&&e(r),c=i.slice();return a&&u?(oe(a,c,i,o,s),oe(a,i,c,o,s),oe(a,c,i,o,s),se(u,i,c,o,s),se(u,c,i,o,s),se(u,i,c,o,s)):a?(oe(a,i,c,o,s),oe(a,c,i,o,s),oe(a,i,c,o,s)):u&&(se(u,i,c,o,s),se(u,c,i,o,s),se(u,i,c,o,s)),t}}function oe(e,t,n,r,i){for(let o=0,s=r*i;o<s;)e(t,n,o,o+=r,1)}function se(e,t,n,r,i){for(let o=0,s=r*i;o<r;++o)e(t,n,o,o+s,r)}function ae(e){const t=Math.floor(e);if(t===e)return function(e){const t=2*e+1;return(n,r,i,o,s)=>{if(!((o-=s)>=i))return;let a=e*r[i];const u=s*e;for(let e=i,t=i+u;e<t;e+=s)a+=r[Math.min(o,e)];for(let e=i,c=o;e<=c;e+=s)a+=r[Math.min(o,e+u)],n[e]=a/t,a-=r[Math.max(i,e-u)]}}(e);const n=e-t,r=2*e+1;return(e,i,o,s,a)=>{if(!((s-=a)>=o))return;let u=t*i[o];const c=a*t,l=c+a;for(let e=o,t=o+c;e<t;e+=a)u+=i[Math.min(s,e)];for(let t=o,h=s;t<=h;t+=a)u+=i[Math.min(s,t+c)],e[t]=(u+n*(i[Math.max(o,t-l)]+i[Math.min(s,t+l)]))/r,u-=i[Math.max(o,t-c)]}}function ue(e,t){let n=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&++n;else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&++n}return n}function ce(e){return 0|e.length}function le(e){return!(e>0)}function he(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function fe(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(he)).map(ce),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(le))return o;for(;;){o.push(i.map(((t,n)=>e[n][t])));let s=r;for(;++i[s]===n[s];){if(0===s)return t?o.map(t):o;i[s--]=0}}}function pe(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:i=>n+=+t(i,r++,e)||0)}function de(e,t){let n,r=0,i=0,o=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-i,i+=n/++r,o+=n*(t-i));else{let s=-1;for(let a of e)null!=(a=t(a,++s,e))&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i))}if(r>1)return o/(r-1)}function me(e,t){const n=de(e,t);return n?Math.sqrt(n):n}function ye(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class ve{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],o=e+i,s=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);s&&(t[n++]=s),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,n=e[--i],o=t+n,r=n-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=o+n,n==t-o&&(o=t))}return o}}function ge(e,t){const n=new ve;if(void 0===t)for(let t of e)(t=+t)&&n.add(t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n}function _e(e,t){const n=new ve;let r=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++r,e)||0))}class be extends Map{constructor(e,t=Se){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(xe(this,e))}has(e){return super.has(xe(this,e))}set(e,t){return super.set(ke(this,e),t)}delete(e){return super.delete(Ee(this,e))}}class we extends Set{constructor(e,t=Se){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const t of e)this.add(t)}has(e){return super.has(xe(this,e))}add(e){return super.add(ke(this,e))}delete(e){return super.delete(Ee(this,e))}}function xe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ke({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ee({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Se(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Te(e){return e}function Ae(e,...t){return je(e,Te,Te,t)}function Oe(e,...t){return je(e,Array.from,Te,t)}function Ne(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap((e=>e.pop().map((([t,n])=>[...e,t,n]))));return e}function Pe(e,...t){return Ne(Oe(e,...t),t)}function Ce(e,t,...n){return Ne(Le(e,t,...n),n)}function Re(e,t,...n){return je(e,Te,t,n)}function Le(e,t,...n){return je(e,Array.from,t,n)}function Ie(e,...t){return je(e,Te,Me,t)}function De(e,...t){return je(e,Array.from,Me,t)}function Me(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function je(e,t,n,r){return function e(i,o){if(o>=r.length)return n(i);const s=new be,a=r[o++];let u=-1;for(const e of i){const t=a(e,++u,i),n=s.get(t);n?n.push(e):s.set(t,[e])}for(const[t,n]of s)s.set(t,e(n,o));return t(s)}(e,0)}function Fe(e,t){return Array.from(t,(t=>e[t]))}function Be(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&2!==n.length||t.length>1){const r=Uint32Array.from(e,((e,t)=>t));return t.length>1?(t=t.map((t=>e.map(t))),r.sort(((e,n)=>{for(const r of t){const t=ze(r[e],r[n]);if(t)return t}}))):(n=e.map(n),r.sort(((e,t)=>ze(n[e],n[t])))),Fe(e,r)}return e.sort(Ue(n))}function Ue(e=K){if(e===K)return ze;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function ze(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Ve(e,t,n){return(2!==t.length?Be(Re(e,t,n),(([e,t],[n,r])=>K(t,r)||K(e,n))):Be(Ae(e,n),(([e,n],[r,i])=>t(n,i)||K(e,r)))).map((([e])=>e))}var $e=Array.prototype,qe=$e.slice;function Ke(e){return()=>e}$e.map;const He=Math.sqrt(50),We=Math.sqrt(10),Ge=Math.sqrt(2);function Ye(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=He?10:o>=We?5:o>=Ge?2:1;let a,u,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),u=Math.round(t*c),a/c<e&&++a,u/c>t&&--u,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),u=Math.round(t/c),a*c<e&&++a,u*c>t&&--u),u<a&&.5<=n&&n<2?Ye(e,t,2*n):[a,u,c]}function Qe(e,t,n){if(!((n=+n)>0))return[];if((e=+e)==(t=+t))return[e];const r=t<e,[i,o,s]=r?Ye(t,e,n):Ye(e,t,n);if(!(o>=i))return[];const a=o-i+1,u=new Array(a);if(r)if(s<0)for(let e=0;e<a;++e)u[e]=(o-e)/-s;else for(let e=0;e<a;++e)u[e]=(o-e)*s;else if(s<0)for(let e=0;e<a;++e)u[e]=(i+e)/-s;else for(let e=0;e<a;++e)u[e]=(i+e)*s;return u}function Xe(e,t,n){return Ye(e=+e,t=+t,n=+n)[2]}function Ze(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Xe(t,e,n):Xe(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Je(e,t,n){let r;for(;;){const i=Xe(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function et(e){return Math.max(1,Math.ceil(Math.log(ue(e))/Math.LN2)+1)}function tt(){var e=Te,t=ye,n=et;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,s,a=r.length,u=new Array(a);for(i=0;i<a;++i)u[i]=e(r[i],i,r);var c=t(u),l=c[0],h=c[1],f=n(u,l,h);if(!Array.isArray(f)){const e=h,n=+f;if(t===ye&&([l,h]=Je(l,h,n)),(f=Qe(l,h,n))[0]<=l&&(s=Xe(l,h,n)),f[f.length-1]>=h)if(e>=h&&t===ye){const e=Xe(l,h,n);isFinite(e)&&(e>0?h=(Math.floor(h/e)+1)*e:e<0&&(h=(Math.ceil(h*-e)+1)/-e))}else f.pop()}for(var p=f.length,d=0,m=p;f[d]<=l;)++d;for(;f[m-1]>h;)--m;(d||m<p)&&(f=f.slice(d,m),p=m-d);var y,v=new Array(p+1);for(i=0;i<=p;++i)(y=v[i]=[]).x0=i>0?f[i-1]:l,y.x1=i<p?f[i]:h;if(isFinite(s)){if(s>0)for(i=0;i<a;++i)null!=(o=u[i])&&l<=o&&o<=h&&v[Math.min(p,Math.floor((o-l)/s))].push(r[i]);else if(s<0)for(i=0;i<a;++i)if(null!=(o=u[i])&&l<=o&&o<=h){const e=Math.floor((l-o)*s);v[Math.min(p,e+(f[e]<=o))].push(r[i])}}else for(i=0;i<a;++i)null!=(o=u[i])&&l<=o&&o<=h&&v[ee(f,o,0,p)].push(r[i]);return v}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:Ke(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:Ke([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Ke(Array.isArray(e)?qe.call(e):e),r):n},r}function nt(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function rt(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n<t||void 0===n&&t>=t)&&(n=t,r=i);else for(let o of e)null!=(o=t(o,++i,e))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function it(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function ot(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n>t||void 0===n&&t>=t)&&(n=t,r=i);else for(let o of e)null!=(o=t(o,++i,e))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function st(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?ze:Ue(i);r>n;){if(r-n>600){const o=r-n+1,s=t-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);st(e,t,Math.max(n,Math.floor(t-s*u/o+c)),Math.min(r,Math.floor(t+(o-s)*u/o+c)),i)}const o=e[t];let s=n,a=r;for(at(e,n,t),i(e[r],o)>0&&at(e,n,r);s<a;){for(at(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}0===i(e[n],o)?at(e,n,a):(++a,at(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function at(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ut(e,t=K){let n,r=!1;if(1===t.length){let i;for(const o of e){const e=t(o);(r?K(e,i)>0:0===K(e,e))&&(n=o,i=e,r=!0)}}else for(const i of e)(r?t(i,n)>0:0===t(i,i))&&(n=i,r=!0);return n}function ct(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return it(e);if(t>=1)return nt(e);var r,i=(r-1)*t,o=Math.floor(i),s=nt(st(e,o).subarray(0,o+1));return s+(it(e.subarray(o+1))-s)*(i-o)}}function lt(e,t,n=Y){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(i-o)}}function ht(e,t,n=Y){if(!isNaN(t=+t)){if(r=Float64Array.from(e,((t,r)=>Y(n(e[r],r,e)))),t<=0)return ot(r);if(t>=1)return rt(r);var r,i=Uint32Array.from(e,((e,t)=>t)),o=r.length-1,s=Math.floor(o*t);return st(i,s,0,o,((e,t)=>ze(r[e],r[t]))),(s=ut(i.subarray(0,s+1),(e=>r[e])))>=0?s:-1}}function ft(e,t,n){const r=ue(e),i=ct(e,.75)-ct(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function pt(e,t,n){const r=ue(e),i=me(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function dt(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function mt(e,t){return ct(e,.5,t)}function yt(e,t){return ht(e,.5,t)}function vt(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function gt(e,t){const n=new be;if(void 0===t)for(let t of e)null!=t&&t>=t&&n.set(t,(n.get(t)||0)+1);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[e,t]of n)t>i&&(i=t,r=e);return r}function _t(e,t=bt){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function bt(e,t){return[e,t]}function wt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function xt(e,t=K){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);2!==t.length&&(n=n.map(t),t=K);const i=(e,r)=>t(n[e],n[r]);let o,s;return e=Uint32Array.from(n,((e,t)=>t)),e.sort(t===K?(e,t)=>ze(n[e],n[t]):Ue(i)),e.forEach(((e,t)=>{const n=i(e,void 0===o?e:o);n>=0?((void 0===o||n>0)&&(o=e,s=t),r[e]=s):r[e]=NaN})),r}function kt(e,t=K){let n,r=!1;if(1===t.length){let i;for(const o of e){const e=t(o);(r?K(e,i)<0:0===K(e,e))&&(n=o,i=e,r=!0)}}else for(const i of e)(r?t(i,n)<0:0===t(i,i))&&(n=i,r=!0);return n}function Et(e,t=K){if(1===t.length)return ot(e,t);let n,r=-1,i=-1;for(const o of e)++i,(r<0?0===t(o,o):t(o,n)<0)&&(n=o,r=i);return r}function St(e,t=K){if(1===t.length)return rt(e,t);let n,r=-1,i=-1;for(const o of e)++i,(r<0?0===t(o,o):t(o,n)>0)&&(n=o,r=i);return r}function Tt(e,t){const n=Et(e,t);return n<0?void 0:n}const At=Ot(Math.random);function Ot(e){return function(t,n=0,r=t.length){let i=r-(n=+n);for(;i;){const r=e()*i--|0,o=t[i+n];t[i+n]=t[r+n],t[r+n]=o}return t}}function Nt(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Pt(e){if(!(i=e.length))return[];for(var t=-1,n=it(e,Ct),r=new Array(n);++t<n;)for(var i,o=-1,s=r[t]=new Array(i);++o<i;)s[o]=e[o][t];return r}function Ct(e){return e.length}function Rt(){return Pt(arguments)}function Lt(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function It(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function Dt(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function Mt(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,((n,r)=>t(n,r,e)))}function jt(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,o,s=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++s}for(;({done:i,value:o}=r.next()),!i;)n=t(n,o,++s,e);return n}function Ft(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Bt(e,...t){e=new we(e);for(const n of t)for(const t of n)e.delete(t);return e}function Ut(e,t){const n=t[Symbol.iterator](),r=new we;for(const t of e){if(r.has(t))return!1;let e,i;for(;({value:e,done:i}=n.next())&&!i;){if(Object.is(t,e))return!1;r.add(e)}}return!0}function zt(e,...t){e=new we(e),t=t.map(Vt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Vt(e){return e instanceof we?e:new we(e)}function $t(e,t){const n=e[Symbol.iterator](),r=new Set;for(const e of t){const t=qt(e);if(r.has(t))continue;let i,o;for(;({value:i,done:o}=n.next());){if(o)return!1;const e=qt(i);if(r.add(e),Object.is(t,e))break}}return!0}function qt(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Kt(e,t){return $t(t,e)}function Ht(...e){const t=new we;for(const n of e)for(const e of n)t.add(e);return t}function Wt(e){return e}var Gt=1,Yt=2,Qt=3,Xt=4,Zt=1e-6;function Jt(e){return"translate("+e+",0)"}function en(e){return"translate(0,"+e+")"}function tn(e){return t=>+e(t)}function nn(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function rn(){return!this.__axis}function on(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,u="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=e===Gt||e===Xt?-1:1,l=e===Xt||e===Yt?"x":"y",h=e===Gt||e===Qt?Jt:en;function f(f){var p=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,d=null==i?t.tickFormat?t.tickFormat.apply(t,n):Wt:i,m=Math.max(o,0)+a,y=t.range(),v=+y[0]+u,g=+y[y.length-1]+u,_=(t.bandwidth?nn:tn)(t.copy(),u),b=f.selection?f.selection():f,w=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(p,t).order(),k=x.exit(),E=x.enter().append("g").attr("class","tick"),S=x.select("line"),T=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(E),S=S.merge(E.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),T=T.merge(E.append("text").attr("fill","currentColor").attr(l,c*m).attr("dy",e===Gt?"0em":e===Qt?"0.71em":"0.32em")),f!==b&&(w=w.transition(f),x=x.transition(f),S=S.transition(f),T=T.transition(f),k=k.transition(f).attr("opacity",Zt).attr("transform",(function(e){return isFinite(e=_(e))?h(e+u):this.getAttribute("transform")})),E.attr("opacity",Zt).attr("transform",(function(e){var t=this.parentNode.__axis;return h((t&&isFinite(t=t(e))?t:_(e))+u)}))),k.remove(),w.attr("d",e===Xt||e===Yt?s?"M"+c*s+","+v+"H"+u+"V"+g+"H"+c*s:"M"+u+","+v+"V"+g:s?"M"+v+","+c*s+"V"+u+"H"+g+"V"+c*s:"M"+v+","+u+"H"+g),x.attr("opacity",1).attr("transform",(function(e){return h(_(e)+u)})),S.attr(l+"2",c*o),T.attr(l,c*m).text(d),b.filter(rn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Yt?"start":e===Xt?"end":"middle"),b.each((function(){this.__axis=_}))}return f.scale=function(e){return arguments.length?(t=e,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),f):n.slice()},f.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),f):r&&r.slice()},f.tickFormat=function(e){return arguments.length?(i=e,f):i},f.tickSize=function(e){return arguments.length?(o=s=+e,f):o},f.tickSizeInner=function(e){return arguments.length?(o=+e,f):o},f.tickSizeOuter=function(e){return arguments.length?(s=+e,f):s},f.tickPadding=function(e){return arguments.length?(a=+e,f):a},f.offset=function(e){return arguments.length?(u=+e,f):u},f}function sn(e){return on(Gt,e)}function an(e){return on(Yt,e)}function un(e){return on(Qt,e)}function cn(e){return on(Xt,e)}var ln={value:()=>{}};function hn(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new fn(r)}function fn(e){this._=e}function pn(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function dn(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ln,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}fn.prototype=hn.prototype={constructor:fn,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<a;)if(n=(e=o[s]).type)i[n]=dn(i[n],e.name,t);else if(null==t)for(n in i)i[n]=dn(i[n],e.name,null);return this}for(;++s<a;)if((n=(e=o[s]).type)&&(n=pn(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new fn(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const mn=hn;function yn(){}function vn(e){return null==e?yn:function(){return this.querySelector(e)}}function gn(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function _n(){return[]}function bn(e){return null==e?_n:function(){return this.querySelectorAll(e)}}function wn(e){return function(){return this.matches(e)}}function xn(e){return function(t){return t.matches(e)}}var kn=Array.prototype.find;function En(){return this.firstElementChild}var Sn=Array.prototype.filter;function Tn(){return Array.from(this.children)}function An(e){return new Array(e.length)}function On(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Nn(e,t,n,r,i,o){for(var s,a=0,u=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new On(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function Pn(e,t,n,r,i,o,s){var a,u,c,l=new Map,h=t.length,f=o.length,p=new Array(h);for(a=0;a<h;++a)(u=t[a])&&(p[a]=c=s.call(u,u.__data__,a,t)+"",l.has(c)?i[a]=u:l.set(c,u));for(a=0;a<f;++a)c=s.call(e,o[a],a,o)+"",(u=l.get(c))?(r[a]=u,u.__data__=o[a],l.delete(c)):n[a]=new On(e,o[a]);for(a=0;a<h;++a)(u=t[a])&&l.get(p[a])===u&&(i[a]=u)}function Cn(e){return e.__data__}function Rn(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Ln(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}On.prototype={constructor:On,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var In="http://www.w3.org/1999/xhtml";const Dn={svg:"http://www.w3.org/2000/svg",xhtml:In,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mn(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Dn.hasOwnProperty(t)?{space:Dn[t],local:e}:e}function jn(e){return function(){this.removeAttribute(e)}}function Fn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bn(e,t){return function(){this.setAttribute(e,t)}}function Un(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zn(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Vn(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $n(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qn(e){return function(){this.style.removeProperty(e)}}function Kn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Hn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Wn(e,t){return e.style.getPropertyValue(t)||$n(e).getComputedStyle(e,null).getPropertyValue(t)}function Gn(e){return function(){delete this[e]}}function Yn(e,t){return function(){this[e]=t}}function Qn(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Xn(e){return e.trim().split(/^|\s+/)}function Zn(e){return e.classList||new Jn(e)}function Jn(e){this._node=e,this._names=Xn(e.getAttribute("class")||"")}function er(e,t){for(var n=Zn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function tr(e,t){for(var n=Zn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function nr(e){return function(){er(this,e)}}function rr(e){return function(){tr(this,e)}}function ir(e,t){return function(){(t.apply(this,arguments)?er:tr)(this,e)}}function or(){this.textContent=""}function sr(e){return function(){this.textContent=e}}function ar(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ur(){this.innerHTML=""}function cr(e){return function(){this.innerHTML=e}}function lr(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function hr(){this.nextSibling&&this.parentNode.appendChild(this)}function fr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pr(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===In&&t.documentElement.namespaceURI===In?t.createElement(e):t.createElementNS(n,e)}}function dr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mr(e){var t=Mn(e);return(t.local?dr:pr)(t)}function yr(){return null}function vr(){var e=this.parentNode;e&&e.removeChild(this)}function gr(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _r(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function br(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function wr(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function xr(e,t,n){var r=$n(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function kr(e,t){return function(){return xr(this,e,t)}}function Er(e,t){return function(){return xr(this,e,t.apply(this,arguments))}}Jn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Sr=[null];function Tr(e,t){this._groups=e,this._parents=t}function Ar(){return new Tr([[document.documentElement]],Sr)}Tr.prototype=Ar.prototype={constructor:Tr,select:function(e){"function"!=typeof e&&(e=vn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=t[i],u=a.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=a[l])&&(s=e.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),c[l]=s);return new Tr(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return gn(e.apply(this,arguments))}}(e):bn(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s,a=t[o],u=a.length,c=0;c<u;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),i.push(s));return new Tr(r,i)},selectChild:function(e){return this.select(null==e?En:function(e){return function(){return kn.call(this.children,e)}}("function"==typeof e?e:xn(e)))},selectChildren:function(e){return this.selectAll(null==e?Tn:function(e){return function(){return Sn.call(this.children,e)}}("function"==typeof e?e:xn(e)))},filter:function(e){"function"!=typeof e&&(e=wn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,u=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&u.push(o);return new Tr(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Cn);var n,r=t?Pn:Nn,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=o.length,a=new Array(s),u=new Array(s),c=new Array(s),l=0;l<s;++l){var h=i[l],f=o[l],p=f.length,d=Rn(e.call(h,h&&h.__data__,l,i)),m=d.length,y=u[l]=new Array(m),v=a[l]=new Array(m);r(h,f,y,v,c[l]=new Array(p),d,t);for(var g,_,b=0,w=0;b<m;++b)if(g=y[b]){for(b>=w&&(w=b+1);!(_=v[w])&&++w<m;);g._next=_||null}}return(a=new Tr(a,i))._enter=u,a._exit=c,a},enter:function(){return new Tr(this._enter||this._groups.map(An),this._parents)},exit:function(){return new Tr(this._exit||this._groups.map(An),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var c,l=n[u],h=r[u],f=l.length,p=a[u]=new Array(f),d=0;d<f;++d)(c=l[d]||h[d])&&(p[d]=c);for(;u<i;++u)a[u]=n[u];return new Tr(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ln);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],u=a.length,c=i[o]=new Array(u),l=0;l<u;++l)(s=a[l])&&(c[l]=s);c.sort(t)}return new Tr(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],s=0,a=o.length;s<a;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this},attr:function(e,t){var n=Mn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Fn:jn:"function"==typeof t?n.local?Vn:zn:n.local?Un:Bn)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?qn:"function"==typeof t?Hn:Kn)(e,t,null==n?"":n)):Wn(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Gn:"function"==typeof t?Qn:Yn)(e,t)):this.node()[e]},classed:function(e,t){var n=Xn(e+"");if(arguments.length<2){for(var r=Zn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?ir:t?nr:rr)(n,t))},text:function(e){return arguments.length?this.each(null==e?or:("function"==typeof e?ar:sr)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ur:("function"==typeof e?lr:cr)(e)):this.node().innerHTML},raise:function(){return this.each(hr)},lower:function(){return this.each(fr)},append:function(e){var t="function"==typeof e?e:mr(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:mr(e),r=null==t?yr:"function"==typeof t?t:vn(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(vr)},clone:function(e){return this.select(e?_r:gr)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?wr:br,r=0;r<s;++r)this.each(a(o[r],t,n));return this}var a=this.node().__on;if(a)for(var u,c=0,l=a.length;c<l;++c)for(r=0,u=a[c];r<s;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?Er:kr)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const Or=Ar;function Nr(e){return"string"==typeof e?new Tr([[document.querySelector(e)]],[document.documentElement]):new Tr([[e]],Sr)}const Pr={passive:!1},Cr={capture:!0,passive:!1};function Rr(e){e.stopImmediatePropagation()}function Lr(e){e.preventDefault(),e.stopImmediatePropagation()}function Ir(e){var t=e.document.documentElement,n=Nr(e).on("dragstart.drag",Lr,Cr);"onselectstart"in t?n.on("selectstart.drag",Lr,Cr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Dr(e,t){var n=e.document.documentElement,r=Nr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Lr,Cr),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Mr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Fr(){}var Br=.7,Ur=1/Br,zr="\\s*([+-]?\\d+)\\s*",Vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qr=/^#([0-9a-f]{3,8})$/,Kr=new RegExp(`^rgb\\(${zr},${zr},${zr}\\)$`),Hr=new RegExp(`^rgb\\(${$r},${$r},${$r}\\)$`),Wr=new RegExp(`^rgba\\(${zr},${zr},${zr},${Vr}\\)$`),Gr=new RegExp(`^rgba\\(${$r},${$r},${$r},${Vr}\\)$`),Yr=new RegExp(`^hsl\\(${Vr},${$r},${$r}\\)$`),Qr=new RegExp(`^hsla\\(${Vr},${$r},${$r},${Vr}\\)$`),Xr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zr(){return this.rgb().formatHex()}function Jr(){return this.rgb().formatRgb()}function ei(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ti(t):3===n?new oi(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ni(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ni(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Kr.exec(e))?new oi(t[1],t[2],t[3],1):(t=Hr.exec(e))?new oi(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Wr.exec(e))?ni(t[1],t[2],t[3],t[4]):(t=Gr.exec(e))?ni(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Yr.exec(e))?hi(t[1],t[2]/100,t[3]/100,1):(t=Qr.exec(e))?hi(t[1],t[2]/100,t[3]/100,t[4]):Xr.hasOwnProperty(e)?ti(Xr[e]):"transparent"===e?new oi(NaN,NaN,NaN,0):null}function ti(e){return new oi(e>>16&255,e>>8&255,255&e,1)}function ni(e,t,n,r){return r<=0&&(e=t=n=NaN),new oi(e,t,n,r)}function ri(e){return e instanceof Fr||(e=ei(e)),e?new oi((e=e.rgb()).r,e.g,e.b,e.opacity):new oi}function ii(e,t,n,r){return 1===arguments.length?ri(e):new oi(e,t,n,null==r?1:r)}function oi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function si(){return`#${li(this.r)}${li(this.g)}${li(this.b)}`}function ai(){const e=ui(this.opacity);return`${1===e?"rgb(":"rgba("}${ci(this.r)}, ${ci(this.g)}, ${ci(this.b)}${1===e?")":`, ${e})`}`}function ui(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ci(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function li(e){return((e=ci(e))<16?"0":"")+e.toString(16)}function hi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new di(e,t,n,r)}function fi(e){if(e instanceof di)return new di(e.h,e.s,e.l,e.opacity);if(e instanceof Fr||(e=ei(e)),!e)return new di;if(e instanceof di)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new di(s,a,u,e.opacity)}function pi(e,t,n,r){return 1===arguments.length?fi(e):new di(e,t,n,null==r?1:r)}function di(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function mi(e){return(e=(e||0)%360)<0?e+360:e}function yi(e){return Math.max(0,Math.min(1,e||0))}function vi(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function gi(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function _i(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return gi((n-r/t)*t,s,i,o,a)}}function bi(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return gi((n-r/t)*t,i,o,s,a)}}Mr(Fr,ei,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zr,formatHex:Zr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return fi(this).formatHsl()},formatRgb:Jr,toString:Jr}),Mr(oi,ii,jr(Fr,{brighter(e){return e=null==e?Ur:Math.pow(Ur,e),new oi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Br:Math.pow(Br,e),new oi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oi(ci(this.r),ci(this.g),ci(this.b),ui(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:si,formatHex:si,formatHex8:function(){return`#${li(this.r)}${li(this.g)}${li(this.b)}${li(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ai,toString:ai})),Mr(di,pi,jr(Fr,{brighter(e){return e=null==e?Ur:Math.pow(Ur,e),new di(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Br:Math.pow(Br,e),new di(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new oi(vi(e>=240?e-240:e+120,i,r),vi(e,i,r),vi(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new di(mi(this.h),yi(this.s),yi(this.l),ui(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ui(this.opacity);return`${1===e?"hsl(":"hsla("}${mi(this.h)}, ${100*yi(this.s)}%, ${100*yi(this.l)}%${1===e?")":`, ${e})`}`}}));const wi=e=>()=>e;function xi(e,t){return function(n){return e+n*t}}function ki(e,t){var n=t-e;return n?xi(e,n>180||n<-180?n-360*Math.round(n/360):n):wi(isNaN(e)?t:e)}function Ei(e,t){var n=t-e;return n?xi(e,n):wi(isNaN(e)?t:e)}const Si=function e(t){var n=function(e){return 1==(e=+e)?Ei:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):wi(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=ii(e)).r,(t=ii(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),s=Ei(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function Ti(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=ii(t[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=e(o),s=e(s),a=e(a),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=a(e),r+""}}}var Ai=Ti(_i),Oi=Ti(bi);function Ni(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Pi(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ci(e,t){return(Pi(t)?Ni:Ri)(e,t)}function Ri(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Bi(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}function Li(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ii(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Di(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Bi(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ji=new RegExp(Mi.source,"g");function Fi(e,t){var n,r,i,o=Mi.lastIndex=ji.lastIndex=0,s=-1,a=[],u=[];for(e+="",t+="";(n=Mi.exec(e))&&(r=ji.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,u.push({i:s,x:Ii(n,r)})),o=ji.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)a[(n=u[r]).i]=n.x(e);return a.join("")})}function Bi(e,t){var n,r=typeof t;return null==t||"boolean"===r?wi(t):("number"===r?Ii:"string"===r?(n=ei(t))?(t=n,Si):Fi:t instanceof ei?Si:t instanceof Date?Li:Pi(t)?Ni:Array.isArray(t)?Ri:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Di:Ii)(e,t)}function Ui(e){let t;for(;t=e.sourceEvent;)e=t;return e}function zi(e,t){if(e=Ui(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var Vi,$i,qi=0,Ki=0,Hi=0,Wi=1e3,Gi=0,Yi=0,Qi=0,Xi="object"==typeof performance&&performance.now?performance:Date,Zi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ji(){return Yi||(Zi(eo),Yi=Xi.now()+Qi)}function eo(){Yi=0}function to(){this._call=this._time=this._next=null}function no(e,t,n){var r=new to;return r.restart(e,t,n),r}function ro(){Ji(),++qi;for(var e,t=Vi;t;)(e=Yi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--qi}function io(){Yi=(Gi=Xi.now())+Qi,qi=Ki=0;try{ro()}finally{qi=0,function(){for(var e,t,n=Vi,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Vi=t);$i=e,so(r)}(),Yi=0}}function oo(){var e=Xi.now(),t=e-Gi;t>Wi&&(Qi-=t,Gi=e)}function so(e){qi||(Ki&&(Ki=clearTimeout(Ki)),e-Yi>24?(e<1/0&&(Ki=setTimeout(io,e-Xi.now()-Qi)),Hi&&(Hi=clearInterval(Hi))):(Hi||(Gi=Xi.now(),Hi=setInterval(oo,Wi)),qi=1,Zi(io)))}function ao(e,t,n){var r=new to;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}to.prototype=no.prototype={constructor:to,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Ji():+n)+(null==t?0:+t),this._next||$i===this||($i?$i._next=this:Vi=this,$i=this),this._call=e,this._time=n,so()},stop:function(){this._call&&(this._call=null,this._time=1/0,so())}};var uo=mn("start","end","cancel","interrupt"),co=[],lo=0,ho=1,fo=2,po=3,mo=5,yo=6;function vo(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(u){var c,l,h,f;if(n.state!==ho)return a();for(c in i)if((f=i[c]).name===n.name){if(f.state===po)return ao(o);4===f.state?(f.state=yo,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[c]):+c<t&&(f.state=yo,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[c])}if(ao((function(){n.state===po&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(u))})),n.state=fo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===fo){for(n.state=po,r=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++l]=f);r.length=l+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=mo,1),o=-1,s=r.length;++o<s;)r[o].call(e,i);n.state===mo&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){for(var r in n.state=yo,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=no((function(e){n.state=ho,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:uo,tween:co,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:lo})}function go(e,t){var n=bo(e,t);if(n.state>lo)throw new Error("too late; already scheduled");return n}function _o(e,t){var n=bo(e,t);if(n.state>po)throw new Error("too late; already running");return n}function bo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function wo(e,t){var n,r,i,o=e.__transition,s=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>fo&&n.state<mo,n.state=yo,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete e.__transition}}var xo,ko=180/Math.PI,Eo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function So(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ko,skewX:Math.atan(u)*ko,scaleX:s,scaleY:a}}function To(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,s){var a=[],u=[];return o=e(o),s=e(s),function(e,r,i,o,s,a){if(e!==i||r!==o){var u=s.push("translate(",null,t,null,n);a.push({i:u-4,x:Ii(e,i)},{i:u-2,x:Ii(r,o)})}else(i||o)&&s.push("translate("+i+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,u),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ii(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,s.rotate,a,u),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ii(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,s.skewX,a,u),function(e,t,n,r,o,s){if(e!==n||t!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Ii(e,n)},{i:a-2,x:Ii(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,u),o=s=null,function(e){for(var t,n=-1,r=u.length;++n<r;)a[(t=u[n]).i]=t.x(e);return a.join("")}}}var Ao=To((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Eo:So(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Oo=To((function(e){return null==e?Eo:(xo||(xo=document.createElementNS("http://www.w3.org/2000/svg","g")),xo.setAttribute("transform",e),(e=xo.transform.baseVal.consolidate())?So((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Eo)}),", ",")",")");function No(e,t){var n,r;return function(){var i=_o(this,e),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function Po(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=_o(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=a;break}u===c&&i.push(a)}o.tween=i}}function Co(e,t,n){var r=e._id;return e.each((function(){var e=_o(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return bo(e,r).value[t]}}function Ro(e,t){var n;return("number"==typeof t?Ii:t instanceof ei?Si:(n=ei(t))?(t=n,Si):Fi)(e,t)}function Lo(e){return function(){this.removeAttribute(e)}}function Io(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Do(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function Mo(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function jo(e,t,n){var r,i,o;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttribute(e))===(a=u+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,u));this.removeAttribute(e)}}function Fo(e,t,n){var r,i,o;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttributeNS(e.space,e.local))===(a=u+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,u));this.removeAttributeNS(e.space,e.local)}}function Bo(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Uo(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function zo(e,t){return function(){go(this,e).delay=+t.apply(this,arguments)}}function Vo(e,t){return t=+t,function(){go(this,e).delay=t}}function $o(e,t){return function(){_o(this,e).duration=+t.apply(this,arguments)}}function qo(e,t){return t=+t,function(){_o(this,e).duration=t}}var Ko=Or.prototype.constructor;function Ho(e){return function(){this.style.removeProperty(e)}}var Wo=0;function Go(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Yo(e){return Or().transition(e)}function Qo(){return++Wo}var Xo=Or.prototype;function Zo(e){return e*e*e}function Jo(e){return--e*e*e+1}function es(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Go.prototype=Yo.prototype={constructor:Go,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=vn(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,u,c=r[s],l=c.length,h=o[s]=new Array(l),f=0;f<l;++f)(a=c[f])&&(u=e.call(a,a.__data__,f,c))&&("__data__"in a&&(u.__data__=a.__data__),h[f]=u,vo(h[f],t,n,f,h,bo(a,n)));return new Go(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=bn(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u,c=r[a],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var f,p=e.call(u,u.__data__,h,c),d=bo(u,n),m=0,y=p.length;m<y;++m)(f=p[m])&&vo(f,t,n,m,p,d);o.push(p),s.push(u)}return new Go(o,s,t,n)},selectChild:Xo.selectChild,selectChildren:Xo.selectChildren,filter:function(e){"function"!=typeof e&&(e=wn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,u=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&u.push(o);return new Go(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u,c=t[a],l=n[a],h=c.length,f=s[a]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;a<r;++a)s[a]=t[a];return new Go(s,this._parents,this._name,this._id)},selection:function(){return new Ko(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Qo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],u=a.length,c=0;c<u;++c)if(s=a[c]){var l=bo(s,t);vo(s,e,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Go(r,this._parents,e,n)},call:Xo.call,nodes:Xo.nodes,node:Xo.node,size:Xo.size,empty:Xo.empty,each:Xo.each,on:function(e,t){var n=this._id;return arguments.length<2?bo(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?go:_o;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=Mn(e),r="transform"===n?Oo:Ro;return this.attrTween(e,"function"==typeof t?(n.local?Fo:jo)(n,r,Co(this,"attr."+e,t)):null==t?(n.local?Io:Lo)(n):(n.local?Mo:Do)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Mn(e);return this.tween(n,(r.local?Bo:Uo)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Ao:Ro;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=Wn(this,e),s=(this.style.removeProperty(e),Wn(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}(e,r)).on("end.style."+e,Ho(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var s=Wn(this,e),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(e),u=a=Wn(this,e)),s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}(e,r,Co(this,"style."+e,t))).each(function(e,t){var n,r,i,o,s="style."+t,a="end."+s;return function(){var u=_o(this,e),c=u.on,l=null==u.value[s]?o||(o=Ho(t)):void 0;c===n&&i===l||(r=(n=c).copy()).on(a,i=l),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var s=Wn(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Co(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=bo(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?No:Po)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?zo:Vo)(t,e)):bo(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?$o:qo)(t,e)):bo(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){_o(this,e).ease=t}}(t,e)):bo(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;_o(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},u={value:function(){0==--i&&o()}};n.each((function(){var n=_o(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:Xo[Symbol.iterator]};var ts={time:null,delay:0,duration:250,ease:es};function ns(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Or.prototype.interrupt=function(e){return this.each((function(){wo(this,e)}))},Or.prototype.transition=function(e){var t,n;e instanceof Go?(t=e._id,e=e._name):(t=Qo(),(n=ts).time=Ji(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],u=a.length,c=0;c<u;++c)(s=a[c])&&vo(s,e,t,c,a,n||ns(s,t));return new Go(r,this._parents,e,t)};var rs=[null];function is(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>ho&&n.name===t)return new Go([[e]],rs,t,+r);return null}const os=e=>()=>e;function ss(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function as(e){e.preventDefault(),e.stopImmediatePropagation()}var us={name:"drag"},cs={name:"space"},ls={name:"handle"},hs={name:"center"};const{abs:fs,max:ps,min:ds}=Math;function ms(e){return[+e[0],+e[1]]}function ys(e){return[ms(e[0]),ms(e[1])]}var vs={name:"x",handles:["w","e"].map(Ss),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},gs={name:"y",handles:["n","s"].map(Ss),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},_s={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ss),input:function(e){return null==e?null:ys(e)},output:function(e){return e}},bs={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ws={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},xs={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ks={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Es={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ss(e){return{type:e}}function Ts(e){return!e.ctrlKey&&!e.button}function As(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Os(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ns(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Ps(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function Cs(){return Is(vs)}function Rs(){return Is(gs)}function Ls(){return Is(_s)}function Is(e){var t,n=As,r=Ts,i=Os,o=!0,s=mn("start","brush","end"),a=6;function u(t){var n=t.property("__brush",m).selectAll(".overlay").data([Ss("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",bs.overlay).merge(n).each((function(){var e=Ns(this).extent;Nr(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([Ss("selection")]).enter().append("rect").attr("class","selection").attr("cursor",bs.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return bs[e.type]})),t.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var e=Nr(this),t=Ns(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-a/2:t[0][0]-a/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-a/2:t[0][1]-a/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+a:a})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+a:a}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new h(e,t,n):r}function h(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function f(n){if((!t||n.touches)&&r.apply(this,arguments)){var i,s,a,u,h,f,p,d,m,y,v,g=this,_=n.target.__data__.type,b="selection"===(o&&n.metaKey?_="overlay":_)?us:o&&n.altKey?hs:ls,w=e===gs?null:ks[_],x=e===vs?null:Es[_],k=Ns(g),E=k.extent,S=k.selection,T=E[0][0],A=E[0][1],O=E[1][0],N=E[1][1],P=0,C=0,R=w&&x&&o&&n.shiftKey,L=Array.from(n.touches||[n],(e=>{const t=e.identifier;return(e=zi(e,g)).point0=e.slice(),e.identifier=t,e}));wo(g);var I=l(g,arguments,!0).beforestart();if("overlay"===_){S&&(m=!0);const t=[L[0],L[1]||L[0]];k.selection=S=[[i=e===gs?T:ds(t[0][0],t[1][0]),a=e===vs?A:ds(t[0][1],t[1][1])],[h=e===gs?O:ps(t[0][0],t[1][0]),p=e===vs?N:ps(t[0][1],t[1][1])]],L.length>1&&B(n)}else i=S[0][0],a=S[0][1],h=S[1][0],p=S[1][1];s=i,u=a,f=h,d=p;var D=Nr(g).attr("pointer-events","none"),M=D.selectAll(".overlay").attr("cursor",bs[_]);if(n.touches)I.moved=F,I.ended=U;else{var j=Nr(n.view).on("mousemove.brush",F,!0).on("mouseup.brush",U,!0);o&&j.on("keydown.brush",(function(e){switch(e.keyCode){case 16:R=w&&x;break;case 18:b===ls&&(w&&(h=f-P*w,i=s+P*w),x&&(p=d-C*x,a=u+C*x),b=hs,B(e));break;case 32:b!==ls&&b!==hs||(w<0?h=f-P:w>0&&(i=s-P),x<0?p=d-C:x>0&&(a=u-C),b=cs,M.attr("cursor",bs.selection),B(e));break;default:return}as(e)}),!0).on("keyup.brush",(function(e){switch(e.keyCode){case 16:R&&(y=v=R=!1,B(e));break;case 18:b===hs&&(w<0?h=f:w>0&&(i=s),x<0?p=d:x>0&&(a=u),b=ls,B(e));break;case 32:b===cs&&(e.altKey?(w&&(h=f-P*w,i=s+P*w),x&&(p=d-C*x,a=u+C*x),b=hs):(w<0?h=f:w>0&&(i=s),x<0?p=d:x>0&&(a=u),b=ls),M.attr("cursor",bs[_]),B(e));break;default:return}as(e)}),!0),Ir(n.view)}c.call(g),I.start(n,b.name)}function F(e){for(const t of e.changedTouches||[e])for(const e of L)e.identifier===t.identifier&&(e.cur=zi(t,g));if(R&&!y&&!v&&1===L.length){const e=L[0];fs(e.cur[0]-e[0])>fs(e.cur[1]-e[1])?v=!0:y=!0}for(const e of L)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);m=!0,as(e),B(e)}function B(e){const t=L[0],n=t.point0;var r;switch(P=t[0]-n[0],C=t[1]-n[1],b){case cs:case us:w&&(P=ps(T-i,ds(O-h,P)),s=i+P,f=h+P),x&&(C=ps(A-a,ds(N-p,C)),u=a+C,d=p+C);break;case ls:L[1]?(w&&(s=ps(T,ds(O,L[0][0])),f=ps(T,ds(O,L[1][0])),w=1),x&&(u=ps(A,ds(N,L[0][1])),d=ps(A,ds(N,L[1][1])),x=1)):(w<0?(P=ps(T-i,ds(O-i,P)),s=i+P,f=h):w>0&&(P=ps(T-h,ds(O-h,P)),s=i,f=h+P),x<0?(C=ps(A-a,ds(N-a,C)),u=a+C,d=p):x>0&&(C=ps(A-p,ds(N-p,C)),u=a,d=p+C));break;case hs:w&&(s=ps(T,ds(O,i-P*w)),f=ps(T,ds(O,h+P*w))),x&&(u=ps(A,ds(N,a-C*x)),d=ps(A,ds(N,p+C*x)))}f<s&&(w*=-1,r=i,i=h,h=r,r=s,s=f,f=r,_ in ws&&M.attr("cursor",bs[_=ws[_]])),d<u&&(x*=-1,r=a,a=p,p=r,r=u,u=d,d=r,_ in xs&&M.attr("cursor",bs[_=xs[_]])),k.selection&&(S=k.selection),y&&(s=S[0][0],f=S[1][0]),v&&(u=S[0][1],d=S[1][1]),S[0][0]===s&&S[0][1]===u&&S[1][0]===f&&S[1][1]===d||(k.selection=[[s,u],[f,d]],c.call(g),I.brush(e,b.name))}function U(e){if(function(e){e.stopImmediatePropagation()}(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else Dr(e.view,m),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),M.attr("cursor",bs.overlay),k.selection&&(S=k.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(S)&&(k.selection=null,c.call(g)),I.end(e,b.name)}}function p(e){l(this,arguments).moved(e)}function d(e){l(this,arguments).ended(e)}function m(){var t=this.__brush||{selection:null};return t.extent=ys(n.apply(this,arguments)),t.dim=e,t}return u.move=function(t,n,r){t.tween?t.on("start.brush",(function(e){l(this,arguments).beforestart().start(e)})).on("interrupt.brush end.brush",(function(e){l(this,arguments).end(e)})).tween("brush",(function(){var t=this,r=t.__brush,i=l(t,arguments),o=r.selection,s=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),a=Bi(o,s);function u(e){r.selection=1===e&&null===s?null:a(e),c.call(t),i.brush()}return null!==o&&null!==s?u:u(1)})):t.each((function(){var t=this,i=arguments,o=t.__brush,s=e.input("function"==typeof n?n.apply(t,i):n,o.extent),a=l(t,i).beforestart();wo(t),o.selection=null===s?null:s,c.call(t),a.start(r).brush(r).end(r)}))},u.clear=function(e,t){u.move(e,null,t)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0==--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var i=Nr(this.that).datum();s.call(t,this.that,new ss(t,{sourceEvent:n,target:u,selection:e.output(this.state.selection),mode:r,dispatch:s}),i)}},u.extent=function(e){return arguments.length?(n="function"==typeof e?e:os(ys(e)),u):n},u.filter=function(e){return arguments.length?(r="function"==typeof e?e:os(!!e),u):r},u.touchable=function(e){return arguments.length?(i="function"==typeof e?e:os(!!e),u):i},u.handleSize=function(e){return arguments.length?(a=+e,u):a},u.keyModifiers=function(e){return arguments.length?(o=!!e,u):o},u.on=function(){var e=s.on.apply(s,arguments);return e===s?u:e},u}var Ds=Math.abs,Ms=Math.cos,js=Math.sin,Fs=Math.PI,Bs=Fs/2,Us=2*Fs,zs=Math.max,Vs=1e-12;function $s(e,t){return Array.from({length:t-e},((t,n)=>e+n))}function qs(){return Ws(!1,!1)}function Ks(){return Ws(!1,!0)}function Hs(){return Ws(!0,!1)}function Ws(e,t){var n=0,r=null,i=null,o=null;function s(s){var a,u=s.length,c=new Array(u),l=$s(0,u),h=new Array(u*u),f=new Array(u),p=0;s=Float64Array.from({length:u*u},t?(e,t)=>s[t%u][t/u|0]:(e,t)=>s[t/u|0][t%u]);for(let t=0;t<u;++t){let n=0;for(let r=0;r<u;++r)n+=s[t*u+r]+e*s[r*u+t];p+=c[t]=n}a=(p=zs(0,Us-n*u)/p)?n:Us/u;{let t=0;r&&l.sort(((e,t)=>r(c[e],c[t])));for(const n of l){const r=t;if(e){const e=$s(1+~u,u).filter((e=>e<0?s[~e*u+n]:s[n*u+e]));i&&e.sort(((e,t)=>i(e<0?-s[~e*u+n]:s[n*u+e],t<0?-s[~t*u+n]:s[n*u+t])));for(const r of e)r<0?(h[~r*u+n]||(h[~r*u+n]={source:null,target:null})).target={index:n,startAngle:t,endAngle:t+=s[~r*u+n]*p,value:s[~r*u+n]}:(h[n*u+r]||(h[n*u+r]={source:null,target:null})).source={index:n,startAngle:t,endAngle:t+=s[n*u+r]*p,value:s[n*u+r]};f[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}else{const e=$s(0,u).filter((e=>s[n*u+e]||s[e*u+n]));i&&e.sort(((e,t)=>i(s[n*u+e],s[n*u+t])));for(const r of e){let e;if(n<r?(e=h[n*u+r]||(h[n*u+r]={source:null,target:null}),e.source={index:n,startAngle:t,endAngle:t+=s[n*u+r]*p,value:s[n*u+r]}):(e=h[r*u+n]||(h[r*u+n]={source:null,target:null}),e.target={index:n,startAngle:t,endAngle:t+=s[n*u+r]*p,value:s[n*u+r]},n===r&&(e.source=e.target)),e.source&&e.target&&e.source.value<e.target.value){const t=e.source;e.source=e.target,e.target=t}}f[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}t+=a}}return(h=Object.values(h)).groups=f,o?h.sort(o):h}return s.padAngle=function(e){return arguments.length?(n=zs(0,e),s):n},s.sortGroups=function(e){return arguments.length?(r=e,s):r},s.sortSubgroups=function(e){return arguments.length?(i=e,s):i},s.sortChords=function(e){return arguments.length?(null==e?o=null:(t=e,o=function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)})._=e,s):o&&o._;var t},s}const Gs=Math.PI,Ys=2*Gs,Qs=1e-6,Xs=Ys-Qs;function Zs(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Js{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Zs:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Zs;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,a=n-e,u=r-t,c=o-e,l=s-t,h=c*c+l*l;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>Qs)if(Math.abs(l*a-u*c)>Qs&&i){let f=n-o,p=r-s,d=a*a+u*u,m=f*f+p*p,y=Math.sqrt(d),v=Math.sqrt(h),g=i*Math.tan((Gs-Math.acos((d+h-m)/(2*y*v)))/2),_=g/v,b=g/y;Math.abs(_-1)>Qs&&this._append`L${e+_*c},${t+_*l}`,this._append`A${i},${i},0,0,${+(l*f>c*p)},${this._x1=e+b*a},${this._y1=t+b*u}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),a=n*Math.sin(r),u=e+s,c=t+a,l=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Qs||Math.abs(this._y1-c)>Qs)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%Ys+Ys),h>Xs?this._append`A${n},${n},0,1,${l},${e-s},${t-a}A${n},${n},0,1,${l},${this._x1=u},${this._y1=c}`:h>Qs&&this._append`A${n},${n},0,${+(h>=Gs)},${l},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function ea(){return new Js}function ta(e=3){return new Js(+e)}ea.prototype=Js.prototype;var na=Array.prototype.slice;function ra(e){return function(){return e}}function ia(e){return e.source}function oa(e){return e.target}function sa(e){return e.radius}function aa(e){return e.startAngle}function ua(e){return e.endAngle}function ca(){return 0}function la(){return 10}function ha(e){var t=ia,n=oa,r=sa,i=sa,o=aa,s=ua,a=ca,u=null;function c(){var c,l=t.apply(this,arguments),h=n.apply(this,arguments),f=a.apply(this,arguments)/2,p=na.call(arguments),d=+r.apply(this,(p[0]=l,p)),m=o.apply(this,p)-Bs,y=s.apply(this,p)-Bs,v=+i.apply(this,(p[0]=h,p)),g=o.apply(this,p)-Bs,_=s.apply(this,p)-Bs;if(u||(u=c=ea()),f>Vs&&(Ds(y-m)>2*f+Vs?y>m?(m+=f,y-=f):(m-=f,y+=f):m=y=(m+y)/2,Ds(_-g)>2*f+Vs?_>g?(g+=f,_-=f):(g-=f,_+=f):g=_=(g+_)/2),u.moveTo(d*Ms(m),d*js(m)),u.arc(0,0,d,m,y),m!==g||y!==_)if(e){var b=v-+e.apply(this,arguments),w=(g+_)/2;u.quadraticCurveTo(0,0,b*Ms(g),b*js(g)),u.lineTo(v*Ms(w),v*js(w)),u.lineTo(b*Ms(_),b*js(_))}else u.quadraticCurveTo(0,0,v*Ms(g),v*js(g)),u.arc(0,0,v,g,_);if(u.quadraticCurveTo(0,0,d*Ms(m),d*js(m)),u.closePath(),c)return u=null,c+""||null}return e&&(c.headRadius=function(t){return arguments.length?(e="function"==typeof t?t:ra(+t),c):e}),c.radius=function(e){return arguments.length?(r=i="function"==typeof e?e:ra(+e),c):r},c.sourceRadius=function(e){return arguments.length?(r="function"==typeof e?e:ra(+e),c):r},c.targetRadius=function(e){return arguments.length?(i="function"==typeof e?e:ra(+e),c):i},c.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:ra(+e),c):o},c.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:ra(+e),c):s},c.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:ra(+e),c):a},c.source=function(e){return arguments.length?(t=e,c):t},c.target=function(e){return arguments.length?(n=e,c):n},c.context=function(e){return arguments.length?(u=null==e?null:e,c):u},c}function fa(){return ha()}function pa(){return ha(la)}const da=Math.PI/180,ma=180/Math.PI,ya=.96422,va=1,ga=.82521,_a=4/29,ba=6/29,wa=3*ba*ba,xa=ba*ba*ba;function ka(e){if(e instanceof Ta)return new Ta(e.l,e.a,e.b,e.opacity);if(e instanceof Ia)return Da(e);e instanceof oi||(e=ri(e));var t,n,r=Pa(e.r),i=Pa(e.g),o=Pa(e.b),s=Aa((.2225045*r+.7168786*i+.0606169*o)/va);return r===i&&i===o?t=n=s:(t=Aa((.4360747*r+.3850649*i+.1430804*o)/ya),n=Aa((.0139322*r+.0971045*i+.7141733*o)/ga)),new Ta(116*s-16,500*(t-s),200*(s-n),e.opacity)}function Ea(e,t){return new Ta(e,0,0,null==t?1:t)}function Sa(e,t,n,r){return 1===arguments.length?ka(e):new Ta(e,t,n,null==r?1:r)}function Ta(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Aa(e){return e>xa?Math.pow(e,1/3):e/wa+_a}function Oa(e){return e>ba?e*e*e:wa*(e-_a)}function Na(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Pa(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ca(e){if(e instanceof Ia)return new Ia(e.h,e.c,e.l,e.opacity);if(e instanceof Ta||(e=ka(e)),0===e.a&&0===e.b)return new Ia(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ma;return new Ia(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Ra(e,t,n,r){return 1===arguments.length?Ca(e):new Ia(n,t,e,null==r?1:r)}function La(e,t,n,r){return 1===arguments.length?Ca(e):new Ia(e,t,n,null==r?1:r)}function Ia(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Da(e){if(isNaN(e.h))return new Ta(e.l,0,0,e.opacity);var t=e.h*da;return new Ta(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Mr(Ta,Sa,jr(Fr,{brighter(e){return new Ta(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new Ta(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new oi(Na(3.1338561*(t=ya*Oa(t))-1.6168667*(e=va*Oa(e))-.4906146*(n=ga*Oa(n))),Na(-.9787684*t+1.9161415*e+.033454*n),Na(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Mr(Ia,La,jr(Fr,{brighter(e){return new Ia(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new Ia(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return Da(this).rgb()}}));var Ma=-.14861,ja=1.78277,Fa=-.29227,Ba=-.90649,Ua=1.97294,za=Ua*Ba,Va=Ua*ja,$a=ja*Fa-Ba*Ma;function qa(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Ka)return new Ka(e.h,e.s,e.l,e.opacity);e instanceof oi||(e=ri(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=($a*r+za*t-Va*n)/($a+za-Va),o=r-i,s=(Ua*(n-i)-Fa*o)/Ba,a=Math.sqrt(s*s+o*o)/(Ua*i*(1-i)),u=a?Math.atan2(s,o)*ma-120:NaN;return new Ka(u<0?u+360:u,a,i,e.opacity)}(e):new Ka(e,t,n,null==r?1:r)}function Ka(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Mr(Ka,qa,jr(Fr,{brighter(e){return e=null==e?Ur:Math.pow(Ur,e),new Ka(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Br:Math.pow(Br,e),new Ka(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*da,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new oi(255*(t+n*(Ma*r+ja*i)),255*(t+n*(Fa*r+Ba*i)),255*(t+n*(Ua*r)),this.opacity)}}));var Ha=Array.prototype.slice;function Wa(e,t){return e-t}const Ga=e=>()=>e;function Ya(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=Qa(e,t[r]))return n;return 0}function Qa(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var u=e[o],c=u[0],l=u[1],h=e[a],f=h[0],p=h[1];if(Xa(u,h,t))return 0;l>r!=p>r&&n<(f-c)*(r-l)/(p-l)+c&&(i=-i)}return i}function Xa(e,t,n){var r,i,o,s;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],o=n[r],s=t[r],i<=o&&o<=s||s<=o&&o<=i)}function Za(){}var Ja=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function eu(){var e=1,t=1,n=et,r=a;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(Wa);else{const n=ye(e,tu);for(t=Qe(...Je(n[0],n[1],t),t);t[t.length-1]>=n[1];)t.pop();for(;t[1]<n[0];)t.shift()}return t.map((t=>o(e,t)))}function o(n,i){const o=null==i?NaN:+i;if(isNaN(o))throw new Error(`invalid value: ${i}`);var a=[],u=[];return function(n,r,i){var o,a,u,c,l,h,f=new Array,p=new Array;for(o=a=-1,c=nu(n[0],r),Ja[c<<1].forEach(d);++o<e-1;)u=c,c=nu(n[o+1],r),Ja[u|c<<1].forEach(d);for(Ja[0|c].forEach(d);++a<t-1;){for(o=-1,c=nu(n[a*e+e],r),l=nu(n[a*e],r),Ja[c<<1|l<<2].forEach(d);++o<e-1;)u=c,c=nu(n[a*e+e+o+1],r),h=l,l=nu(n[a*e+o+1],r),Ja[u|c<<1|l<<2|h<<3].forEach(d);Ja[c|l<<3].forEach(d)}for(o=-1,l=n[a*e]>=r,Ja[l<<2].forEach(d);++o<e-1;)h=l,l=nu(n[a*e+o+1],r),Ja[l<<2|h<<3].forEach(d);function d(e){var t,n,r=[e[0][0]+o,e[0][1]+a],u=[e[1][0]+o,e[1][1]+a],c=s(r),l=s(u);(t=p[c])?(n=f[l])?(delete p[t.end],delete f[n.start],t===n?(t.ring.push(u),i(t.ring)):f[t.start]=p[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete p[t.end],t.ring.push(u),p[t.end=l]=t):(t=f[l])?(n=p[c])?(delete f[t.start],delete p[n.end],t===n?(t.ring.push(u),i(t.ring)):f[n.start]=p[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete f[t.start],t.ring.unshift(r),f[t.start=c]=t):f[c]=p[l]={start:c,end:l,ring:[r,u]}}Ja[l<<3].forEach(d)}(n,o,(function(e){r(e,n,o),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?a.push([e]):u.push(e)})),u.forEach((function(e){for(var t,n=0,r=a.length;n<r;++n)if(-1!==Ya((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:a}}function s(t){return 2*t[0]+t[1]*(e+1)*4}function a(n,r,i){n.forEach((function(n){var o=n[0],s=n[1],a=0|o,u=0|s,c=ru(r[u*e+a]);o>0&&o<e&&a===o&&(n[0]=iu(o,ru(r[u*e+a-1]),c,i)),s>0&&s<t&&u===s&&(n[1]=iu(s,ru(r[(u-1)*e+a]),c,i))}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.floor(n[0]),o=Math.floor(n[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return e=r,t=o,i},i.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?Ga(Ha.call(e)):Ga(e),i):n},i.smooth=function(e){return arguments.length?(r=e?a:Za,i):r===a},i}function tu(e){return isFinite(e)?e:NaN}function nu(e,t){return null!=e&&+e>=t}function ru(e){return null==e||isNaN(e=+e)?-1/0:e}function iu(e,t,n,r){const i=r-t,o=n-t,s=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(s)?e:e+s-.5}function ou(e){return e[0]}function su(e){return e[1]}function au(){return 1}function uu(){var e=ou,t=su,n=au,r=960,i=500,o=20,s=2,a=3*o,u=r+2*a>>s,c=i+2*a>>s,l=Ga(20);function h(r){var i=new Float32Array(u*c),l=Math.pow(2,-s),h=-1;for(const o of r){var f=(e(o,++h,r)+a)*l,p=(t(o,h,r)+a)*l,d=+n(o,h,r);if(d&&f>=0&&f<u&&p>=0&&p<c){var m=Math.floor(f),y=Math.floor(p),v=f-m-.5,g=p-y-.5;i[m+y*u]+=(1-v)*(1-g)*d,i[m+1+y*u]+=v*(1-g)*d,i[m+1+(y+1)*u]+=v*g*d,i[m+(y+1)*u]+=(1-v)*g*d}}return ne({data:i,width:u,height:c},o*l),i}function f(e){var t=h(e),n=l(t),r=Math.pow(2,2*s);return Array.isArray(n)||(n=Qe(Number.MIN_VALUE,nt(t)/r,n)),eu().size([u,c]).thresholds(n.map((e=>e*r)))(t).map(((e,t)=>(e.value=+n[t],p(e))))}function p(e){return e.coordinates.forEach(d),e}function d(e){e.forEach(m)}function m(e){e.forEach(y)}function y(e){e[0]=e[0]*Math.pow(2,s)-a,e[1]=e[1]*Math.pow(2,s)-a}function v(){return u=r+2*(a=3*o)>>s,c=i+2*a>>s,f}return f.contours=function(e){var t=h(e),n=eu().size([u,c]),r=Math.pow(2,2*s),i=e=>{e=+e;var i=p(n.contour(t,e*r));return i.value=e,i};return Object.defineProperty(i,"max",{get:()=>nt(t)/r}),i},f.x=function(t){return arguments.length?(e="function"==typeof t?t:Ga(+t),f):e},f.y=function(e){return arguments.length?(t="function"==typeof e?e:Ga(+e),f):t},f.weight=function(e){return arguments.length?(n="function"==typeof e?e:Ga(+e),f):n},f.size=function(e){if(!arguments.length)return[r,i];var t=+e[0],n=+e[1];if(!(t>=0&&n>=0))throw new Error("invalid size");return r=t,i=n,v()},f.cellSize=function(e){if(!arguments.length)return 1<<s;if(!((e=+e)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(e)/Math.LN2),v()},f.thresholds=function(e){return arguments.length?(l="function"==typeof e?e:Array.isArray(e)?Ga(Ha.call(e)):Ga(e),f):l},f.bandwidth=function(e){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*e*e+1)-1)/2,v()},f}const cu=134217729;function lu(e,t,n,r,i){let o,s,a,u,c=t[0],l=r[0],h=0,f=0;l>c==l>-c?(o=c,c=t[++h]):(o=l,l=r[++f]);let p=0;if(h<e&&f<n)for(l>c==l>-c?(s=c+o,a=o-(s-c),c=t[++h]):(s=l+o,a=o-(s-l),l=r[++f]),o=s,0!==a&&(i[p++]=a);h<e&&f<n;)l>c==l>-c?(s=o+c,u=s-o,a=o-(s-u)+(c-u),c=t[++h]):(s=o+l,u=s-o,a=o-(s-u)+(l-u),l=r[++f]),o=s,0!==a&&(i[p++]=a);for(;h<e;)s=o+c,u=s-o,a=o-(s-u)+(c-u),c=t[++h],o=s,0!==a&&(i[p++]=a);for(;f<n;)s=o+l,u=s-o,a=o-(s-u)+(l-u),l=r[++f],o=s,0!==a&&(i[p++]=a);return 0===o&&0!==p||(i[p++]=o),p}function hu(e){return new Float64Array(e)}const fu=hu(4),pu=hu(8),du=hu(12),mu=hu(16),yu=hu(4);function vu(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),u=s-a,c=Math.abs(s+a);return Math.abs(u)>=33306690738754716e-32*c?u:-function(e,t,n,r,i,o,s){let a,u,c,l,h,f,p,d,m,y,v,g,_,b,w,x,k,E;const S=e-i,T=n-i,A=t-o,O=r-o;b=S*O,f=cu*S,p=f-(f-S),d=S-p,f=cu*O,m=f-(f-O),y=O-m,w=d*y-(b-p*m-d*m-p*y),x=A*T,f=cu*A,p=f-(f-A),d=A-p,f=cu*T,m=f-(f-T),y=T-m,k=d*y-(x-p*m-d*m-p*y),v=w-k,h=w-v,fu[0]=w-(v+h)+(h-k),g=b+v,h=g-b,_=b-(g-h)+(v-h),v=_-x,h=_-v,fu[1]=_-(v+h)+(h-x),E=g+v,h=E-g,fu[2]=g-(E-h)+(v-h),fu[3]=E;let N=function(e,t){let n=t[0];for(let e=1;e<4;e++)n+=t[e];return n}(0,fu),P=22204460492503146e-32*s;if(N>=P||-N>=P)return N;if(h=e-S,a=e-(S+h)+(h-i),h=n-T,c=n-(T+h)+(h-i),h=t-A,u=t-(A+h)+(h-o),h=r-O,l=r-(O+h)+(h-o),0===a&&0===u&&0===c&&0===l)return N;if(P=11093356479670487e-47*s+33306690738754706e-32*Math.abs(N),N+=S*l+O*a-(A*c+T*u),N>=P||-N>=P)return N;b=a*O,f=cu*a,p=f-(f-a),d=a-p,f=cu*O,m=f-(f-O),y=O-m,w=d*y-(b-p*m-d*m-p*y),x=u*T,f=cu*u,p=f-(f-u),d=u-p,f=cu*T,m=f-(f-T),y=T-m,k=d*y-(x-p*m-d*m-p*y),v=w-k,h=w-v,yu[0]=w-(v+h)+(h-k),g=b+v,h=g-b,_=b-(g-h)+(v-h),v=_-x,h=_-v,yu[1]=_-(v+h)+(h-x),E=g+v,h=E-g,yu[2]=g-(E-h)+(v-h),yu[3]=E;const C=lu(4,fu,4,yu,pu);b=S*l,f=cu*S,p=f-(f-S),d=S-p,f=cu*l,m=f-(f-l),y=l-m,w=d*y-(b-p*m-d*m-p*y),x=A*c,f=cu*A,p=f-(f-A),d=A-p,f=cu*c,m=f-(f-c),y=c-m,k=d*y-(x-p*m-d*m-p*y),v=w-k,h=w-v,yu[0]=w-(v+h)+(h-k),g=b+v,h=g-b,_=b-(g-h)+(v-h),v=_-x,h=_-v,yu[1]=_-(v+h)+(h-x),E=g+v,h=E-g,yu[2]=g-(E-h)+(v-h),yu[3]=E;const R=lu(C,pu,4,yu,du);b=a*l,f=cu*a,p=f-(f-a),d=a-p,f=cu*l,m=f-(f-l),y=l-m,w=d*y-(b-p*m-d*m-p*y),x=u*c,f=cu*u,p=f-(f-u),d=u-p,f=cu*c,m=f-(f-c),y=c-m,k=d*y-(x-p*m-d*m-p*y),v=w-k,h=w-v,yu[0]=w-(v+h)+(h-k),g=b+v,h=g-b,_=b-(g-h)+(v-h),v=_-x,h=_-v,yu[1]=_-(v+h)+(h-x),E=g+v,h=E-g,yu[2]=g-(E-h)+(v-h),yu[3]=E;const L=lu(R,du,4,yu,mu);return mu[L-1]}(e,t,n,r,i,o,c)}hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(8),hu(8),hu(8),hu(4),hu(8),hu(8),hu(8),hu(12),hu(192),hu(192),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(8),hu(8),hu(8),hu(8),hu(8),hu(8),hu(8),hu(8),hu(8),hu(4),hu(4),hu(4),hu(8),hu(16),hu(16),hu(16),hu(32),hu(32),hu(48),hu(64),hu(1152),hu(1152),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(4),hu(24),hu(24),hu(24),hu(24),hu(24),hu(24),hu(24),hu(24),hu(24),hu(24),hu(1152),hu(1152),hu(1152),hu(1152),hu(1152),hu(2304),hu(2304),hu(3456),hu(5760),hu(8),hu(8),hu(8),hu(16),hu(24),hu(48),hu(48),hu(96),hu(192),hu(384),hu(384),hu(384),hu(768),hu(96),hu(96),hu(96),hu(1152);const gu=Math.pow(2,-52),_u=new Uint32Array(512);class bu{static from(e,t=Tu,n=Au){const r=e.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=e[o];i[2*o]=t(r),i[2*o+1]=n(r)}return new bu(i)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=e.length>>1;let s=1/0,a=1/0,u=-1/0,c=-1/0;for(let t=0;t<o;t++){const n=e[2*t],r=e[2*t+1];n<s&&(s=n),r<a&&(a=r),n>u&&(u=n),r>c&&(c=r),this._ids[t]=t}const l=(s+u)/2,h=(a+c)/2;let f,p,d,m=1/0;for(let t=0;t<o;t++){const n=wu(l,h,e[2*t],e[2*t+1]);n<m&&(f=t,m=n)}const y=e[2*f],v=e[2*f+1];m=1/0;for(let t=0;t<o;t++){if(t===f)continue;const n=wu(y,v,e[2*t],e[2*t+1]);n<m&&n>0&&(p=t,m=n)}let g=e[2*p],_=e[2*p+1],b=1/0;for(let t=0;t<o;t++){if(t===f||t===p)continue;const n=ku(y,v,g,_,e[2*t],e[2*t+1]);n<b&&(d=t,b=n)}let w=e[2*d],x=e[2*d+1];if(b===1/0){for(let t=0;t<o;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];Eu(this._ids,this._dists,0,o-1);const t=new Uint32Array(o);let n=0;for(let e=0,r=-1/0;e<o;e++){const i=this._ids[e];this._dists[i]>r&&(t[n++]=i,r=this._dists[i])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(vu(y,v,g,_,w,x)<0){const e=p,t=g,n=_;p=d,g=w,_=x,d=e,w=t,x=n}const k=function(e,t,n,r,i,o){const s=n-e,a=r-t,u=i-e,c=o-t,l=s*s+a*a,h=u*u+c*c,f=.5/(s*c-a*u);return{x:e+(c*l-a*h)*f,y:t+(s*h-u*l)*f}}(y,v,g,_,w,x);this._cx=k.x,this._cy=k.y;for(let t=0;t<o;t++)this._dists[t]=wu(e[2*t],e[2*t+1],k.x,k.y);Eu(this._ids,this._dists,0,o-1),this._hullStart=f;let E=3;n[f]=t[d]=p,n[p]=t[f]=d,n[d]=t[p]=f,r[f]=0,r[p]=1,r[d]=2,i.fill(-1),i[this._hashKey(y,v)]=f,i[this._hashKey(g,_)]=p,i[this._hashKey(w,x)]=d,this.trianglesLen=0,this._addTriangle(f,p,d,-1,-1,-1);for(let o,s,a=0;a<this._ids.length;a++){const u=this._ids[a],c=e[2*u],l=e[2*u+1];if(a>0&&Math.abs(c-o)<=gu&&Math.abs(l-s)<=gu)continue;if(o=c,s=l,u===f||u===p||u===d)continue;let h=0;for(let e=0,t=this._hashKey(c,l);e<this._hashSize&&(h=i[(t+e)%this._hashSize],-1===h||h===n[h]);e++);h=t[h];let m,y=h;for(;m=n[y],vu(c,l,e[2*y],e[2*y+1],e[2*m],e[2*m+1])>=0;)if(y=m,y===h){y=-1;break}if(-1===y)continue;let v=this._addTriangle(y,u,n[y],-1,-1,r[y]);r[u]=this._legalize(v+2),r[y]=v,E++;let g=n[y];for(;m=n[g],vu(c,l,e[2*g],e[2*g+1],e[2*m],e[2*m+1])<0;)v=this._addTriangle(g,u,m,r[u],-1,r[g]),r[u]=this._legalize(v+2),n[g]=g,E--,g=m;if(y===h)for(;m=t[y],vu(c,l,e[2*m],e[2*m+1],e[2*y],e[2*y+1])<0;)v=this._addTriangle(m,u,y,-1,r[y],r[m]),this._legalize(v+2),r[m]=v,n[y]=y,E--,y=m;this._hullStart=t[u]=y,n[y]=t[g]=u,n[u]=g,i[this._hashKey(c,l)]=u,i[this._hashKey(e[2*y],e[2*y+1])]=y}this.hull=new Uint32Array(E);for(let e=0,t=this._hullStart;e<E;e++)this.hull[e]=t,t=n[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const s=n[e],a=e-e%3;if(o=a+(e+2)%3,-1===s){if(0===i)break;e=_u[--i];continue}const u=s-s%3,c=a+(e+1)%3,l=u+(s+2)%3,h=t[o],f=t[e],p=t[c],d=t[l];if(xu(r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1],r[2*d],r[2*d+1])){t[e]=d,t[s]=h;const r=n[l];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===l){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(s,n[o]),this._link(o,l);const a=u+(s+1)%3;i<_u.length&&(_u[i++]=a)}else{if(0===i)break;e=_u[--i]}}return o}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,o){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=n,this._link(s,r),this._link(s+1,i),this._link(s+2,o),this.trianglesLen+=3,s}}function wu(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function xu(e,t,n,r,i,o,s,a){const u=e-s,c=t-a,l=n-s,h=r-a,f=i-s,p=o-a,d=l*l+h*h,m=f*f+p*p;return u*(h*m-d*p)-c*(l*m-d*f)+(u*u+c*c)*(l*p-h*f)<0}function ku(e,t,n,r,i,o){const s=n-e,a=r-t,u=i-e,c=o-t,l=s*s+a*a,h=u*u+c*c,f=.5/(s*c-a*u),p=(c*l-a*h)*f,d=(s*h-u*l)*f;return p*p+d*d}function Eu(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],o=t[r];let s=i-1;for(;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=r}else{let i=n+1,o=r;Su(e,n+r>>1,i),t[e[n]]>t[e[r]]&&Su(e,n,r),t[e[i]]>t[e[r]]&&Su(e,i,r),t[e[n]]>t[e[i]]&&Su(e,n,i);const s=e[i],a=t[s];for(;;){do{i++}while(t[e[i]]<a);do{o--}while(t[e[o]]>a);if(o<i)break;Su(e,i,o)}e[n+1]=e[o],e[o]=s,r-i+1>=o-n?(Eu(e,t,i,r),Eu(e,t,n,o-1)):(Eu(e,t,n,o-1),Eu(e,t,i,r))}}function Su(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Tu(e){return e[0]}function Au(e){return e[1]}const Ou=1e-6;class Nu{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Ou||Math.abs(this._y1-i)>Ou)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Pu{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class Cu{constructor(e,[t,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(t=+t)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this;let i,o;const s=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let r,a,u=0,c=0,l=n.length;u<l;u+=3,c+=2){const l=2*n[u],h=2*n[u+1],f=2*n[u+2],p=e[l],d=e[l+1],m=e[h],y=e[h+1],v=e[f],g=e[f+1],_=m-p,b=y-d,w=v-p,x=g-d,k=2*(_*x-b*w);if(Math.abs(k)<1e-9){if(void 0===i){i=o=0;for(const n of t)i+=e[2*n],o+=e[2*n+1];i/=t.length,o/=t.length}const n=1e9*Math.sign((i-p)*x-(o-d)*w);r=(p+v)/2-n*x,a=(d+g)/2+n*w}else{const e=1/k,t=_*_+b*b,n=w*w+x*x;r=p+(x*t-b*n)*e,a=d+(_*n-w*t)*e}s[c]=r,s[c+1]=a}let a,u,c,l=t[t.length-1],h=4*l,f=e[2*l],p=e[2*l+1];r.fill(0);for(let n=0;n<t.length;++n)l=t[n],a=h,u=f,c=p,h=4*l,f=e[2*l],p=e[2*l+1],r[a+2]=r[h]=c-p,r[a+3]=r[h+1]=f-u}render(e){const t=null==e?e=new Nu:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:s}=this;if(i.length<=1)return null;for(let t=0,r=n.length;t<r;++t){const r=n[t];if(r<t)continue;const i=2*Math.floor(t/3),s=2*Math.floor(r/3),a=o[i],u=o[i+1],c=o[s],l=o[s+1];this._renderSegment(a,u,c,l,e)}let a,u=i[i.length-1];for(let t=0;t<i.length;++t){a=u,u=i[t];const n=2*Math.floor(r[u]/3),c=o[n],l=o[n+1],h=4*a,f=this._project(c,l,s[h+2],s[h+3]);f&&this._renderSegment(c,l,f[0],f[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new Nu:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new Nu:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let e=2;e<i;e+=2)r[e]===r[e-2]&&r[e+1]===r[e-1]||t.lineTo(r[e],r[e+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new Pu;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let o;const s=this._regioncode(e,t),a=this._regioncode(n,r);0===s&&0===a?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,s,a))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let o=0,s=e.length;o<s;o+=2)if(t[r]===e[o]&&t[r+1]===e[o+1]&&t[(r+2)%i]===e[(o+s-2)%s]&&t[(r+3)%i]===e[(o+s-1)%s]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[e];if(-1===o)return null;const s=[];let a=o;do{const n=Math.floor(a/3);if(s.push(t[2*n],t[2*n+1]),a=a%3==2?a-2:a+1,i[a]!==e)break;a=r[a]}while(a!==o&&-1!==a);return s}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return this._simplify(n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let r,i,o,s,a=null,u=t[n-2],c=t[n-1],l=this._regioncode(u,c),h=0;for(let f=0;f<n;f+=2)if(r=u,i=c,u=t[f],c=t[f+1],o=l,l=this._regioncode(u,c),0===o&&0===l)s=h,h=0,a?a.push(u,c):a=[u,c];else{let t,n,f,p,d;if(0===o){if(null===(t=this._clipSegment(r,i,u,c,o,l)))continue;[n,f,p,d]=t}else{if(null===(t=this._clipSegment(u,c,r,i,l,o)))continue;[p,d,n,f]=t,s=h,h=this._edgecode(n,f),s&&h&&this._edge(e,s,h,a,a.length),a?a.push(n,f):a=[n,f]}s=h,h=this._edgecode(p,d),s&&h&&this._edge(e,s,h,a,a.length),a?a.push(p,d):a=[p,d]}if(a)s=h,h=this._edgecode(a[0],a[1]),s&&h&&this._edge(e,s,h,a,a.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(e,t,n,r,i,o){const s=i<o;for(s&&([e,t,n,r,i,o]=[n,r,e,t,o,i]);;){if(0===i&&0===o)return s?[n,r,e,t]:[e,t,n,r];if(i&o)return null;let a,u,c=i||o;8&c?(a=e+(n-e)*(this.ymax-t)/(r-t),u=this.ymax):4&c?(a=e+(n-e)*(this.ymin-t)/(r-t),u=this.ymin):2&c?(u=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(u=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=u,i=this._regioncode(e,t)):(n=a,r=u,o=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,o){let s,a=Array.from(t);if((s=this._project(a[0],a[1],n,r))&&a.unshift(s[0],s[1]),(s=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(s[0],s[1]),a=this._clipFinite(e,a))for(let t,n=0,r=a.length,i=this._edgecode(a[r-2],a[r-1]);n<r;n+=2)t=i,i=this._edgecode(a[n],a[n+1]),t&&i&&(n=this._edge(e,t,i,a,n),r=a.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(e,t,n,r,i){for(;t!==n;){let n,o;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(e,n,o)||(r.splice(i,0,n,o),i+=2)}return i}_project(e,t,n,r){let i,o,s,a=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<a&&(s=this.ymin,o=e+(a=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<a&&(s=this.ymax,o=e+(a=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<a&&(o=this.xmax,s=t+(a=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<a&&(o=this.xmin,s=t+(a=i)*r)}return[o,s]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const n=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[r]||e[t+1]===e[n+1]&&e[n+1]===e[r+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const Ru=2*Math.PI,Lu=Math.pow;function Iu(e){return e[0]}function Du(e){return e[1]}function Mu(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class ju{static from(e,t=Iu,n=Du,r){return new ju("length"in e?function(e,t,n,r){const i=e.length,o=new Float64Array(2*i);for(let s=0;s<i;++s){const i=e[s];o[2*s]=t.call(r,i,s,e),o[2*s+1]=n.call(r,i,s,e)}return o}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new bu(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let e=0;e<t.length;e+=3){const r=2*t[e],i=2*t[e+1],o=2*t[e+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},((e,t)=>t)).sort(((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]));const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let e=0,n=t.length/2;e<n;++e){const n=Mu(t[2*e],t[2*e+1],i);t[2*e]=n[0],t[2*e+1]=n[1]}this._delaunator=new bu(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){const t=i[e%3==2?e-2:e+1];-1!==n[e]&&-1!==o[t]||(o[t]=e)}for(let e=0,t=r.length;e<t;++e)s[r[e]]=e;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new Cu(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:s}=this;if(s){const t=s.indexOf(e);return t>0&&(yield s[t-1]),void(t<s.length-1&&(yield s[t+1]))}const a=t[e];if(-1===a)return;let u=a,c=-1;do{if(yield c=o[u],u=u%3==2?u-2:u+1,o[u]!==e)return;if(u=i[u],-1===u){const t=n[(r[e]+1)%n.length];return void(t!==c&&(yield t))}}while(u!==a)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:s,triangles:a,points:u}=this;if(-1===r[e]||!u.length)return(e+1)%(u.length>>1);let c=e,l=Lu(t-u[2*e],2)+Lu(n-u[2*e+1],2);const h=r[e];let f=h;do{let r=a[f];const h=Lu(t-u[2*r],2)+Lu(n-u[2*r+1],2);if(h<l&&(l=h,c=r),f=f%3==2?f-2:f+1,a[f]!==e)break;if(f=s[f],-1===f){if(f=i[(o[e]+1)%i.length],f!==r&&Lu(t-u[2*f],2)+Lu(n-u[2*f+1],2)<l)return f;break}}while(f!==h);return c}render(e){const t=null==e?e=new Nu:void 0,{points:n,halfedges:r,triangles:i}=this;for(let t=0,o=r.length;t<o;++t){const o=r[t];if(o<t)continue;const s=2*i[t],a=2*i[o];e.moveTo(n[s],n[s+1]),e.lineTo(n[a],n[a+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"==typeof e.moveTo||(t=e,e=null),t=null==t?2:+t;const n=null==e?e=new Nu:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];e.moveTo(i+t,o),e.arc(i,o,t,0,Ru)}return n&&n.value()}renderHull(e){const t=null==e?e=new Nu:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(let t=1;t<o;++t){const i=2*n[t];e.lineTo(r[i],r[i+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new Pu;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new Nu:void 0,{points:r,triangles:i}=this,o=2*i[e*=3],s=2*i[e+1],a=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[s],r[s+1]),t.lineTo(r[a],r[a+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new Pu;return this.renderTriangle(e,t),t.value()}}const Fu=e=>()=>e;function Bu(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}function Uu(e){return!e.ctrlKey&&!e.button}function zu(){return this.parentNode}function Vu(e,t){return null==t?{x:e.x,y:e.y}:t}function $u(){return navigator.maxTouchPoints||"ontouchstart"in this}function qu(){var e,t,n,r,i=Uu,o=zu,s=Vu,a=$u,u={},c=mn("start","drag","end"),l=0,h=0;function f(e){e.on("mousedown.drag",p).filter(a).on("touchstart.drag",y).on("touchmove.drag",v,Pr).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(s,a){if(!r&&i.call(this,s,a)){var u=_(this,o.call(this,s,a),s,a,"mouse");u&&(Nr(s.view).on("mousemove.drag",d,Cr).on("mouseup.drag",m,Cr),Ir(s.view),Rr(s),n=!1,e=s.clientX,t=s.clientY,u("start",s))}}function d(r){if(Lr(r),!n){var i=r.clientX-e,o=r.clientY-t;n=i*i+o*o>h}u.mouse("drag",r)}function m(e){Nr(e.view).on("mousemove.drag mouseup.drag",null),Dr(e.view,n),Lr(e),u.mouse("end",e)}function y(e,t){if(i.call(this,e,t)){var n,r,s=e.changedTouches,a=o.call(this,e,t),u=s.length;for(n=0;n<u;++n)(r=_(this,a,e,t,s[n].identifier,s[n]))&&(Rr(e),r("start",e,s[n]))}}function v(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=u[r[t].identifier])&&(Lr(e),n("drag",e,r[t]))}function g(e){var t,n,i=e.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<o;++t)(n=u[i[t].identifier])&&(Rr(e),n("end",e,i[t]))}function _(e,t,n,r,i,o){var a,h,p,d=c.copy(),m=zi(o||n,t);if(null!=(p=s.call(e,new Bu("beforestart",{sourceEvent:n,target:f,identifier:i,active:l,x:m[0],y:m[1],dx:0,dy:0,dispatch:d}),r)))return a=p.x-m[0]||0,h=p.y-m[1]||0,function n(o,s,c){var y,v=m;switch(o){case"start":u[i]=n,y=l++;break;case"end":delete u[i],--l;case"drag":m=zi(c||s,t),y=l}d.call(o,e,new Bu(o,{sourceEvent:s,subject:p,target:f,identifier:i,active:y,x:m[0]+a,y:m[1]+h,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:d}),r)}}return f.filter=function(e){return arguments.length?(i="function"==typeof e?e:Fu(!!e),f):i},f.container=function(e){return arguments.length?(o="function"==typeof e?e:Fu(e),f):o},f.subject=function(e){return arguments.length?(s="function"==typeof e?e:Fu(e),f):s},f.touchable=function(e){return arguments.length?(a="function"==typeof e?e:Fu(!!e),f):a},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,f):Math.sqrt(h)},f}Bu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Ku={},Hu={},Wu=34,Gu=10,Yu=13;function Qu(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function Xu(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function Zu(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Ju(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,s=0,a=0,u=o<=0,c=!1;function l(){if(u)return Hu;if(c)return c=!1,Ku;var t,r,i=s;if(e.charCodeAt(i)===Wu){for(;s++<o&&e.charCodeAt(s)!==Wu||e.charCodeAt(++s)===Wu;);return(t=s)>=o?u=!0:(r=e.charCodeAt(s++))===Gu?c=!0:r===Yu&&(c=!0,e.charCodeAt(s)===Gu&&++s),e.slice(i+1,t-1).replace(/""/g,'"')}for(;s<o;){if((r=e.charCodeAt(t=s++))===Gu)c=!0;else if(r===Yu)c=!0,e.charCodeAt(s)===Gu&&++s;else if(r!==n)continue;return e.slice(i,t)}return u=!0,e.slice(i,o)}for(e.charCodeAt(o-1)===Gu&&--o,e.charCodeAt(o-1)===Yu&&--o;(r=l())!==Hu;){for(var h=[];r!==Ku&&r!==Hu;)h.push(r),r=l();t&&null==(h=t(h,a++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return s(t[e])})).join(e)}))}function o(t){return t.map(s).join(e)}function s(e){return null==e?"":e instanceof Date?function(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+Zu(-t,6):t>9999?"+"+Zu(t,6):Zu(t,4))+"-"+Zu(e.getUTCMonth()+1,2)+"-"+Zu(e.getUTCDate(),2)+(o?"T"+Zu(n,2)+":"+Zu(r,2)+":"+Zu(i,2)+"."+Zu(o,3)+"Z":i?"T"+Zu(n,2)+":"+Zu(r,2)+":"+Zu(i,2)+"Z":r||n?"T"+Zu(n,2)+":"+Zu(r,2)+"Z":"")}(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=Qu(e);return function(r,i){return t(n(r),i,e)}}(e,t):Qu(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=Xu(t)),[n.map(s).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Xu(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:s}}var ec=Ju(","),tc=ec.parse,nc=ec.parseRows,rc=ec.format,ic=ec.formatBody,oc=ec.formatRows,sc=ec.formatRow,ac=ec.formatValue,uc=Ju("\t"),cc=uc.parse,lc=uc.parseRows,hc=uc.format,fc=uc.formatBody,pc=uc.formatRows,dc=uc.formatRow,mc=uc.formatValue;function yc(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;vc&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e}const vc=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),gc=e=>+e;function _c(e){return e*e}function bc(e){return e*(2-e)}function wc(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}var xc=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),kc=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),Ec=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),Sc=Math.PI,Tc=Sc/2;function Ac(e){return 1==+e?1:1-Math.cos(e*Tc)}function Oc(e){return Math.sin(e*Tc)}function Nc(e){return(1-Math.cos(Sc*e))/2}function Pc(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function Cc(e){return Pc(1-+e)}function Rc(e){return 1-Pc(e)}function Lc(e){return((e*=2)<=1?Pc(1-e):2-Pc(e-1))/2}function Ic(e){return 1-Math.sqrt(1-e*e)}function Dc(e){return Math.sqrt(1- --e*e)}function Mc(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var jc=4/11,Fc=6/11,Bc=8/11,Uc=3/4,zc=9/11,Vc=10/11,$c=15/16,qc=21/22,Kc=63/64,Hc=1/jc/jc;function Wc(e){return 1-Gc(1-e)}function Gc(e){return(e=+e)<jc?Hc*e*e:e<Bc?Hc*(e-=Fc)*e+Uc:e<Vc?Hc*(e-=zc)*e+$c:Hc*(e-=qc)*e+Kc}function Yc(e){return((e*=2)<=1?1-Gc(1-e):Gc(e-1)+1)/2}var Qc=1.70158,Xc=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(Qc),Zc=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(Qc),Jc=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(Qc),el=2*Math.PI,tl=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=el);function i(e){return t*Pc(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*el)},i.period=function(n){return e(t,n)},i}(1,.3),nl=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=el);function i(e){return 1-t*Pc(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*el)},i.period=function(n){return e(t,n)},i}(1,.3),rl=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=el);function i(e){return((e=2*e-1)<0?t*Pc(-e)*Math.sin((r-e)/n):2-t*Pc(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*el)},i.period=function(n){return e(t,n)},i}(1,.3);function il(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function ol(e,t){return fetch(e,t).then(il)}function sl(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function al(e,t){return fetch(e,t).then(sl)}function ul(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function cl(e,t){return fetch(e,t).then(ul)}function ll(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),cl(t,n).then((function(t){return e(t,r)}))}}function hl(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=Ju(e);return cl(t,n).then((function(e){return i.parse(e,r)}))}var fl=ll(tc),pl=ll(cc);function dl(e,t){return new Promise((function(n,r){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=r,i.onload=function(){n(i)},i.src=e}))}function ml(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function yl(e,t){return fetch(e,t).then(ml)}function vl(e){return(t,n)=>cl(t,n).then((t=>(new DOMParser).parseFromString(t,e)))}const gl=vl("application/xml");var _l=vl("text/html"),bl=vl("image/svg+xml");function wl(e,t){var n,r=1;function i(){var i,o,s=n.length,a=0,u=0;for(i=0;i<s;++i)a+=(o=n[i]).x,u+=o.y;for(a=(a/s-e)*r,u=(u/s-t)*r,i=0;i<s;++i)(o=n[i]).x-=a,o.y-=u}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}function xl(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,s,a,u,c,l,h,f,p=e._root,d={data:r},m=e._x0,y=e._y0,v=e._x1,g=e._y1;if(!p)return e._root=d,e;for(;p.length;)if((c=t>=(o=(m+v)/2))?m=o:v=o,(l=n>=(s=(y+g)/2))?y=s:g=s,i=p,!(p=p[h=l<<1|c]))return i[h]=d,e;if(a=+e._x.call(null,p.data),u=+e._y.call(null,p.data),t===a&&n===u)return d.next=p,i?i[h]=d:e._root=d,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(c=t>=(o=(m+v)/2))?m=o:v=o,(l=n>=(s=(y+g)/2))?y=s:g=s}while((h=l<<1|c)==(f=(u>=s)<<1|a>=o));return i[f]=p,i[h]=d,e}function kl(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function El(e){return e[0]}function Sl(e){return e[1]}function Tl(e,t,n){var r=new Al(null==t?El:t,null==n?Sl:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Al(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ol(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Nl=Tl.prototype=Al.prototype;function Pl(e){return function(){return e}}function Cl(e){return 1e-6*(e()-.5)}function Rl(e){return e.x+e.vx}function Ll(e){return e.y+e.vy}function Il(e){var t,n,r,i=1,o=1;function s(){for(var e,s,u,c,l,h,f,p=t.length,d=0;d<o;++d)for(s=Tl(t,Rl,Ll).visitAfter(a),e=0;e<p;++e)u=t[e],h=n[u.index],f=h*h,c=u.x+u.vx,l=u.y+u.vy,s.visit(m);function m(e,t,n,o,s){var a=e.data,p=e.r,d=h+p;if(!a)return t>c+d||o<c-d||n>l+d||s<l-d;if(a.index>u.index){var m=c-a.x-a.vx,y=l-a.y-a.vy,v=m*m+y*y;v<d*d&&(0===m&&(v+=(m=Cl(r))*m),0===y&&(v+=(y=Cl(r))*y),v=(d-(v=Math.sqrt(v)))/v*i,u.vx+=(m*=v)*(d=(p*=p)/(f+p)),u.vy+=(y*=v)*d,a.vx-=m*(d=1-d),a.vy-=y*d)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function u(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!=typeof e&&(e=Pl(null==e?1:+e)),s.initialize=function(e,n){t=e,r=n,u()},s.iterations=function(e){return arguments.length?(o=+e,s):o},s.strength=function(e){return arguments.length?(i=+e,s):i},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:Pl(+t),u(),s):e},s}function Dl(e){return e.index}function Ml(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function jl(e){var t,n,r,i,o,s,a=Dl,u=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=Pl(30),l=1;function h(r){for(var i=0,a=e.length;i<l;++i)for(var u,c,h,f,p,d,m,y=0;y<a;++y)c=(u=e[y]).source,f=(h=u.target).x+h.vx-c.x-c.vx||Cl(s),p=h.y+h.vy-c.y-c.vy||Cl(s),f*=d=((d=Math.sqrt(f*f+p*p))-n[y])/d*r*t[y],p*=d,h.vx-=f*(m=o[y]),h.vy-=p*m,c.vx+=f*(m=1-m),c.vy+=p*m}function f(){if(r){var s,u,c=r.length,l=e.length,h=new Map(r.map(((e,t)=>[a(e,t,r),e])));for(s=0,i=new Array(c);s<l;++s)(u=e[s]).index=s,"object"!=typeof u.source&&(u.source=Ml(h,u.source)),"object"!=typeof u.target&&(u.target=Ml(h,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,o=new Array(l);s<l;++s)u=e[s],o[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(l),p(),n=new Array(l),d()}}function p(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function d(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),h.initialize=function(e,t){r=e,s=t,f()},h.links=function(t){return arguments.length?(e=t,f(),h):e},h.id=function(e){return arguments.length?(a=e,h):a},h.iterations=function(e){return arguments.length?(l=+e,h):l},h.strength=function(e){return arguments.length?(u="function"==typeof e?e:Pl(+e),p(),h):u},h.distance=function(e){return arguments.length?(c="function"==typeof e?e:Pl(+e),d(),h):c},h}Nl.copy=function(){var e,t,n=new Al(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ol(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Ol(t));return n},Nl.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return xl(this.cover(t,n),t,n,e)},Nl.addAll=function(e){var t,n,r,i,o=e.length,s=new Array(o),a=new Array(o),u=1/0,c=1/0,l=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=r,a[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>h&&(h=i));if(u>l||c>h)return this;for(this.cover(u,c).cover(l,h),n=0;n<o;++n)xl(this,s[n],a[n],e[n]);return this},Nl.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s,a,u=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(a=(t<r)<<1|e<n,(s=new Array(4))[a]=c,c=s,u*=2,a){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Nl.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Nl.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Nl.find=function(e,t,n){var r,i,o,s,a,u,c,l=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new kl(m,l,h,f,p)),null==n?n=1/0:(l=e-n,h=t-n,f=e+n,p=t+n,n*=n);u=d.pop();)if(!(!(m=u.node)||(i=u.x0)>f||(o=u.y0)>p||(s=u.x1)<l||(a=u.y1)<h))if(m.length){var y=(i+s)/2,v=(o+a)/2;d.push(new kl(m[3],y,v,s,a),new kl(m[2],i,v,y,a),new kl(m[1],y,o,s,v),new kl(m[0],i,o,y,v)),(c=(t>=v)<<1|e>=y)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=u)}else{var g=e-+this._x.call(null,m.data),_=t-+this._y.call(null,m.data),b=g*g+_*_;if(b<n){var w=Math.sqrt(n=b);l=e-w,h=t-w,f=e+w,p=t+w,r=m.data}}return r},Nl.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,r,i,o,s,a,u,c,l,h,f,p=this._root,d=this._x0,m=this._y0,y=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(a=(d+y)/2))?d=a:y=a,(l=s>=(u=(m+v)/2))?m=u:v=u,t=p,!(p=p[h=l<<1|c]))return this;if(!p.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,f=h)}for(;p.data!==e;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},Nl.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Nl.root=function(){return this._root},Nl.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Nl.visit=function(e){var t,n,r,i,o,s,a=[],u=this._root;for(u&&a.push(new kl(u,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,s=t.y1)&&u.length){var c=(r+o)/2,l=(i+s)/2;(n=u[3])&&a.push(new kl(n,c,l,o,s)),(n=u[2])&&a.push(new kl(n,r,l,c,s)),(n=u[1])&&a.push(new kl(n,c,i,o,l)),(n=u[0])&&a.push(new kl(n,r,i,c,l))}return this},Nl.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new kl(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,s=t.x0,a=t.y0,u=t.x1,c=t.y1,l=(s+u)/2,h=(a+c)/2;(o=i[0])&&n.push(new kl(o,s,a,l,h)),(o=i[1])&&n.push(new kl(o,l,a,u,h)),(o=i[2])&&n.push(new kl(o,s,h,l,c)),(o=i[3])&&n.push(new kl(o,l,h,u,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Nl.x=function(e){return arguments.length?(this._x=e,this):this._x},Nl.y=function(e){return arguments.length?(this._y=e,this):this._y};const Fl=1664525,Bl=1013904223,Ul=4294967296;function zl(e){return e.x}function Vl(e){return e.y}var $l=10,ql=Math.PI*(3-Math.sqrt(5));function Kl(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,u=no(h),c=mn("tick","end"),l=function(){let e=1;return()=>(e=(Fl*e+Bl)%Ul)/Ul}();function h(){f(),c.call("tick",t),n<r&&(u.stop(),c.call("end",t))}function f(r){var u,c,l=e.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,a.forEach((function(e){e(n)})),u=0;u<l;++u)null==(c=e[u]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return t}function p(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=$l*Math.sqrt(.5+n),o=n*ql;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function d(t){return t.initialize&&t.initialize(e,l),t}return null==e&&(e=[]),p(),t={tick:f,restart:function(){return u.restart(h),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,p(),a.forEach(d),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(s=1-e,t):1-s},randomSource:function(e){return arguments.length?(l=e,a.forEach(d),t):l},force:function(e,n){return arguments.length>1?(null==n?a.delete(e):a.set(e,d(n)),t):a.get(e)},find:function(t,n,r){var i,o,s,a,u,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(s=(i=t-(a=e[c]).x)*i+(o=n-a.y)*o)<r&&(u=a,r=s);return u},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function Hl(){var e,t,n,r,i,o=Pl(-30),s=1,a=1/0,u=.81;function c(n){var i,o=e.length,s=Tl(e,zl,Vl).visitAfter(h);for(r=n,i=0;i<o;++i)t=e[i],s.visit(f)}function l(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function h(e){var t,n,r,o,s,a=0,u=0;if(e.length){for(r=o=s=0;s<4;++s)(t=e[s])&&(n=Math.abs(t.value))&&(a+=t.value,u+=n,r+=n*t.x,o+=n*t.y);e.x=r/u,e.y=o/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{a+=i[t.data.index]}while(t=t.next)}e.value=a}function f(e,o,c,l){if(!e.value)return!0;var h=e.x-t.x,f=e.y-t.y,p=l-o,d=h*h+f*f;if(p*p/u<d)return d<a&&(0===h&&(d+=(h=Cl(n))*h),0===f&&(d+=(f=Cl(n))*f),d<s&&(d=Math.sqrt(s*d)),t.vx+=h*e.value*r/d,t.vy+=f*e.value*r/d),!0;if(!(e.length||d>=a)){(e.data!==t||e.next)&&(0===h&&(d+=(h=Cl(n))*h),0===f&&(d+=(f=Cl(n))*f),d<s&&(d=Math.sqrt(s*d)));do{e.data!==t&&(p=i[e.data.index]*r/d,t.vx+=h*p,t.vy+=f*p)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,l()},c.strength=function(e){return arguments.length?(o="function"==typeof e?e:Pl(+e),l(),c):o},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.theta=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c}function Wl(e,t,n){var r,i,o,s=Pl(.1);function a(e){for(var s=0,a=r.length;s<a;++s){var u=r[s],c=u.x-t||1e-6,l=u.y-n||1e-6,h=Math.sqrt(c*c+l*l),f=(o[s]-h)*i[s]*e/h;u.vx+=c*f,u.vy+=l*f}}function u(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+s(r[t],t,r)}}return"function"!=typeof e&&(e=Pl(+e)),null==t&&(t=0),null==n&&(n=0),a.initialize=function(e){r=e,u()},a.strength=function(e){return arguments.length?(s="function"==typeof e?e:Pl(+e),u(),a):s},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Pl(+t),u(),a):e},a.x=function(e){return arguments.length?(t=+e,a):t},a.y=function(e){return arguments.length?(n=+e,a):n},a}function Gl(e){var t,n,r,i=Pl(.1);function o(e){for(var i,o=0,s=t.length;o<s;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function s(){if(t){var o,s=t.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=Pl(null==e?0:+e)),o.initialize=function(e){t=e,s()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:Pl(+e),s(),o):i},o.x=function(t){return arguments.length?(e="function"==typeof t?t:Pl(+t),s(),o):e},o}function Yl(e){var t,n,r,i=Pl(.1);function o(e){for(var i,o=0,s=t.length;o<s;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function s(){if(t){var o,s=t.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=Pl(null==e?0:+e)),o.initialize=function(e){t=e,s()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:Pl(+e),s(),o):i},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Pl(+t),s(),o):e},o}function Ql(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xl(e){return(e=Ql(Math.abs(e)))?e[1]:NaN}var Zl,Jl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eh(e){if(!(t=Jl.exec(e)))throw new Error("invalid format: "+e);var t;return new th({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function th(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function nh(e,t){var n=Ql(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}eh.prototype=th.prototype,th.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const rh={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nh(100*e,t),r:nh,s:function(e,t){var n=Ql(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Zl=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ql(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ih(e){return e}var oh,sh,ah,uh=Array.prototype.map,ch=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lh(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ih:(t=uh.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(e.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?ih:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(uh.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=eh(e)).fill,n=e.align,h=e.sign,f=e.symbol,p=e.zero,d=e.width,m=e.comma,y=e.precision,v=e.trim,g=e.type;"n"===g?(m=!0,g="g"):rh[g]||(void 0===y&&(y=12),v=!0,g="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var _="$"===f?i:"#"===f&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",b="$"===f?o:/[%p]/.test(g)?u:"",w=rh[g],x=/[defgprs%]/.test(g);function k(e){var i,o,u,f=_,k=b;if("c"===g)k=w(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:w(Math.abs(e),y),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==h&&(E=!1),f=(E?"("===h?h:c:"-"===h||"("===h?"":h)+f,k=("s"===g?ch[8+Zl/3]:"")+k+(E&&"("===h?")":""),x)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){k=(46===u?s+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}m&&!p&&(e=r(e,1/0));var S=f.length+e.length+k.length,T=S<d?new Array(d-S+1).join(t):"";switch(m&&p&&(e=r(T+e,T.length?d-k.length:1/0),T=""),n){case"<":e=f+e+k+T;break;case"=":e=f+T+e+k;break;case"^":e=T.slice(0,S=T.length>>1)+f+e+k+T.slice(S);break;default:e=T+f+e+k}return a(e)}return y=void 0===y?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return e+""},k}return{format:h,formatPrefix:function(e,t){var n=h(((e=eh(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Xl(t)/3))),i=Math.pow(10,-r),o=ch[8+r/3];return function(e){return n(i*e)+o}}}}function hh(e){return oh=lh(e),sh=oh.format,ah=oh.formatPrefix,oh}function fh(e){return Math.max(0,-Xl(Math.abs(e)))}function ph(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xl(t)/3)))-Xl(Math.abs(e)))}function dh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xl(t)-Xl(e))+1}hh({thousands:",",grouping:[3],currency:["$",""]});var mh=1e-6,yh=1e-12,vh=Math.PI,gh=vh/2,_h=vh/4,bh=2*vh,wh=180/vh,xh=vh/180,kh=Math.abs,Eh=Math.atan,Sh=Math.atan2,Th=Math.cos,Ah=Math.ceil,Oh=Math.exp,Nh=(Math.floor,Math.hypot),Ph=Math.log,Ch=Math.pow,Rh=Math.sin,Lh=Math.sign||function(e){return e>0?1:e<0?-1:0},Ih=Math.sqrt,Dh=Math.tan;function Mh(e){return e>1?0:e<-1?vh:Math.acos(e)}function jh(e){return e>1?gh:e<-1?-gh:Math.asin(e)}function Fh(e){return(e=Rh(e/2))*e}function Bh(){}function Uh(e,t){e&&Vh.hasOwnProperty(e.type)&&Vh[e.type](e,t)}var zh={Feature:function(e,t){Uh(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Uh(n[r].geometry,t)}},Vh={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){$h(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)$h(n[r],t,0)},Polygon:function(e,t){qh(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)qh(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Uh(n[r],t)}};function $h(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function qh(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)$h(e[n],t,1);t.polygonEnd()}function Kh(e,t){e&&zh.hasOwnProperty(e.type)?zh[e.type](e,t):Uh(e,t)}var Hh,Wh,Gh,Yh,Qh,Xh,Zh,Jh,ef,tf,nf,rf,of,sf,af,uf,cf=new ve,lf=new ve,hf={point:Bh,lineStart:Bh,lineEnd:Bh,polygonStart:function(){cf=new ve,hf.lineStart=ff,hf.lineEnd=pf},polygonEnd:function(){var e=+cf;lf.add(e<0?bh+e:e),this.lineStart=this.lineEnd=this.point=Bh},sphere:function(){lf.add(bh)}};function ff(){hf.point=df}function pf(){mf(Hh,Wh)}function df(e,t){hf.point=mf,Hh=e,Wh=t,Gh=e*=xh,Yh=Th(t=(t*=xh)/2+_h),Qh=Rh(t)}function mf(e,t){var n=(e*=xh)-Gh,r=n>=0?1:-1,i=r*n,o=Th(t=(t*=xh)/2+_h),s=Rh(t),a=Qh*s,u=Yh*o+a*Th(i),c=a*r*Rh(i);cf.add(Sh(c,u)),Gh=e,Yh=o,Qh=s}function yf(e){return lf=new ve,Kh(e,hf),2*lf}function vf(e){return[Sh(e[1],e[0]),jh(e[2])]}function gf(e){var t=e[0],n=e[1],r=Th(n);return[r*Th(t),r*Rh(t),Rh(n)]}function _f(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function bf(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function wf(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function xf(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function kf(e){var t=Ih(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Ef,Sf,Tf,Af,Of,Nf,Pf,Cf,Rf,Lf,If,Df,Mf,jf,Ff,Bf,Uf={point:zf,lineStart:$f,lineEnd:qf,polygonStart:function(){Uf.point=Kf,Uf.lineStart=Hf,Uf.lineEnd=Wf,sf=new ve,hf.polygonStart()},polygonEnd:function(){hf.polygonEnd(),Uf.point=zf,Uf.lineStart=$f,Uf.lineEnd=qf,cf<0?(Xh=-(Jh=180),Zh=-(ef=90)):sf>mh?ef=90:sf<-mh&&(Zh=-90),uf[0]=Xh,uf[1]=Jh},sphere:function(){Xh=-(Jh=180),Zh=-(ef=90)}};function zf(e,t){af.push(uf=[Xh=e,Jh=e]),t<Zh&&(Zh=t),t>ef&&(ef=t)}function Vf(e,t){var n=gf([e*xh,t*xh]);if(of){var r=bf(of,n),i=bf([r[1],-r[0],0],r);kf(i),i=vf(i);var o,s=e-tf,a=s>0?1:-1,u=i[0]*wh*a,c=kh(s)>180;c^(a*tf<u&&u<a*e)?(o=i[1]*wh)>ef&&(ef=o):c^(a*tf<(u=(u+360)%360-180)&&u<a*e)?(o=-i[1]*wh)<Zh&&(Zh=o):(t<Zh&&(Zh=t),t>ef&&(ef=t)),c?e<tf?Gf(Xh,e)>Gf(Xh,Jh)&&(Jh=e):Gf(e,Jh)>Gf(Xh,Jh)&&(Xh=e):Jh>=Xh?(e<Xh&&(Xh=e),e>Jh&&(Jh=e)):e>tf?Gf(Xh,e)>Gf(Xh,Jh)&&(Jh=e):Gf(e,Jh)>Gf(Xh,Jh)&&(Xh=e)}else af.push(uf=[Xh=e,Jh=e]);t<Zh&&(Zh=t),t>ef&&(ef=t),of=n,tf=e}function $f(){Uf.point=Vf}function qf(){uf[0]=Xh,uf[1]=Jh,Uf.point=zf,of=null}function Kf(e,t){if(of){var n=e-tf;sf.add(kh(n)>180?n+(n>0?360:-360):n)}else nf=e,rf=t;hf.point(e,t),Vf(e,t)}function Hf(){hf.lineStart()}function Wf(){Kf(nf,rf),hf.lineEnd(),kh(sf)>mh&&(Xh=-(Jh=180)),uf[0]=Xh,uf[1]=Jh,of=null}function Gf(e,t){return(t-=e)<0?t+360:t}function Yf(e,t){return e[0]-t[0]}function Qf(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Xf(e){var t,n,r,i,o,s,a;if(ef=Jh=-(Xh=Zh=1/0),af=[],Kh(e,Uf),n=af.length){for(af.sort(Yf),t=1,o=[r=af[0]];t<n;++t)Qf(r,(i=af[t])[0])||Qf(r,i[1])?(Gf(r[0],i[1])>Gf(r[0],r[1])&&(r[1]=i[1]),Gf(i[0],r[1])>Gf(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(a=Gf(r[1],i[0]))>s&&(s=a,Xh=i[0],Jh=r[1])}return af=uf=null,Xh===1/0||Zh===1/0?[[NaN,NaN],[NaN,NaN]]:[[Xh,Zh],[Jh,ef]]}var Zf={sphere:Bh,point:Jf,lineStart:tp,lineEnd:ip,polygonStart:function(){Zf.lineStart=op,Zf.lineEnd=sp},polygonEnd:function(){Zf.lineStart=tp,Zf.lineEnd=ip}};function Jf(e,t){e*=xh;var n=Th(t*=xh);ep(n*Th(e),n*Rh(e),Rh(t))}function ep(e,t,n){++Ef,Tf+=(e-Tf)/Ef,Af+=(t-Af)/Ef,Of+=(n-Of)/Ef}function tp(){Zf.point=np}function np(e,t){e*=xh;var n=Th(t*=xh);jf=n*Th(e),Ff=n*Rh(e),Bf=Rh(t),Zf.point=rp,ep(jf,Ff,Bf)}function rp(e,t){e*=xh;var n=Th(t*=xh),r=n*Th(e),i=n*Rh(e),o=Rh(t),s=Sh(Ih((s=Ff*o-Bf*i)*s+(s=Bf*r-jf*o)*s+(s=jf*i-Ff*r)*s),jf*r+Ff*i+Bf*o);Sf+=s,Nf+=s*(jf+(jf=r)),Pf+=s*(Ff+(Ff=i)),Cf+=s*(Bf+(Bf=o)),ep(jf,Ff,Bf)}function ip(){Zf.point=Jf}function op(){Zf.point=ap}function sp(){up(Df,Mf),Zf.point=Jf}function ap(e,t){Df=e,Mf=t,e*=xh,t*=xh,Zf.point=up;var n=Th(t);jf=n*Th(e),Ff=n*Rh(e),Bf=Rh(t),ep(jf,Ff,Bf)}function up(e,t){e*=xh;var n=Th(t*=xh),r=n*Th(e),i=n*Rh(e),o=Rh(t),s=Ff*o-Bf*i,a=Bf*r-jf*o,u=jf*i-Ff*r,c=Nh(s,a,u),l=jh(c),h=c&&-l/c;Rf.add(h*s),Lf.add(h*a),If.add(h*u),Sf+=l,Nf+=l*(jf+(jf=r)),Pf+=l*(Ff+(Ff=i)),Cf+=l*(Bf+(Bf=o)),ep(jf,Ff,Bf)}function cp(e){Ef=Sf=Tf=Af=Of=Nf=Pf=Cf=0,Rf=new ve,Lf=new ve,If=new ve,Kh(e,Zf);var t=+Rf,n=+Lf,r=+If,i=Nh(t,n,r);return i<yh&&(t=Nf,n=Pf,r=Cf,Sf<mh&&(t=Tf,n=Af,r=Of),(i=Nh(t,n,r))<yh)?[NaN,NaN]:[Sh(n,t)*wh,jh(r/i)*wh]}function lp(e){return function(){return e}}function hp(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function fp(e,t){return kh(e)>vh&&(e-=Math.round(e/bh)*bh),[e,t]}function pp(e,t,n){return(e%=bh)?t||n?hp(mp(e),yp(t,n)):mp(e):t||n?yp(t,n):fp}function dp(e){return function(t,n){return kh(t+=e)>vh&&(t-=Math.round(t/bh)*bh),[t,n]}}function mp(e){var t=dp(e);return t.invert=dp(-e),t}function yp(e,t){var n=Th(e),r=Rh(e),i=Th(t),o=Rh(t);function s(e,t){var s=Th(t),a=Th(e)*s,u=Rh(e)*s,c=Rh(t),l=c*n+a*r;return[Sh(u*i-l*o,a*n-c*r),jh(l*i+u*o)]}return s.invert=function(e,t){var s=Th(t),a=Th(e)*s,u=Rh(e)*s,c=Rh(t),l=c*i-u*o;return[Sh(u*i+c*o,a*n+l*r),jh(l*n-a*r)]},s}function vp(e){function t(t){return(t=e(t[0]*xh,t[1]*xh))[0]*=wh,t[1]*=wh,t}return e=pp(e[0]*xh,e[1]*xh,e.length>2?e[2]*xh:0),t.invert=function(t){return(t=e.invert(t[0]*xh,t[1]*xh))[0]*=wh,t[1]*=wh,t},t}function gp(e,t,n,r,i,o){if(n){var s=Th(t),a=Rh(t),u=r*n;null==i?(i=t+r*bh,o=t-u/2):(i=_p(s,i),o=_p(s,o),(r>0?i<o:i>o)&&(i+=r*bh));for(var c,l=i;r>0?l>o:l<o;l-=u)c=vf([s,-a*Th(l),-a*Rh(l)]),e.point(c[0],c[1])}}function _p(e,t){(t=gf(t))[0]-=e,kf(t);var n=Mh(-t[1]);return((-t[2]<0?-n:n)+bh-mh)%bh}function bp(){var e,t,n=lp([0,0]),r=lp(90),i=lp(6),o={point:function(n,r){e.push(n=t(n,r)),n[0]*=wh,n[1]*=wh}};function s(){var s=n.apply(this,arguments),a=r.apply(this,arguments)*xh,u=i.apply(this,arguments)*xh;return e=[],t=pp(-s[0]*xh,-s[1]*xh,0).invert,gp(o,a,u,1),s={type:"Polygon",coordinates:[e]},e=t=null,s}return s.center=function(e){return arguments.length?(n="function"==typeof e?e:lp([+e[0],+e[1]]),s):n},s.radius=function(e){return arguments.length?(r="function"==typeof e?e:lp(+e),s):r},s.precision=function(e){return arguments.length?(i="function"==typeof e?e:lp(+e),s):i},s}function wp(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:Bh,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function xp(e,t){return kh(e[0]-t[0])<mh&&kh(e[1]-t[1])<mh}function kp(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ep(e,t,n,r,i){var o,s,a=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],s=e[t];if(xp(r,s)){if(!r[2]&&!s[2]){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);return void i.lineEnd()}s[0]+=2*mh}a.push(n=new kp(r,e,null,!0)),u.push(n.o=new kp(r,null,n,!1)),a.push(n=new kp(s,e,null,!1)),u.push(n.o=new kp(s,null,n,!0))}})),a.length){for(u.sort(t),Sp(a),Sp(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var c,l,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=c.length;o<s;++o)i.point((l=c[o])[0],l[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(c=f.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function Sp(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Tp(e){return kh(e[0])<=vh?e[0]:Lh(e[0])*((kh(e[0])+vh)%bh-vh)}function Ap(e,t){var n=Tp(t),r=t[1],i=Rh(r),o=[Rh(n),-Th(n),0],s=0,a=0,u=new ve;1===i?r=gh+mh:-1===i&&(r=-gh-mh);for(var c=0,l=e.length;c<l;++c)if(f=(h=e[c]).length)for(var h,f,p=h[f-1],d=Tp(p),m=p[1]/2+_h,y=Rh(m),v=Th(m),g=0;g<f;++g,d=b,y=x,v=k,p=_){var _=h[g],b=Tp(_),w=_[1]/2+_h,x=Rh(w),k=Th(w),E=b-d,S=E>=0?1:-1,T=S*E,A=T>vh,O=y*x;if(u.add(Sh(O*S*Rh(T),v*k+O*Th(T))),s+=A?E+S*bh:E,A^d>=n^b>=n){var N=bf(gf(p),gf(_));kf(N);var P=bf(o,N);kf(P);var C=(A^E>=0?-1:1)*jh(P[2]);(r>C||r===C&&(N[0]||N[1]))&&(a+=A^E>=0?1:-1)}}return(s<-mh||s<mh&&u<-yh)^1&a}function Op(e,t,n,r){return function(i){var o,s,a,u=t(i),c=wp(),l=t(c),h=!1,f={point:p,lineStart:m,lineEnd:y,polygonStart:function(){f.point=v,f.lineStart=g,f.lineEnd=_,s=[],o=[]},polygonEnd:function(){f.point=p,f.lineStart=m,f.lineEnd=y,s=vt(s);var e=Ap(o,r);s.length?(h||(i.polygonStart(),h=!0),Ep(s,Pp,e,n,i)):e&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),s=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,n){e(t,n)&&i.point(t,n)}function d(e,t){u.point(e,t)}function m(){f.point=d,u.lineStart()}function y(){f.point=p,u.lineEnd()}function v(e,t){a.push([e,t]),l.point(e,t)}function g(){l.lineStart(),a=[]}function _(){v(a[0][0],a[0][1]),l.lineEnd();var e,t,n,r,u=l.clean(),f=c.result(),p=f.length;if(a.pop(),o.push(a),a=null,p)if(1&u){if((t=(n=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else p>1&&2&u&&f.push(f.pop().concat(f.shift())),s.push(f.filter(Np))}return f}}function Np(e){return e.length>1}function Pp(e,t){return((e=e.x)[0]<0?e[1]-gh-mh:gh-e[1])-((t=t.x)[0]<0?t[1]-gh-mh:gh-t[1])}fp.invert=fp;const Cp=Op((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,s){var a=o>0?vh:-vh,u=kh(o-n);kh(u-vh)<mh?(e.point(n,r=(r+s)/2>0?gh:-gh),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(a,r),e.point(o,r),t=0):i!==a&&u>=vh&&(kh(n-i)<mh&&(n-=i*mh),kh(o-a)<mh&&(o-=a*mh),r=function(e,t,n,r){var i,o,s=Rh(e-n);return kh(s)>mh?Eh((Rh(t)*(o=Th(r))*Rh(n)-Rh(r)*(i=Th(t))*Rh(e))/(i*o*s)):(t+r)/2}(n,r,o,s),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(a,r),t=0),e.point(n=o,r=s),i=a},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*gh,r.point(-vh,i),r.point(0,i),r.point(vh,i),r.point(vh,0),r.point(vh,-i),r.point(0,-i),r.point(-vh,-i),r.point(-vh,0),r.point(-vh,i);else if(kh(e[0]-t[0])>mh){var o=e[0]<t[0]?vh:-vh;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-vh,-gh]);function Rp(e){var t=Th(e),n=6*xh,r=t>0,i=kh(t)>mh;function o(e,n){return Th(e)*Th(n)>t}function s(e,n,r){var i=[1,0,0],o=bf(gf(e),gf(n)),s=_f(o,o),a=o[0],u=s-a*a;if(!u)return!r&&e;var c=t*s/u,l=-t*a/u,h=bf(i,o),f=xf(i,c);wf(f,xf(o,l));var p=h,d=_f(f,p),m=_f(p,p),y=d*d-m*(_f(f,f)-1);if(!(y<0)){var v=Ih(y),g=xf(p,(-d-v)/m);if(wf(g,f),g=vf(g),!r)return g;var _,b=e[0],w=n[0],x=e[1],k=n[1];w<b&&(_=b,b=w,w=_);var E=w-b,S=kh(E-vh)<mh;if(!S&&k<x&&(_=x,x=k,k=_),S||E<mh?S?x+k>0^g[1]<(kh(g[0]-b)<mh?x:k):x<=g[1]&&g[1]<=k:E>vh^(b<=g[0]&&g[0]<=w)){var T=xf(p,(-d+v)/m);return wf(T,f),[g,vf(T)]}}}function a(t,n){var i=r?e:vh-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Op(o,(function(e){var t,n,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,f){var p,d=[h,f],m=o(h,f),y=r?m?0:a(h,f):m?a(h+(h<0?vh:-vh),f):0;if(!t&&(c=u=m)&&e.lineStart(),m!==u&&(!(p=s(t,d))||xp(t,p)||xp(d,p))&&(d[2]=1),m!==u)l=0,m?(e.lineStart(),p=s(d,t),e.point(p[0],p[1])):(p=s(t,d),e.point(p[0],p[1],2),e.lineEnd()),t=p;else if(i&&t&&r^m){var v;y&n||!(v=s(d,t,!0))||(l=0,r?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1],3)))}!m||t&&xp(t,d)||e.point(d[0],d[1]),t=d,u=m,n=y},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return l|(c&&u)<<1}}}),(function(t,r,i,o){gp(o,e,n,i,t,r)}),r?[0,-e]:[-vh,e-vh])}var Lp,Ip,Dp,Mp,jp=1e9,Fp=-jp;function Bp(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,a,c){var l=0,h=0;if(null==i||(l=s(i,a))!==(h=s(o,a))||u(i,o)<0^a>0)do{c.point(0===l||3===l?e:n,l>1?r:t)}while((l=(l+a+4)%4)!==h);else c.point(o[0],o[1])}function s(r,i){return kh(r[0]-e)<mh?i>0?0:3:kh(r[0]-n)<mh?i>0?2:1:kh(r[1]-t)<mh?i>0?1:0:i>0?3:2}function a(e,t){return u(e.x,t.x)}function u(e,t){var n=s(e,1),r=s(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){var u,c,l,h,f,p,d,m,y,v,g,_=s,b=wp(),w={point:x,lineStart:function(){w.point=k,c&&c.push(l=[]),v=!0,y=!1,d=m=NaN},lineEnd:function(){u&&(k(h,f),p&&y&&b.rejoin(),u.push(b.result())),w.point=x,y&&_.lineEnd()},polygonStart:function(){_=b,u=[],c=[],g=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var o,s,a=c[n],u=1,l=a.length,h=a[0],f=h[0],p=h[1];u<l;++u)o=f,s=p,f=(h=a[u])[0],p=h[1],s<=r?p>r&&(f-o)*(r-s)>(p-s)*(e-o)&&++t:p<=r&&(f-o)*(r-s)<(p-s)*(e-o)&&--t;return t}(),n=g&&t,i=(u=vt(u)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&Ep(u,a,t,o,s),s.polygonEnd()),_=s,u=c=l=null}};function x(e,t){i(e,t)&&_.point(e,t)}function k(o,s){var a=i(o,s);if(c&&l.push([o,s]),v)h=o,f=s,p=a,v=!1,a&&(_.lineStart(),_.point(o,s));else if(a&&y)_.point(o,s);else{var u=[d=Math.max(Fp,Math.min(jp,d)),m=Math.max(Fp,Math.min(jp,m))],b=[o=Math.max(Fp,Math.min(jp,o)),s=Math.max(Fp,Math.min(jp,s))];!function(e,t,n,r,i,o){var s,a=e[0],u=e[1],c=0,l=1,h=t[0]-a,f=t[1]-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<l&&(l=s)}else if(h>0){if(s>l)return;s>c&&(c=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>l)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<l&&(l=s)}if(s=r-u,f||!(s>0)){if(s/=f,f<0){if(s<c)return;s<l&&(l=s)}else if(f>0){if(s>l)return;s>c&&(c=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>l)return;s>c&&(c=s)}else if(f>0){if(s<c)return;s<l&&(l=s)}return c>0&&(e[0]=a+c*h,e[1]=u+c*f),l<1&&(t[0]=a+l*h,t[1]=u+l*f),!0}}}}}(u,b,e,t,n,r)?a&&(_.lineStart(),_.point(o,s),g=!1):(y||(_.lineStart(),_.point(u[0],u[1])),_.point(b[0],b[1]),a||_.lineEnd(),g=!1)}d=o,m=s,y=a}return w}}function Up(){var e,t,n,r=0,i=0,o=960,s=500;return n={stream:function(n){return e&&t===n?e:e=Bp(r,i,o,s)(t=n)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],s=+a[1][1],e=t=null,n):[[r,i],[o,s]]}}}var zp={sphere:Bh,point:Bh,lineStart:function(){zp.point=$p,zp.lineEnd=Vp},lineEnd:Bh,polygonStart:Bh,polygonEnd:Bh};function Vp(){zp.point=zp.lineEnd=Bh}function $p(e,t){Ip=e*=xh,Dp=Rh(t*=xh),Mp=Th(t),zp.point=qp}function qp(e,t){e*=xh;var n=Rh(t*=xh),r=Th(t),i=kh(e-Ip),o=Th(i),s=r*Rh(i),a=Mp*n-Dp*r*o,u=Dp*n+Mp*r*o;Lp.add(Sh(Ih(s*s+a*a),u)),Ip=e,Dp=n,Mp=r}function Kp(e){return Lp=new ve,Kh(e,zp),+Lp}var Hp=[null,null],Wp={type:"LineString",coordinates:Hp};function Gp(e,t){return Hp[0]=e,Hp[1]=t,Kp(Wp)}var Yp={Feature:function(e,t){return Xp(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Xp(n[r].geometry,t))return!0;return!1}},Qp={Sphere:function(){return!0},Point:function(e,t){return Zp(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Zp(n[r],t))return!0;return!1},LineString:function(e,t){return Jp(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Jp(n[r],t))return!0;return!1},Polygon:function(e,t){return ed(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(ed(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Xp(n[r],t))return!0;return!1}};function Xp(e,t){return!(!e||!Qp.hasOwnProperty(e.type))&&Qp[e.type](e,t)}function Zp(e,t){return 0===Gp(e,t)}function Jp(e,t){for(var n,r,i,o=0,s=e.length;o<s;o++){if(0===(r=Gp(e[o],t)))return!0;if(o>0&&(i=Gp(e[o],e[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<yh*i)return!0;n=r}return!1}function ed(e,t){return!!Ap(e.map(td),nd(t))}function td(e){return(e=e.map(nd)).pop(),e}function nd(e){return[e[0]*xh,e[1]*xh]}function rd(e,t){return(e&&Yp.hasOwnProperty(e.type)?Yp[e.type]:Xp)(e,t)}function id(e,t,n){var r=wt(e,t-mh,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function od(e,t,n){var r=wt(e,t-mh,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function sd(){var e,t,n,r,i,o,s,a,u,c,l,h,f=10,p=f,d=90,m=360,y=2.5;function v(){return{type:"MultiLineString",coordinates:g()}}function g(){return wt(Ah(r/d)*d,n,d).map(l).concat(wt(Ah(a/m)*m,s,m).map(h)).concat(wt(Ah(t/f)*f,e,f).filter((function(e){return kh(e%d)>mh})).map(u)).concat(wt(Ah(o/p)*p,i,p).filter((function(e){return kh(e%m)>mh})).map(c))}return v.lines=function(){return g().map((function(e){return{type:"LineString",coordinates:e}}))},v.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(h(s).slice(1),l(n).reverse().slice(1),h(a).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],r>n&&(e=r,r=n,n=e),a>s&&(e=a,a=s,s=e),v.precision(y)):[[r,a],[n,s]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),v.precision(y)):[[t,o],[e,i]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(d=+e[0],m=+e[1],v):[d,m]},v.stepMinor=function(e){return arguments.length?(f=+e[0],p=+e[1],v):[f,p]},v.precision=function(f){return arguments.length?(y=+f,u=id(o,i,90),c=od(t,e,y),l=id(a,s,90),h=od(r,n,y),v):y},v.extentMajor([[-180,-90+mh],[180,90-mh]]).extentMinor([[-180,-80-mh],[180,80+mh]])}function ad(){return sd()()}function ud(e,t){var n=e[0]*xh,r=e[1]*xh,i=t[0]*xh,o=t[1]*xh,s=Th(r),a=Rh(r),u=Th(o),c=Rh(o),l=s*Th(n),h=s*Rh(n),f=u*Th(i),p=u*Rh(i),d=2*jh(Ih(Fh(o-r)+s*u*Fh(i-n))),m=Rh(d),y=d?function(e){var t=Rh(e*=d)/m,n=Rh(d-e)/m,r=n*l+t*f,i=n*h+t*p,o=n*a+t*c;return[Sh(i,r)*wh,Sh(o,Ih(r*r+i*i))*wh]}:function(){return[n*wh,r*wh]};return y.distance=d,y}const cd=e=>e;var ld,hd,fd,pd,dd=new ve,md=new ve,yd={point:Bh,lineStart:Bh,lineEnd:Bh,polygonStart:function(){yd.lineStart=vd,yd.lineEnd=bd},polygonEnd:function(){yd.lineStart=yd.lineEnd=yd.point=Bh,dd.add(kh(md)),md=new ve},result:function(){var e=dd/2;return dd=new ve,e}};function vd(){yd.point=gd}function gd(e,t){yd.point=_d,ld=fd=e,hd=pd=t}function _d(e,t){md.add(pd*e-fd*t),fd=e,pd=t}function bd(){_d(ld,hd)}const wd=yd;var xd=1/0,kd=xd,Ed=-xd,Sd=Ed,Td={point:function(e,t){e<xd&&(xd=e),e>Ed&&(Ed=e),t<kd&&(kd=t),t>Sd&&(Sd=t)},lineStart:Bh,lineEnd:Bh,polygonStart:Bh,polygonEnd:Bh,result:function(){var e=[[xd,kd],[Ed,Sd]];return Ed=Sd=-(kd=xd=1/0),e}};const Ad=Td;var Od,Nd,Pd,Cd,Rd=0,Ld=0,Id=0,Dd=0,Md=0,jd=0,Fd=0,Bd=0,Ud=0,zd={point:Vd,lineStart:$d,lineEnd:Hd,polygonStart:function(){zd.lineStart=Wd,zd.lineEnd=Gd},polygonEnd:function(){zd.point=Vd,zd.lineStart=$d,zd.lineEnd=Hd},result:function(){var e=Ud?[Fd/Ud,Bd/Ud]:jd?[Dd/jd,Md/jd]:Id?[Rd/Id,Ld/Id]:[NaN,NaN];return Rd=Ld=Id=Dd=Md=jd=Fd=Bd=Ud=0,e}};function Vd(e,t){Rd+=e,Ld+=t,++Id}function $d(){zd.point=qd}function qd(e,t){zd.point=Kd,Vd(Pd=e,Cd=t)}function Kd(e,t){var n=e-Pd,r=t-Cd,i=Ih(n*n+r*r);Dd+=i*(Pd+e)/2,Md+=i*(Cd+t)/2,jd+=i,Vd(Pd=e,Cd=t)}function Hd(){zd.point=Vd}function Wd(){zd.point=Yd}function Gd(){Qd(Od,Nd)}function Yd(e,t){zd.point=Qd,Vd(Od=Pd=e,Nd=Cd=t)}function Qd(e,t){var n=e-Pd,r=t-Cd,i=Ih(n*n+r*r);Dd+=i*(Pd+e)/2,Md+=i*(Cd+t)/2,jd+=i,Fd+=(i=Cd*e-Pd*t)*(Pd+e),Bd+=i*(Cd+t),Ud+=3*i,Vd(Pd=e,Cd=t)}const Xd=zd;function Zd(e){this._context=e}Zd.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,bh)}},result:Bh};var Jd,em,tm,nm,rm,im=new ve,om={point:Bh,lineStart:function(){om.point=sm},lineEnd:function(){Jd&&am(em,tm),om.point=Bh},polygonStart:function(){Jd=!0},polygonEnd:function(){Jd=null},result:function(){var e=+im;return im=new ve,e}};function sm(e,t){om.point=am,em=nm=e,tm=rm=t}function am(e,t){nm-=e,rm-=t,im.add(Ih(nm*nm+rm*rm)),nm=e,rm=t}const um=om;let cm,lm,hm,fm;class pm{constructor(e){this._append=null==e?dm:function(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return dm;if(t!==cm){const e=10**t;cm=t,lm=function(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return lm}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append`M${e},${t}`,this._point=1;break;case 1:this._append`L${e},${t}`;break;default:if(this._append`M${e},${t}`,this._radius!==hm||this._append!==lm){const e=this._radius,t=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,hm=e,lm=this._append,fm=this._,this._=t}this._+=fm}}result(){const e=this._;return this._="",e.length?e:null}}function dm(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function mm(e,t){let n,r,i=3,o=4.5;function s(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Kh(e,n(r))),r.result()}return s.area=function(e){return Kh(e,n(wd)),wd.result()},s.measure=function(e){return Kh(e,n(um)),um.result()},s.bounds=function(e){return Kh(e,n(Ad)),Ad.result()},s.centroid=function(e){return Kh(e,n(Xd)),Xd.result()},s.projection=function(t){return arguments.length?(n=null==t?(e=null,cd):(e=t).stream,s):e},s.context=function(e){return arguments.length?(r=null==e?(t=null,new pm(i)):new Zd(t=e),"function"!=typeof o&&r.pointRadius(o),s):t},s.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),s):o},s.digits=function(e){if(!arguments.length)return i;if(null==e)i=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);i=t}return null===t&&(r=new pm(i)),s},s.projection(e).digits(i).context(t)}function ym(e){return{stream:vm(e)}}function vm(e){return function(t){var n=new gm;for(var r in e)n[r]=e[r];return n.stream=t,n}}function gm(){}function _m(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Kh(n,e.stream(Ad)),t(Ad.result()),null!=r&&e.clipExtent(r),e}function bm(e,t,n){return _m(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,a=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,a])}),n)}function wm(e,t,n){return bm(e,[[0,0],t],n)}function xm(e,t,n){return _m(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];e.scale(150*i).translate([o,s])}),n)}function km(e,t,n){return _m(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],s=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,s])}),n)}gm.prototype={constructor:gm,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Em=16,Sm=Th(30*xh);function Tm(e,t){return+t?function(e,t){function n(r,i,o,s,a,u,c,l,h,f,p,d,m,y){var v=c-r,g=l-i,_=v*v+g*g;if(_>4*t&&m--){var b=s+f,w=a+p,x=u+d,k=Ih(b*b+w*w+x*x),E=jh(x/=k),S=kh(kh(x)-1)<mh||kh(o-h)<mh?(o+h)/2:Sh(w,b),T=e(S,E),A=T[0],O=T[1],N=A-r,P=O-i,C=g*N-v*P;(C*C/_>t||kh((v*N+g*P)/_-.5)>.3||s*f+a*p+u*d<Sm)&&(n(r,i,o,s,a,u,A,O,S,b/=k,w/=k,x,m,y),y.point(A,O),n(A,O,S,b,w,x,c,l,h,f,p,d,m,y))}}return function(t){var r,i,o,s,a,u,c,l,h,f,p,d,m={point:y,lineStart:v,lineEnd:_,polygonStart:function(){t.polygonStart(),m.lineStart=b},polygonEnd:function(){t.polygonEnd(),m.lineStart=v}};function y(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){l=NaN,m.point=g,t.lineStart()}function g(r,i){var o=gf([r,i]),s=e(r,i);n(l,h,c,f,p,d,l=s[0],h=s[1],c=r,f=o[0],p=o[1],d=o[2],Em,t),t.point(l,h)}function _(){m.point=y,t.lineEnd()}function b(){v(),m.point=w,m.lineEnd=x}function w(e,t){g(r=e,t),i=l,o=h,s=f,a=p,u=d,m.point=g}function x(){n(l,h,c,f,p,d,i,o,r,s,a,u,Em,t),m.lineEnd=_,_()}return m}}(e,t):function(e){return vm({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var Am=vm({point:function(e,t){this.stream.point(e*xh,t*xh)}});function Om(e,t,n,r,i,o){if(!o)return function(e,t,n,r,i){function o(o,s){return[t+e*(o*=r),n-e*(s*=i)]}return o.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},o}(e,t,n,r,i);var s=Th(o),a=Rh(o),u=s*e,c=a*e,l=s/e,h=a/e,f=(a*n-s*t)/e,p=(a*t+s*n)/e;function d(e,o){return[u*(e*=r)-c*(o*=i)+t,n-c*e-u*o]}return d.invert=function(e,t){return[r*(l*e-h*t+f),i*(p-h*e-l*t)]},d}function Nm(e){return Pm((function(){return e}))()}function Pm(e){var t,n,r,i,o,s,a,u,c,l,h=150,f=480,p=250,d=0,m=0,y=0,v=0,g=0,_=0,b=1,w=1,x=null,k=Cp,E=null,S=cd,T=.5;function A(e){return u(e[0]*xh,e[1]*xh)}function O(e){return(e=u.invert(e[0],e[1]))&&[e[0]*wh,e[1]*wh]}function N(){var e=Om(h,0,0,b,w,_).apply(null,t(d,m)),r=Om(h,f-e[0],p-e[1],b,w,_);return n=pp(y,v,g),a=hp(t,r),u=hp(n,a),s=Tm(a,T),P()}function P(){return c=l=null,A}return A.stream=function(e){return c&&l===e?c:c=Am(function(e){return vm({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(k(s(S(l=e)))))},A.preclip=function(e){return arguments.length?(k=e,x=void 0,P()):k},A.postclip=function(e){return arguments.length?(S=e,E=r=i=o=null,P()):S},A.clipAngle=function(e){return arguments.length?(k=+e?Rp(x=e*xh):(x=null,Cp),P()):x*wh},A.clipExtent=function(e){return arguments.length?(S=null==e?(E=r=i=o=null,cd):Bp(E=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),P()):null==E?null:[[E,r],[i,o]]},A.scale=function(e){return arguments.length?(h=+e,N()):h},A.translate=function(e){return arguments.length?(f=+e[0],p=+e[1],N()):[f,p]},A.center=function(e){return arguments.length?(d=e[0]%360*xh,m=e[1]%360*xh,N()):[d*wh,m*wh]},A.rotate=function(e){return arguments.length?(y=e[0]%360*xh,v=e[1]%360*xh,g=e.length>2?e[2]%360*xh:0,N()):[y*wh,v*wh,g*wh]},A.angle=function(e){return arguments.length?(_=e%360*xh,N()):_*wh},A.reflectX=function(e){return arguments.length?(b=e?-1:1,N()):b<0},A.reflectY=function(e){return arguments.length?(w=e?-1:1,N()):w<0},A.precision=function(e){return arguments.length?(s=Tm(a,T=e*e),P()):Ih(T)},A.fitExtent=function(e,t){return bm(A,e,t)},A.fitSize=function(e,t){return wm(A,e,t)},A.fitWidth=function(e,t){return xm(A,e,t)},A.fitHeight=function(e,t){return km(A,e,t)},function(){return t=e.apply(this,arguments),A.invert=t.invert&&O,N()}}function Cm(e){var t=0,n=vh/3,r=Pm(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*xh,n=e[1]*xh):[t*wh,n*wh]},i}function Rm(e,t){var n=Rh(e),r=(n+Rh(t))/2;if(kh(r)<mh)return function(e){var t=Th(e);function n(e,n){return[e*t,Rh(n)/t]}return n.invert=function(e,n){return[e/t,jh(n*t)]},n}(e);var i=1+n*(2*r-n),o=Ih(i)/r;function s(e,t){var n=Ih(i-2*r*Rh(t))/r;return[n*Rh(e*=r),o-n*Th(e)]}return s.invert=function(e,t){var n=o-t,s=Sh(e,kh(n))*Lh(n);return n*r<0&&(s-=vh*Lh(e)*Lh(n)),[s/r,jh((i-(e*e+n*n)*r*r)/(2*r))]},s}function Lm(){return Cm(Rm).scale(155.424).center([0,33.6442])}function Im(){return Lm().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Dm(){var e,t,n,r,i,o,s=Im(),a=Lm().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Lm().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function l(e){var t=e[0],s=e[1];return o=null,n.point(t,s),o||(r.point(t,s),o)||(i.point(t,s),o)}function h(){return e=t=null,l}return l.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:s).invert(e)},l.stream=function(n){return e&&t===n?e:(r=[s.stream(t=n),a.stream(n),u.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},l.precision=function(e){return arguments.length?(s.precision(e),a.precision(e),u.precision(e),h()):s.precision()},l.scale=function(e){return arguments.length?(s.scale(e),a.scale(.35*e),u.scale(e),l.translate(s.translate())):s.scale()},l.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),o=+e[0],l=+e[1];return n=s.translate(e).clipExtent([[o-.455*t,l-.238*t],[o+.455*t,l+.238*t]]).stream(c),r=a.translate([o-.307*t,l+.201*t]).clipExtent([[o-.425*t+mh,l+.12*t+mh],[o-.214*t-mh,l+.234*t-mh]]).stream(c),i=u.translate([o-.205*t,l+.212*t]).clipExtent([[o-.214*t+mh,l+.166*t+mh],[o-.115*t-mh,l+.234*t-mh]]).stream(c),h()},l.fitExtent=function(e,t){return bm(l,e,t)},l.fitSize=function(e,t){return wm(l,e,t)},l.fitWidth=function(e,t){return xm(l,e,t)},l.fitHeight=function(e,t){return km(l,e,t)},l.scale(1070)}function Mm(e){return function(t,n){var r=Th(t),i=Th(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Rh(t),o*Rh(n)]}}function jm(e){return function(t,n){var r=Ih(t*t+n*n),i=e(r),o=Rh(i),s=Th(i);return[Sh(t*o,r*s),jh(r&&n*o/r)]}}var Fm=Mm((function(e){return Ih(2/(1+e))}));function Bm(){return Nm(Fm).scale(124.75).clipAngle(179.999)}Fm.invert=jm((function(e){return 2*jh(e/2)}));var Um=Mm((function(e){return(e=Mh(e))&&e/Rh(e)}));function zm(){return Nm(Um).scale(79.4188).clipAngle(179.999)}function Vm(e,t){return[e,Ph(Dh((gh+t)/2))]}function $m(){return qm(Vm).scale(961/bh)}function qm(e){var t,n,r,i=Nm(e),o=i.center,s=i.scale,a=i.translate,u=i.clipExtent,c=null;function l(){var o=vh*s(),a=i(vp(i.rotate()).invert([0,0]));return u(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:e===Vm?[[Math.max(a[0]-o,c),t],[Math.min(a[0]+o,n),r]]:[[c,Math.max(a[1]-o,t)],[n,Math.min(a[1]+o,r)]])}return i.scale=function(e){return arguments.length?(s(e),l()):s()},i.translate=function(e){return arguments.length?(a(e),l()):a()},i.center=function(e){return arguments.length?(o(e),l()):o()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),l()):null==c?null:[[c,t],[n,r]]},l()}function Km(e){return Dh((gh+e)/2)}function Hm(e,t){var n=Th(e),r=e===t?Rh(e):Ph(n/Th(t))/Ph(Km(t)/Km(e)),i=n*Ch(Km(e),r)/r;if(!r)return Vm;function o(e,t){i>0?t<-gh+mh&&(t=-gh+mh):t>gh-mh&&(t=gh-mh);var n=i/Ch(Km(t),r);return[n*Rh(r*e),i-n*Th(r*e)]}return o.invert=function(e,t){var n=i-t,o=Lh(r)*Ih(e*e+n*n),s=Sh(e,kh(n))*Lh(n);return n*r<0&&(s-=vh*Lh(e)*Lh(n)),[s/r,2*Eh(Ch(i/o,1/r))-gh]},o}function Wm(){return Cm(Hm).scale(109.5).parallels([30,30])}function Gm(e,t){return[e,t]}function Ym(){return Nm(Gm).scale(152.63)}function Qm(e,t){var n=Th(e),r=e===t?Rh(e):(n-Th(t))/(t-e),i=n/r+e;if(kh(r)<mh)return Gm;function o(e,t){var n=i-t,o=r*e;return[n*Rh(o),i-n*Th(o)]}return o.invert=function(e,t){var n=i-t,o=Sh(e,kh(n))*Lh(n);return n*r<0&&(o-=vh*Lh(e)*Lh(n)),[o/r,i-Lh(r)*Ih(e*e+n*n)]},o}function Xm(){return Cm(Qm).scale(131.154).center([0,13.9389])}Um.invert=jm((function(e){return e})),Vm.invert=function(e,t){return[e,2*Eh(Oh(t))-gh]},Gm.invert=Gm;var Zm=1.340264,Jm=-.081106,ey=893e-6,ty=.003796,ny=Ih(3)/2;function ry(e,t){var n=jh(ny*Rh(t)),r=n*n,i=r*r*r;return[e*Th(n)/(ny*(Zm+3*Jm*r+i*(7*ey+9*ty*r))),n*(Zm+Jm*r+i*(ey+ty*r))]}function iy(){return Nm(ry).scale(177.158)}function oy(e,t){var n=Th(t),r=Th(e)*n;return[n*Rh(e)/r,Rh(t)/r]}function sy(){return Nm(oy).scale(144.049).clipAngle(60)}function ay(){var e,t,n,r,i,o,s,a=1,u=0,c=0,l=1,h=1,f=0,p=null,d=1,m=1,y=vm({point:function(e,t){var n=_([e,t]);this.stream.point(n[0],n[1])}}),v=cd;function g(){return d=a*l,m=a*h,o=s=null,_}function _(n){var r=n[0]*d,i=n[1]*m;if(f){var o=i*e-r*t;r=r*e+i*t,i=o}return[r+u,i+c]}return _.invert=function(n){var r=n[0]-u,i=n[1]-c;if(f){var o=i*e+r*t;r=r*e-i*t,i=o}return[r/d,i/m]},_.stream=function(e){return o&&s===e?o:o=y(v(s=e))},_.postclip=function(e){return arguments.length?(v=e,p=n=r=i=null,g()):v},_.clipExtent=function(e){return arguments.length?(v=null==e?(p=n=r=i=null,cd):Bp(p=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),g()):null==p?null:[[p,n],[r,i]]},_.scale=function(e){return arguments.length?(a=+e,g()):a},_.translate=function(e){return arguments.length?(u=+e[0],c=+e[1],g()):[u,c]},_.angle=function(n){return arguments.length?(t=Rh(f=n%360*xh),e=Th(f),g()):f*wh},_.reflectX=function(e){return arguments.length?(l=e?-1:1,g()):l<0},_.reflectY=function(e){return arguments.length?(h=e?-1:1,g()):h<0},_.fitExtent=function(e,t){return bm(_,e,t)},_.fitSize=function(e,t){return wm(_,e,t)},_.fitWidth=function(e,t){return xm(_,e,t)},_.fitHeight=function(e,t){return km(_,e,t)},_}function uy(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function cy(){return Nm(uy).scale(175.295)}function ly(e,t){return[Th(t)*Rh(e),Rh(t)]}function hy(){return Nm(ly).scale(249.5).clipAngle(90+mh)}function fy(e,t){var n=Th(t),r=1+Th(e)*n;return[n*Rh(e)/r,Rh(t)/r]}function py(){return Nm(fy).scale(250).clipAngle(142)}function dy(e,t){return[Ph(Dh((gh+t)/2)),-e]}function my(){var e=qm(dy),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}function yy(e,t){return e.parent===t.parent?1:2}function vy(e,t){return e+t.x}function gy(e,t){return Math.max(e,t.y)}function _y(){var e=yy,t=1,n=1,r=!1;function i(i){var o,s=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(vy,0)/e.length}(n),t.y=function(e){return 1+e.reduce(gy,0)}(n)):(t.x=o?s+=e(t,o):0,t.y=0,o=t)}));var a=function(e){for(var t;t=e.children;)e=t[0];return e}(i),u=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=a.x-e(a,u)/2,l=u.x+e(u,a)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(l-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function by(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function wy(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=ky)):void 0===t&&(t=xy);for(var n,r,i,o,s,a=new Ty(e),u=[a];n=u.pop();)if((i=t(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,o=s-1;o>=0;--o)u.push(r=i[o]=new Ty(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(Sy)}function xy(e){return e.children}function ky(e){return Array.isArray(e)?e[1]:null}function Ey(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Sy(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Ty(e){this.data=e,this.depth=this.height=0,this.parent=null}function Ay(e){return null==e?null:Oy(e)}function Oy(e){if("function"!=typeof e)throw new Error;return e}function Ny(){return 0}function Py(e){return function(){return e}}ry.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,s=0;s<12&&(o=(i=(r-=n=(r*(Zm+Jm*i+o*(ey+ty*i))-t)/(Zm+3*Jm*i+o*(7*ey+9*ty*i)))*r)*i*i,!(kh(n)<yh));++s);return[ny*e*(Zm+3*Jm*i+o*(7*ey+9*ty*i))/Th(r),jh(Rh(r)/ny)]},oy.invert=jm(Eh),uy.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-t)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(kh(n)>mh&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},ly.invert=jm(jh),fy.invert=jm((function(e){return 2*Eh(e)})),dy.invert=function(e,t){return[-t,2*Eh(Oh(e))-gh]},Ty.prototype=wy.prototype={constructor:Ty,count:function(){return this.eachAfter(by)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,o=this,s=[o],a=[],u=-1;o=s.pop();)if(a.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;o=a.pop();)e.call(t,o,++u,this);return this},eachBefore:function(e,t){for(var n,r,i=this,o=[i],s=-1;i=o.pop();)if(e.call(t,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return wy(this).eachBefore(Ey)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,o=[i];do{for(e=o.reverse(),o=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n])}while(o.length)}};const Cy=1664525,Ry=1013904223,Ly=4294967296;function Iy(){let e=1;return()=>(e=(Cy*e+Ry)%Ly)/Ly}function Dy(e){return My(e,Iy())}function My(e,t){for(var n,r,i=0,o=(e=function(e,t){let n,r,i=e.length;for(;i;)r=t()*i--|0,n=e[i],e[i]=e[r],e[r]=n;return e}(Array.from(e),t)).length,s=[];i<o;)n=e[i],r&&By(r,n)?++i:(r=zy(s=jy(s,n)),i=0);return r}function jy(e,t){var n,r;if(Uy(t,e))return[t];for(n=0;n<e.length;++n)if(Fy(t,e[n])&&Uy(Vy(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Fy(Vy(e[n],e[r]),t)&&Fy(Vy(e[n],t),e[r])&&Fy(Vy(e[r],t),e[n])&&Uy($y(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Fy(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function By(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Uy(e,t){for(var n=0;n<t.length;++n)if(!By(e,t[n]))return!1;return!0}function zy(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return Vy(e[0],e[1]);case 3:return $y(e[0],e[1],e[2])}}function Vy(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,u=o-n,c=s-r,l=a-i,h=Math.sqrt(u*u+c*c);return{x:(n+o+u/h*l)/2,y:(r+s+c/h*l)/2,r:(h+i+a)/2}}function $y(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,u=t.r,c=n.x,l=n.y,h=n.r,f=r-s,p=r-c,d=i-a,m=i-l,y=u-o,v=h-o,g=r*r+i*i-o*o,_=g-s*s-a*a+u*u,b=g-c*c-l*l+h*h,w=p*d-f*m,x=(d*b-m*_)/(2*w)-r,k=(m*y-d*v)/w,E=(p*_-f*b)/(2*w)-i,S=(f*v-p*y)/w,T=k*k+S*S-1,A=2*(o+x*k+E*S),O=x*x+E*E-o*o,N=-(Math.abs(T)>1e-6?(A+Math.sqrt(A*A-4*T*O))/(2*T):O/A);return{x:r+x+k*N,y:i+E+S*N,r:N}}function qy(e,t,n){var r,i,o,s,a=e.x-t.x,u=e.y-t.y,c=a*a+u*u;c?(i=t.r+n.r,i*=i,s=e.r+n.r,i>(s*=s)?(r=(c+s-i)/(2*c),o=Math.sqrt(Math.max(0,s/c-r*r)),n.x=e.x-r*a-o*u,n.y=e.y-r*u+o*a):(r=(c+i-s)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*a-o*u,n.y=t.y+r*u+o*a)):(n.x=t.x+n.r,n.y=t.y)}function Ky(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Hy(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function Wy(e){this._=e,this.next=null,this.previous=null}function Gy(e,t){if(!(s=(n=e,e="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,r,i,o,s,a,u,c,l,h,f,p;if((r=e[0]).x=0,r.y=0,!(s>1))return r.r;if(i=e[1],r.x=-i.r,i.x=r.r,i.y=0,!(s>2))return r.r+i.r;qy(i,r,o=e[2]),r=new Wy(r),i=new Wy(i),o=new Wy(o),r.next=o.previous=i,i.next=r.previous=o,o.next=i.previous=r;e:for(c=3;c<s;++c){qy(r._,i._,o=e[c]),o=new Wy(o),l=i.next,h=r.previous,f=i._.r,p=r._.r;do{if(f<=p){if(Ky(l._,o._)){i=l,r.next=i,i.previous=r,--c;continue e}f+=l._.r,l=l.next}else{if(Ky(h._,o._)){(r=h).next=i,i.previous=r,--c;continue e}p+=h._.r,h=h.previous}}while(l!==h.next);for(o.previous=r,o.next=i,r.next=i.previous=i=o,a=Hy(r);(o=o.next)!==i;)(u=Hy(o))<a&&(r=o,a=u);i=r.next}for(r=[i._],o=i;(o=o.next)!==i;)r.push(o._);for(o=My(r,t),c=0;c<s;++c)(r=e[c]).x-=o.x,r.y-=o.y;return o.r}function Yy(e){return Gy(e,Iy()),e}function Qy(e){return Math.sqrt(e.value)}function Xy(){var e=null,t=1,n=1,r=Ny;function i(i){const o=Iy();return i.x=t/2,i.y=n/2,e?i.eachBefore(Zy(e)).eachAfter(Jy(r,.5,o)).eachBefore(ev(1)):i.eachBefore(Zy(Qy)).eachAfter(Jy(Ny,1,o)).eachAfter(Jy(r,i.r/Math.min(t,n),o)).eachBefore(ev(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=Ay(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"==typeof e?e:Py(+e),i):r},i}function Zy(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Jy(e,t,n){return function(r){if(i=r.children){var i,o,s,a=i.length,u=e(r)*t||0;if(u)for(o=0;o<a;++o)i[o].r+=u;if(s=Gy(i,n),u)for(o=0;o<a;++o)i[o].r-=u;r.r=s+u}}}function ev(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function tv(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function nv(e,t,n,r,i){for(var o,s=e.children,a=-1,u=s.length,c=e.value&&(r-t)/e.value;++a<u;)(o=s[a]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}function rv(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&nv(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,s=r.x1-n,a=r.y1-n;s<i&&(i=s=(i+s)/2),a<o&&(o=a=(o+a)/2),r.x0=i,r.y0=o,r.x1=s,r.y1=a}}(t,o)),r&&i.eachBefore(tv),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i}var iv={depth:-1},ov={},sv={};function av(e){return e.id}function uv(e){return e.parentId}function cv(){var e,t=av,n=uv;function r(r){var i,o,s,a,u,c,l,h,f=Array.from(r),p=t,d=n,m=new Map;if(null!=e){const t=f.map(((t,n)=>function(e){let t=(e=`${e}`).length;return hv(e,t-1)&&!hv(e,t-2)&&(e=e.slice(0,-1)),"/"===e[0]?e:`/${e}`}(e(t,n,r)))),n=t.map(lv),i=new Set(t).add("");for(const e of n)i.has(e)||(i.add(e),t.push(e),n.push(lv(e)),f.push(sv));p=(e,n)=>t[n],d=(e,t)=>n[t]}for(s=0,i=f.length;s<i;++s)o=f[s],c=f[s]=new Ty(o),null!=(l=p(o,s,r))&&(l+="")&&(h=c.id=l,m.set(h,m.has(h)?ov:c)),null!=(l=d(o,s,r))&&(l+="")&&(c.parent=l);for(s=0;s<i;++s)if(l=(c=f[s]).parent){if(!(u=m.get(l)))throw new Error("missing: "+l);if(u===ov)throw new Error("ambiguous: "+l);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(a)throw new Error("multiple roots");a=c}if(!a)throw new Error("no root");if(null!=e){for(;a.data===sv&&1===a.children.length;)a=a.children[0],--i;for(let e=f.length-1;e>=0&&(c=f[e]).data===sv;--e)c.data=null}if(a.parent=iv,a.eachBefore((function(e){e.depth=e.parent.depth+1,--i})).eachBefore(Sy),a.parent=null,i>0)throw new Error("cycle");return a}return r.id=function(e){return arguments.length?(t=Ay(e),r):t},r.parentId=function(e){return arguments.length?(n=Ay(e),r):n},r.path=function(t){return arguments.length?(e=Ay(t),r):e},r}function lv(e){let t=e.length;if(t<2)return"";for(;--t>1&&!hv(e,t););return e.slice(0,t)}function hv(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if(!(1&n))return!0}return!1}function fv(e,t){return e.parent===t.parent?1:2}function pv(e){var t=e.children;return t?t[0]:e.t}function dv(e){var t=e.children;return t?t[t.length-1]:e.t}function mv(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function yv(e,t,n){return e.a.parent===t.parent?e.a:n}function vv(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function gv(){var e=fv,t=1,n=1,r=null;function i(i){var u=function(e){for(var t,n,r,i,o,s=new vv(e,0),a=[s];t=a.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(n=t.children[i]=new vv(r[i],i)),n.parent=t;return(s.parent=new vv(null,0)).children=[s],s}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),r)i.eachBefore(a);else{var c=i,l=i,h=i;i.eachBefore((function(e){e.x<c.x&&(c=e),e.x>l.x&&(l=e),e.depth>h.depth&&(h=e)}));var f=c===l?1:e(c,l)/2,p=f-c.x,d=t/(l.x+f+p),m=n/(h.depth||1);i.eachBefore((function(e){e.x=(e.x+p)*d,e.y=e.depth*m}))}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,s=t,a=n,u=o.parent.children[0],c=o.m,l=s.m,h=a.m,f=u.m;a=dv(a),o=pv(o),a&&o;)u=pv(u),(s=dv(s)).a=t,(i=a.z+h-o.z-c+e(a._,o._))>0&&(mv(yv(a,t,r),t,i),c+=i,l+=i),h+=a.m,c+=o.m,f+=u.m,l+=s.m;a&&!dv(s)&&(s.t=a,s.m+=h-l),o&&!pv(u)&&(u.t=o,u.m+=c-f,r=t)}return r}(t,i,t.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function a(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function _v(e,t,n,r,i){for(var o,s=e.children,a=-1,u=s.length,c=e.value&&(i-n)/e.value;++a<u;)(o=s[a]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}vv.prototype=Object.create(Ty.prototype);var bv=(1+Math.sqrt(5))/2;function wv(e,t,n,r,i,o){for(var s,a,u,c,l,h,f,p,d,m,y,v=[],g=t.children,_=0,b=0,w=g.length,x=t.value;_<w;){u=i-n,c=o-r;do{l=g[b++].value}while(!l&&b<w);for(h=f=l,y=l*l*(m=Math.max(c/u,u/c)/(x*e)),d=Math.max(f/y,y/h);b<w;++b){if(l+=a=g[b].value,a<h&&(h=a),a>f&&(f=a),y=l*l*m,(p=Math.max(f/y,y/h))>d){l-=a;break}d=p}v.push(s={value:l,dice:u<c,children:g.slice(_,b)}),s.dice?nv(s,n,r,i,x?r+=c*l/x:o):_v(s,n,r,x?n+=u*l/x:i,o),x-=l,_=b}return v}const xv=function e(t){function n(e,n,r,i,o){wv(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(bv);function kv(){var e=xv,t=!1,n=1,r=1,i=[0],o=Ny,s=Ny,a=Ny,u=Ny,c=Ny;function l(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(h),i=[0],t&&e.eachBefore(tv),e}function h(t){var n=i[t.depth],r=t.x0+n,l=t.y0+n,h=t.x1-n,f=t.y1-n;h<r&&(r=h=(r+h)/2),f<l&&(l=f=(l+f)/2),t.x0=r,t.y0=l,t.x1=h,t.y1=f,t.children&&(n=i[t.depth+1]=o(t)/2,r+=c(t)-n,l+=s(t)-n,(h-=a(t)-n)<r&&(r=h=(r+h)/2),(f-=u(t)-n)<l&&(l=f=(l+f)/2),e(t,r,l,h,f))}return l.round=function(e){return arguments.length?(t=!!e,l):t},l.size=function(e){return arguments.length?(n=+e[0],r=+e[1],l):[n,r]},l.tile=function(t){return arguments.length?(e=Oy(t),l):e},l.padding=function(e){return arguments.length?l.paddingInner(e).paddingOuter(e):l.paddingInner()},l.paddingInner=function(e){return arguments.length?(o="function"==typeof e?e:Py(+e),l):o},l.paddingOuter=function(e){return arguments.length?l.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):l.paddingTop()},l.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:Py(+e),l):s},l.paddingRight=function(e){return arguments.length?(a="function"==typeof e?e:Py(+e),l):a},l.paddingBottom=function(e){return arguments.length?(u="function"==typeof e?e:Py(+e),l):u},l.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:Py(+e),l):c},l}function Ev(e,t,n,r,i){var o,s,a=e.children,u=a.length,c=new Array(u+1);for(c[0]=s=o=0;o<u;++o)c[o+1]=s+=a[o].value;!function e(t,n,r,i,o,s,u){if(t>=n-1){var l=a[t];return l.x0=i,l.y0=o,l.x1=s,void(l.y1=u)}for(var h=c[t],f=r/2+h,p=t+1,d=n-1;p<d;){var m=p+d>>>1;c[m]<f?p=m+1:d=m}f-c[p-1]<c[p]-f&&t+1<p&&--p;var y=c[p]-h,v=r-y;if(s-i>u-o){var g=r?(i*v+s*y)/r:s;e(t,p,y,i,o,g,u),e(p,n,v,g,o,s,u)}else{var _=r?(o*v+u*y)/r:u;e(t,p,y,i,o,s,_),e(p,n,v,i,_,s,u)}}(0,u,e.value,t,n,r,i)}function Sv(e,t,n,r,i){(1&e.depth?_v:nv)(e,t,n,r,i)}const Tv=function e(t){function n(e,n,r,i,o){if((s=e._squarify)&&s.ratio===t)for(var s,a,u,c,l,h=-1,f=s.length,p=e.value;++h<f;){for(u=(a=s[h]).children,c=a.value=0,l=u.length;c<l;++c)a.value+=u[c].value;a.dice?nv(a,n,r,i,p?r+=(o-r)*a.value/p:o):_v(a,n,r,p?n+=(i-n)*a.value/p:i,o),p-=a.value}else e._squarify=s=wv(t,e,n,r,i,o),s.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(bv);function Av(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Ov(e,t){var n=ki(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}function Nv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Pv(e){return((e=Math.exp(e))+1/e)/2}const Cv=function e(t,n,r){function i(e,i){var o,s,a=e[0],u=e[1],c=e[2],l=i[0],h=i[1],f=i[2],p=l-a,d=h-u,m=p*p+d*d;if(m<1e-12)s=Math.log(f/c)/t,o=function(e){return[a+e*p,u+e*d,c*Math.exp(t*e*s)]};else{var y=Math.sqrt(m),v=(f*f-c*c+r*m)/(2*c*n*y),g=(f*f-c*c-r*m)/(2*f*n*y),_=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(g*g+1)-g);s=(b-_)/t,o=function(e){var r,i=e*s,o=Pv(_),l=c/(n*y)*(o*(r=t*i+_,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(_));return[a+l*p,u+l*d,c*o/Pv(t*i+_)]}}return o.duration=1e3*s*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function Rv(e){return function(t,n){var r=e((t=pi(t)).h,(n=pi(n)).h),i=Ei(t.s,n.s),o=Ei(t.l,n.l),s=Ei(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=s(e),t+""}}}const Lv=Rv(ki);var Iv=Rv(Ei);function Dv(e,t){var n=Ei((e=Sa(e)).l,(t=Sa(t)).l),r=Ei(e.a,t.a),i=Ei(e.b,t.b),o=Ei(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function Mv(e){return function(t,n){var r=e((t=La(t)).h,(n=La(n)).h),i=Ei(t.c,n.c),o=Ei(t.l,n.l),s=Ei(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=s(e),t+""}}}const jv=Mv(ki);var Fv=Mv(Ei);function Bv(e){return function t(n){function r(t,r){var i=e((t=qa(t)).h,(r=qa(r)).h),o=Ei(t.s,r.s),s=Ei(t.l,r.l),a=Ei(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=s(Math.pow(e,n)),t.opacity=a(e),t+""}}return n=+n,r.gamma=t,r}(1)}const Uv=Bv(ki);var zv=Bv(Ei);function Vv(e,t){void 0===t&&(t=e,e=Bi);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function $v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function qv(e){for(var t,n=-1,r=e.length,i=e[r-1],o=0;++n<r;)t=i,i=e[n],o+=t[1]*i[0]-t[0]*i[1];return o/2}function Kv(e){for(var t,n,r=-1,i=e.length,o=0,s=0,a=e[i-1],u=0;++r<i;)t=a,a=e[r],u+=n=t[0]*a[1]-a[0]*t[1],o+=(t[0]+a[0])*n,s+=(t[1]+a[1])*n;return[o/(u*=3),s/u]}function Hv(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Wv(e,t){return e[0]-t[0]||e[1]-t[1]}function Gv(e){const t=e.length,n=[0,1];let r,i=2;for(r=2;r<t;++r){for(;i>1&&Hv(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Yv(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(Wv),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var o=Gv(r),s=Gv(i),a=s[0]===o[0],u=s[s.length-1]===o[o.length-1],c=[];for(t=o.length-1;t>=0;--t)c.push(e[r[o[t]][2]]);for(t=+a;t<s.length-u;++t)c.push(e[r[s[t]][2]]);return c}function Qv(e,t){for(var n,r,i=e.length,o=e[i-1],s=t[0],a=t[1],u=o[0],c=o[1],l=!1,h=0;h<i;++h)n=(o=e[h])[0],(r=o[1])>a!=c>a&&s<(u-n)*(a-r)/(c-r)+n&&(l=!l),u=n,c=r;return l}function Xv(e){for(var t,n,r=-1,i=e.length,o=e[i-1],s=o[0],a=o[1],u=0;++r<i;)t=s,n=a,t-=s=(o=e[r])[0],n-=a=o[1],u+=Math.hypot(t,n);return u}const Zv=Math.random,Jv=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(Zv),eg=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(Zv),tg=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(Zv),ng=function e(t){var n=tg.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(Zv),rg=function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(Zv),ig=function e(t){var n=rg.source(t);function r(e){if(0==(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(Zv),og=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(Zv),sg=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(Zv),ag=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(Zv),ug=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(Zv),cg=function e(t){var n=tg.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var i=(e<1?e+1:e)-1/3,o=1/(3*Math.sqrt(i)),s=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),a=1+o*e}while(a<=0);a*=a*a;var u=1-t()}while(u>=1-.0331*e*e*e*e&&Math.log(u)>=.5*e*e+i*(1-a+Math.log(a)));return i*a*s()*r}}return r.source=e,r}(Zv),lg=function e(t){var n=cg.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}(Zv),hg=function e(t){var n=ug.source(t),r=lg.source(t);function i(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var i=0,o=e,s=t;o*s>16&&o*(1-s)>16;){var a=Math.floor((o+1)*s),u=r(a,o-a+1)();u<=s?(i+=a,o-=a,s=(s-u)/(1-u)):(o=a-1,s/=u)}for(var c=s<.5,l=n(c?s:1-s),h=l(),f=0;h<=o;++f)h+=l();return i+(c?f:o-f)}}return i.source=e,i}(Zv),fg=function e(t){function n(e,n,r){var i;return 0==(e=+e)?i=e=>-Math.log(e):(e=1/e,i=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n}(Zv),pg=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(Zv),dg=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(Zv),mg=function e(t){var n=cg.source(t),r=hg.source(t);function i(e){return function(){for(var i=0,o=e;o>16;){var s=Math.floor(.875*o),a=n(s)();if(a>o)return i+r(s-1,o/a)();i+=s,o-=a}for(var u=-Math.log1p(-t()),c=0;u<=o;++c)u-=Math.log1p(-t());return i+c}}return i.source=e,i}(Zv),yg=1664525,vg=1013904223,gg=1/4294967296;function _g(e=Math.random()){let t=0|(0<=e&&e<1?e/gg:Math.abs(e));return()=>(t=yg*t+vg|0,gg*(t>>>0))}function bg(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function wg(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const xg=Symbol("implicit");function kg(){var e=new be,t=[],n=[],r=xg;function i(i){let o=e.get(i);if(void 0===o){if(r!==xg)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new be;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return kg(t,n).unknown(r)},bg.apply(i,arguments),i}function Eg(){var e,t,n=kg().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,a=!1,u=0,c=0,l=.5;function h(){var n=r().length,h=s<o,f=h?s:o,p=h?o:s;e=(p-f)/Math.max(1,n-u+2*c),a&&(e=Math.floor(e)),f+=(p-f-e*(n-u))*l,t=e*(1-u),a&&(f=Math.round(f),t=Math.round(t));var d=wt(n).map((function(t){return f+e*t}));return i(h?d.reverse():d)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,s]=e,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(e){return[o,s]=e,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,h()):a},n.padding=function(e){return arguments.length?(u=Math.min(1,c=+e),h()):u},n.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),h()):u},n.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),h()):l},n.copy=function(){return Eg(r(),[o,s]).round(a).paddingInner(u).paddingOuter(c).align(l)},bg.apply(h(),arguments)}function Sg(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Sg(t())},e}function Tg(){return Sg(Eg.apply(null,arguments).paddingInner(1))}function Ag(e){return+e}var Og=[0,1];function Ng(e){return e}function Pg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Cg(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Pg(i,r),o=n(s,o)):(r=Pg(r,i),o=n(o,s)),function(e){return o(r(e))}}function Rg(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Pg(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=ee(e,t,1,r)-1;return o[n](i[n](t))}}function Lg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ig(){var e,t,n,r,i,o,s=Og,a=Og,u=Bi,c=Ng;function l(){var e=Math.min(s.length,a.length);return c!==Ng&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?Rg:Cg,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),a,u)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=r(a,s.map(e),Ii)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,Ag),l()):s.slice()},h.range=function(e){return arguments.length?(a=Array.from(e),l()):a.slice()},h.rangeRound=function(e){return a=Array.from(e),u=Nv,l()},h.clamp=function(e){return arguments.length?(c=!!e||Ng,l()):c!==Ng},h.interpolate=function(e){return arguments.length?(u=e,l()):u},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,l()}}function Dg(){return Ig()(Ng,Ng)}function Mg(e,t,n,r){var i,o=Ze(e,t,n);switch((r=eh(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=ph(o,s))||(r.precision=i),ah(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=dh(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=fh(o))||(r.precision=i-2*("%"===r.type))}return sh(r)}function jg(e){var t=e.domain;return e.ticks=function(e){var n=t();return Qe(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Mg(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),s=0,a=o.length-1,u=o[s],c=o[a],l=10;for(c<u&&(i=u,u=c,c=i,i=s,s=a,a=i);l-- >0;){if((i=Xe(u,c,n))===r)return o[s]=u,o[a]=c,t(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Fg(){var e=Dg();return e.copy=function(){return Lg(e,Fg())},bg.apply(e,arguments),jg(e)}function Bg(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Ag),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Bg(e).unknown(t)},e=arguments.length?Array.from(e,Ag):[0,1],jg(n)}function Ug(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],s=e[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),e[r]=t.floor(o),e[i]=t.ceil(s),e}function zg(e){return Math.log(e)}function Vg(e){return Math.exp(e)}function $g(e){return-Math.log(-e)}function qg(e){return-Math.exp(-e)}function Kg(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Hg(e){return(t,n)=>-e(-t,n)}function Wg(e){const t=e(zg,Vg),n=t.domain;let r,i,o=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?Kg:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=Hg(r),i=Hg(i),e($g,qg)):e(zg,Vg),t}return t.base=function(e){return arguments.length?(o=+e,s()):o},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],a=t[t.length-1];const u=a<s;u&&([s,a]=[a,s]);let c,l,h=r(s),f=r(a);const p=null==e?10:+e;let d=[];if(!(o%1)&&f-h<p){if(h=Math.floor(h),f=Math.ceil(f),s>0){for(;h<=f;++h)for(c=1;c<o;++c)if(l=h<0?c/i(-h):c*i(h),!(l<s)){if(l>a)break;d.push(l)}}else for(;h<=f;++h)for(c=o-1;c>=1;--c)if(l=h>0?c/i(-h):c*i(h),!(l<s)){if(l>a)break;d.push(l)}2*d.length<p&&(d=Qe(s,a,p))}else d=Qe(h,f,Math.min(f-h,p)).map(i);return u?d.reverse():d},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=eh(n)).precision||(n.trim=!0),n=sh(n)),e===1/0)return n;const s=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=s?n(e):""}},t.nice=()=>n(Ug(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Gg(){const e=Wg(Ig()).domain([1,10]);return e.copy=()=>Lg(e,Gg()).base(e.base()),bg.apply(e,arguments),e}function Yg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Qg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Xg(e){var t=1,n=e(Yg(t),Qg(t));return n.constant=function(n){return arguments.length?e(Yg(t=+n),Qg(t)):t},jg(n)}function Zg(){var e=Xg(Ig());return e.copy=function(){return Lg(e,Zg()).constant(e.constant())},bg.apply(e,arguments)}function Jg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function e_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function t_(e){return e<0?-e*e:e*e}function n_(e){var t=e(Ng,Ng),n=1;return t.exponent=function(t){return arguments.length?1==(n=+t)?e(Ng,Ng):.5===n?e(e_,t_):e(Jg(n),Jg(1/n)):n},jg(t)}function r_(){var e=n_(Ig());return e.copy=function(){return Lg(e,r_()).exponent(e.exponent())},bg.apply(e,arguments),e}function i_(){return r_.apply(null,arguments).exponent(.5)}function o_(e){return Math.sign(e)*e*e}function s_(){var e,t=Dg(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(o_(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Ag)).map(o_)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return s_(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},bg.apply(i,arguments),jg(i)}function a_(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=lt(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[ee(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(K),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return a_().domain(t).range(n).unknown(e)},bg.apply(o,arguments)}function u_(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function s(t){return null!=t&&t<=t?o[ee(i,t,0,r)]:e}function a(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,a()):[t,n]},s.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,a()):o.slice()},s.invertExtent=function(e){var s=o.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return u_().domain([t,n]).range(o).unknown(e)},bg.apply(jg(s),arguments)}function c_(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[ee(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return c_().domain(t).range(n).unknown(e)},bg.apply(i,arguments)}const l_=1e3,h_=6e4,f_=36e5,p_=864e5,d_=6048e5,m_=31536e6,y_=new Date,v_=new Date;function g_(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;let a;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=n=>g_((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(y_.setTime(+t),v_.setTime(+r),e(y_),e(v_),Math.floor(n(y_,v_))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e==0:t=>i.count(0,t)%e==0):i:null)),i}const __=g_((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));__.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?g_((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):__:null);const b_=__.range,w_=g_((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*l_)}),((e,t)=>(t-e)/l_),(e=>e.getUTCSeconds())),x_=w_.range,k_=g_((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*l_)}),((e,t)=>{e.setTime(+e+t*h_)}),((e,t)=>(t-e)/h_),(e=>e.getMinutes())),E_=k_.range,S_=g_((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*h_)}),((e,t)=>(t-e)/h_),(e=>e.getUTCMinutes())),T_=S_.range,A_=g_((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*l_-e.getMinutes()*h_)}),((e,t)=>{e.setTime(+e+t*f_)}),((e,t)=>(t-e)/f_),(e=>e.getHours())),O_=A_.range,N_=g_((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*f_)}),((e,t)=>(t-e)/f_),(e=>e.getUTCHours())),P_=N_.range,C_=g_((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*h_)/p_),(e=>e.getDate()-1)),R_=C_.range,L_=g_((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/p_),(e=>e.getUTCDate()-1)),I_=L_.range,D_=g_((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/p_),(e=>Math.floor(e/p_))),M_=D_.range;function j_(e){return g_((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*h_)/d_))}const F_=j_(0),B_=j_(1),U_=j_(2),z_=j_(3),V_=j_(4),$_=j_(5),q_=j_(6),K_=F_.range,H_=B_.range,W_=U_.range,G_=z_.range,Y_=V_.range,Q_=$_.range,X_=q_.range;function Z_(e){return g_((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/d_))}const J_=Z_(0),eb=Z_(1),tb=Z_(2),nb=Z_(3),rb=Z_(4),ib=Z_(5),ob=Z_(6),sb=J_.range,ab=eb.range,ub=tb.range,cb=nb.range,lb=rb.range,hb=ib.range,fb=ob.range,pb=g_((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth())),db=pb.range,mb=g_((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth())),yb=mb.range,vb=g_((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));vb.every=e=>isFinite(e=Math.floor(e))&&e>0?g_((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;const gb=vb.range,_b=g_((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));_b.every=e=>isFinite(e=Math.floor(e))&&e>0?g_((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;const bb=_b.range;function wb(e,t,n,r,i,o){const s=[[w_,1,l_],[w_,5,5e3],[w_,15,15e3],[w_,30,3e4],[o,1,h_],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,f_],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,p_],[r,2,1728e5],[n,1,d_],[t,1,2592e6],[t,3,7776e6],[e,1,m_]];function a(t,n,r){const i=Math.abs(n-t)/r,o=W((([,,e])=>e)).right(s,i);if(o===s.length)return e.every(Ze(t/m_,n/m_,r));if(0===o)return __.every(Math.max(Ze(t,n,r),1));const[a,u]=s[i/s[o-1][2]<s[o][2]/i?o-1:o];return a.every(u)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:a(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},a]}const[xb,kb]=wb(_b,mb,J_,D_,N_,S_),[Eb,Sb]=wb(vb,pb,F_,C_,A_,k_);function Tb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ab(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ob(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Nb(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,u=e.shortMonths,c=zb(i),l=Vb(i),h=zb(o),f=Vb(o),p=zb(s),d=Vb(s),m=zb(a),y=Vb(a),v=zb(u),g=Vb(u),_={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:cw,e:cw,f:dw,g:Sw,G:Aw,H:lw,I:hw,j:fw,L:pw,m:mw,M:yw,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Qw,s:Xw,S:vw,u:gw,U:_w,V:ww,w:xw,W:kw,x:null,X:null,y:Ew,Y:Tw,Z:Ow,"%":Yw},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:Nw,e:Nw,f:Iw,g:Kw,G:Ww,H:Pw,I:Cw,j:Rw,L:Lw,m:Dw,M:Mw,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Qw,s:Xw,S:jw,u:Fw,U:Bw,V:zw,w:Vw,W:$w,x:null,X:null,y:qw,Y:Hw,Z:Gw,"%":Yw},w={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:Jb,e:Jb,f:ow,g:Yb,G:Gb,H:tw,I:tw,j:ew,L:iw,m:Zb,M:nw,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:Xb,Q:aw,s:uw,S:rw,u:qb,U:Kb,V:Hb,w:$b,W:Wb,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:Yb,Y:Gb,Z:Qb,"%":sw};function x(e,t){return function(n){var r,i,o,s=[],a=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(u,a)),null!=(i=Db[r=e.charAt(++a)])?r=e.charAt(++a):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),s.push(r),u=a+1);return s.push(e.slice(u,a)),s.join("")}}function k(e,t){return function(n){var r,i,o=Ob(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Ab(Ob(o.y,0,1))).getUTCDay(),r=i>4||0===i?eb.ceil(r):eb(r),r=L_.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Tb(Ob(o.y,0,1))).getDay(),r=i>4||0===i?B_.ceil(r):B_(r),r=C_.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ab(Ob(o.y,0,1)).getUTCDay():Tb(Ob(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ab(o)):Tb(o)}}function E(e,t,n,r){for(var i,o,s=0,a=t.length,u=n.length;s<a;){if(r>=u)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(o=w[i in Db?t.charAt(s++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=x(n,_),_.X=x(r,_),_.c=x(t,_),b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),{format:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}var Pb,Cb,Rb,Lb,Ib,Db={"-":"",_:" ",0:"0"},Mb=/^\s*\d+/,jb=/^%/,Fb=/[\\^$*+?|[\]().{}]/g;function Bb(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Ub(e){return e.replace(Fb,"\\$&")}function zb(e){return new RegExp("^(?:"+e.map(Ub).join("|")+")","i")}function Vb(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function $b(e,t,n){var r=Mb.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function qb(e,t,n){var r=Mb.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Kb(e,t,n){var r=Mb.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Hb(e,t,n){var r=Mb.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Wb(e,t,n){var r=Mb.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Gb(e,t,n){var r=Mb.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yb(e,t,n){var r=Mb.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qb(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xb(e,t,n){var r=Mb.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Zb(e,t,n){var r=Mb.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Jb(e,t,n){var r=Mb.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ew(e,t,n){var r=Mb.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function tw(e,t,n){var r=Mb.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nw(e,t,n){var r=Mb.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rw(e,t,n){var r=Mb.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function iw(e,t,n){var r=Mb.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ow(e,t,n){var r=Mb.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sw(e,t,n){var r=jb.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function aw(e,t,n){var r=Mb.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uw(e,t,n){var r=Mb.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function cw(e,t){return Bb(e.getDate(),t,2)}function lw(e,t){return Bb(e.getHours(),t,2)}function hw(e,t){return Bb(e.getHours()%12||12,t,2)}function fw(e,t){return Bb(1+C_.count(vb(e),e),t,3)}function pw(e,t){return Bb(e.getMilliseconds(),t,3)}function dw(e,t){return pw(e,t)+"000"}function mw(e,t){return Bb(e.getMonth()+1,t,2)}function yw(e,t){return Bb(e.getMinutes(),t,2)}function vw(e,t){return Bb(e.getSeconds(),t,2)}function gw(e){var t=e.getDay();return 0===t?7:t}function _w(e,t){return Bb(F_.count(vb(e)-1,e),t,2)}function bw(e){var t=e.getDay();return t>=4||0===t?V_(e):V_.ceil(e)}function ww(e,t){return e=bw(e),Bb(V_.count(vb(e),e)+(4===vb(e).getDay()),t,2)}function xw(e){return e.getDay()}function kw(e,t){return Bb(B_.count(vb(e)-1,e),t,2)}function Ew(e,t){return Bb(e.getFullYear()%100,t,2)}function Sw(e,t){return Bb((e=bw(e)).getFullYear()%100,t,2)}function Tw(e,t){return Bb(e.getFullYear()%1e4,t,4)}function Aw(e,t){var n=e.getDay();return Bb((e=n>=4||0===n?V_(e):V_.ceil(e)).getFullYear()%1e4,t,4)}function Ow(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Bb(t/60|0,"0",2)+Bb(t%60,"0",2)}function Nw(e,t){return Bb(e.getUTCDate(),t,2)}function Pw(e,t){return Bb(e.getUTCHours(),t,2)}function Cw(e,t){return Bb(e.getUTCHours()%12||12,t,2)}function Rw(e,t){return Bb(1+L_.count(_b(e),e),t,3)}function Lw(e,t){return Bb(e.getUTCMilliseconds(),t,3)}function Iw(e,t){return Lw(e,t)+"000"}function Dw(e,t){return Bb(e.getUTCMonth()+1,t,2)}function Mw(e,t){return Bb(e.getUTCMinutes(),t,2)}function jw(e,t){return Bb(e.getUTCSeconds(),t,2)}function Fw(e){var t=e.getUTCDay();return 0===t?7:t}function Bw(e,t){return Bb(J_.count(_b(e)-1,e),t,2)}function Uw(e){var t=e.getUTCDay();return t>=4||0===t?rb(e):rb.ceil(e)}function zw(e,t){return e=Uw(e),Bb(rb.count(_b(e),e)+(4===_b(e).getUTCDay()),t,2)}function Vw(e){return e.getUTCDay()}function $w(e,t){return Bb(eb.count(_b(e)-1,e),t,2)}function qw(e,t){return Bb(e.getUTCFullYear()%100,t,2)}function Kw(e,t){return Bb((e=Uw(e)).getUTCFullYear()%100,t,2)}function Hw(e,t){return Bb(e.getUTCFullYear()%1e4,t,4)}function Ww(e,t){var n=e.getUTCDay();return Bb((e=n>=4||0===n?rb(e):rb.ceil(e)).getUTCFullYear()%1e4,t,4)}function Gw(){return"+0000"}function Yw(){return"%"}function Qw(e){return+e}function Xw(e){return Math.floor(+e/1e3)}function Zw(e){return Pb=Nb(e),Cb=Pb.format,Rb=Pb.parse,Lb=Pb.utcFormat,Ib=Pb.utcParse,Pb}function Jw(e){return new Date(e)}function ex(e){return e instanceof Date?+e:+new Date(+e)}function tx(e,t,n,r,i,o,s,a,u,c){var l=Dg(),h=l.invert,f=l.domain,p=c(".%L"),d=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),g=c("%b %d"),_=c("%B"),b=c("%Y");function w(e){return(u(e)<e?p:a(e)<e?d:s(e)<e?m:o(e)<e?y:r(e)<e?i(e)<e?v:g:n(e)<e?_:b)(e)}return l.invert=function(e){return new Date(h(e))},l.domain=function(e){return arguments.length?f(Array.from(e,ex)):f().map(Jw)},l.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?w:c(t)},l.nice=function(e){var n=f();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(Ug(n,e)):l},l.copy=function(){return Lg(l,tx(e,t,n,r,i,o,s,a,u,c))},l}function nx(){return bg.apply(tx(Eb,Sb,vb,pb,F_,C_,A_,k_,w_,Cb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rx(){return bg.apply(tx(xb,kb,_b,mb,J_,L_,N_,S_,w_,Lb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ix(){var e,t,n,r,i,o=0,s=1,a=Ng,u=!1;function c(t){return null==t||isNaN(t=+t)?i:a(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r;return arguments.length?([n,r]=t,a=e(n,r),c):[a(0),a(1)]}}return c.domain=function(i){return arguments.length?([o,s]=i,e=r(o=+o),t=r(s=+s),n=e===t?0:1/(t-e),c):[o,s]},c.clamp=function(e){return arguments.length?(u=!!e,c):u},c.interpolator=function(e){return arguments.length?(a=e,c):a},c.range=l(Bi),c.rangeRound=l(Nv),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(s),n=e===t?0:1/(t-e),c}}function ox(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sx(){var e=jg(ix()(Ng));return e.copy=function(){return ox(e,sx())},wg.apply(e,arguments)}function ax(){var e=Wg(ix()).domain([1,10]);return e.copy=function(){return ox(e,ax()).base(e.base())},wg.apply(e,arguments)}function ux(){var e=Xg(ix());return e.copy=function(){return ox(e,ux()).constant(e.constant())},wg.apply(e,arguments)}function cx(){var e=n_(ix());return e.copy=function(){return ox(e,cx()).exponent(e.exponent())},wg.apply(e,arguments)}function lx(){return cx.apply(null,arguments).exponent(.5)}function hx(){var e=[],t=Ng;function n(n){if(null!=n&&!isNaN(n=+n))return t((ee(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(K),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>ct(e,r/t)))},n.copy=function(){return hx(t).domain(e)},wg.apply(n,arguments)}function fx(){var e,t,n,r,i,o,s,a=0,u=.5,c=1,l=1,h=Ng,f=!1;function p(e){return isNaN(e=+e)?s:(e=.5+((e=+o(e))-t)*(l*e<l*t?r:i),h(f?Math.max(0,Math.min(1,e)):e))}function d(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,h=Vv(e,[n,r,i]),p):[h(0),h(.5),h(1)]}}return p.domain=function(s){return arguments.length?([a,u,c]=s,e=o(a=+a),t=o(u=+u),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,p):[a,u,c]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(h=e,p):h},p.range=d(Bi),p.rangeRound=d(Nv),p.unknown=function(e){return arguments.length?(s=e,p):s},function(s){return o=s,e=s(a),t=s(u),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,p}}function px(){var e=jg(fx()(Ng));return e.copy=function(){return ox(e,px())},wg.apply(e,arguments)}function dx(){var e=Wg(fx()).domain([.1,1,10]);return e.copy=function(){return ox(e,dx()).base(e.base())},wg.apply(e,arguments)}function mx(){var e=Xg(fx());return e.copy=function(){return ox(e,mx()).constant(e.constant())},wg.apply(e,arguments)}function yx(){var e=n_(fx());return e.copy=function(){return ox(e,yx()).exponent(e.exponent())},wg.apply(e,arguments)}function vx(){return yx.apply(null,arguments).exponent(.5)}function gx(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}Zw({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const _x=gx("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),bx=gx("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),wx=gx("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),xx=gx("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),kx=gx("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ex=gx("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Sx=gx("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Tx=gx("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Ax=gx("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Ox=gx("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Nx=e=>Ai(e[e.length-1]);var Px=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(gx);const Cx=Nx(Px);var Rx=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(gx);const Lx=Nx(Rx);var Ix=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(gx);const Dx=Nx(Ix);var Mx=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(gx);const jx=Nx(Mx);var Fx=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(gx);const Bx=Nx(Fx);var Ux=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(gx);const zx=Nx(Ux);var Vx=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(gx);const $x=Nx(Vx);var qx=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(gx);const Kx=Nx(qx);var Hx=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(gx);const Wx=Nx(Hx);var Gx=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(gx);const Yx=Nx(Gx);var Qx=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(gx);const Xx=Nx(Qx);var Zx=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(gx);const Jx=Nx(Zx);var ek=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(gx);const tk=Nx(ek);var nk=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(gx);const rk=Nx(nk);var ik=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(gx);const ok=Nx(ik);var sk=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(gx);const ak=Nx(sk);var uk=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(gx);const ck=Nx(uk);var lk=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(gx);const hk=Nx(lk);var fk=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(gx);const pk=Nx(fk);var dk=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(gx);const mk=Nx(dk);var yk=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(gx);const vk=Nx(yk);var gk=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(gx);const _k=Nx(gk);var bk=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(gx);const wk=Nx(bk);var xk=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(gx);const kk=Nx(xk);var Ek=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(gx);const Sk=Nx(Ek);var Tk=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(gx);const Ak=Nx(Tk);var Ok=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(gx);const Nk=Nx(Ok);function Pk(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}const Ck=zv(qa(300,.5,0),qa(-240,.5,1));var Rk=zv(qa(-100,.75,.35),qa(80,1.5,.8)),Lk=zv(qa(260,.75,.35),qa(80,1.5,.8)),Ik=qa();function Dk(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ik.h=360*e-100,Ik.s=1.5-1.5*t,Ik.l=.8-.9*t,Ik+""}var Mk=ii(),jk=Math.PI/3,Fk=2*Math.PI/3;function Bk(e){var t;return e=(.5-e)*Math.PI,Mk.r=255*(t=Math.sin(e))*t,Mk.g=255*(t=Math.sin(e+jk))*t,Mk.b=255*(t=Math.sin(e+Fk))*t,Mk+""}function Uk(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function zk(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Vk=zk(gx("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var $k=zk(gx("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),qk=zk(gx("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Kk=zk(gx("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Hk(e){return Nr(mr(e).call(document.documentElement))}var Wk=0;function Gk(){return new Yk}function Yk(){this._="@"+(++Wk).toString(36)}function Qk(e,t){return e.target&&(e=Ui(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,(e=>zi(e,t)))}function Xk(e){return"string"==typeof e?new Tr([document.querySelectorAll(e)],[document.documentElement]):new Tr([gn(e)],Sr)}function Zk(e){return function(){return e}}Yk.prototype=Gk.prototype={constructor:Yk,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const Jk=Math.abs,eE=Math.atan2,tE=Math.cos,nE=Math.max,rE=Math.min,iE=Math.sin,oE=Math.sqrt,sE=1e-12,aE=Math.PI,uE=aE/2,cE=2*aE;function lE(e){return e>=1?uE:e<=-1?-uE:Math.asin(e)}function hE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Js(t)}function fE(e){return e.innerRadius}function pE(e){return e.outerRadius}function dE(e){return e.startAngle}function mE(e){return e.endAngle}function yE(e){return e&&e.padAngle}function vE(e,t,n,r,i,o,s){var a=e-n,u=t-r,c=(s?o:-o)/oE(a*a+u*u),l=c*u,h=-c*a,f=e+l,p=t+h,d=n+l,m=r+h,y=(f+d)/2,v=(p+m)/2,g=d-f,_=m-p,b=g*g+_*_,w=i-o,x=f*m-d*p,k=(_<0?-1:1)*oE(nE(0,w*w*b-x*x)),E=(x*_-g*k)/b,S=(-x*g-_*k)/b,T=(x*_+g*k)/b,A=(-x*g+_*k)/b,O=E-y,N=S-v,P=T-y,C=A-v;return O*O+N*N>P*P+C*C&&(E=T,S=A),{cx:E,cy:S,x01:-l,y01:-h,x11:E*(i/w-1),y11:S*(i/w-1)}}function gE(){var e=fE,t=pE,n=Zk(0),r=null,i=dE,o=mE,s=yE,a=null,u=hE(c);function c(){var c,l,h,f=+e.apply(this,arguments),p=+t.apply(this,arguments),d=i.apply(this,arguments)-uE,m=o.apply(this,arguments)-uE,y=Jk(m-d),v=m>d;if(a||(a=c=u()),p<f&&(l=p,p=f,f=l),p>sE)if(y>cE-sE)a.moveTo(p*tE(d),p*iE(d)),a.arc(0,0,p,d,m,!v),f>sE&&(a.moveTo(f*tE(m),f*iE(m)),a.arc(0,0,f,m,d,v));else{var g,_,b=d,w=m,x=d,k=m,E=y,S=y,T=s.apply(this,arguments)/2,A=T>sE&&(r?+r.apply(this,arguments):oE(f*f+p*p)),O=rE(Jk(p-f)/2,+n.apply(this,arguments)),N=O,P=O;if(A>sE){var C=lE(A/f*iE(T)),R=lE(A/p*iE(T));(E-=2*C)>sE?(x+=C*=v?1:-1,k-=C):(E=0,x=k=(d+m)/2),(S-=2*R)>sE?(b+=R*=v?1:-1,w-=R):(S=0,b=w=(d+m)/2)}var L=p*tE(b),I=p*iE(b),D=f*tE(k),M=f*iE(k);if(O>sE){var j,F=p*tE(w),B=p*iE(w),U=f*tE(x),z=f*iE(x);if(y<aE)if(j=function(e,t,n,r,i,o,s,a){var u=n-e,c=r-t,l=s-i,h=a-o,f=h*u-l*c;if(!(f*f<sE))return[e+(f=(l*(t-o)-h*(e-i))/f)*u,t+f*c]}(L,I,U,z,F,B,D,M)){var V=L-j[0],$=I-j[1],q=F-j[0],K=B-j[1],H=1/iE(((h=(V*q+$*K)/(oE(V*V+$*$)*oE(q*q+K*K)))>1?0:h<-1?aE:Math.acos(h))/2),W=oE(j[0]*j[0]+j[1]*j[1]);N=rE(O,(f-W)/(H-1)),P=rE(O,(p-W)/(H+1))}else N=P=0}S>sE?P>sE?(g=vE(U,z,L,I,p,P,v),_=vE(F,B,D,M,p,P,v),a.moveTo(g.cx+g.x01,g.cy+g.y01),P<O?a.arc(g.cx,g.cy,P,eE(g.y01,g.x01),eE(_.y01,_.x01),!v):(a.arc(g.cx,g.cy,P,eE(g.y01,g.x01),eE(g.y11,g.x11),!v),a.arc(0,0,p,eE(g.cy+g.y11,g.cx+g.x11),eE(_.cy+_.y11,_.cx+_.x11),!v),a.arc(_.cx,_.cy,P,eE(_.y11,_.x11),eE(_.y01,_.x01),!v))):(a.moveTo(L,I),a.arc(0,0,p,b,w,!v)):a.moveTo(L,I),f>sE&&E>sE?N>sE?(g=vE(D,M,F,B,f,-N,v),_=vE(L,I,U,z,f,-N,v),a.lineTo(g.cx+g.x01,g.cy+g.y01),N<O?a.arc(g.cx,g.cy,N,eE(g.y01,g.x01),eE(_.y01,_.x01),!v):(a.arc(g.cx,g.cy,N,eE(g.y01,g.x01),eE(g.y11,g.x11),!v),a.arc(0,0,f,eE(g.cy+g.y11,g.cx+g.x11),eE(_.cy+_.y11,_.cx+_.x11),v),a.arc(_.cx,_.cy,N,eE(_.y11,_.x11),eE(_.y01,_.x01),!v))):a.arc(0,0,f,k,x,v):a.lineTo(D,M)}else a.moveTo(0,0);if(a.closePath(),c)return a=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-aE/2;return[tE(r)*n,iE(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Zk(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Zk(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Zk(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Zk(+e),c):r},c.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Zk(+e),c):i},c.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Zk(+e),c):o},c.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:Zk(+e),c):s},c.context=function(e){return arguments.length?(a=null==e?null:e,c):a},c}var _E=Array.prototype.slice;function bE(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function wE(e){this._context=e}function xE(e){return new wE(e)}function kE(e){return e[0]}function EE(e){return e[1]}function SE(e,t){var n=Zk(!0),r=null,i=xE,o=null,s=hE(a);function a(a){var u,c,l,h=(a=bE(a)).length,f=!1;for(null==r&&(o=i(l=s())),u=0;u<=h;++u)!(u<h&&n(c=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(c,u,a),+t(c,u,a));if(l)return o=null,l+""||null}return e="function"==typeof e?e:void 0===e?kE:Zk(e),t="function"==typeof t?t:void 0===t?EE:Zk(t),a.x=function(t){return arguments.length?(e="function"==typeof t?t:Zk(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:Zk(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:Zk(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function TE(e,t,n){var r=null,i=Zk(!0),o=null,s=xE,a=null,u=hE(c);function c(c){var l,h,f,p,d,m=(c=bE(c)).length,y=!1,v=new Array(m),g=new Array(m);for(null==o&&(a=s(d=u())),l=0;l<=m;++l){if(!(l<m&&i(p=c[l],l,c))===y)if(y=!y)h=l,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),f=l-1;f>=h;--f)a.point(v[f],g[f]);a.lineEnd(),a.areaEnd()}y&&(v[l]=+e(p,l,c),g[l]=+t(p,l,c),a.point(r?+r(p,l,c):v[l],n?+n(p,l,c):g[l]))}if(d)return a=null,d+""||null}function l(){return SE().defined(i).curve(s).context(o)}return e="function"==typeof e?e:void 0===e?kE:Zk(+e),t="function"==typeof t?t:Zk(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?EE:Zk(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Zk(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Zk(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Zk(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Zk(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Zk(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Zk(+e),c):n},c.lineX0=c.lineY0=function(){return l().x(e).y(t)},c.lineY1=function(){return l().x(e).y(n)},c.lineX1=function(){return l().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:Zk(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=o&&(a=s(o)),c):s},c.context=function(e){return arguments.length?(null==e?o=a=null:a=s(o=e),c):o},c}function AE(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function OE(e){return e}function NE(){var e=OE,t=AE,n=null,r=Zk(0),i=Zk(cE),o=Zk(0);function s(s){var a,u,c,l,h,f=(s=bE(s)).length,p=0,d=new Array(f),m=new Array(f),y=+r.apply(this,arguments),v=Math.min(cE,Math.max(-cE,i.apply(this,arguments)-y)),g=Math.min(Math.abs(v)/f,o.apply(this,arguments)),_=g*(v<0?-1:1);for(a=0;a<f;++a)(h=m[d[a]=a]=+e(s[a],a,s))>0&&(p+=h);for(null!=t?d.sort((function(e,n){return t(m[e],m[n])})):null!=n&&d.sort((function(e,t){return n(s[e],s[t])})),a=0,c=p?(v-f*_)/p:0;a<f;++a,y=l)u=d[a],l=y+((h=m[u])>0?h*c:0)+_,m[u]={data:s[u],index:a,value:h,startAngle:y,endAngle:l,padAngle:g};return m}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:Zk(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Zk(+e),s):r},s.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:Zk(+e),s):i},s.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:Zk(+e),s):o},s}wE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var PE=RE(xE);function CE(e){this._curve=e}function RE(e){function t(t){return new CE(e(t))}return t._curve=e,t}function LE(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(RE(e)):t()._curve},e}function IE(){return LE(SE().curve(PE))}function DE(){var e=TE().curve(PE),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return LE(n())},delete e.lineX0,e.lineEndAngle=function(){return LE(r())},delete e.lineX1,e.lineInnerRadius=function(){return LE(i())},delete e.lineY0,e.lineOuterRadius=function(){return LE(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(RE(e)):t()._curve},e}function ME(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}CE.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};class jE{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}class FE{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,t){if(e=+e,t=+t,0===this._point)this._point=1;else{const n=ME(this._x0,this._y0),r=ME(this._x0,this._y0=(this._y0+t)/2),i=ME(e,this._y0),o=ME(e,t);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...o)}this._x0=e,this._y0=t}}function BE(e){return new jE(e,!0)}function UE(e){return new jE(e,!1)}function zE(e){return new FE(e)}function VE(e){return e.source}function $E(e){return e.target}function qE(e){let t=VE,n=$E,r=kE,i=EE,o=null,s=null,a=hE(u);function u(){let u;const c=_E.call(arguments),l=t.apply(this,c),h=n.apply(this,c);if(null==o&&(s=e(u=a())),s.lineStart(),c[0]=l,s.point(+r.apply(this,c),+i.apply(this,c)),c[0]=h,s.point(+r.apply(this,c),+i.apply(this,c)),s.lineEnd(),u)return s=null,u+""||null}return u.source=function(e){return arguments.length?(t=e,u):t},u.target=function(e){return arguments.length?(n=e,u):n},u.x=function(e){return arguments.length?(r="function"==typeof e?e:Zk(+e),u):r},u.y=function(e){return arguments.length?(i="function"==typeof e?e:Zk(+e),u):i},u.context=function(t){return arguments.length?(null==t?o=s=null:s=e(o=t),u):o},u}function KE(){return qE(BE)}function HE(){return qE(UE)}function WE(){const e=qE(zE);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const GE=oE(3),YE={draw(e,t){const n=.59436*oE(t+rE(t/28,.75)),r=n/2,i=r*GE;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},QE={draw(e,t){const n=oE(t/aE);e.moveTo(n,0),e.arc(0,0,n,0,cE)}},XE={draw(e,t){const n=oE(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ZE=oE(1/3),JE=2*ZE,eS={draw(e,t){const n=oE(t/JE),r=n*ZE;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},tS={draw(e,t){const n=.62625*oE(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},nS={draw(e,t){const n=.87559*oE(t-rE(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},rS={draw(e,t){const n=oE(t),r=-n/2;e.rect(r,r,n,n)}},iS={draw(e,t){const n=.4431*oE(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},oS=iE(aE/10)/iE(7*aE/10),sS=iE(cE/10)*oS,aS=-tE(cE/10)*oS,uS={draw(e,t){const n=oE(.8908130915292852*t),r=sS*n,i=aS*n;e.moveTo(0,-n),e.lineTo(r,i);for(let t=1;t<5;++t){const o=cE*t/5,s=tE(o),a=iE(o);e.lineTo(a*n,-s*n),e.lineTo(s*r-a*i,a*r+s*i)}e.closePath()}},cS=oE(3),lS={draw(e,t){const n=-oE(t/(3*cS));e.moveTo(0,2*n),e.lineTo(-cS*n,-n),e.lineTo(cS*n,-n),e.closePath()}},hS=oE(3),fS={draw(e,t){const n=.6824*oE(t),r=n/2,i=n*hS/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},pS=-.5,dS=oE(3)/2,mS=1/oE(12),yS=3*(mS/2+1),vS={draw(e,t){const n=oE(t/yS),r=n/2,i=n*mS,o=r,s=n*mS+n,a=-o,u=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,u),e.lineTo(pS*r-dS*i,dS*r+pS*i),e.lineTo(pS*o-dS*s,dS*o+pS*s),e.lineTo(pS*a-dS*u,dS*a+pS*u),e.lineTo(pS*r+dS*i,pS*i-dS*r),e.lineTo(pS*o+dS*s,pS*s-dS*o),e.lineTo(pS*a+dS*u,pS*u-dS*a),e.closePath()}},gS={draw(e,t){const n=.6189*oE(t-rE(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},_S=[QE,XE,eS,rS,uS,lS,vS],bS=[QE,nS,gS,fS,YE,iS,tS];function wS(e,t){let n=null,r=hE(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:Zk(e||QE),t="function"==typeof t?t:Zk(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:Zk(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:Zk(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}function xS(){}function kS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ES(e){this._context=e}function SS(e){return new ES(e)}function TS(e){this._context=e}function AS(e){return new TS(e)}function OS(e){this._context=e}function NS(e){return new OS(e)}function PS(e,t){this._basis=new ES(e),this._beta=t}ES.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kS(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},TS.prototype={areaStart:xS,areaEnd:xS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kS(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},OS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kS(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},PS.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],s=e[n]-i,a=t[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*s),this._beta*t[u]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const CS=function e(t){function n(e){return 1===t?new ES(e):new PS(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function RS(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function LS(e,t){this._context=e,this._k=(1-t)/6}LS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:RS(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:RS(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const IS=function e(t){function n(e){return new LS(e,t)}return n.tension=function(t){return e(+t)},n}(0);function DS(e,t){this._context=e,this._k=(1-t)/6}DS.prototype={areaStart:xS,areaEnd:xS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:RS(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const MS=function e(t){function n(e){return new DS(e,t)}return n.tension=function(t){return e(+t)},n}(0);function jS(e,t){this._context=e,this._k=(1-t)/6}jS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:RS(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const FS=function e(t){function n(e){return new jS(e,t)}return n.tension=function(t){return e(+t)},n}(0);function BS(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>sE){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>sE){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/l,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function US(e,t){this._context=e,this._alpha=t}US.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:BS(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zS=function e(t){function n(e){return t?new US(e,t):new LS(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function VS(e,t){this._context=e,this._alpha=t}VS.prototype={areaStart:xS,areaEnd:xS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:BS(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $S=function e(t){function n(e){return t?new VS(e,t):new DS(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function qS(e,t){this._context=e,this._alpha=t}qS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:BS(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const KS=function e(t){function n(e){return t?new qS(e,t):new jS(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function HS(e){this._context=e}function WS(e){return new HS(e)}function GS(e){return e<0?-1:1}function YS(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(GS(o)+GS(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function QS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function XS(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function ZS(e){this._context=e}function JS(e){this._context=new eT(e)}function eT(e){this._context=e}function tT(e){return new ZS(e)}function nT(e){return new JS(e)}function rT(e){this._context=e}function iT(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function oT(e){return new rT(e)}function sT(e,t){this._context=e,this._t=t}function aT(e){return new sT(e,.5)}function uT(e){return new sT(e,0)}function cT(e){return new sT(e,1)}function lT(e,t){if((i=e.length)>1)for(var n,r,i,o=1,s=e[t[0]],a=s.length;o<i;++o)for(r=s,s=e[t[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function hT(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function fT(e,t){return e[t]}function pT(e){const t=[];return t.key=e,t}function dT(){var e=Zk([]),t=hT,n=lT,r=fT;function i(i){var o,s,a=Array.from(e.apply(this,arguments),pT),u=a.length,c=-1;for(const e of i)for(o=0,++c;o<u;++o)(a[o][c]=[0,+r(e,a[o].key,c,i)]).data=e;for(o=0,s=bE(t(a));o<u;++o)a[s[o]].index=o;return n(a,s),a}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:Zk(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:Zk(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?hT:"function"==typeof e?e:Zk(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?lT:e,i):n},i}function mT(e,t){if((r=e.length)>0){for(var n,r,i,o=0,s=e[0].length;o<s;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}lT(e,t)}}function yT(e,t){if((a=e.length)>0)for(var n,r,i,o,s,a,u=0,c=e[t[0]].length;u<c;++u)for(o=s=0,n=0;n<a;++n)(i=(r=e[t[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=s,r[0]=s+=i):(r[0]=0,r[1]=i)}function vT(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var s=0,a=0;s<n;++s)a+=e[s][r][1]||0;i[r][1]+=i[r][0]=-a/2}lT(e,t)}}function gT(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,s=1;s<r;++s){for(var a=0,u=0,c=0;a<i;++a){for(var l=e[t[a]],h=l[s][1]||0,f=(h-(l[s-1][1]||0))/2,p=0;p<a;++p){var d=e[t[p]];f+=(d[s][1]||0)-(d[s-1][1]||0)}u+=h,c+=f*h}n[s-1][1]+=n[s-1][0]=o,u&&(o-=c/u)}n[s-1][1]+=n[s-1][0]=o,lT(e,t)}}function _T(e){var t=e.map(bT);return hT(e).sort((function(e,n){return t[e]-t[n]}))}function bT(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}function wT(e){var t=e.map(xT);return hT(e).sort((function(e,n){return t[e]-t[n]}))}function xT(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}function kT(e){return wT(e).reverse()}function ET(e){var t,n,r=e.length,i=e.map(xT),o=_T(e),s=0,a=0,u=[],c=[];for(t=0;t<r;++t)n=o[t],s<a?(s+=i[n],u.push(n)):(a+=i[n],c.push(n));return c.reverse().concat(u)}function ST(e){return hT(e).reverse()}HS.prototype={areaStart:xS,areaEnd:xS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},ZS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:XS(this,this._t0,QS(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,XS(this,QS(this,n=YS(this,e,t)),n);break;default:XS(this,this._t0,n=YS(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(JS.prototype=Object.create(ZS.prototype)).point=function(e,t){ZS.prototype.point.call(this,t,e)},eT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},rT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=iT(e),i=iT(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},sT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var TT="%Y-%m-%dT%H:%M:%S.%LZ",AT=Date.prototype.toISOString?function(e){return e.toISOString()}:Lb(TT);const OT=AT;var NT=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:Ib(TT);const PT=NT;function CT(e,t,n){var r=new to,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?Ji():+n,r._restart((function o(s){s+=i,r._restart(o,i+=t,n),e(s)}),t,n)},r.restart(e,t,n),r)}const RT=e=>()=>e;function LT(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function IT(e,t,n){this.k=e,this.x=t,this.y=n}IT.prototype={constructor:IT,scale:function(e){return 1===e?this:new IT(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new IT(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var DT=new IT(1,0,0);function MT(e){for(;!e.__zoom;)if(!(e=e.parentNode))return DT;return e.__zoom}function jT(e){e.stopImmediatePropagation()}function FT(e){e.preventDefault(),e.stopImmediatePropagation()}function BT(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function UT(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function zT(){return this.__zoom||DT}function VT(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function $T(){return navigator.maxTouchPoints||"ontouchstart"in this}function qT(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function KT(){var e,t,n,r=BT,i=UT,o=qT,s=VT,a=$T,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,h=Cv,f=mn("start","zoom","end"),p=500,d=150,m=0,y=10;function v(e){e.property("__zoom",zT).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",T).filter(a).on("touchstart.zoom",A).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(u[0],Math.min(u[1],t)))===e.k?e:new IT(t,e.x,e.y)}function _(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new IT(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,o=arguments,s=x(e,o).event(r),a=i.apply(e,o),u=null==n?b(a):"function"==typeof n?n.apply(e,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=e.__zoom,f="function"==typeof t?t.apply(e,o):t,p=h(l.invert(u).concat(c/l.k),f.invert(u).concat(c/f.k));return function(e){if(1===e)e=f;else{var t=p(e),n=c/t[2];e=new IT(n,u[0]-t[0]*n,u[1]-t[1]*n)}s.zoom(null,e)}}))}function x(e,t,n){return!n&&e.__zooming||new k(e,t)}function k(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function E(e,...t){if(r.apply(this,arguments)){var n=x(this,t).event(e),i=this.__zoom,a=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,s.apply(this,arguments)))),l=zi(e);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=i.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[l,i.invert(l)],wo(this),n.start()}FT(e),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),d),n.zoom("mouse",o(_(g(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function S(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,s=x(this,t,!0).event(e),a=Nr(e.view).on("mousemove.zoom",(function(e){if(FT(e),!s.moved){var t=e.clientX-l,n=e.clientY-h;s.moved=t*t+n*n>m}s.event(e).zoom("mouse",o(_(s.that.__zoom,s.mouse[0]=zi(e,i),s.mouse[1]),s.extent,c))}),!0).on("mouseup.zoom",(function(e){a.on("mousemove.zoom mouseup.zoom",null),Dr(e.view,s.moved),FT(e),s.event(e).end()}),!0),u=zi(e,i),l=e.clientX,h=e.clientY;Ir(e.view),jT(e),s.mouse=[u,this.__zoom.invert(u)],wo(this),s.start()}}function T(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,s=zi(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(s),u=n.k*(e.shiftKey?.5:2),h=o(_(g(n,u),s,a),i.apply(this,t),c);FT(e),l>0?Nr(this).transition().duration(l).call(w,h,s,e):Nr(this).call(v.transform,h,s,e)}}function A(n,...i){if(r.apply(this,arguments)){var o,s,a,u,c=n.touches,l=c.length,h=x(this,i,n.changedTouches.length===l).event(n);for(jT(n),s=0;s<l;++s)u=[u=zi(a=c[s],this),this.__zoom.invert(u),a.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,o=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),o&&(h.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),p)),wo(this),h.start())}}function O(e,...t){if(this.__zooming){var n,r,i,s,a=x(this,t).event(e),u=e.changedTouches,l=u.length;for(FT(e),n=0;n<l;++n)i=zi(r=u[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],f=a.touch0[1],p=a.touch1[0],d=a.touch1[1],m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m,y=(y=d[0]-f[0])*y+(y=d[1]-f[1])*y;r=g(r,Math.sqrt(m/y)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],s=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(_(r,i,s),a.extent,c))}}function N(e,...r){if(this.__zooming){var i,o,s=x(this,r).event(e),a=e.changedTouches,u=a.length;for(jT(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<u;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=zi(o,this),Math.hypot(t[0]-o[0],t[1]-o[1])<y)){var c=Nr(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",zT),e!==i?w(e,t,n,r):i.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},v.scaleBy=function(e,t,n,r){v.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},v.scaleTo=function(e,t,n,r){v.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,s=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),u="function"==typeof t?t.apply(this,arguments):t;return o(_(g(r,u),s,a),e,c)}),n,r)},v.translateBy=function(e,t,n,r){v.transform(e,(function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},v.translateTo=function(e,t,n,r,s){v.transform(e,(function(){var e=i.apply(this,arguments),s=this.__zoom,a=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return o(DT.translate(a[0],a[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),r,s)},k.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Nr(this.that).datum();f.call(e,this.that,new LT(e,{sourceEvent:this.sourceEvent,target:v,type:e,transform:this.that.__zoom,dispatch:f}),t)}},v.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:RT(+e),v):s},v.filter=function(e){return arguments.length?(r="function"==typeof e?e:RT(!!e),v):r},v.touchable=function(e){return arguments.length?(a="function"==typeof e?e:RT(!!e),v):a},v.extent=function(e){return arguments.length?(i="function"==typeof e?e:RT([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):i},v.scaleExtent=function(e){return arguments.length?(u[0]=+e[0],u[1]=+e[1],v):[u[0],u[1]]},v.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(e){return arguments.length?(o=e,v):o},v.duration=function(e){return arguments.length?(l=+e,v):l},v.interpolate=function(e){return arguments.length?(h=e,v):h},v.on=function(){var e=f.on.apply(f,arguments);return e===f?v:e},v.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,v):Math.sqrt(m)},v.tapDistance=function(e){return arguments.length?(y=+e,v):y},v}function HT(e){return HT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HT(e)}function WT(e){var t=function(e,t){if("object"!=HT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=HT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==HT(t)?t:t+""}MT.prototype=IT.prototype;var GT=function(){return e=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pluginData=t,this.viewport=n,this.layout=r},t=[{key:"execute",value:function(e){return!1}},{key:"finalize",value:function(e){return!1}},{key:"applySceneTransform",value:function(){var e=this.pluginData.scene,t=e.x,n=e.y,r=e.zoom,i="translate(".concat(t," ").concat(n,")"),o="scale(".concat(r,")");this.viewport.selectAll(".scene > g").attr("transform","".concat(i," ").concat(o))}},{key:"getSourcesId",value:function(e){return this.pluginData.scene.selection.includes(e.subject.datum().data.id)?this.pluginData.scene.selection:[e.subject.datum().data.id]}},{key:"getSourcePosition",value:function(e){var t=this.viewport.select(".".concat(e," .model"));return{x:parseFloat(t.attr("x")),y:parseFloat(t.attr("y"))}}},{key:"getTargetsByDepth",value:function(e){var t=this,n=e.subject.datum().data.id,r=e.sourceEvent,i=r.clientX,o=r.clientY,s=[];return this.viewport.selectAll("g.component.container:not(.".concat(n,")")).each((function(e){var n=t.viewport.select(".".concat(e.data.id," .background")).node().getBoundingClientRect(),r=n.x,a=n.y,u=n.width,c=n.height;if(i>=r&&i<=r+u&&o>=a&&o<=a+c){for(var l=parseInt(t.viewport.select(".".concat(e.data.id)).attr("depth"),10)-1;s.length<=l;)s.push([]);s[l].push(e.data.id)}})),s}},{key:"getTargetsId",value:function(e){return this.getTargetsByDepth(e).flat().reverse()}},{key:"getTargetId",value:function(e){return this.getTargetsId(e)[0]}},{key:"getTransform",value:function(e,t){var n=this.viewport.select(e).node().getBoundingClientRect(),r=n.x,i=n.y,o=this.viewport.select(t).node().getBoundingClientRect();return{dx:r-o.x,dy:i-o.y}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WT(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const YT=GT;function QT(e){return QT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QT(e)}function XT(e){var t=function(e,t){if("object"!=QT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=QT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==QT(t)?t:t+""}function ZT(e,t,n){return t=eA(t),function(e,t){if(t&&("object"==QT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JT()?Reflect.construct(t,n||[],eA(e).constructor):t.apply(e,n))}function JT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(JT=function(){return!!e})()}function eA(e){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eA(e)}function tA(e,t){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tA(e,t)}var nA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ZT(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tA(e,t)}(t,e),n=t,r=[{key:"finalize",value:function(){var e=this;return 0!==this.pluginData.scene.selection.length&&(this.pluginData.scene.selection.forEach((function(t){e.pluginData.removeComponentById(t)})),this.pluginData.emitEvent({components:this.pluginData.scene.selection,type:"Drawer",action:"delete",status:"success"}),this.pluginData.scene.selection=[],!0)}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XT(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(YT);const rA=nA;function iA(e){return iA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(e)}function oA(e){var t=function(e,t){if("object"!=iA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=iA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==iA(t)?t:t+""}function sA(e,t,n){return t=uA(t),function(e,t){if(t&&("object"==iA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aA()?Reflect.construct(t,n||[],uA(e).constructor):t.apply(e,n))}function aA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aA=function(){return!!e})()}function uA(e){return uA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uA(e)}function cA(e,t){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cA(e,t)}var lA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sA(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cA(e,t)}(t,e),n=t,r=[{key:"execute",value:function(e){var t=this;return this.getSourcesId(e).forEach((function(n){var r=t.viewport.select(".".concat(n," .model"));r.attr("x",(parseFloat(r.attr("x"))||0)+e.dx/t.pluginData.scene.zoom).attr("y",(parseFloat(r.attr("y"))||0)+e.dy/t.pluginData.scene.zoom)})),!1}},{key:"finalize",value:function(e){var t=this,n=this.getSourcesId(e),r=this.getTargetsId(e)[0]||null,i=n.map((function(e){return t.pluginData.getComponentById(e)}));return null===r?this.dropOnScene(e,i):this.dropOnTarget(e,i,this.pluginData.getComponentById(r))}},{key:"dropOnScene",value:function(e,t){var n,r=this,i=t[0].getContainerId(),o=null!==i,s=this.pluginData.getComponentById(i);return t.forEach((function(e){var t=r.getSourcePosition(e.id),a=t.x,u=t.y;if(o){e.removeAllReferenceAttributes(s);var c=r.getTransform(".".concat(i," .components-background"),".scene"),l=c.dx,h=c.dy;e.drawOption.x=a+(l-r.pluginData.scene.x)/r.pluginData.scene.zoom,e.drawOption.y=u+(h-r.pluginData.scene.y)/r.pluginData.scene.zoom,n="update"}else e.drawOption.x=a,e.drawOption.y=u,n="move"})),s&&"workflow"===s.definition.displayType&&this.layout.generateComponentsLayout(i),this.pluginData.emitEvent({components:t.map((function(e){return e.id})),type:"Drawer",action:n,status:"success"}),o}},{key:"dropOnTarget",value:function(e,t,n){var r=this;if(!t.every((function(e){return n.canContain(e.definition.type)})))return t.forEach((function(t){var n=r.viewport.select(".".concat(t.id," .model"));n.attr("x",parseFloat(n.attr("x"))+e.dx/r.pluginData.scene.zoom).attr("y",parseFloat(n.attr("y"))+e.dy/r.pluginData.scene.zoom)})),!1;if("workflow"===n.definition.displayType)return this.dropInWorkflow(e,t,n);var i=t[0].getContainerId()!==n.id;return t.forEach((function(e){i&&e.setReferenceAttribute(n);var t=r.getTransform(".".concat(e.id," .background"),".".concat(n.id," .components-background")),o=t.dx,s=t.dy;e.drawOption.x=o<1?1:o/r.pluginData.scene.zoom,e.drawOption.y=s<1?1:s/r.pluginData.scene.zoom})),this.pluginData.emitEvent({components:t.map((function(e){return e.id})),type:"Drawer",action:i?"update":"move",status:"success"}),!0}},{key:"dropInWorkflow",value:function(e,t,n){var r,i=this,o=t[0].getContainerId(),s=this.pluginData.getComponentById(n.id),a=this.pluginData.getChildren(n.id),u="vertical"===n.definition.workflowDirection,c=this.pluginData.components.filter((function(e){var n=e.id;return t.some((function(e){var t=e.id;return n===t}))})).map((function(e){return e.id}));return a.filter((function(e){var t=e.id;return!c.includes(t)})).forEach((function(t){var n=i.viewport.select(".".concat(t.id," .model")).node().getBoundingClientRect(),o=n.x,s=n.y,a=n.width,c=n.height;u&&s+c/2<e.sourceEvent.clientY&&(r=t.id),!u&&o+a/2<e.sourceEvent.clientX&&(r=t.id)})),c.forEach((function(e){i.pluginData.getComponentById(e).setReferenceAttribute(s),r?i.pluginData.insertComponentAfter(e,r):e!==(r=i.pluginData.components.find((function(e){return e.getContainerId()===n.id})).id)&&i.pluginData.insertComponentBefore(e,r),r=e})),o!==n.id&&o&&this.layout.generateComponentsLayout(o,!1),this.layout.generateComponentsLayout(n.id,!1),this.pluginData.emitEvent({components:c,type:"Drawer",action:"update",status:"success"}),!0}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(YT);const hA=lA;function fA(e){return fA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fA(e)}function pA(e){var t=function(e,t){if("object"!=fA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=fA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fA(t)?t:t+""}function dA(e,t,n){return t=yA(t),function(e,t){if(t&&("object"==fA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mA()?Reflect.construct(t,n||[],yA(e).constructor):t.apply(e,n))}function mA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mA=function(){return!!e})()}function yA(e){return yA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yA(e)}function vA(e,t){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vA(e,t)}var gA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dA(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vA(e,t)}(t,e),n=t,(r=[{key:"execute",value:function(e){return this.pluginData.scene.x+=e.dx,this.pluginData.scene.y+=e.dy,this.applySceneTransform(),!1}},{key:"finalize",value:function(){return this.pluginData.emitEvent({components:[],type:"Drawer",action:"move",status:"success"}),!1}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(YT);const _A=gA;function bA(e){return bA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bA(e)}function wA(e){var t=function(e,t){if("object"!=bA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=bA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bA(t)?t:t+""}function xA(e,t,n){return t=EA(t),function(e,t){if(t&&("object"==bA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kA()?Reflect.construct(t,n||[],EA(e).constructor):t.apply(e,n))}function kA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kA=function(){return!!e})()}function EA(e){return EA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EA(e)}function SA(e,t){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SA(e,t)}var TA=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=xA(this,t,[e,n,r])).isInit=!1,i.link=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SA(e,t)}(t,e),n=t,(r=[{key:"execute",value:function(e){var t=this;if(!this.isInit){this.isInit=!0;var n=e.subject.datum().data.id,r=this.pluginData.getComponentById(n);this.viewport.style("cursor","grabbing");var i=e.sourceEvent.target.closest(".anchor").attributes.name.value;return this.pluginData.components.filter((function(e){var n=e.definition;return!t.pluginData.canBeLinked(r.definition.type,n.type)})).forEach((function(e){e.drawOption.hide=!0})),this.pluginData.createTemporaryLink(n,i),this.pluginData.temporaryLink.endX=e.sourceEvent.clientX,this.pluginData.temporaryLink.endY=e.sourceEvent.clientY,this.link=new D({source:n}),!0}return this.pluginData.temporaryLink.endX=e.sourceEvent.clientX,this.pluginData.temporaryLink.endY=e.sourceEvent.clientY,!1}},{key:"finalize",value:function(e){this.isInit=!1,this.pluginData.temporaryLink=null,this.viewport.style("cursor",null);var t=this.pluginData.getComponentById(e.subject.datum().data.id),n=this.pluginData.getComponentById(this.getTargetId(e));return this.pluginData.components.forEach((function(e){e.drawOption.hide=!1})),n&&(t.setLinkAttribute(new D({source:t.id,target:n.id,definition:this.pluginData.definitions.links.find((function(e){var r=e.sourceRef,i=e.targetRef;return t.definition.type===r&&n.definition.type===i}))})),this.pluginData.emitEvent({components:[t.id],type:"Drawer",action:"update",status:"success"})),!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(YT);const AA=TA;function OA(e){return OA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OA(e)}function NA(e){var t=function(e,t){if("object"!=OA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=OA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==OA(t)?t:t+""}function PA(e,t,n){return t=RA(t),function(e,t){if(t&&("object"==OA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CA()?Reflect.construct(t,n||[],RA(e).constructor):t.apply(e,n))}function CA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CA=function(){return!!e})()}function RA(e){return RA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RA(e)}function LA(e,t){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LA(e,t)}var IA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),PA(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LA(e,t)}(t,e),n=t,(r=[{key:"finalize",value:function(e){return this.pluginData.emitEvent({components:[e.subject.datum().data.id],type:"Drawer",action:"openMenu",data:e.sourceEvent,status:"success"}),!1}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(YT);const DA=IA;function MA(e){return MA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MA(e)}function jA(e){var t=function(e,t){if("object"!=MA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=MA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==MA(t)?t:t+""}function FA(e,t,n){return t=UA(t),function(e,t){if(t&&("object"==MA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,BA()?Reflect.construct(t,n||[],UA(e).constructor):t.apply(e,n))}function BA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(BA=function(){return!!e})()}function UA(e){return UA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},UA(e)}function zA(e,t){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zA(e,t)}var VA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),FA(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zA(e,t)}(t,e),n=t,r=[{key:"execute",value:function(e){var t=e.subject.datum(),n=this.pluginData.scene.zoom,r=this.viewport.select(".".concat(t.data.id," .model")),i=r.node().getBoundingClientRect(),o=this.getMaxPosition(t.data.id),s=o.x,a=o.y,u=e.sourceEvent,c=u.clientX,l=u.clientY,h=Math.max((s-i.x)/n,t.data.definition.minWidth),f=Math.max((a-i.y)/n,t.data.definition.minHeight),p=(c-i.x)/n,d=(l-i.y)/n;r.attr("width",p>h?p:h),r.attr("height",d>f?d:f);var m=this.viewport.select(".".concat(t.data.id," .components-background")),y=m.node().getBoundingClientRect();return h=Math.max((s-y.x)/n,t.data.definition.minWidth-t.data.definition.reservedWidth),f=Math.max((a-y.y)/n,t.data.definition.minHeight-t.data.definition.reservedHeight),p=(c-y.x)/n,d=(l-y.y)/n,m.attr("width",p>h?p:h),m.attr("height",d>f?d:f),!1}},{key:"finalize",value:function(e){var t=e.subject.datum().data.id,n=this.viewport.select(".".concat(t," .model")),r=this.pluginData.getComponentById(t);return r.drawOption.width=parseFloat(n.attr("width")),r.drawOption.height=parseFloat(n.attr("height")),this.pluginData.emitEvent({components:[t],type:"Drawer",action:"resize",status:"success"}),!0}},{key:"getMaxPosition",value:function(e){var t=this,n=this.pluginData.getComponentById(e),r=0,i=0;return this.pluginData.getChildren(e).forEach((function(e){var o=t.viewport.select(".".concat(e.id," .model")).node().getBoundingClientRect(),s=o.x,a=o.y,u=o.width,c=o.height;r=Math.max(r,s+u+n.definition.margin),i=Math.max(i,a+c+n.definition.margin)})),{x:r,y:i}}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(YT);const $A=VA;function qA(e){return qA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qA(e)}function KA(e){return function(e){if(Array.isArray(e))return HA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return HA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HA(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function WA(e){var t=function(e,t){if("object"!=qA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=qA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qA(t)?t:t+""}function GA(e,t,n){return t=QA(t),function(e,t){if(t&&("object"==qA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YA()?Reflect.construct(t,n||[],QA(e).constructor):t.apply(e,n))}function YA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YA=function(){return!!e})()}function QA(e){return QA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QA(e)}function XA(e,t){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XA(e,t)}var ZA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),GA(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XA(e,t)}(t,e),n=t,r=[{key:"finalize",value:function(e){var t=e.subject.datum().data,n=t.getContainerId();return this.pluginData.scene.selection.includes(t.id)?this.pluginData.scene.selection=this.pluginData.scene.selection.filter((function(e){return e!==t.id})):(0===this.pluginData.scene.selection.length&&(this.pluginData.scene.selectionRef=n),n===this.pluginData.scene.selectionRef?this.pluginData.scene.selection.push(t.id):(this.pluginData.scene.selectionRef=n,this.pluginData.scene.selection=[t.id])),this.pluginData.emitEvent({components:KA(this.pluginData.scene.selection),type:"Drawer",action:"select",status:"success"}),!0}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WA(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(YT);const JA=ZA;function eO(e){return eO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eO(e)}function tO(e){var t=function(e,t){if("object"!=eO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=eO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==eO(t)?t:t+""}function nO(e,t,n){return t=iO(t),function(e,t){if(t&&("object"==eO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rO()?Reflect.construct(t,n||[],iO(e).constructor):t.apply(e,n))}function rO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rO=function(){return!!e})()}function iO(e){return iO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iO(e)}function oO(e,t){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oO(e,t)}var sO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nO(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oO(e,t)}(t,e),n=t,(r=[{key:"execute",value:function(){return this.pluginData.scene.selection=[],this.pluginData.emitEvent({components:[],type:"Drawer",action:"select",status:"success"}),!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tO(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(YT);const aO=sO;function uO(e){return uO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uO(e)}function cO(e){return function(e){if(Array.isArray(e))return lO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lO(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function hO(e){var t=function(e,t){if("object"!=uO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=uO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==uO(t)?t:t+""}function fO(e,t,n){return t=dO(t),function(e,t){if(t&&("object"==uO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pO()?Reflect.construct(t,n||[],dO(e).constructor):t.apply(e,n))}function pO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pO=function(){return!!e})()}function dO(e){return dO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dO(e)}function mO(e,t){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mO(e,t)}var yO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fO(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mO(e,t)}(t,e),n=t,(r=[{key:"execute",value:function(){return this.pluginData.scene.selection=this.pluginData.components.filter((function(e){return null===e.getContainerId()})).map((function(e){return e.id})),this.pluginData.emitEvent({components:cO(this.pluginData.scene.selection),type:"Drawer",action:"select",status:"success"}),!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hO(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(YT);const vO=yO;function gO(e){return gO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gO(e)}function _O(e){var t=function(e,t){if("object"!=gO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=gO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gO(t)?t:t+""}function bO(e,t,n){return t=xO(t),function(e,t){if(t&&("object"==gO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wO()?Reflect.construct(t,n||[],xO(e).constructor):t.apply(e,n))}function wO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wO=function(){return!!e})()}function xO(e){return xO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xO(e)}function kO(e,t){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kO(e,t)}var EO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bO(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kO(e,t)}(t,e),n=t,(r=[{key:"execute",value:function(e){var t=e.deltaY<0?1.1:.9,n=this.viewport.node().getBoundingClientRect(),r=n.x,i=n.y,o=e.clientX-r,s=e.clientY-i,a=this.pluginData.scene.x,u=this.pluginData.scene.y;this.pluginData.scene.zoom*=t;var c=o-(o-a)*t,l=s-(s-u)*t;return this.pluginData.scene.x=c,this.pluginData.scene.y=l,this.applySceneTransform(),this.pluginData.emitEvent({type:"Drawer",action:"zoom",status:"success"}),!1}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_O(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(YT);const SO=EO;var TO=r(326);function AO(e){return AO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AO(e)}function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(n),!0).forEach((function(t){PO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PO(e,t,n){return(t=CO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CO(e){var t=function(e,t){if("object"!=AO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=AO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==AO(t)?t:t+""}var RO=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pluginData=t||null,this.viewport=n||null},t=[{key:"renderModel",value:function(e){var t=this;return(0,TO.renderString)(this.pluginData.resources.models[e.definition.model],NO(NO({},e),{},{drawOption:NO(NO({},e.drawOption),{},{x:e.drawOption.x||0,y:e.drawOption.y||0,width:e.drawOption.width||e.definition.width,height:e.drawOption.height||e.definition.height}),icon:this.pluginData.resources.icons[e.definition.icon],hasError:e.hasError(),hasX:!!e.drawOption.x,hasY:!!e.drawOption.y,isSelected:this.pluginData.scene.selection.includes(e.id),getIcon:function(e){return t.pluginData.resources.icons[e]},canHaveLink:this.pluginData.canHaveLink(e.definition.type),getAttribute:function(t){return e.attributes.find((function(e){return e.name===t}))}}))}},{key:"render",value:function(e){var t=this,n=this.viewport.select(".".concat(e));n.select(".components").selectAll('.component[depth="'.concat(n.datum().depth+1,'"]')).data((function(e){return e.children||[]})).join("g").attr("class",(function(e){var t=e.data;return"".concat(t.id," component ").concat(t.definition.isContainer?"container":"")})).attr("depth",(function(e){var n=e.data;return t.pluginData.getComponentDepth(n.id)+1})).html((function(e){var n=e.data;return t.renderModel(n)})).filter((function(e){var t=e.data,n=e.children;return t.definition.isContainer&&!!n})).each((function(e){var n=e.data;return t.render(n.id)}))}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const LO=RO;function IO(e){return IO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IO(e)}function DO(e){var t=function(e,t){if("object"!=IO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=IO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==IO(t)?t:t+""}var MO=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pluginData=t||null,this.viewport=n||null},t=[{key:"render",value:function(){var e=this,t=this.viewport.select(".scene").node().getBoundingClientRect();this.viewport.select(".scene .links").selectAll(".link").data((function(){return e.pluginData.getLinks()})).join("g").attr("class",(function(e){return"".concat(e.source,"_to_").concat(e.target," link")})).attr("from",(function(e){return e.source})).attr("to",(function(e){return e.target})).html((function(n){var r,i;if(n.isTemporary)r=e.viewport.select(".".concat(n.source,' .anchors .anchor[name="').concat(n.anchorName,'"]')).node().getBoundingClientRect(),r={name:n.anchorName,x:r.x+r.width/2,y:r.y+r.height/2,width:r.width},i={x:n.endX,y:n.endY};else{var o=n.isReverse?n.target:n.source,s=n.isReverse?n.source:n.target;r=e.getClosestAnchor(o,s),i=e.getClosestAnchor(s,o)}return(0,TO.renderString)(e.pluginData.resources.links[n.definition.model]||"",{d:e.getLinkPoints(t,r,i)})}))}},{key:"getLinkPoints",value:function(e,t,n){var r=this.getReducedPointPositionOnSegment(t.x,t.y,n.x,n.y,10),i=this.getReducedPointPositionOnSegment(t.x,t.y,n.x,n.y,5),o=(t.x-e.x-this.pluginData.scene.x)/this.pluginData.scene.zoom,s=(t.y-e.y-this.pluginData.scene.y)/this.pluginData.scene.zoom,a=(r.x-e.x-this.pluginData.scene.x)/this.pluginData.scene.zoom,u=(r.y-e.y-this.pluginData.scene.y)/this.pluginData.scene.zoom,c=(i.x-e.x-this.pluginData.scene.x)/this.pluginData.scene.zoom,l=(i.y-e.y-this.pluginData.scene.y)/this.pluginData.scene.zoom;return SE().curve(SS)([[o,s],[o+.2*(a-o),s+.8*(u-s)],[a,u],[c,l]])}},{key:"getClosestAnchor",value:function(e,t){var n=this.viewport.select(".".concat(t," .background")).node().getBoundingClientRect(),r=n.x+n.width/2,i=n.y+n.height/2,o=null,s=null;return this.viewport.selectAll(".".concat(e,".anchors .anchor")).each((function(e,t,n){var a=n[t],u=a.attributes.name.value,c=a.getBoundingClientRect(),l=r-c.x,h=i-c.y,f=Math.sqrt(l*l+h*h);(null===s||f<o)&&(o=f,s={name:u,x:c.x+c.width/2,y:c.y+c.height/2,width:c.width})})),s}},{key:"getReducedPointPositionOnSegment",value:function(e,t,n,r,i){if(e===n&&t===r)return{x:0,y:0};var o=n-e,s=r-t,a=Math.sqrt(o*o+s*s),u=(a-i)/a;return{x:e+o*u,y:t+s*u}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const jO=MO;function FO(e){return FO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FO(e)}function BO(e){var t=function(e,t){if("object"!=FO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=FO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==FO(t)?t:t+""}var UO=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pluginData=t||null,this.viewport=n||null},(t=[{key:"generateComponentsLayout",value:function(e,t){return!0}},{key:"resize",value:function(e){return!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function zO(e){return zO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zO(e)}function VO(e){var t=function(e,t){if("object"!=zO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=zO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zO(t)?t:t+""}function $O(e,t,n){return t=KO(t),function(e,t){if(t&&("object"==zO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qO()?Reflect.construct(t,n||[],KO(e).constructor):t.apply(e,n))}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qO=function(){return!!e})()}function KO(e){return KO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KO(e)}function HO(e,t){return HO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HO(e,t)}var WO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$O(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HO(e,t)}(t,e),n=t,r=[{key:"generateComponentsLayout",value:function(e,t){var n=this,r=this.getNodes(),i=r.get(e||"root"),o=[],s=[];return this.generateLayout(r,i,t),r.forEach((function(t){if("root"!==t.id&&(null===e||e===t.parent.id||e===t.id)){var r=n.pluginData.getComponentById(t.id),i=r.drawOption.x!==t.x||r.drawOption.y!==t.y,a=r.drawOption.width!==t.width||r.drawOption.height!==t.height;r.drawOption.x=t.x,r.drawOption.y=t.y,r.drawOption.width=t.width,r.drawOption.height=t.height,i?o.push(r.id):a&&s.push(r.id)}})),o.length>0&&this.pluginData.emitEvent({components:o,type:"Drawer",action:"move",status:"success"}),s.length>0&&this.pluginData.emitEvent({components:s,type:"Drawer",action:"resize",status:"success"}),!0}},{key:"getNodes",value:function(){var e=this,t={id:"root",parent:null,children:[],depth:0,type:"default",isContainer:!0,margin:this.pluginData.configuration.rootContainer.margin,gap:this.pluginData.configuration.rootContainer.gap},n=new Map(this.pluginData.components.map((function(t){return[t.id,e.createNode(t)]})));return n.set("root",t),n.forEach((function(e){if(e.parent){var t=n.get(e.parent);e.parent=t,t.children.push(e)}})),n}},{key:"createNode",value:function(e){return{id:e.id,parent:e.getContainerId()||"root",type:e.definition.displayType||"default",direction:e.definition.workflowDirection,children:[],depth:this.pluginData.getComponentDepth(e.id)+1,isContainer:e.definition.isContainer,width:e.definition.defaultWidth,height:e.definition.defaultHeight,minWidth:e.definition.minWidth,minHeight:e.definition.minHeight,reservedWidth:e.definition.reservedWidth,reservedHeight:e.definition.reservedHeight,margin:e.definition.margin,gap:e.definition.gap,x:e.drawOption.x,y:e.drawOption.y}}},{key:"generateLayout",value:function(e,t,n){var r=this;t.children.forEach((function(t){r.generateLayout(e,t,n)})),t.isContainer&&"default"===t.type?this.generateDefaultLayout(t,n):t.isContainer&&this.generateWorkflowLayout(e,t)}},{key:"generateDefaultLayout",value:function(e,t){this.text=0;var n=[],r=[],i=e.margin,o=e.gap,s=e.minWidth,a=e.minHeight,u=e.reservedWidth,c=e.reservedHeight,l=0,h=0;e.children.forEach((function(e){e.x&&e.y&&t?(n.push(e),l=Math.max(e.x+e.width,l),h=Math.max(e.y+e.height,h)):r.push(e)}));for(var f,p=0,d=0,m=this.getPoints(p,i,o);r.length>0;)f||(f=r[0]),0===m.length&&(d=0,p+=1,m=this.getPoints(p,i,o)),m.length>0&&this.canBePlaced(n,f,m[d])&&(f.x=m[d].x,f.y=m[d].y,l=Math.max(f.x+f.width,l),h=Math.max(f.y+f.height,h),n.push(f),r.shift(),f=null),(d+=1)>=m.length&&(d=0,p+=1,m=this.getPoints(p,i,o));e.width=Math.max(l+i+u,s),e.height=Math.max(h+i+c,a)}},{key:"canBePlaced",value:function(e,t,n){return e.every((function(e){var r=e.x,i=e.y,o=e.width,s=e.height,a=n.x+t.width<r,u=n.x>r+o,c=n.y+t.height<i,l=n.y>i+s;return a||u||c||l}))}},{key:"getPoints",value:function(e,t,n){if(0===e)return[{x:t,y:t}];for(var r=t+n*e,i=t+n*e,o=[],s=t,a=t;a<=r&&(a!==r||i!==s);)o.push({x:a,y:i}),a+=n,o.push({x:r,y:s}),s+=n;return o.push({x:r,y:i}),o}},{key:"generateWorkflowLayout",value:function(e,t){"vertical"===t.direction?this.generateVerticalWorkflowLayout(e,t):this.generateHorizontalWorkflowLayout(e,t)}},{key:"generateHorizontalWorkflowLayout",value:function(e,t){var n=t.margin,r=t.gap,i=t.minWidth,o=t.minHeight,s=t.reservedWidth,a=t.reservedHeight,u=n,c=0;t.children.forEach((function(e){e.x=u,e.y=n,u=e.x+e.width+r,e.height>c&&(c=e.height)})),t.width=Math.max(u-r+n+s,i),t.height=Math.max(c+2*n+a,o)}},{key:"generateVerticalWorkflowLayout",value:function(e,t){var n=t.margin,r=t.gap,i=t.minWidth,o=t.minHeight,s=t.reservedWidth,a=t.reservedHeight,u=n,c=0;t.children.forEach((function(e){e.x=n,e.y=u,u=e.y+e.height+r,e.width>c&&(c=e.width)})),t.width=Math.max(c+2*n+s,i),t.height=Math.max(u-r+n+a,o)}},{key:"resize",value:function(e){var t=this.pluginData.getComponentById(e);if(!t.definition.isContainer)return!1;var n=0,r=0;this.pluginData.getChildren(e).forEach((function(e){var t=e.drawOption.x+e.drawOption.width,i=e.drawOption.y+e.drawOption.height;t>n&&(n=t),i>r&&(r=i)}));var i=t.definition,o=i.minWidth,s=i.minHeight,a=i.reservedWidth,u=i.reservedHeight,c=i.margin,l=Math.max(n+2*c+a,o),h=Math.max(r+2*c+u,s);return l===t.drawOption.width&&h===t.drawOption.height||(t.drawOption.width=l,t.drawOption.height=h,this.pluginData.emitEvent({components:[e],type:"Drawer",action:"resize",status:"success"})),!0}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VO(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(UO);const GO=WO;function YO(e){return YO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YO(e)}function QO(e){return function(e){if(Array.isArray(e))return XO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return XO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XO(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZO(Object(n),!0).forEach((function(t){eN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eN(e,t,n){return(t=rN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tN(){tN=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,s=Object.create(o.prototype),a=new P(r||[]);return i(s,"_invoke",{value:T(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function _(){}var b={};c(b,s,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(C([])));x&&x!==n&&r.call(x,s)&&(b=x);var k=_.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,s,a){var u=h(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==YO(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=f;return function(o,s){if(i===d)throw Error("Generator is already running");if(i===m){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var u=A(a,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=d;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?m:p,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(YO(t)+" is not iterable")}return g.prototype=_,i(k,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:g,configurable:!0}),g.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new S(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(k),c(k,u,"Generator"),c(k,s,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function nN(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function rN(e){var t=function(e,t){if("object"!=YO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=YO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==YO(t)?t:t+""}var iN=function(){return t=function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.pluginData=n,this.componentRenderer=null,this.linkRenderer=null,this.layout=null,this.viewport=null,this.scene=null,this.d3=e,this.actions={deleteAction:null,dragComponent:null,dragScene:null,linkAction:null,menuAction:null,resizeComponent:null,toggleSelection:null,selectionAll:null,deselectionAll:null,zoom:null},this.states={linking:!1,menuOpening:!1,moving:!1,resizing:!1,selection:!1},this.readOnly=!1},n=[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.d3.select("#".concat(e)).selectAll(null).remove(),this.d3.select("#".concat(e)).html(""),this.viewport=this.d3.select("#".concat(e)),this.componentRenderer=new LO(this.pluginData,this.viewport,t),this.linkRenderer=new jO(this.pluginData,this.viewport,t),this.layout=new GO(this.pluginData,this.viewport),this.readOnly=t,this.clearActions(),this.readOnly&&(this.pluginData.scene.x=0,this.pluginData.scene.y=0,this.pluginData.scene.zoom=1),this.initActions(),this.initScene()}},{key:"clearActions",value:function(){this.actions.deleteAction=null,this.actions.dragComponent=null,this.actions.dragScene=null,this.actions.menuAction=null,this.actions.resizeComponent=null,this.actions.toggleSelection=null,this.actions.selectionAll=null,this.actions.deselectionAll=null,this.actions.zoom=null,this.viewport.on("wheel",null),this.d3.select("body").on("keydown",null).on("keyup",null),this.viewport.on(".drag",null)}},{key:"initActions",value:function(){var e=this;this.actions.selectionAll=new vO(this.pluginData,this.viewport,this.layout),this.actions.deleteAction=new rA(this.pluginData,this.viewport,this.layout),this.actions.dragScene=new _A(this.pluginData,this.viewport,this.layout),this.actions.menuAction=new DA(this.pluginData,this.viewport,this.layout),this.actions.link=new AA(this.pluginData,this.viewport,this.layout),this.actions.zoom=new SO(this.pluginData,this.viewport,this.layout),this.actions.dragComponent=new hA(this.pluginData,this.viewport,this.layout),this.actions.resizeComponent=new $A(this.pluginData,this.viewport,this.layout),this.actions.toggleSelection=new JA(this.pluginData,this.viewport,this.layout),this.actions.deselectionAll=new aO(this.pluginData,this.viewport,this.layout),this.viewport.on("wheel",(function(t){e.actions.zoom.execute(t)&&e.draw()})),this.readOnly||this.d3.select("body").on("keydown",(function(t){var n=!1;e.pluginData.configuration.keysBinding.selection.includes(t.key)&&(e.states.selection=!0),e.pluginData.configuration.keysBinding.deleteObject.includes(t.key)&&(n=e.actions.deleteAction.execute(t)),e.pluginData.configuration.keysBinding.selectAll.includes(t.key)&&(n=e.actions.selectionAll.execute(t)),e.pluginData.configuration.keysBinding.deselectAll.includes(t.key)&&(n=e.actions.deselectionAll.execute(t)),n&&e.draw()})).on("keyup",(function(t){var n=!1;e.pluginData.configuration.keysBinding.selection.includes(t.key)&&(e.states.selection=!1),e.pluginData.configuration.keysBinding.deleteObject.includes(t.key)&&(n=e.actions.deleteAction.finalize(t)),e.pluginData.configuration.keysBinding.selectAll.includes(t.key)&&(n=e.actions.selectionAll.finalize(t)),e.pluginData.configuration.keysBinding.deselectAll.includes(t.key)&&(n=e.actions.deselectionAll.finalize(t)),n&&e.draw()}));var t=this.d3.drag().subject((function(t){var n=t.sourceEvent.target.closest(".component");if(e.states.resizing=!!t.sourceEvent.target.closest(".resize-button"),e.states.menuOpening=!!t.sourceEvent.target.closest(".menu-button"),!n)return e.scene;var r=e.viewport.select(Array.from(n.classList).map((function(e){return".".concat(e)})).join(""));return e.states.linking=!!t.sourceEvent.target.closest(".anchor")&&e.pluginData.canHaveLink(r.datum().data.definition.type),r})).on("drag",(function(t){e.states.moving=!0;var n="scene"===t.subject.datum().data.id,r=!1;e.readOnly?e.actions.dragScene.execute(t):(n?r=e.actions.dragScene.execute(t):e.states.linking?(r=e.actions.link.execute(t),e.linkRenderer.render()):e.states.resizing?(r=e.actions.resizeComponent.execute(t),e.linkRenderer.render()):(r=e.actions.dragComponent.execute(t),e.linkRenderer.render()),r&&e.draw())})).on("end",function(){var t,n=(t=tN().mark((function t(n){var r,i,o,s,a,u,c;return tN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.states.moving,i=e.states.selection,o=e.states.menuOpening,s=e.states.resizing,a=e.states.linking,u="scene"===n.subject.datum().data.id,c=!1,!e.readOnly){t.next=10;break}return u&&r&&e.actions.dragScene.finalize(n),t.abrupt("return");case 10:a?c=e.actions.link.finalize(n):r&&u?c=e.actions.dragScene.finalize(n):s?c=e.actions.resizeComponent.finalize(n):r&&!u?c=e.actions.dragComponent.finalize(n):!r&&o?c=e.actions.menuAction.finalize(n):r||u||!i||(c=e.actions.toggleSelection.finalize(n)),c&&e.draw(),e.states.moving=!1;case 13:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(e){nN(o,r,i,s,a,"next",e)}function a(e){nN(o,r,i,s,a,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}());this.viewport.call(t)}},{key:"getScene",value:function(){return this.viewport.selectAll(".scene").data(this.getSceneData()).join("svg").attr("class","scene").attr("width","100%").attr("height","100%")}},{key:"initScene",value:function(){var e=this;this.scene=this.getScene(),this.scene.append("defs").html(Object.keys(this.pluginData.resources.markers).map((function(t){return e.pluginData.resources.markers[t]})).join(""));var t=this.pluginData.scene,n=t.x,r=t.y,i=t.zoom,o="translate(".concat(n," ").concat(r,") scale(").concat(i,")");this.scene.append("g").attr("class","components").attr("transform",o),this.scene.append("g").attr("class","links").attr("transform",o)}},{key:"draw",value:function(){if(this.scene=this.getScene(),this.componentRenderer.render("scene"),this.linkRenderer.render("scene"),this.readOnly){for(var e=this.viewport.node().getBoundingClientRect(),t=e.width,n=e.height,r=this.viewport.select(".scene .components").node().getBBox(),i=r.width,o=r.height,s=t/i<n/o?t/i:n/o,a=1;a>s;)a*=.9;var u=(t-i*a)/2,c=(n-o*a)/2;this.pluginData.scene.zoom=a,this.viewport.selectAll(".scene > g").attr("transform","translate(".concat(u," ").concat(c,") scale(").concat(a,")"))}}},{key:"arrangeComponentsPosition",value:function(e,t){this.layout.generateComponentsLayout(e,t)}},{key:"resize",value:function(e){this.layout.resize(e)}},{key:"getSceneData",value:function(){var e=this;return[this.d3.hierarchy(JO({id:"scene",name:"",children:QO(this.pluginData.components.filter((function(e){return null===e.getContainerId()})))},this.pluginData.scene),(function(t){return"scene"===t.id?t.children:e.pluginData.getChildren(t.id)}))]}},{key:"dropComponent",value:function(e,t){var n=t.target.closest(".component");if(e.drawOption.width=e.definition.width,e.drawOption.height=e.definition.height,!n){var r=this.viewport.select(".scene").node().getBoundingClientRect(),i=r.x,o=r.y;return e.drawOption.x=(t.clientX-i-this.pluginData.scene.x)/this.pluginData.scene.zoom-e.definition.defaultWidth/2,void(e.drawOption.y=(t.clientY-o-this.pluginData.scene.y)/this.pluginData.scene.zoom-e.definition.defaultHeight/2)}if(n.canContain(e.definition.type)){var s=this.viewport.select(".".concat(e.id,".container")).node().getBoundingClientRect(),a=s.x,u=s.y;e.drawOption.x=(t.clientX-a-this.pluginData.scene.x)/this.pluginData.scene.zoom-e.definition.defaultWidth/2,e.drawOption.y=(t.clientY-u-this.pluginData.scene.y)/this.pluginData.scene.zoom-e.definition.defaultHeight/2}}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rN(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();const oN=iN;function sN(e){return sN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sN(e)}function aN(e){var t=function(e,t){if("object"!=sN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=sN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sN(t)?t:t+""}var uN=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pluginData=t||null},(t=[{key:"validate",value:function(){return!0}},{key:"parse",value:function(e){this.pluginData.definitions={components:[],links:[]}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aN(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const cN=uN;function lN(e){return lN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lN(e)}function hN(e){var t=function(e,t){if("object"!=lN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=lN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==lN(t)?t:t+""}var fN=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pluginData=t||null},t=[{key:"parse",value:function(e){this.pluginData.components=[],this.pluginData.parseErrors=[]}},{key:"getModels",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return e.path}))}},{key:"parseConfiguration",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.pluginData.emitEvent({parent:r,type:"Parser",action:"read",status:"running",files:[t.path],data:{global:!1}});if(null!=t.content){var o=JSON.parse(t.content);o[e.path]?o[e.path][this.pluginData.name]?(Object.keys(o[e.path][this.pluginData.name]).forEach((function(t){var r=n.pluginData.getComponentByConfigurationKey(t);r&&o[e.path][n.pluginData.name][t]&&(r.drawOption=new f(o[e.path][n.pluginData.name][t]))})),this.pluginData.emitEvent({id:i,status:"success"})):this.pluginData.emitEvent({id:i,status:"warning",data:{code:"no_plugin_content",global:!1}}):this.pluginData.emitEvent({id:i,status:"warning",data:{code:"no_diagram_content",global:!1}})}else this.pluginData.emitEvent({id:i,status:"warning",data:{code:"no_content",global:!1}})}},{key:"isParsable",value:function(e){return null!=e}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hN(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const pN=fN;function dN(e){return dN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dN(e)}function mN(e){var t=function(e,t){if("object"!=dN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=dN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dN(t)?t:t+""}var yN=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pluginData=t||null},t=[{key:"render",value:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){return e[t.path]="",e}),{});return this.renderFiles(e).forEach((function(e){t[e.path]=e.content})),Object.keys(t).map((function(e){return new q({path:e,content:t[e]})}))}},{key:"renderFiles",value:function(){return[]}},{key:"renderConfiguration",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.pluginData.emitEvent({parent:r,type:"Render",action:"write",status:"running",files:[t.path],data:{global:!1}}),o=JSON.parse(t.content)||{};o[e.path]||(o[e.path]={}),o[e.path][this.pluginData.name]={},this.pluginData.components.filter((function(e){return e.drawOption})).forEach((function(t){var r=t.getConfigurationKey();o[e.path][n.pluginData.name][r]=t.drawOption})),t.content=JSON.stringify(o,(function(e,t){return null===t?void 0:t}),2),this.pluginData.emitEvent({id:i,status:"success"})}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mN(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const vN=yN;function gN(e){return gN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gN(e)}function _N(e){var t="function"==typeof Map?new Map:void 0;return _N=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(bN())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&wN(i,n.prototype),i}(e,arguments,xN(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),wN(n,e)},_N(e)}function bN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bN=function(){return!!e})()}function wN(e,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wN(e,t)}function xN(e){return xN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xN(e)}var kN=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Error happened when trying to parse.",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Error";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=xN(t),function(e,t){if(t&&("object"==gN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bN()?Reflect.construct(t,n||[],xN(e).constructor):t.apply(e,n))}(this,t,[n||"Error happened when trying to parse."])).name="ParseError",e.startLine=r||0,e.startColumn=i||0,e.endLine=o||0,e.endColumn=s||0,e.severity=a||"Error",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wN(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(_N(Error));const EN=kN;var SN=function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,parentId:null,files:null,components:null,links:null,type:null,action:null,status:null,data:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.id,r=t.parentId,i=t.files,o=t.components,s=t.links,a=t.type,u=t.action,c=t.status,l=t.data;this.id=n||null,this.parentId=r||null,this.startDate=null,this.endDate=null,this.files=i||null,this.components=o||null,this.links=s||null,this.type=a||null,this.action=u||null,this.status=c||null,this.data=l||null}));const TN=SN;function AN(e){return AN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AN(e)}function ON(e,t,n){return t=PN(t),function(e,t){if(t&&("object"==AN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NN()?Reflect.construct(t,n||[],PN(e).constructor):t.apply(e,n))}function NN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(NN=function(){return!!e})()}function PN(e){return PN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PN(e)}function CN(e,t){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CN(e,t)}var RN=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{anchorName:null};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ON(this,t,[n])).anchorName=n.anchorName||null,e.endX=null,e.endY=null,e.isTemporary=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CN(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(D);const LN=RN;function IN(e){return IN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IN(e)}function DN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function MN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MN(Object(n),!0).forEach((function(t){FN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FN(e,t,n){return(t=BN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BN(e){var t=function(e,t){if("object"!=IN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=IN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==IN(t)?t:t+""}var UN=function(){return e=function e(t){var n,r,i,o,s,a,u,c,l,h,f,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:null,version:null,components:[],variables:[],definitions:{components:[],links:[]},parseErrors:[],resources:{},scene:{x:0,y:0,zoom:1,selection:[],selectionRef:null}},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=p.name||null,this.version=p.version||null,this.components=p.components||[],this.scene={x:(null===(n=p.scene)||void 0===n?void 0:n.x)||0,y:(null===(r=p.scene)||void 0===r?void 0:r.y)||0,zoom:(null===(i=p.scene)||void 0===i?void 0:i.zoom)||1,selection:(null===(o=p.scene)||void 0===o?void 0:o.selection)||[],selectionRef:(null===(s=p.scene)||void 0===s?void 0:s.selectionRef)||null},this.variables=p.variables||[],this.definitions={components:(null===(a=p.definitions)||void 0===a?void 0:a.components)||[],links:(null===(u=p.definitions)||void 0===u?void 0:u.links)||[]},this.parseErrors=p.parseErrors||[],this.__eventIndex=0,this.eventManager=d,this.eventLogs=[],this.configuration=t,this.resources={icons:jN({},null===(c=p.resources)||void 0===c?void 0:c.icons),markers:jN({},null===(l=p.resources)||void 0===l?void 0:l.markers),links:jN({},null===(h=p.resources)||void 0===h?void 0:h.links),models:jN({},null===(f=p.resources)||void 0===f?void 0:f.models)},this.temporaryLink=null},t=[{key:"coreVersion",get:function(){return"0.24.1"}},{key:"getComponentById",value:function(e){return this.components.find((function(t){return t.id===e}))||null}},{key:"getComponentDepth",value:function(e){var t=this.getComponentById(e).getContainerId();return t?this.getComponentDepth(t)+1:0}},{key:"getComponentByConfigurationKey",value:function(e){return this.getComponentById(e)}},{key:"renameComponentExternalId",value:function(e,t){this.getComponentById(e).setExternalId(t)}},{key:"getComponentsByType",value:function(e){return this.components.filter((function(t){var n=t.definition;return n&&n.type===e}))}},{key:"addComponent",value:function(e,t){var n=this.generateComponentId();return this.components.push(new b({id:n,name:n,definition:e,path:t})),n}},{key:"generateComponentId",value:function(){var e=this.components.map((function(e){return e.id})).filter((function(e){return new RegExp("".concat("id_","\\d+")).test(e)})).map((function(e){return parseInt(e.substring(3),10)})),t=0===e.length?1:Math.max.apply(Math,function(e){return function(e){if(Array.isArray(e))return DN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return DN(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DN(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e))+1;return"".concat("id_").concat(t)}},{key:"removeComponentById",value:function(e){var t=this;this.getChildren(e).forEach((function(e){return t.removeComponentById(e.id)})),this.components=this.components.filter((function(t){return t.id!==e})),this.components.forEach((function(t){t.removeLinkAttribute(e)}))}},{key:"removeLink",value:function(e){var t=e.source,n=e.target,r=e.definition.attributeRef;this.getComponentById(t).removeLinkAttribute(n,r)}},{key:"getLinks",value:function(){var e=this,t=[];return this.definitions.links.forEach((function(n){e.getComponentsByType(n.sourceRef).forEach((function(r){var i=r.getAttributeByName(n.attributeRef);i&&e.getLinkedComponentsIds(i).forEach((function(e){return t.push(new D({definition:n,source:r.id,target:e,isReverse:"Reverse"===i.definition.linkType}))}))}))})),this.temporaryLink&&t.push(this.temporaryLink),t.concat(this.getWorkflowLinks())}},{key:"getAttributeValue",value:function(e){return e.isVariable?this.getVariableValue(e.value):e.value}},{key:"getLinkedComponentsIds",value:function(e){var t=this.getAttributeValue(e);return null===t?[]:Array.isArray(t)?t:[t]}},{key:"getVariableValue",value:function(e){var t;return(null===(t=this.variables.find((function(t){return t.name===e})))||void 0===t?void 0:t.value)||null}},{key:"setVariableValue",value:function(e,t){var n=this.variables.find((function(t){return t.name===e}));n&&(n.value=t)}},{key:"getComponentIdFromValue",value:function(e){return e}},{key:"canHaveLink",value:function(e){return this.definitions.links.some((function(t){return t.sourceRef===e}))}},{key:"canBeLinked",value:function(e,t){return this.definitions.links.some((function(n){var r=n.sourceRef,i=n.targetRef;return r===e&&i===t}))}},{key:"createTemporaryLink",value:function(e,t){this.temporaryLink=new LN({anchorName:t,source:e,definition:this.definitions.links.find((function(e){return e.isTemporary}))})}},{key:"getWorkflowLinks",value:function(){var e=this;return this.components.filter((function(e){var t;return null===(t=e.definition.displayType)||void 0===t?void 0:t.match("workflow")})).reduce((function(t,n){var r=e.getChildren(n.id);if(r.length>1)for(var i=0;i<r.length-1;i+=1)t.push(new D({definition:new j({sourceRef:"__workflow",attributeRef:"__next",model:n.definition.linkModel}),source:r[i].id,target:r[i+1].id}));return t}),[])}},{key:"getUsedLinkDefinitions",value:function(){return this.getLinks().map((function(e){return e.definition})).reduce((function(e,t){return e.some((function(e){return e.attributeRef===t.attributeRef&&e.sourceRef===t.sourceRef&&e.targetRef===t.targetRef}))||e.push(t),e}),[])}},{key:"initLinkDefinitions",value:function(e){var t=this,n=this.emitEvent({parent:e,type:"Data",action:"init",status:"running"});this.definitions.links=[],this.definitions.components.forEach((function(e){var n=e.type,r=e.definedAttributes;t.__setLinkDefinitions(n,r)})),this.definitions.links.push(new j({isTemporary:!0,model:"temporaryLink"})),this.emitEvent({id:n,status:"success"})}},{key:"__setLinkDefinitions",value:function(e,t){var n=this;t.forEach((function(t){if("Link"===t.type){var r=new j({type:t.linkType,attributeRef:t.name,sourceRef:e,targetRef:t.linkRef,model:t.linkModel});n.definitions.links.push(r)}else"Object"===t.type&&n.__setLinkDefinitions(e,t.definedAttributes)}))}},{key:"getChildren",value:function(e){return this.components.filter((function(t){return t.getContainerId()===e}))}},{key:"__moveComponentToIndex",value:function(e,t){var n=this.components.findIndex((function(t){return t.id===e}));if(n!==t){var r=this.getComponentById(e),i=Math.max(0,t);i+=i>n,this.components.splice(i,0,r),this.components.splice(n+(i<n),1)}}},{key:"insertComponentBefore",value:function(e,t){var n=this.components.findIndex((function(e){return e.id===t}));-1!==n&&this.__moveComponentToIndex(e,Math.max(0,n-1))}},{key:"insertComponentAfter",value:function(e,t){var n=this.components.findIndex((function(t){return t.id===e})),r=this.components.findIndex((function(e){return e.id===t}));-1!==r&&this.__moveComponentToIndex(e,Math.min(this.components.length-1,r+(r<n)))}},{key:"getEventLogById",value:function(e){return this.eventLogs.findLast((function(t){return e===t.id}))}},{key:"deleteAllEventLogsBefore",value:function(e){this.eventLogs=this.eventLogs.filter((function(t){return t.endDate>e}))}},{key:"emitEvent",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.id;return r?(t=this.getEventLogById(r),Object.keys(n).forEach((function(e){t[e]=n[e]}))):(this.__eventIndex+=1,r=this.__eventIndex,(t=new TN(jN(jN({},n),{},{id:r}))).startDate=Date.now(),this.eventLogs.push(t)),["success","warning","error"].includes(t.status)&&(t.endDate=Date.now()),null!==(e=this.eventManager)&&void 0!==e&&e.next&&this.eventManager.next({plugin:this.name,event:jN({},t)}),r}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BN(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const zN=UN;function VN(e){return VN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VN(e)}function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$N(Object(n),!0).forEach((function(t){KN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KN(e,t,n){return(t=HN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HN(e){var t=function(e,t){if("object"!=VN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=VN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==VN(t)?t:t+""}var WN=function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var t,n,r,i,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editor:{syntax:null},restrictiveFolder:null,defaultFileName:null,defaultFileExtension:null,tags:[],isFolderTypeDiagram:!0,extraResources:[],rootContainer:{margin:30,gap:50},container:{margin:30,gap:50},keysBinding:{}};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=qN({syntax:null},s.editor),this.restrictiveFolder=s.restrictiveFolder||null,this.defaultFileName=s.defaultFileName||null,this.defaultFileExtension=s.defaultFileExtension||null,this.tags=s.tags||[],this.isFolderTypeDiagram=null===(t=s.isFolderTypeDiagram)||void 0===t||t,this.extraResources=s.extraResources||[],this.rootContainer={margin:(null===(n=s.rootContainer)||void 0===n?void 0:n.margin)||30,gap:(null===(r=s.rootContainer)||void 0===r?void 0:r.gap)||50},this.container={margin:(null===(i=s.container)||void 0===i?void 0:i.margin)||30,gap:(null===(o=s.container)||void 0===o?void 0:o.gap)||50},this.keysBinding=qN({moveSceneUp:["ArrowUp"],moveSceneDown:["ArrowDown"],moveSceneLeft:["ArrowLeft"],moveSceneRight:["ArrowRight"],moveComponentUp:[],moveComponentDown:[],moveComponentLeft:[],moveComponentRight:[],zoomIn:["+"],zoomOut:["-"],deleteObject:["Delete"],editComponent:[",","?"],selection:["Shift"],selectAll:["A"],deselectAll:["D"]},s.keysBinding)}));const GN=WN;function YN(e){return YN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YN(e)}function QN(e){var t=function(e,t){if("object"!=YN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=YN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==YN(t)?t:t+""}var XN=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{event:null,configuration:null,pluginData:null,pluginDrawer:null,pluginMetadata:null,pluginParser:null,pluginRenderer:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configuration=t.configuration||new GN,this.data=t.pluginData||new zN(this.configuration,{},t.event),this.__drawer=t.pluginDrawer||new oN(this.data),this.__metadata=t.pluginMetadata||new cN(this.data),this.__parser=t.pluginParser||new pN(this.data),this.__renderer=t.pluginRenderer||new vN(this.data)},t=[{key:"init",value:function(){var e=this.data.emitEvent({type:"Plugin",action:"init",status:"running"});this.__metadata.parse(e),this.data.initLinkDefinitions(e),this.data.emitEvent({id:e,status:"success"})}},{key:"initResources",value:function(e){this.data.resources=e}},{key:"initDrawer",value:function(e,t){this.__drawer.init(e,t)}},{key:"draw",value:function(){this.__drawer.draw()}},{key:"parse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.data.emitEvent({type:"Parser",action:"read",status:"running",files:n.map((function(e){return e.path})).concat(null==t?void 0:t.path),data:{global:!0}});this.__parser.parse(e,n,r),this.__parser.parseConfiguration(e,t,r),this.data.emitEvent({id:r,status:"success"})}},{key:"isParsable",value:function(e){return this.__parser.isParsable(e)}},{key:"getModels",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.__parser.getModels(t.filter((function(t){return e.isParsable(t)})))}},{key:"render",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.data.emitEvent({type:"Render",action:"write",status:"running",files:n.map((function(e){return e.path})).concat(t.path),data:{global:!0}});this.__renderer.renderConfiguration(e,t,r);var i=this.__renderer.render(n,r).concat(t);return this.data.emitEvent({id:r,status:"success"}),i}},{key:"arrangeComponentsPosition",value:function(e,t){this.__drawer.arrangeComponentsPosition(e,t)}},{key:"resize",value:function(e){this.__drawer.resize(e)}},{key:"getComponentPosition",value:function(e,t){var n=t.x,r=t.y,i=this.__drawer.actions.zoom,o=i.scale,s=i.translate,a=document.querySelector("#".concat(e)).getBoundingClientRect(),u=a.left,c=a.top;return{x:(n-u-s.x)/o,y:(r-c-s.y)/o}}},{key:"addComponent",value:function(e,t,n,r){var i=this.data.addComponent(t,n),o=this.data.getComponentById(i);if(e){var s=this.data.getComponentById(e);o.setReferenceAttribute(s)}return r&&this.__drawer.dropComponent(o,r),i}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QN(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const ZN=XN;var JN=function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,value:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.type,r=t.value;this.type=n||null,this.value=r||null}));const eP=JN;function tP(e){return tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tP(e)}function nP(e,t,n){return t=iP(t),function(e,t){if(t&&("object"==tP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rP()?Reflect.construct(t,n||[],iP(e).constructor):t.apply(e,n))}function rP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rP=function(){return!!e})()}function iP(e){return iP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iP(e)}function oP(e,t){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oP(e,t)}var sP=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,type:null,value:null,category:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=nP(this,t,[n]);var r=n.name,i=n.type,o=n.value,s=n.category;return e.__class="Variable",e.name=r||null,e.type=i||null,e.value=o||null,e.category=s||null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oP(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(l);const aP=sP})();var o=t;for(var s in i)o[s]=i[s];i.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})()},945:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";var r=Array.prototype,i=Object.prototype,o={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},s=/[&"'<>\\]/g;function a(e,t){return i.hasOwnProperty.call(e,t)}function u(e){return o[e]}function c(e,t,n){var r,i,o;if(e instanceof Error&&(e=(i=e).name+": "+i.message),Object.setPrototypeOf?(r=new Error(e),Object.setPrototypeOf(r,c.prototype)):(r=this,Object.defineProperty(r,"message",{enumerable:!1,writable:!0,value:e})),Object.defineProperty(r,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(r,this.constructor),i){var s=Object.getOwnPropertyDescriptor(i,"stack");(o=s&&(s.get||function(){return s.value}))||(o=function(){return i.stack})}else{var a=new Error(e).stack;o=function(){return a}}return Object.defineProperty(r,"stack",{get:function(){return o.call(r)}}),Object.defineProperty(r,"cause",{value:i}),r.lineno=t,r.colno=n,r.firstUpdate=!0,r.Update=function(e){var t="("+(e||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?t+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(t+=" [Line "+this.lineno+"]")),t+="\n ",this.firstUpdate&&(t+=" "),this.message=t+(this.message||""),this.firstUpdate=!1,this},r}function l(e){return"[object Function]"===i.toString.call(e)}function h(e){return"[object Array]"===i.toString.call(e)}function f(e){return"[object String]"===i.toString.call(e)}function p(e){return"[object Object]"===i.toString.call(e)}function d(e){var t,n=(t=e)?"string"==typeof t?t.split("."):[t]:[];return function(e){for(var t=e,r=0;r<n.length;r++){var i=n[r];if(!a(t,i))return;t=t[i]}return t}}function m(e){return Array.prototype.slice.call(e)}function y(e,t,n){return Array.prototype.indexOf.call(e||[],t,n)}function v(e){var t=[];for(var n in e)a(e,n)&&t.push(n);return t}(t=e.exports={}).hasOwnProp=a,t._prettifyError=function(e,n,r){if(r.Update||(r=new t.TemplateError(r)),r.Update(e),!n){var i=r;(r=new Error(i.message)).name=i.name}return r},Object.setPrototypeOf?Object.setPrototypeOf(c.prototype,Error.prototype):c.prototype=Object.create(Error.prototype,{constructor:{value:c}}),t.TemplateError=c,t.escape=function(e){return e.replace(s,u)},t.isFunction=l,t.isArray=h,t.isString=f,t.isObject=p,t.getAttrGetter=d,t.groupBy=function(e,t,n){for(var r={},i=l(t)?t:d(t),o=0;o<e.length;o++){var s=e[o],a=i(s,o);if(void 0===a&&!0===n)throw new TypeError('groupby: attribute "'+t+'" resolved to undefined');(r[a]||(r[a]=[])).push(s)}return r},t.toArray=m,t.without=function(e){var t=[];if(!e)return t;for(var n=e.length,r=m(arguments).slice(1),i=-1;++i<n;)-1===y(r,e[i])&&t.push(e[i]);return t},t.repeat=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},t.each=function(e,t,n){if(null!=e)if(r.forEach&&e.forEach===r.forEach)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},t.map=function(e,t){var n=[];if(null==e)return n;if(r.map&&e.map===r.map)return e.map(t);for(var i=0;i<e.length;i++)n[n.length]=t(e[i],i);return e.length===+e.length&&(n.length=e.length),n},t.asyncIter=function(e,t,n){var r=-1;!function i(){++r<e.length?t(e[r],r,i,n):n()}()},t.asyncFor=function(e,t,n){var r=v(e||{}),i=r.length,o=-1;!function s(){o++;var a=r[o];o<i?t(a,e[a],o,i,s):n()}()},t.indexOf=y,t.keys=v,t._entries=function(e){return v(e).map((function(t){return[t,e[t]]}))},t._values=function(e){return v(e).map((function(t){return e[t]}))},t._assign=t.extend=function(e,t){return e=e||{},v(t).forEach((function(n){e[n]=t[n]})),e},t.inOperator=function(e,t){if(h(t)||f(t))return-1!==t.indexOf(e);if(p(t))return e in t;throw new Error('Cannot use "in" operator to search for "'+e+'" in unexpected types.')}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key))?i:String(i)),r)}var i}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var a=n(16),u=n(0);function c(e,t,n){n=n||{},u.keys(n).forEach((function(t){var r,i;n[t]=(r=e.prototype[t],i=n[t],"function"!=typeof r||"function"!=typeof i?i:function(){var e=this.parent;this.parent=r;var t=i.apply(this,arguments);return this.parent=e,t})}));var r=function(e){function n(){return e.apply(this,arguments)||this}return o(n,e),i(n,[{key:"typename",get:function(){return t}}]),n}(e);return u._assign(r.prototype,n),r}var l=function(){function e(){this.init.apply(this,arguments)}return e.prototype.init=function(){},e.extend=function(e,t){return"object"==typeof e&&(t=e,e="anonymous"),c(this,e,t)},i(e,[{key:"typename",get:function(){return this.constructor.name}}]),e}(),h=function(e){function t(){var t,n;return(t=n=e.call(this)||this).init.apply(t,arguments),n}return o(t,e),t.prototype.init=function(){},t.extend=function(e,t){return"object"==typeof e&&(t=e,e="anonymous"),c(this,e,t)},i(t,[{key:"typename",get:function(){return this.constructor.name}}]),t}(a);e.exports={Obj:l,EmitterObj:h}},function(e,t,n){"use strict";var r=n(0),i=Array.from,o="function"==typeof Symbol&&Symbol.iterator&&"function"==typeof i,s=function(){function e(e,t){this.variables=Object.create(null),this.parent=e,this.topLevel=!1,this.isolateWrites=t}var t=e.prototype;return t.set=function(e,t,n){var r=e.split("."),i=this.variables,o=this;if(n&&(o=this.resolve(r[0],!0)))o.set(e,t);else{for(var s=0;s<r.length-1;s++){var a=r[s];i[a]||(i[a]={}),i=i[a]}i[r[r.length-1]]=t}},t.get=function(e){var t=this.variables[e];return void 0!==t?t:null},t.lookup=function(e){var t=this.parent,n=this.variables[e];return void 0!==n?n:t&&t.lookup(e)},t.resolve=function(e,t){var n=t&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[e]?this:n&&n.resolve(e)},t.push=function(t){return new e(this,t)},t.pop=function(){return this.parent},e}();function a(e){return e&&Object.prototype.hasOwnProperty.call(e,"__keywords")}function u(e){var t=e.length;return 0===t?0:a(e[t-1])?t-1:t}function c(e){if("string"!=typeof e)return e;this.val=e,this.length=e.length}c.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),c.prototype.valueOf=function(){return this.val},c.prototype.toString=function(){return this.val},e.exports={Frame:s,makeMacro:function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s,c=u(i),l=function(e){var t=e.length;if(t){var n=e[t-1];if(a(n))return n}return{}}(i);if(c>e.length)s=i.slice(0,e.length),i.slice(s.length,c).forEach((function(e,n){n<t.length&&(l[t[n]]=e)})),s.push(l);else if(c<e.length){s=i.slice(0,c);for(var h=c;h<e.length;h++){var f=e[h];s.push(l[f]),delete l[f]}s.push(l)}else s=i;return n.apply(this,s)}},makeKeywordArgs:function(e){return e.__keywords=!0,e},numArgs:u,suppressValue:function(e,t){return e=null!=e?e:"",!t||e instanceof c||(e=r.escape(e.toString())),e},ensureDefined:function(e,t,n){if(null==e)throw new r.TemplateError("attempted to output null or undefined value",t+1,n+1);return e},memberLookup:function(e,t){if(null!=e)return"function"==typeof e[t]?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e[t].apply(e,r)}:e[t]},contextOrFrameLookup:function(e,t,n){var r=t.lookup(n);return void 0!==r?r:e.lookup(n)},callWrap:function(e,t,n,r){if(!e)throw new Error("Unable to call `"+t+"`, which is undefined or falsey");if("function"!=typeof e)throw new Error("Unable to call `"+t+"`, which is not a function");return e.apply(n,r)},handleError:function(e,t,n){return e.lineno?e:new r.TemplateError(e,t,n)},isArray:r.isArray,keys:r.keys,SafeString:c,copySafeness:function(e,t){return e instanceof c?new c(t):t.toString()},markSafe:function(e){var t=typeof e;return"string"===t?new c(e):"function"!==t?e:function(t){var n=e.apply(this,arguments);return"string"==typeof n?new c(n):n}},asyncEach:function(e,t,n,i){if(r.isArray(e)){var o=e.length;r.asyncIter(e,(function(e,r,i){switch(t){case 1:n(e,r,o,i);break;case 2:n(e[0],e[1],r,o,i);break;case 3:n(e[0],e[1],e[2],r,o,i);break;default:e.push(r,o,i),n.apply(this,e)}}),i)}else r.asyncFor(e,(function(e,t,r,i,o){n(e,t,r,i,o)}),i)},asyncAll:function(e,t,n,i){var o,s,a=0;function u(e,t){a++,s[e]=t,a===o&&i(null,s.join(""))}if(r.isArray(e))if(o=e.length,s=new Array(o),0===o)i(null,"");else for(var c=0;c<e.length;c++){var l=e[c];switch(t){case 1:n(l,c,o,u);break;case 2:n(l[0],l[1],c,o,u);break;case 3:n(l[0],l[1],l[2],c,o,u);break;default:l.push(c,o,u),n.apply(this,l)}}else{var h=r.keys(e||{});if(o=h.length,s=new Array(o),0===o)i(null,"");else for(var f=0;f<h.length;f++){var p=h[f];n(p,e[p],f,o,u)}}},inOperator:r.inOperator,fromIterator:function(e){return"object"!=typeof e||null===e||r.isArray(e)?e:o&&Symbol.iterator in e?i(e):e}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key))?i:String(i)),r)}var i}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e,t,n){e instanceof t&&n.push(e),e instanceof u&&e.findAll(t,n)}var u=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.init=function(e,t){for(var n=arguments,r=this,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];this.lineno=e,this.colno=t,this.fields.forEach((function(e,t){var i=n[t+2];void 0===i&&(i=null),r[e]=i}))},n.findAll=function(e,t){var n=this;return t=t||[],this instanceof l?this.children.forEach((function(n){return a(n,e,t)})):this.fields.forEach((function(r){return a(n[r],e,t)})),t},n.iterFields=function(e){var t=this;this.fields.forEach((function(n){e(t[n],n)}))},t}(n(1).Obj),c=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),i(t,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),t}(u),l=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.init=function(t,n,r){e.prototype.init.call(this,t,n,r||[])},n.addChild=function(e){this.children.push(e)},i(t,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),t}(u),h=l.extend("Root"),f=c.extend("Literal"),p=c.extend("Symbol"),d=l.extend("Group"),m=l.extend("Array"),y=u.extend("Pair",{fields:["key","value"]}),v=l.extend("Dict"),g=u.extend("LookupVal",{fields:["target","val"]}),_=u.extend("If",{fields:["cond","body","else_"]}),b=_.extend("IfAsync"),w=u.extend("InlineIf",{fields:["cond","body","else_"]}),x=u.extend("For",{fields:["arr","name","body","else_"]}),k=x.extend("AsyncEach"),E=x.extend("AsyncAll"),S=u.extend("Macro",{fields:["name","args","body"]}),T=S.extend("Caller"),A=u.extend("Import",{fields:["template","target","withContext"]}),O=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(t,n,r,i,o){e.prototype.init.call(this,t,n,r,i||new l,o)},i(t,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),t}(u),N=u.extend("FunCall",{fields:["name","args"]}),P=N.extend("Filter"),C=P.extend("FilterAsync",{fields:["name","args","symbol"]}),R=v.extend("KeywordArgs"),L=u.extend("Block",{fields:["name","body"]}),I=u.extend("Super",{fields:["blockName","symbol"]}),D=u.extend("TemplateRef",{fields:["template"]}).extend("Extends"),M=u.extend("Include",{fields:["template","ignoreMissing"]}),j=u.extend("Set",{fields:["targets","value"]}),F=u.extend("Switch",{fields:["expr","cases","default"]}),B=u.extend("Case",{fields:["cond","body"]}),U=l.extend("Output"),z=u.extend("Capture",{fields:["body"]}),V=f.extend("TemplateData"),$=u.extend("UnaryOp",{fields:["target"]}),q=u.extend("BinOp",{fields:["left","right"]}),K=q.extend("In"),H=q.extend("Is"),W=q.extend("Or"),G=q.extend("And"),Y=$.extend("Not"),Q=q.extend("Add"),X=q.extend("Concat"),Z=q.extend("Sub"),J=q.extend("Mul"),ee=q.extend("Div"),te=q.extend("FloorDiv"),ne=q.extend("Mod"),re=q.extend("Pow"),ie=$.extend("Neg"),oe=$.extend("Pos"),se=u.extend("Compare",{fields:["expr","ops"]}),ae=u.extend("CompareOperand",{fields:["expr","type"]}),ue=u.extend("CallExtension",{init:function(e,t,n,r){this.parent(),this.extName=e.__name||e,this.prop=t,this.args=n||new l,this.contentArgs=r||[],this.autoescape=e.autoescape},fields:["extName","prop","args","contentArgs"]}),ce=ue.extend("CallExtensionAsync");function le(e,t,n){var r=e.split("\n");r.forEach((function(e,i){e&&(n&&i>0||!n)&&process.stdout.write(" ".repeat(t));var o=i===r.length-1?"":"\n";process.stdout.write(""+e+o)}))}e.exports={Node:u,Root:h,NodeList:l,Value:c,Literal:f,Symbol:p,Group:d,Array:m,Pair:y,Dict:v,Output:U,Capture:z,TemplateData:V,If:_,IfAsync:b,InlineIf:w,For:x,AsyncEach:k,AsyncAll:E,Macro:S,Caller:T,Import:A,FromImport:O,FunCall:N,Filter:P,FilterAsync:C,KeywordArgs:R,Block:L,Super:I,Extends:D,Include:M,Set:j,Switch:F,Case:B,LookupVal:g,BinOp:q,In:K,Is:H,Or:W,And:G,Not:Y,Add:Q,Concat:X,Sub:Z,Mul:J,Div:ee,FloorDiv:te,Mod:ne,Pow:re,Neg:ie,Pos:oe,Compare:se,CompareOperand:ae,CallExtension:ue,CallExtensionAsync:ce,printNodes:function e(t,n){if(n=n||0,le(t.typename+": ",n),t instanceof l)le("\n"),t.children.forEach((function(t){e(t,n+2)}));else if(t instanceof ue)le(t.extName+"."+t.prop+"\n"),t.args&&e(t.args,n+2),t.contentArgs&&t.contentArgs.forEach((function(t){e(t,n+2)}));else{var r=[],i=null;t.iterFields((function(e,t){e instanceof u?r.push([t,e]):(i=i||{})[t]=e})),i?le(JSON.stringify(i,null,2)+"\n",null,!0):le("\n"),r.forEach((function(t){var r=t[0],i=t[1];le("["+r+"] =>",n+2),e(i,n+4)}))}}}},function(e,t){},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(8),o=n(17),s=n(3),a=n(0).TemplateError,u=n(2).Frame,c=n(1).Obj,l={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},h=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var o=i.prototype;return o.init=function(e,t){this.templateName=e,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=t},o.fail=function(e,t,n){throw void 0!==t&&(t+=1),void 0!==n&&(n+=1),new a(e,t,n)},o._pushBuffer=function(){var e=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=e,this._emit("var "+this.buffer+' = "";'),e},o._popBuffer=function(){this.buffer=this.bufferStack.pop()},o._emit=function(e){this.codebuf.push(e)},o._emitLine=function(e){this._emit(e+"\n")},o._emitLines=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){return e._emitLine(t)}))},o._emitFuncBegin=function(e,t){this.buffer="output",this._scopeClosers="",this._emitLine("function "+t+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+e.lineno+";"),this._emitLine("var colno = "+e.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},o._emitFuncEnd=function(e){e||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},o._addScopeLevel=function(){this._scopeClosers+="})"},o._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},o._withScopedSyntax=function(e){var t=this._scopeClosers;this._scopeClosers="",e.call(this),this._closeScopeLevels(),this._scopeClosers=t},o._makeCallback=function(e){var t=this._tmpid();return"function("+t+(e?","+e:"")+") {\nif("+t+") { cb("+t+"); return; }"},o._tmpid=function(){return this.lastId++,"t_"+this.lastId},o._templateName=function(){return null==this.templateName?"undefined":JSON.stringify(this.templateName)},o._compileChildren=function(e,t){var n=this;e.children.forEach((function(e){n.compile(e,t)}))},o._compileAggregate=function(e,t,n,r){var i=this;n&&this._emit(n),e.children.forEach((function(e,n){n>0&&i._emit(","),i.compile(e,t)})),r&&this._emit(r)},o._compileExpression=function(e,t){this.assertType(e,s.Literal,s.Symbol,s.Group,s.Array,s.Dict,s.FunCall,s.Caller,s.Filter,s.LookupVal,s.Compare,s.InlineIf,s.In,s.Is,s.And,s.Or,s.Not,s.Add,s.Concat,s.Sub,s.Mul,s.Div,s.FloorDiv,s.Mod,s.Pow,s.Neg,s.Pos,s.Compare,s.NodeList),this.compile(e,t)},o.assertType=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.some((function(t){return e instanceof t}))||this.fail("assertType: invalid type: "+e.typename,e.lineno,e.colno)},o.compileCallExtension=function(e,t,n){var r=this,i=e.args,o=e.contentArgs,a="boolean"!=typeof e.autoescape||e.autoescape;if(n||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+e.extName+'")["'+e.prop+'"]('),this._emit("context"),(i||o)&&this._emit(","),i&&(i instanceof s.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),i.children.forEach((function(e,n){r._compileExpression(e,t),(n!==i.children.length-1||o.length)&&r._emit(",")}))),o.length&&o.forEach((function(e,n){if(n>0&&r._emit(","),e){r._emitLine("function(cb) {"),r._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var i=r._pushBuffer();r._withScopedSyntax((function(){r.compile(e,t),r._emitLine("cb(null, "+i+");")})),r._popBuffer(),r._emitLine("return "+i+";"),r._emitLine("}")}else r._emit("null")})),n){var u=this._tmpid();this._emitLine(", "+this._makeCallback(u)),this._emitLine(this.buffer+" += runtime.suppressValue("+u+", "+a+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+a+" && env.opts.autoescape);\n")},o.compileCallExtensionAsync=function(e,t){this.compileCallExtension(e,t,!0)},o.compileNodeList=function(e,t){this._compileChildren(e,t)},o.compileLiteral=function(e){if("string"==typeof e.value){var t=e.value.replace(/\\/g,"\\\\");t=(t=(t=(t=(t=t.replace(/"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t")).replace(/\u2028/g,"\\u2028"),this._emit('"'+t+'"')}else null===e.value?this._emit("null"):this._emit(e.value.toString())},o.compileSymbol=function(e,t){var n=e.value,r=t.lookup(n);r?this._emit(r):this._emit('runtime.contextOrFrameLookup(context, frame, "'+n+'")')},o.compileGroup=function(e,t){this._compileAggregate(e,t,"(",")")},o.compileArray=function(e,t){this._compileAggregate(e,t,"[","]")},o.compileDict=function(e,t){this._compileAggregate(e,t,"{","}")},o.compilePair=function(e,t){var n=e.key,r=e.value;n instanceof s.Symbol?n=new s.Literal(n.lineno,n.colno,n.value):n instanceof s.Literal&&"string"==typeof n.value||this.fail("compilePair: Dict keys must be strings or names",n.lineno,n.colno),this.compile(n,t),this._emit(": "),this._compileExpression(r,t)},o.compileInlineIf=function(e,t){this._emit("("),this.compile(e.cond,t),this._emit("?"),this.compile(e.body,t),this._emit(":"),null!==e.else_?this.compile(e.else_,t):this._emit('""'),this._emit(")")},o.compileIn=function(e,t){this._emit("runtime.inOperator("),this.compile(e.left,t),this._emit(","),this.compile(e.right,t),this._emit(")")},o.compileIs=function(e,t){var n=e.right.name?e.right.name.value:e.right.value;this._emit('env.getTest("'+n+'").call(context, '),this.compile(e.left,t),e.right.args&&(this._emit(","),this.compile(e.right.args,t)),this._emit(") === true")},o._binOpEmitter=function(e,t,n){this.compile(e.left,t),this._emit(n),this.compile(e.right,t)},o.compileOr=function(e,t){return this._binOpEmitter(e,t," || ")},o.compileAnd=function(e,t){return this._binOpEmitter(e,t," && ")},o.compileAdd=function(e,t){return this._binOpEmitter(e,t," + ")},o.compileConcat=function(e,t){return this._binOpEmitter(e,t,' + "" + ')},o.compileSub=function(e,t){return this._binOpEmitter(e,t," - ")},o.compileMul=function(e,t){return this._binOpEmitter(e,t," * ")},o.compileDiv=function(e,t){return this._binOpEmitter(e,t," / ")},o.compileMod=function(e,t){return this._binOpEmitter(e,t," % ")},o.compileNot=function(e,t){this._emit("!"),this.compile(e.target,t)},o.compileFloorDiv=function(e,t){this._emit("Math.floor("),this.compile(e.left,t),this._emit(" / "),this.compile(e.right,t),this._emit(")")},o.compilePow=function(e,t){this._emit("Math.pow("),this.compile(e.left,t),this._emit(", "),this.compile(e.right,t),this._emit(")")},o.compileNeg=function(e,t){this._emit("-"),this.compile(e.target,t)},o.compilePos=function(e,t){this._emit("+"),this.compile(e.target,t)},o.compileCompare=function(e,t){var n=this;this.compile(e.expr,t),e.ops.forEach((function(e){n._emit(" "+l[e.type]+" "),n.compile(e.expr,t)}))},o.compileLookupVal=function(e,t){this._emit("runtime.memberLookup(("),this._compileExpression(e.target,t),this._emit("),"),this._compileExpression(e.val,t),this._emit(")")},o._getNodeName=function(e){switch(e.typename){case"Symbol":return e.value;case"FunCall":return"the return value of ("+this._getNodeName(e.name)+")";case"LookupVal":return this._getNodeName(e.target)+'["'+this._getNodeName(e.val)+'"]';case"Literal":return e.value.toString();default:return"--expression--"}},o.compileFunCall=function(e,t){this._emit("(lineno = "+e.lineno+", colno = "+e.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(e.name,t),this._emit(', "'+this._getNodeName(e.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(e.args,t,"[","])"),this._emit(")")},o.compileFilter=function(e,t){var n=e.name;this.assertType(n,s.Symbol),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(e.args,t),this._emit(")")},o.compileFilterAsync=function(e,t){var n=e.name,r=e.symbol.value;this.assertType(n,s.Symbol),t.set(r,r),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(e.args,t),this._emitLine(", "+this._makeCallback(r)),this._addScopeLevel()},o.compileKeywordArgs=function(e,t){this._emit("runtime.makeKeywordArgs("),this.compileDict(e,t),this._emit(")")},o.compileSet=function(e,t){var n=this,r=[];e.targets.forEach((function(e){var i=e.value,o=t.lookup(i);null==o&&(o=n._tmpid(),n._emitLine("var "+o+";")),r.push(o)})),e.value?(this._emit(r.join(" = ")+" = "),this._compileExpression(e.value,t),this._emitLine(";")):(this._emit(r.join(" = ")+" = "),this.compile(e.body,t),this._emitLine(";")),e.targets.forEach((function(e,t){var i=r[t],o=e.value;n._emitLine('frame.set("'+o+'", '+i+", true);"),n._emitLine("if(frame.topLevel) {"),n._emitLine('context.setVariable("'+o+'", '+i+");"),n._emitLine("}"),"_"!==o.charAt(0)&&(n._emitLine("if(frame.topLevel) {"),n._emitLine('context.addExport("'+o+'", '+i+");"),n._emitLine("}"))}))},o.compileSwitch=function(e,t){var n=this;this._emit("switch ("),this.compile(e.expr,t),this._emit(") {"),e.cases.forEach((function(e,r){n._emit("case "),n.compile(e.cond,t),n._emit(": "),n.compile(e.body,t),e.body.children.length&&n._emitLine("break;")})),e.default&&(this._emit("default:"),this.compile(e.default,t)),this._emit("}")},o.compileIf=function(e,t,n){var r=this;this._emit("if("),this._compileExpression(e.cond,t),this._emitLine(") {"),this._withScopedSyntax((function(){r.compile(e.body,t),n&&r._emit("cb()")})),e.else_?(this._emitLine("}\nelse {"),this._withScopedSyntax((function(){r.compile(e.else_,t),n&&r._emit("cb()")}))):n&&(this._emitLine("}\nelse {"),this._emit("cb()")),this._emitLine("}")},o.compileIfAsync=function(e,t){this._emit("(function(cb) {"),this.compileIf(e,t,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},o._emitLoopBindings=function(e,t,n,r){var i=this;[{name:"index",val:n+" + 1"},{name:"index0",val:n},{name:"revindex",val:r+" - "+n},{name:"revindex0",val:r+" - "+n+" - 1"},{name:"first",val:n+" === 0"},{name:"last",val:n+" === "+r+" - 1"},{name:"length",val:r}].forEach((function(e){i._emitLine('frame.set("loop.'+e.name+'", '+e.val+");")}))},o.compileFor=function(e,t){var n=this,r=this._tmpid(),i=this._tmpid(),o=this._tmpid();if(t=t.push(),this._emitLine("frame = frame.push();"),this._emit("var "+o+" = "),this._compileExpression(e.arr,t),this._emitLine(";"),this._emit("if("+o+") {"),this._emitLine(o+" = runtime.fromIterator("+o+");"),e.name instanceof s.Array){this._emitLine("var "+r+";"),this._emitLine("if(runtime.isArray("+o+")) {"),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for("+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),e.name.children.forEach((function(i,s){var a=n._tmpid();n._emitLine("var "+a+" = "+o+"["+r+"]["+s+"];"),n._emitLine('frame.set("'+i+'", '+o+"["+r+"]["+s+"]);"),t.set(e.name.children[s].value,a)})),this._emitLoopBindings(e,o,r,i),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("}"),this._emitLine("} else {");var a=e.name.children,u=a[0],c=a[1],l=this._tmpid(),h=this._tmpid();t.set(u.value,l),t.set(c.value,h),this._emitLine(r+" = -1;"),this._emitLine("var "+i+" = runtime.keys("+o+").length;"),this._emitLine("for(var "+l+" in "+o+") {"),this._emitLine(r+"++;"),this._emitLine("var "+h+" = "+o+"["+l+"];"),this._emitLine('frame.set("'+u.value+'", '+l+");"),this._emitLine('frame.set("'+c.value+'", '+h+");"),this._emitLoopBindings(e,o,r,i),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("}"),this._emitLine("}")}else{var f=this._tmpid();t.set(e.name.value,f),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for(var "+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),this._emitLine("var "+f+" = "+o+"["+r+"];"),this._emitLine('frame.set("'+e.name.value+'", '+f+");"),this._emitLoopBindings(e,o,r,i),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("}")}this._emitLine("}"),e.else_&&(this._emitLine("if (!"+i+") {"),this.compile(e.else_,t),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o._compileAsyncLoop=function(e,t,n){var r=this,i=this._tmpid(),o=this._tmpid(),a=this._tmpid(),u=n?"asyncAll":"asyncEach";if(t=t.push(),this._emitLine("frame = frame.push();"),this._emit("var "+a+" = runtime.fromIterator("),this._compileExpression(e.arr,t),this._emitLine(");"),e.name instanceof s.Array){var c=e.name.children.length;this._emit("runtime."+u+"("+a+", "+c+", function("),e.name.children.forEach((function(e){r._emit(e.value+",")})),this._emit(i+","+o+",next) {"),e.name.children.forEach((function(e){var n=e.value;t.set(n,n),r._emitLine('frame.set("'+n+'", '+n+");")}))}else{var l=e.name.value;this._emitLine("runtime."+u+"("+a+", 1, function("+l+", "+i+", "+o+",next) {"),this._emitLine('frame.set("'+l+'", '+l+");"),t.set(l,l)}this._emitLoopBindings(e,a,i,o),this._withScopedSyntax((function(){var o;n&&(o=r._pushBuffer()),r.compile(e.body,t),r._emitLine("next("+i+(o?","+o:"")+");"),n&&r._popBuffer()}));var h=this._tmpid();this._emitLine("}, "+this._makeCallback(h)),this._addScopeLevel(),n&&this._emitLine(this.buffer+" += "+h+";"),e.else_&&(this._emitLine("if (!"+a+".length) {"),this.compile(e.else_,t),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o.compileAsyncEach=function(e,t){this._compileAsyncLoop(e,t)},o.compileAsyncAll=function(e,t){this._compileAsyncLoop(e,t,!0)},o._compileMacro=function(e,t){var n=this,r=[],i=null,o="macro_"+this._tmpid(),a=void 0!==t;e.args.children.forEach((function(t,o){o===e.args.children.length-1&&t instanceof s.Dict?i=t:(n.assertType(t,s.Symbol),r.push(t))}));var c,l=[].concat(r.map((function(e){return"l_"+e.value})),["kwargs"]),h=r.map((function(e){return'"'+e.value+'"'})),f=(i&&i.children||[]).map((function(e){return'"'+e.key.value+'"'}));c=a?t.push(!0):new u,this._emitLines("var "+o+" = runtime.makeMacro(","["+h.join(", ")+"], ","["+f.join(", ")+"], ","function ("+l.join(", ")+") {","var callerFrame = frame;","frame = "+(a?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),r.forEach((function(e){n._emitLine('frame.set("'+e.value+'", l_'+e.value+");"),c.set(e.value,"l_"+e.value)})),i&&i.children.forEach((function(e){var t=e.key.value;n._emit('frame.set("'+t+'", '),n._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+t+'")'),n._emit(' ? kwargs["'+t+'"] : '),n._compileExpression(e.value,c),n._emit(");")}));var p=this._pushBuffer();return this._withScopedSyntax((function(){n.compile(e.body,c)})),this._emitLine("frame = "+(a?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+p+");"),this._emitLine("});"),this._popBuffer(),o},o.compileMacro=function(e,t){var n=this._compileMacro(e),r=e.name.value;t.set(r,n),t.parent?this._emitLine('frame.set("'+r+'", '+n+");"):("_"!==e.name.value.charAt(0)&&this._emitLine('context.addExport("'+r+'");'),this._emitLine('context.setVariable("'+r+'", '+n+");"))},o.compileCaller=function(e,t){this._emit("(function (){");var n=this._compileMacro(e,t);this._emit("return "+n+";})()")},o._compileGetTemplate=function(e,t,n,r){var i=this._tmpid(),o=this._templateName(),s=this._makeCallback(i),a=n?"true":"false",u=r?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(e.template,t),this._emitLine(", "+a+", "+o+", "+u+", "+s),i},o.compileImport=function(e,t){var n=e.target.value,r=this._compileGetTemplate(e,t,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),t.set(n,r),t.parent?this._emitLine('frame.set("'+n+'", '+r+");"):this._emitLine('context.setVariable("'+n+'", '+r+");")},o.compileFromImport=function(e,t){var n=this,r=this._compileGetTemplate(e,t,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),e.names.children.forEach((function(e){var i,o,a=n._tmpid();e instanceof s.Pair?(i=e.key.value,o=e.value.value):o=i=e.value,n._emitLine("if(Object.prototype.hasOwnProperty.call("+r+', "'+i+'")) {'),n._emitLine("var "+a+" = "+r+"."+i+";"),n._emitLine("} else {"),n._emitLine("cb(new Error(\"cannot import '"+i+"'\")); return;"),n._emitLine("}"),t.set(o,a),t.parent?n._emitLine('frame.set("'+o+'", '+a+");"):n._emitLine('context.setVariable("'+o+'", '+a+");")}))},o.compileBlock=function(e){var t=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+e.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(t)),this._emitLine(this.buffer+" += "+t+";"),this._addScopeLevel()},o.compileSuper=function(e,t){var n=e.blockName.value,r=e.symbol.value,i=this._makeCallback(r);this._emitLine('context.getSuper(env, "'+n+'", b_'+n+", frame, runtime, "+i),this._emitLine(r+" = runtime.markSafe("+r+");"),this._addScopeLevel(),t.set(r,r)},o.compileExtends=function(e,t){var n=this._tmpid(),r=this._compileGetTemplate(e,t,!0,!1);this._emitLine("parentTemplate = "+r),this._emitLine("for(var "+n+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+n+", parentTemplate.blocks["+n+"]);"),this._emitLine("}"),this._addScopeLevel()},o.compileInclude=function(e,t){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var n=this._compileGetTemplate(e,t,!1,e.ignoreMissing);this._emitLine("callback(null,"+n+");});"),this._emitLine("});");var r=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(r)),this._emitLine("callback(null,"+r+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},o.compileTemplateData=function(e,t){this.compileLiteral(e,t)},o.compileCapture=function(e,t){var n=this,r=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=r},o.compileOutput=function(e,t){var n=this;e.children.forEach((function(r){r instanceof s.TemplateData?r.value&&(n._emit(n.buffer+" += "),n.compileLiteral(r,t),n._emitLine(";")):(n._emit(n.buffer+" += runtime.suppressValue("),n.throwOnUndefined&&n._emit("runtime.ensureDefined("),n.compile(r,t),n.throwOnUndefined&&n._emit(","+e.lineno+","+e.colno+")"),n._emit(", env.opts.autoescape);\n"))}))},o.compileRoot=function(e,t){var n=this;t&&this.fail("compileRoot: root node can't have frame"),t=new u,this._emitFuncBegin(e,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(e,t),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var r=[],i=e.findAll(s.Block);i.forEach((function(e,t){var i=e.name.value;if(-1!==r.indexOf(i))throw new Error('Block "'+i+'" defined more than once.');r.push(i),n._emitFuncBegin(e,"b_"+i);var o=new u;n._emitLine("var frame = frame.push(true);"),n.compile(e.body,o),n._emitFuncEnd()})),this._emitLine("return {"),i.forEach((function(e,t){var r="b_"+e.name.value;n._emitLine(r+": "+r+",")})),this._emitLine("root: root\n};")},o.compile=function(e,t){var n=this["compile"+e.typename];n?n.call(this,e,t):this.fail("compile: Cannot compile node: "+e.typename,e.lineno,e.colno)},o.getCode=function(){return this.codebuf.join("")},i}(c);e.exports={compile:function(e,t,n,r,s){void 0===s&&(s={});var a=new h(r,s.throwOnUndefined),u=(n||[]).map((function(e){return e.preprocess})).filter((function(e){return!!e})).reduce((function(e,t){return t(e)}),e);return a.compile(o.transform(i.parse(u,n,s),t,r)),a.getCode()},Compiler:h}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(4),o=n(1).EmitterObj;e.exports=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var s=o.prototype;return s.resolve=function(e,t){return i.resolve(i.dirname(e),t)},s.isRelative=function(e){return 0===e.indexOf("./")||0===e.indexOf("../")},o}(o)},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}var o=n(12),s=n(15),a=n(0),u=n(5),c=n(18),l=n(10),h=l.FileSystemLoader,f=l.WebLoader,p=l.PrecompiledLoader,d=n(20),m=n(21),y=n(1),v=y.Obj,g=y.EmitterObj,_=n(2),b=_.handleError,w=_.Frame,x=n(22);function k(e,t,n){o((function(){e(t,n)}))}var E={type:"code",obj:{root:function(e,t,n,r,i){try{i(null,"")}catch(e){i(b(e,null,null))}}}},S=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.init=function(e,t){var n=this;t=this.opts=t||{},this.opts.dev=!!t.dev,this.opts.autoescape=null==t.autoescape||t.autoescape,this.opts.throwOnUndefined=!!t.throwOnUndefined,this.opts.trimBlocks=!!t.trimBlocks,this.opts.lstripBlocks=!!t.lstripBlocks,this.loaders=[],e?this.loaders=a.isArray(e)?e:[e]:h?this.loaders=[new h("views")]:f&&(this.loaders=[new f("/views")]),"undefined"!=typeof window&&window.nunjucksPrecompiled&&this.loaders.unshift(new p(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=m(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],a._entries(c).forEach((function(e){var t=e[0],r=e[1];return n.addFilter(t,r)})),a._entries(d).forEach((function(e){var t=e[0],r=e[1];return n.addTest(t,r)}))},n._initLoaders=function(){var e=this;this.loaders.forEach((function(t){t.cache={},"function"==typeof t.on&&(t.on("update",(function(n,r){t.cache[n]=null,e.emit("update",n,r,t)})),t.on("load",(function(n,r){e.emit("load",n,r,t)})))}))},n.invalidateCache=function(){this.loaders.forEach((function(e){e.cache={}}))},n.addExtension=function(e,t){return t.__name=e,this.extensions[e]=t,this.extensionsList.push(t),this},n.removeExtension=function(e){var t=this.getExtension(e);t&&(this.extensionsList=a.without(this.extensionsList,t),delete this.extensions[e])},n.getExtension=function(e){return this.extensions[e]},n.hasExtension=function(e){return!!this.extensions[e]},n.addGlobal=function(e,t){return this.globals[e]=t,this},n.getGlobal=function(e){if(void 0===this.globals[e])throw new Error("global not found: "+e);return this.globals[e]},n.addFilter=function(e,t,n){var r=t;return n&&this.asyncFilters.push(e),this.filters[e]=r,this},n.getFilter=function(e){if(!this.filters[e])throw new Error("filter not found: "+e);return this.filters[e]},n.addTest=function(e,t){return this.tests[e]=t,this},n.getTest=function(e){if(!this.tests[e])throw new Error("test not found: "+e);return this.tests[e]},n.resolveTemplate=function(e,t,n){return e.isRelative&&t&&e.isRelative(n)&&e.resolve?e.resolve(t,n):n},n.getTemplate=function(e,t,n,r,i){var o,s=this,u=this,c=null;if(e&&e.raw&&(e=e.raw),a.isFunction(n)&&(i=n,n=null,t=t||!1),a.isFunction(t)&&(i=t,t=!1),e instanceof A)c=e;else{if("string"!=typeof e)throw new Error("template names must be a string: "+e);for(var l=0;l<this.loaders.length;l++){var h=this.loaders[l];if(c=h.cache[this.resolveTemplate(h,n,e)])break}}return c?(t&&c.compile(),i?void i(null,c):c):(a.asyncIter(this.loaders,(function(t,r,i,o){function s(e,n){e?o(e):n?(n.loader=t,o(null,n)):i()}e=u.resolveTemplate(t,n,e),t.async?t.getSource(e,s):s(null,t.getSource(e))}),(function(n,a){if(a||n||r||(n=new Error("template not found: "+e)),n){if(i)return void i(n);throw n}var u;a?(u=new A(a.src,s,a.path,t),a.noCache||(a.loader.cache[e]=u)):u=new A(E,s,"",t),i?i(null,u):o=u})),o)},n.express=function(e){return x(this,e)},n.render=function(e,t,n){a.isFunction(t)&&(n=t,t=null);var r=null;return this.getTemplate(e,(function(e,i){if(e&&n)k(n,e);else{if(e)throw e;r=i.render(t,n)}})),r},n.renderString=function(e,t,n,r){return a.isFunction(n)&&(r=n,n={}),new A(e,this,(n=n||{}).path).render(t,r)},n.waterfall=function(e,t,n){return s(e,t,n)},t}(g),T=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.init=function(e,t,n){var r=this;this.env=n||new S,this.ctx=a.extend({},e),this.blocks={},this.exported=[],a.keys(t).forEach((function(e){r.addBlock(e,t[e])}))},n.lookup=function(e){return e in this.env.globals&&!(e in this.ctx)?this.env.globals[e]:this.ctx[e]},n.setVariable=function(e,t){this.ctx[e]=t},n.getVariables=function(){return this.ctx},n.addBlock=function(e,t){return this.blocks[e]=this.blocks[e]||[],this.blocks[e].push(t),this},n.getBlock=function(e){if(!this.blocks[e])throw new Error('unknown block "'+e+'"');return this.blocks[e][0]},n.getSuper=function(e,t,n,r,i,o){var s=a.indexOf(this.blocks[t]||[],n),u=this.blocks[t][s+1];if(-1===s||!u)throw new Error('no super block available for "'+t+'"');u(e,this,r,i,o)},n.addExport=function(e){this.exported.push(e)},n.getExported=function(){var e=this,t={};return this.exported.forEach((function(n){t[n]=e.ctx[n]})),t},t}(v),A=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.init=function(e,t,n,r){if(this.env=t||new S,a.isObject(e))switch(e.type){case"code":this.tmplProps=e.obj;break;case"string":this.tmplStr=e.obj;break;default:throw new Error("Unexpected template object type "+e.type+"; expected 'code', or 'string'")}else{if(!a.isString(e))throw new Error("src must be a string or an object describing the source");this.tmplStr=e}if(this.path=n,r)try{this._compile()}catch(e){throw a._prettifyError(this.path,this.env.opts.dev,e)}else this.compiled=!1},n.render=function(e,t,n){var r=this;"function"==typeof e?(n=e,e={}):"function"==typeof t&&(n=t,t=null);var i=!t;try{this.compile()}catch(e){var o=a._prettifyError(this.path,this.env.opts.dev,e);if(n)return k(n,o);throw o}var s=new T(e||{},this.blocks,this.env),u=t?t.push(!0):new w;u.topLevel=!0;var c=null,l=!1;return this.rootRenderFunc(this.env,s,u,_,(function(e,t){if(!l||!n||void 0===t)if(e&&(e=a._prettifyError(r.path,r.env.opts.dev,e),l=!0),n)i?k(n,e,t):n(e,t);else{if(e)throw e;c=t}})),c},n.getExported=function(e,t,n){"function"==typeof e&&(n=e,e={}),"function"==typeof t&&(n=t,t=null);try{this.compile()}catch(e){if(n)return n(e);throw e}var r=t?t.push():new w;r.topLevel=!0;var i=new T(e||{},this.blocks,this.env);this.rootRenderFunc(this.env,i,r,_,(function(e){e?n(e,null):n(null,i.getExported())}))},n.compile=function(){this.compiled||this._compile()},n._compile=function(){var e;if(this.tmplProps)e=this.tmplProps;else{var t=u.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);e=new Function(t)()}this.blocks=this._getBlocks(e),this.rootRenderFunc=e.root,this.compiled=!0},n._getBlocks=function(e){var t={};return a.keys(e).forEach((function(n){"b_"===n.slice(0,2)&&(t[n.slice(2)]=e[n])})),t},t}(v);e.exports={Environment:S,Template:A}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(9),o=n(3),s=n(1).Obj,a=n(0),u=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var u=s.prototype;return u.init=function(e){this.tokens=e,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},u.nextToken=function(e){var t;if(this.peeked){if(e||this.peeked.type!==i.TOKEN_WHITESPACE)return t=this.peeked,this.peeked=null,t;this.peeked=null}if(t=this.tokens.nextToken(),!e)for(;t&&t.type===i.TOKEN_WHITESPACE;)t=this.tokens.nextToken();return t},u.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},u.pushToken=function(e){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=e},u.error=function(e,t,n){if(void 0===t||void 0===n){var r=this.peekToken()||{};t=r.lineno,n=r.colno}return void 0!==t&&(t+=1),void 0!==n&&(n+=1),new a.TemplateError(e,t,n)},u.fail=function(e,t,n){throw this.error(e,t,n)},u.skip=function(e){var t=this.nextToken();return!(!t||t.type!==e)||(this.pushToken(t),!1)},u.expect=function(e){var t=this.nextToken();return t.type!==e&&this.fail("expected "+e+", got "+t.type,t.lineno,t.colno),t},u.skipValue=function(e,t){var n=this.nextToken();return!(!n||n.type!==e||n.value!==t)||(this.pushToken(n),!1)},u.skipSymbol=function(e){return this.skipValue(i.TOKEN_SYMBOL,e)},u.advanceAfterBlockEnd=function(e){var t;return e||((t=this.peekToken())||this.fail("unexpected end of file"),t.type!==i.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),e=this.nextToken().value),(t=this.nextToken())&&t.type===i.TOKEN_BLOCK_END?"-"===t.value.charAt(0)&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+e+" statement"),t},u.advanceAfterVariableEnd=function(){var e=this.nextToken();e&&e.type===i.TOKEN_VARIABLE_END?this.dropLeadingWhitespace="-"===e.value.charAt(e.value.length-this.tokens.tags.VARIABLE_END.length-1):(this.pushToken(e),this.fail("expected variable end"))},u.parseFor=function(){var e,t,n=this.peekToken();if(this.skipSymbol("for")?(e=new o.For(n.lineno,n.colno),t="endfor"):this.skipSymbol("asyncEach")?(e=new o.AsyncEach(n.lineno,n.colno),t="endeach"):this.skipSymbol("asyncAll")?(e=new o.AsyncAll(n.lineno,n.colno),t="endall"):this.fail("parseFor: expected for{Async}",n.lineno,n.colno),e.name=this.parsePrimary(),e.name instanceof o.Symbol||this.fail("parseFor: variable name expected for loop"),this.peekToken().type===i.TOKEN_COMMA){var r=e.name;for(e.name=new o.Array(r.lineno,r.colno),e.name.addChild(r);this.skip(i.TOKEN_COMMA);){var s=this.parsePrimary();e.name.addChild(s)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',n.lineno,n.colno),e.arr=this.parseExpression(),this.advanceAfterBlockEnd(n.value),e.body=this.parseUntilBlocks(t,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),e.else_=this.parseUntilBlocks(t)),this.advanceAfterBlockEnd(),e},u.parseMacro=function(){var e=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var t=this.parsePrimary(!0),n=this.parseSignature(),r=new o.Macro(e.lineno,e.colno,t,n);return this.advanceAfterBlockEnd(e.value),r.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),r},u.parseCall=function(){var e=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var t=this.parseSignature(!0)||new o.NodeList,n=this.parsePrimary();this.advanceAfterBlockEnd(e.value);var r=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var i=new o.Symbol(e.lineno,e.colno,"caller"),s=new o.Caller(e.lineno,e.colno,i,t,r),a=n.args.children;return a[a.length-1]instanceof o.KeywordArgs||a.push(new o.KeywordArgs),a[a.length-1].addChild(new o.Pair(e.lineno,e.colno,i,s)),new o.Output(e.lineno,e.colno,[n])},u.parseWithContext=function(){var e=this.peekToken(),t=null;return this.skipSymbol("with")?t=!0:this.skipSymbol("without")&&(t=!1),null!==t&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",e.lineno,e.colno)),t},u.parseImport=function(){var e=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",e.lineno,e.colno);var t=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',e.lineno,e.colno);var n=this.parseExpression(),r=this.parseWithContext(),i=new o.Import(e.lineno,e.colno,t,n,r);return this.advanceAfterBlockEnd(e.value),i},u.parseFrom=function(){var e=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var t=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",e.lineno,e.colno);for(var n,r=new o.NodeList;;){var s=this.peekToken();if(s.type===i.TOKEN_BLOCK_END){r.children.length||this.fail("parseFrom: Expected at least one import name",e.lineno,e.colno),"-"===s.value.charAt(0)&&(this.dropLeadingWhitespace=!0),this.nextToken();break}r.children.length>0&&!this.skip(i.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",e.lineno,e.colno);var a=this.parsePrimary();if("_"===a.value.charAt(0)&&this.fail("parseFrom: names starting with an underscore cannot be imported",a.lineno,a.colno),this.skipSymbol("as")){var u=this.parsePrimary();r.addChild(new o.Pair(a.lineno,a.colno,a,u))}else r.addChild(a);n=this.parseWithContext()}return new o.FromImport(e.lineno,e.colno,t,r,n)},u.parseBlock=function(){var e=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",e.lineno,e.colno);var t=new o.Block(e.lineno,e.colno);t.name=this.parsePrimary(),t.name instanceof o.Symbol||this.fail("parseBlock: variable name expected",e.lineno,e.colno),this.advanceAfterBlockEnd(e.value),t.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(t.name.value);var n=this.peekToken();return n||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(n.value),t},u.parseExtends=function(){var e="extends",t=this.peekToken();this.skipSymbol(e)||this.fail("parseTemplateRef: expected "+e);var n=new o.Extends(t.lineno,t.colno);return n.template=this.parseExpression(),this.advanceAfterBlockEnd(t.value),n},u.parseInclude=function(){var e="include",t=this.peekToken();this.skipSymbol(e)||this.fail("parseInclude: expected "+e);var n=new o.Include(t.lineno,t.colno);return n.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(n.ignoreMissing=!0),this.advanceAfterBlockEnd(t.value),n},u.parseIf=function(){var e,t=this.peekToken();this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?e=new o.If(t.lineno,t.colno):this.skipSymbol("ifAsync")?e=new o.IfAsync(t.lineno,t.colno):this.fail("parseIf: expected if, elif, or elseif",t.lineno,t.colno),e.cond=this.parseExpression(),this.advanceAfterBlockEnd(t.value),e.body=this.parseUntilBlocks("elif","elseif","else","endif");var n=this.peekToken();switch(n&&n.value){case"elseif":case"elif":e.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),e.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":e.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return e},u.parseSet=function(){var e=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",e.lineno,e.colno);for(var t,n=new o.Set(e.lineno,e.colno,[]);(t=this.parsePrimary())&&(n.targets.push(t),this.skip(i.TOKEN_COMMA)););return this.skipValue(i.TOKEN_OPERATOR,"=")?(n.value=this.parseExpression(),this.advanceAfterBlockEnd(e.value)):this.skip(i.TOKEN_BLOCK_END)?(n.body=new o.Capture(e.lineno,e.colno,this.parseUntilBlocks("endset")),n.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",e.lineno,e.colno),n},u.parseSwitch=function(){var e="switch",t="endswitch",n="case",r="default",i=this.peekToken();this.skipSymbol(e)||this.skipSymbol(n)||this.skipSymbol(r)||this.fail('parseSwitch: expected "switch," "case" or "default"',i.lineno,i.colno);var s=this.parseExpression();this.advanceAfterBlockEnd(e),this.parseUntilBlocks(n,r,t);var a,u=this.peekToken(),c=[];do{this.skipSymbol(n);var l=this.parseExpression();this.advanceAfterBlockEnd(e);var h=this.parseUntilBlocks(n,r,t);c.push(new o.Case(u.line,u.col,l,h)),u=this.peekToken()}while(u&&u.value===n);switch(u.value){case r:this.advanceAfterBlockEnd(),a=this.parseUntilBlocks(t),this.advanceAfterBlockEnd();break;case t:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new o.Switch(i.lineno,i.colno,s,c,a)},u.parseStatement=function(){var e=this.peekToken();if(e.type!==i.TOKEN_SYMBOL&&this.fail("tag name expected",e.lineno,e.colno),this.breakOnBlocks&&-1!==a.indexOf(this.breakOnBlocks,e.value))return null;switch(e.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var t=0;t<this.extensions.length;t++){var n=this.extensions[t];if(-1!==a.indexOf(n.tags||[],e.value))return n.parse(this,o,i)}this.fail("unknown block tag: "+e.value,e.lineno,e.colno)}},u.parseRaw=function(e){for(var t="end"+(e=e||"raw"),n=new RegExp("([\\s\\S]*?){%\\s*("+e+"|"+t+")\\s*(?=%})%}"),r=1,i="",s=null,a=this.advanceAfterBlockEnd();(s=this.tokens._extractRegex(n))&&r>0;){var u=s[0],c=s[1],l=s[2];l===e?r+=1:l===t&&(r-=1),0===r?(i+=c,this.tokens.backN(u.length-c.length)):i+=u}return new o.Output(a.lineno,a.colno,[new o.TemplateData(a.lineno,a.colno,i)])},u.parsePostfix=function(e){for(var t,n=this.peekToken();n;){if(n.type===i.TOKEN_LEFT_PAREN)e=new o.FunCall(n.lineno,n.colno,e,this.parseSignature());else if(n.type===i.TOKEN_LEFT_BRACKET)(t=this.parseAggregate()).children.length>1&&this.fail("invalid index"),e=new o.LookupVal(n.lineno,n.colno,e,t.children[0]);else{if(n.type!==i.TOKEN_OPERATOR||"."!==n.value)break;this.nextToken();var r=this.nextToken();r.type!==i.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+r.value,r.lineno,r.colno),t=new o.Literal(r.lineno,r.colno,r.value),e=new o.LookupVal(n.lineno,n.colno,e,t)}n=this.peekToken()}return e},u.parseExpression=function(){return this.parseInlineIf()},u.parseInlineIf=function(){var e=this.parseOr();if(this.skipSymbol("if")){var t=this.parseOr(),n=e;(e=new o.InlineIf(e.lineno,e.colno)).body=n,e.cond=t,this.skipSymbol("else")?e.else_=this.parseOr():e.else_=null}return e},u.parseOr=function(){for(var e=this.parseAnd();this.skipSymbol("or");){var t=this.parseAnd();e=new o.Or(e.lineno,e.colno,e,t)}return e},u.parseAnd=function(){for(var e=this.parseNot();this.skipSymbol("and");){var t=this.parseNot();e=new o.And(e.lineno,e.colno,e,t)}return e},u.parseNot=function(){var e=this.peekToken();return this.skipSymbol("not")?new o.Not(e.lineno,e.colno,this.parseNot()):this.parseIn()},u.parseIn=function(){for(var e=this.parseIs();;){var t=this.nextToken();if(!t)break;var n=t.type===i.TOKEN_SYMBOL&&"not"===t.value;if(n||this.pushToken(t),!this.skipSymbol("in")){n&&this.pushToken(t);break}var r=this.parseIs();e=new o.In(e.lineno,e.colno,e,r),n&&(e=new o.Not(e.lineno,e.colno,e))}return e},u.parseIs=function(){var e=this.parseCompare();if(this.skipSymbol("is")){var t=this.skipSymbol("not"),n=this.parseCompare();e=new o.Is(e.lineno,e.colno,e,n),t&&(e=new o.Not(e.lineno,e.colno,e))}return e},u.parseCompare=function(){for(var e=["==","===","!=","!==","<",">","<=",">="],t=this.parseConcat(),n=[];;){var r=this.nextToken();if(!r)break;if(-1===e.indexOf(r.value)){this.pushToken(r);break}n.push(new o.CompareOperand(r.lineno,r.colno,this.parseConcat(),r.value))}return n.length?new o.Compare(n[0].lineno,n[0].colno,t,n):t},u.parseConcat=function(){for(var e=this.parseAdd();this.skipValue(i.TOKEN_TILDE,"~");){var t=this.parseAdd();e=new o.Concat(e.lineno,e.colno,e,t)}return e},u.parseAdd=function(){for(var e=this.parseSub();this.skipValue(i.TOKEN_OPERATOR,"+");){var t=this.parseSub();e=new o.Add(e.lineno,e.colno,e,t)}return e},u.parseSub=function(){for(var e=this.parseMul();this.skipValue(i.TOKEN_OPERATOR,"-");){var t=this.parseMul();e=new o.Sub(e.lineno,e.colno,e,t)}return e},u.parseMul=function(){for(var e=this.parseDiv();this.skipValue(i.TOKEN_OPERATOR,"*");){var t=this.parseDiv();e=new o.Mul(e.lineno,e.colno,e,t)}return e},u.parseDiv=function(){for(var e=this.parseFloorDiv();this.skipValue(i.TOKEN_OPERATOR,"/");){var t=this.parseFloorDiv();e=new o.Div(e.lineno,e.colno,e,t)}return e},u.parseFloorDiv=function(){for(var e=this.parseMod();this.skipValue(i.TOKEN_OPERATOR,"//");){var t=this.parseMod();e=new o.FloorDiv(e.lineno,e.colno,e,t)}return e},u.parseMod=function(){for(var e=this.parsePow();this.skipValue(i.TOKEN_OPERATOR,"%");){var t=this.parsePow();e=new o.Mod(e.lineno,e.colno,e,t)}return e},u.parsePow=function(){for(var e=this.parseUnary();this.skipValue(i.TOKEN_OPERATOR,"**");){var t=this.parseUnary();e=new o.Pow(e.lineno,e.colno,e,t)}return e},u.parseUnary=function(e){var t,n=this.peekToken();return t=this.skipValue(i.TOKEN_OPERATOR,"-")?new o.Neg(n.lineno,n.colno,this.parseUnary(!0)):this.skipValue(i.TOKEN_OPERATOR,"+")?new o.Pos(n.lineno,n.colno,this.parseUnary(!0)):this.parsePrimary(),e||(t=this.parseFilter(t)),t},u.parsePrimary=function(e){var t,n=this.nextToken(),r=null;if(n?n.type===i.TOKEN_STRING?t=n.value:n.type===i.TOKEN_INT?t=parseInt(n.value,10):n.type===i.TOKEN_FLOAT?t=parseFloat(n.value):n.type===i.TOKEN_BOOLEAN?"true"===n.value?t=!0:"false"===n.value?t=!1:this.fail("invalid boolean: "+n.value,n.lineno,n.colno):n.type===i.TOKEN_NONE?t=null:n.type===i.TOKEN_REGEX&&(t=new RegExp(n.value.body,n.value.flags)):this.fail("expected expression, got end of file"),void 0!==t?r=new o.Literal(n.lineno,n.colno,t):n.type===i.TOKEN_SYMBOL?r=new o.Symbol(n.lineno,n.colno,n.value):(this.pushToken(n),r=this.parseAggregate()),e||(r=this.parsePostfix(r)),r)return r;throw this.error("unexpected token: "+n.value,n.lineno,n.colno)},u.parseFilterName=function(){for(var e=this.expect(i.TOKEN_SYMBOL),t=e.value;this.skipValue(i.TOKEN_OPERATOR,".");)t+="."+this.expect(i.TOKEN_SYMBOL).value;return new o.Symbol(e.lineno,e.colno,t)},u.parseFilterArgs=function(e){return this.peekToken().type===i.TOKEN_LEFT_PAREN?this.parsePostfix(e).args.children:[]},u.parseFilter=function(e){for(;this.skip(i.TOKEN_PIPE);){var t=this.parseFilterName();e=new o.Filter(t.lineno,t.colno,t,new o.NodeList(t.lineno,t.colno,[e].concat(this.parseFilterArgs(e))))}return e},u.parseFilterStatement=function(){var e=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var t=this.parseFilterName(),n=this.parseFilterArgs(t);this.advanceAfterBlockEnd(e.value);var r=new o.Capture(t.lineno,t.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var i=new o.Filter(t.lineno,t.colno,t,new o.NodeList(t.lineno,t.colno,[r].concat(n)));return new o.Output(t.lineno,t.colno,[i])},u.parseAggregate=function(){var e,t=this.nextToken();switch(t.type){case i.TOKEN_LEFT_PAREN:e=new o.Group(t.lineno,t.colno);break;case i.TOKEN_LEFT_BRACKET:e=new o.Array(t.lineno,t.colno);break;case i.TOKEN_LEFT_CURLY:e=new o.Dict(t.lineno,t.colno);break;default:return null}for(;;){var n=this.peekToken().type;if(n===i.TOKEN_RIGHT_PAREN||n===i.TOKEN_RIGHT_BRACKET||n===i.TOKEN_RIGHT_CURLY){this.nextToken();break}if(e.children.length>0&&(this.skip(i.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",t.lineno,t.colno)),e instanceof o.Dict){var r=this.parsePrimary();this.skip(i.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",t.lineno,t.colno);var s=this.parseExpression();e.addChild(new o.Pair(r.lineno,r.colno,r,s))}else{var a=this.parseExpression();e.addChild(a)}}return e},u.parseSignature=function(e,t){var n=this.peekToken();if(!t&&n.type!==i.TOKEN_LEFT_PAREN){if(e)return null;this.fail("expected arguments",n.lineno,n.colno)}n.type===i.TOKEN_LEFT_PAREN&&(n=this.nextToken());for(var r=new o.NodeList(n.lineno,n.colno),s=new o.KeywordArgs(n.lineno,n.colno),a=!1;;){if(n=this.peekToken(),!t&&n.type===i.TOKEN_RIGHT_PAREN){this.nextToken();break}if(t&&n.type===i.TOKEN_BLOCK_END)break;if(a&&!this.skip(i.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",n.lineno,n.colno);else{var u=this.parseExpression();this.skipValue(i.TOKEN_OPERATOR,"=")?s.addChild(new o.Pair(u.lineno,u.colno,u,this.parseExpression())):r.addChild(u)}a=!0}return s.children.length&&r.addChild(s),r},u.parseUntilBlocks=function(){for(var e=this.breakOnBlocks,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.breakOnBlocks=n;var i=this.parse();return this.breakOnBlocks=e,i},u.parseNodes=function(){for(var e,t=[];e=this.nextToken();)if(e.type===i.TOKEN_DATA){var n=e.value,r=this.peekToken(),s=r&&r.value;this.dropLeadingWhitespace&&(n=n.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),r&&(r.type===i.TOKEN_BLOCK_START&&"-"===s.charAt(s.length-1)||r.type===i.TOKEN_VARIABLE_START&&"-"===s.charAt(this.tokens.tags.VARIABLE_START.length)||r.type===i.TOKEN_COMMENT&&"-"===s.charAt(this.tokens.tags.COMMENT_START.length))&&(n=n.replace(/\s*$/,"")),t.push(new o.Output(e.lineno,e.colno,[new o.TemplateData(e.lineno,e.colno,n)]))}else if(e.type===i.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var a=this.parseStatement();if(!a)break;t.push(a)}else if(e.type===i.TOKEN_VARIABLE_START){var u=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),t.push(new o.Output(e.lineno,e.colno,[u]))}else e.type===i.TOKEN_COMMENT?this.dropLeadingWhitespace="-"===e.value.charAt(e.value.length-this.tokens.tags.COMMENT_END.length-1):this.fail("Unexpected token at top-level: "+e.type,e.lineno,e.colno);return t},u.parse=function(){return new o.NodeList(0,0,this.parseNodes())},u.parseAsRoot=function(){return new o.Root(0,0,this.parseNodes())},s}(s);e.exports={parse:function(e,t,n){var r=new u(i.lex(e,n));return void 0!==t&&(r.extensions=t),r.parseAsRoot()},Parser:u}},function(e,t,n){"use strict";var r=n(0),i=" \n\t\r ",o="()[]{}%*-+~/#,:|.<>=!",s="string",a="whitespace",u="data",c="block-start",l="block-end",h="variable-start",f="variable-end",p="comment",d="left-paren",m="right-paren",y="left-bracket",v="right-bracket",g="left-curly",_="right-curly",b="operator",w="comma",x="colon",k="tilde",E="pipe",S="float",T="boolean",A="none",O="symbol",N="regex";function P(e,t,n,r){return{type:e,value:t,lineno:n,colno:r}}var C=function(){function e(e,t){this.str=e,this.index=0,this.len=e.length,this.lineno=0,this.colno=0,this.in_code=!1;var n=(t=t||{}).tags||{};this.tags={BLOCK_START:n.blockStart||"{%",BLOCK_END:n.blockEnd||"%}",VARIABLE_START:n.variableStart||"{{",VARIABLE_END:n.variableEnd||"}}",COMMENT_START:n.commentStart||"{#",COMMENT_END:n.commentEnd||"#}"},this.trimBlocks=!!t.trimBlocks,this.lstripBlocks=!!t.lstripBlocks}var t=e.prototype;return t.nextToken=function(){var e,t=this.lineno,n=this.colno;if(this.in_code){var C=this.current();if(this.isFinished())return null;if('"'===C||"'"===C)return P(s,this._parseString(C),t,n);if(e=this._extract(i))return P(a,e,t,n);if((e=this._extractString(this.tags.BLOCK_END))||(e=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&("\n"===(C=this.current())?this.forward():"\r"===C&&(this.forward(),"\n"===(C=this.current())?this.forward():this.back())),P(l,e,t,n);if((e=this._extractString(this.tags.VARIABLE_END))||(e=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,P(f,e,t,n);if("r"===C&&"/"===this.str.charAt(this.index+1)){this.forwardN(2);for(var R="";!this.isFinished();){if("/"===this.current()&&"\\"!==this.previous()){this.forward();break}R+=this.current(),this.forward()}for(var L=["g","i","m","y"],I="";!this.isFinished()&&-1!==L.indexOf(this.current());)I+=this.current(),this.forward();return P(N,{body:R,flags:I},t,n)}if(-1!==o.indexOf(C)){this.forward();var D,M=["==","===","!=","!==","<=",">=","//","**"],j=C+this.current();switch(-1!==r.indexOf(M,j)&&(this.forward(),C=j,-1!==r.indexOf(M,j+this.current())&&(C=j+this.current(),this.forward())),C){case"(":D=d;break;case")":D=m;break;case"[":D=y;break;case"]":D=v;break;case"{":D=g;break;case"}":D=_;break;case",":D=w;break;case":":D=x;break;case"~":D=k;break;case"|":D=E;break;default:D=b}return P(D,C,t,n)}if((e=this._extractUntil(i+o)).match(/^[-+]?[0-9]+$/)){if("."===this.current()){this.forward();var F=this._extract("0123456789");return P(S,e+"."+F,t,n)}return P("int",e,t,n)}if(e.match(/^(true|false)$/))return P(T,e,t,n);if("none"===e)return P(A,e,t,n);if("null"===e)return P(A,e,t,n);if(e)return P(O,e,t,n);throw new Error("Unexpected value while parsing: "+e)}var B,U=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((e=this._extractString(this.tags.BLOCK_START+"-"))||(e=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,P(c,e,t,n);if((e=this._extractString(this.tags.VARIABLE_START+"-"))||(e=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,P(h,e,t,n);e="";var z=!1;for(this._matches(this.tags.COMMENT_START)&&(z=!0,e=this._extractString(this.tags.COMMENT_START));null!==(B=this._extractUntil(U));){if(e+=B,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!z){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=e.length){var V=e.slice(-this.colno);if(/^\s+$/.test(V)&&!(e=e.slice(0,-this.colno)).length)return this.nextToken()}break}if(this._matches(this.tags.COMMENT_END)){if(!z)throw new Error("unexpected end of comment");e+=this._extractString(this.tags.COMMENT_END);break}e+=this.current(),this.forward()}if(null===B&&z)throw new Error("expected end of comment, got end of file");return P(z?p:u,e,t,n)},t._parseString=function(e){this.forward();for(var t="";!this.isFinished()&&this.current()!==e;){var n=this.current();if("\\"===n){switch(this.forward(),this.current()){case"n":t+="\n";break;case"t":t+="\t";break;case"r":t+="\r";break;default:t+=this.current()}this.forward()}else t+=n,this.forward()}return this.forward(),t},t._matches=function(e){return this.index+e.length>this.len?null:this.str.slice(this.index,this.index+e.length)===e},t._extractString=function(e){return this._matches(e)?(this.forwardN(e.length),e):null},t._extractUntil=function(e){return this._extractMatching(!0,e||"")},t._extract=function(e){return this._extractMatching(!1,e)},t._extractMatching=function(e,t){if(this.isFinished())return null;var n=t.indexOf(this.current());if(e&&-1===n||!e&&-1!==n){var r=this.current();this.forward();for(var i=t.indexOf(this.current());(e&&-1===i||!e&&-1!==i)&&!this.isFinished();)r+=this.current(),this.forward(),i=t.indexOf(this.current());return r}return""},t._extractRegex=function(e){var t=this.currentStr().match(e);return t?(this.forwardN(t[0].length),t):null},t.isFinished=function(){return this.index>=this.len},t.forwardN=function(e){for(var t=0;t<e;t++)this.forward()},t.forward=function(){this.index++,"\n"===this.previous()?(this.lineno++,this.colno=0):this.colno++},t.backN=function(e){for(var t=0;t<e;t++)this.back()},t.back=function(){if(this.index--,"\n"===this.current()){this.lineno--;var e=this.src.lastIndexOf("\n",this.index-1);this.colno=-1===e?this.index:this.index-e}else this.colno--},t.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},t.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},t.previous=function(){return this.str.charAt(this.index-1)},e}();e.exports={lex:function(e,t){return new C(e,t)},TOKEN_STRING:s,TOKEN_WHITESPACE:a,TOKEN_DATA:u,TOKEN_BLOCK_START:c,TOKEN_BLOCK_END:l,TOKEN_VARIABLE_START:h,TOKEN_VARIABLE_END:f,TOKEN_COMMENT:p,TOKEN_LEFT_PAREN:d,TOKEN_RIGHT_PAREN:m,TOKEN_LEFT_BRACKET:y,TOKEN_RIGHT_BRACKET:v,TOKEN_LEFT_CURLY:g,TOKEN_RIGHT_CURLY:_,TOKEN_OPERATOR:b,TOKEN_COMMA:w,TOKEN_COLON:x,TOKEN_TILDE:k,TOKEN_PIPE:E,TOKEN_INT:"int",TOKEN_FLOAT:S,TOKEN_BOOLEAN:T,TOKEN_NONE:A,TOKEN_SYMBOL:O,TOKEN_SPECIAL:"special",TOKEN_REGEX:N}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(6),o=n(19).PrecompiledLoader,s=function(e){var t,n;function i(t,n){var r;return(r=e.call(this)||this).baseURL=t||".",n=n||{},r.useCache=!!n.useCache,r.async=!!n.async,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var o=i.prototype;return o.resolve=function(e,t){throw new Error("relative templates not support in the browser yet")},o.getSource=function(e,t){var n,r=this,i=this.useCache;return this.fetch(this.baseURL+"/"+e,(function(o,s){if(o)if(t)t(o.content);else{if(404!==o.status)throw o.content;n=null}else n={src:s,path:e,noCache:!i},r.emit("load",e,n),t&&t(null,n)})),n},o.fetch=function(e,t){if("undefined"==typeof window)throw new Error("WebLoader can only by used in a browser");var n=new XMLHttpRequest,r=!0;n.onreadystatechange=function(){4===n.readyState&&r&&(r=!1,0===n.status||200===n.status?t(null,n.responseText):t({status:n.status,content:n.responseText}))},e+=(-1===e.indexOf("?")?"?":"&")+"s="+(new Date).getTime(),n.open("GET",e,this.async),n.send()},i}(i);e.exports={WebLoader:s,PrecompiledLoader:o}},function(e,t,n){"use strict";var r,i=n(0),o=n(7),s=o.Environment,a=o.Template,u=n(6),c=n(10),l=n(23),h=n(5),f=n(8),p=n(9),d=n(2),m=n(3),y=n(25);function v(e,t){var n;return t=t||{},i.isObject(e)&&(t=e,e=null),c.FileSystemLoader?n=new c.FileSystemLoader(e,{watch:t.watch,noCache:t.noCache}):c.WebLoader&&(n=new c.WebLoader(e,{useCache:t.web&&t.web.useCache,async:t.web&&t.web.async})),r=new s(n,t),t&&t.express&&r.express(t.express),r}e.exports={Environment:s,Template:a,Loader:u,FileSystemLoader:c.FileSystemLoader,NodeResolveLoader:c.NodeResolveLoader,PrecompiledLoader:c.PrecompiledLoader,WebLoader:c.WebLoader,compiler:h,parser:f,lexer:p,runtime:d,lib:i,nodes:m,installJinjaCompat:y,configure:v,reset:function(){r=void 0},compile:function(e,t,n,i){return r||v(),new a(e,t,n,i)},render:function(e,t,n){return r||v(),r.render(e,t,n)},renderString:function(e,t,n){return r||v(),r.renderString(e,t,n)},precompile:l?l.precompile:void 0,precompileString:l?l.precompileString:void 0}},function(e,t,n){"use strict";var r=n(13),i=[],o=[],s=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function a(e){var t;(t=i.length?i.pop():new u).task=e,r(t)}function u(){this.task=null}e.exports=a,u.prototype.call=function(){try{this.task.call()}catch(e){a.onerror?a.onerror(e):(o.push(e),s())}finally{this.task=null,i[i.length]=this}}},function(e,t,n){"use strict";(function(t){function n(e){i.length||r(),i[i.length]=e}e.exports=n;var r,i=[],o=0;function s(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>1024){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0}var a,u,c,l=void 0!==t?t:self,h=l.MutationObserver||l.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof h?(a=1,u=new h(s),c=document.createTextNode(""),u.observe(c,{characterData:!0}),r=function(){a=-a,c.data=a}):r=f(s),n.requestFlush=r,n.makeRequestCallFromTimer=f}).call(t,n(14))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r;!function(n){"use strict";var i=function(){var e=Array.prototype.slice.call(arguments);"function"==typeof e[0]&&e[0].apply(null,e.splice(1))},o=function(e){"function"==typeof setImmediate?setImmediate(e):"undefined"!=typeof process&&process.nextTick?process.nextTick(e):setTimeout(e,0)},s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=function(e,t,n){var r=n?o:i;if(t=t||function(){},!s(e)){var a=new Error("First argument to waterfall must be an array of functions");return t(a)}if(!e.length)return t();var u=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=e.next();o?i.push(u(o)):i.push(t),r((function(){e.apply(null,i)}))}}};u(function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)}(e))()};void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=y(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(3),i=n(0),o=0;function s(){return"hole_"+o++}function a(e,t){for(var n=null,r=0;r<e.length;r++){var i=t(e[r]);i!==e[r]&&(n||(n=e.slice()),n[r]=i)}return n||e}function u(e,t,n){if(!(e instanceof r.Node))return e;if(!n){var i=t(e);if(i&&i!==e)return i}if(e instanceof r.NodeList){var o=a(e.children,(function(e){return u(e,t,n)}));o!==e.children&&(e=new r[e.typename](e.lineno,e.colno,o))}else if(e instanceof r.CallExtension){var s=u(e.args,t,n),c=a(e.contentArgs,(function(e){return u(e,t,n)}));s===e.args&&c===e.contentArgs||(e=new r[e.typename](e.extName,e.prop,s,c))}else{var l=e.fields.map((function(t){return e[t]})),h=a(l,(function(e){return u(e,t,n)}));h!==l&&(e=new r[e.typename](e.lineno,e.colno),h.forEach((function(t,n){e[e.fields[n]]=t})))}return n&&t(e)||e}function c(e,t){return u(e,t,!0)}function l(e,t,n){var o=[],a=c(n?e[n]:e,(function(e){var n;return e instanceof r.Block?e:((e instanceof r.Filter&&-1!==i.indexOf(t,e.name.value)||e instanceof r.CallExtensionAsync)&&(n=new r.Symbol(e.lineno,e.colno,s()),o.push(new r.FilterAsync(e.lineno,e.colno,e.name,e.args,n))),n)}));return n?e[n]=a:e=a,o.length?(o.push(e),new r.NodeList(e.lineno,e.colno,o)):e}e.exports={transform:function(e,t){return function(e,t){return function(e){return c(e,(function(e){if(e instanceof r.If||e instanceof r.For){var t=!1;if(u(e,(function(e){if(e instanceof r.FilterAsync||e instanceof r.IfAsync||e instanceof r.AsyncEach||e instanceof r.AsyncAll||e instanceof r.CallExtensionAsync)return t=!0,e})),t){if(e instanceof r.If)return new r.IfAsync(e.lineno,e.colno,e.cond,e.body,e.else_);if(e instanceof r.For&&!(e instanceof r.AsyncAll))return new r.AsyncEach(e.lineno,e.colno,e.arr,e.name,e.body,e.else_)}}}))}(function(e){return u(e,(function(e){if(e instanceof r.Block){var t=!1,n=s();e.body=u(e.body,(function(e){if(e instanceof r.FunCall&&"super"===e.name.value)return t=!0,new r.Symbol(e.lineno,e.colno,n)})),t&&e.body.children.unshift(new r.Super(0,0,e.name,new r.Symbol(0,0,n)))}}))}(function(e,t){return c(e,(function(e){return e instanceof r.Output?l(e,t):e instanceof r.Set?l(e,t,"value"):e instanceof r.For?l(e,t,"arr"):e instanceof r.If?l(e,t,"cond"):e instanceof r.CallExtension?l(e,t,"args"):void 0}))}(e,t)))}(e,t||[])}}},function(e,t,n){"use strict";var r=n(0),i=n(2);function o(e,t){return null==e||!1===e?t:e}function s(e){return e!=e}function a(e){var t=(e=o(e,"")).toLowerCase();return i.copySafeness(e,t.charAt(0).toUpperCase()+t.slice(1))}function u(e){if(r.isString(e))return e.split("");if(r.isObject(e))return r._entries(e||{}).map((function(e){return{key:e[0],value:e[1]}}));if(r.isArray(e))return e;throw new r.TemplateError("list filter: type not iterable")}function c(e){return function(t,n,i){void 0===n&&(n="truthy");var o=this,s=o.env.getTest(n);return r.toArray(t).filter((function(t){return s.call(o,t,i)===e}))}}function l(e){return i.copySafeness(e,e.replace(/^\s*|\s*$/g,""))}(t=e.exports={}).abs=Math.abs,t.batch=function(e,t,n){var r,i=[],o=[];for(r=0;r<e.length;r++)r%t==0&&o.length&&(i.push(o),o=[]),o.push(e[r]);if(o.length){if(n)for(r=o.length;r<t;r++)o.push(n);i.push(o)}return i},t.capitalize=a,t.center=function(e,t){if(t=t||80,(e=o(e,"")).length>=t)return e;var n=t-e.length,s=r.repeat(" ",n/2-n%2),a=r.repeat(" ",n/2);return i.copySafeness(e,s+e+a)},t.default=function(e,t,n){return n?e||t:void 0!==e?e:t},t.dictsort=function(e,t,n){if(!r.isObject(e))throw new r.TemplateError("dictsort filter: val must be an object");var i,o=[];for(var s in e)o.push([s,e[s]]);if(void 0===n||"key"===n)i=0;else{if("value"!==n)throw new r.TemplateError("dictsort filter: You can only sort by either key or value");i=1}return o.sort((function(e,n){var o=e[i],s=n[i];return t||(r.isString(o)&&(o=o.toUpperCase()),r.isString(s)&&(s=s.toUpperCase())),o>s?1:o===s?0:-1})),o},t.dump=function(e,t){return JSON.stringify(e,null,t)},t.escape=function(e){return e instanceof i.SafeString?e:(e=null==e?"":e,i.markSafe(r.escape(e.toString())))},t.safe=function(e){return e instanceof i.SafeString?e:(e=null==e?"":e,i.markSafe(e.toString()))},t.first=function(e){return e[0]},t.forceescape=function(e){return e=null==e?"":e,i.markSafe(r.escape(e.toString()))},t.groupby=function(e,t){return r.groupBy(e,t,this.env.opts.throwOnUndefined)},t.indent=function(e,t,n){if(""===(e=o(e,"")))return"";t=t||4;var s=e.split("\n"),a=r.repeat(" ",t),u=s.map((function(e,t){return 0!==t||n?""+a+e:e})).join("\n");return i.copySafeness(e,u)},t.join=function(e,t,n){return t=t||"",n&&(e=r.map(e,(function(e){return e[n]}))),e.join(t)},t.last=function(e){return e[e.length-1]},t.length=function(e){var t=o(e,"");return void 0!==t?"function"==typeof Map&&t instanceof Map||"function"==typeof Set&&t instanceof Set?t.size:!r.isObject(t)||t instanceof i.SafeString?t.length:r.keys(t).length:0},t.list=u,t.lower=function(e){return(e=o(e,"")).toLowerCase()},t.nl2br=function(e){return null==e?"":i.copySafeness(e,e.replace(/\r\n|\n/g,"<br />\n"))},t.random=function(e){return e[Math.floor(Math.random()*e.length)]},t.reject=c(!1),t.rejectattr=function(e,t){return e.filter((function(e){return!e[t]}))},t.select=c(!0),t.selectattr=function(e,t){return e.filter((function(e){return!!e[t]}))},t.replace=function(e,t,n,r){var o=e;if(t instanceof RegExp)return e.replace(t,n);void 0===r&&(r=-1);var s="";if("number"==typeof t)t=""+t;else if("string"!=typeof t)return e;if("number"==typeof e&&(e=""+e),"string"!=typeof e&&!(e instanceof i.SafeString))return e;if(""===t)return s=n+e.split("").join(n)+n,i.copySafeness(e,s);var a=e.indexOf(t);if(0===r||-1===a)return e;for(var u=0,c=0;a>-1&&(-1===r||c<r);)s+=e.substring(u,a)+n,u=a+t.length,c++,a=e.indexOf(t,u);return u<e.length&&(s+=e.substring(u)),i.copySafeness(o,s)},t.reverse=function(e){var t;return(t=r.isString(e)?u(e):r.map(e,(function(e){return e}))).reverse(),r.isString(e)?i.copySafeness(e,t.join("")):t},t.round=function(e,t,n){t=t||0;var r=Math.pow(10,t);return("ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round)(e*r)/r},t.slice=function(e,t,n){for(var r=Math.floor(e.length/t),i=e.length%t,o=[],s=0,a=0;a<t;a++){var u=s+a*r;a<i&&s++;var c=s+(a+1)*r,l=e.slice(u,c);n&&a>=i&&l.push(n),o.push(l)}return o},t.sum=function(e,t,n){return void 0===n&&(n=0),t&&(e=r.map(e,(function(e){return e[t]}))),n+e.reduce((function(e,t){return e+t}),0)},t.sort=i.makeMacro(["value","reverse","case_sensitive","attribute"],[],(function(e,t,n,i){var o=this,s=r.map(e,(function(e){return e})),a=r.getAttrGetter(i);return s.sort((function(e,s){var u=i?a(e):e,c=i?a(s):s;if(o.env.opts.throwOnUndefined&&i&&(void 0===u||void 0===c))throw new TypeError('sort: attribute "'+i+'" resolved to undefined');return!n&&r.isString(u)&&r.isString(c)&&(u=u.toLowerCase(),c=c.toLowerCase()),u<c?t?1:-1:u>c?t?-1:1:0})),s})),t.string=function(e){return i.copySafeness(e,e)},t.striptags=function(e,t){var n,r=l((e=o(e,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,""));return n=t?r.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):r.replace(/\s+/gi," "),i.copySafeness(e,n)},t.title=function(e){var t=(e=o(e,"")).split(" ").map((function(e){return a(e)}));return i.copySafeness(e,t.join(" "))},t.trim=l,t.truncate=function(e,t,n,r){var s=e;if(t=t||255,(e=o(e,"")).length<=t)return e;if(n)e=e.substring(0,t);else{var a=e.lastIndexOf(" ",t);-1===a&&(a=t),e=e.substring(0,a)}return e+=null!=r?r:"...",i.copySafeness(s,e)},t.upper=function(e){return(e=o(e,"")).toUpperCase()},t.urlencode=function(e){var t=encodeURIComponent;return r.isString(e)?t(e):(r.isArray(e)?e:r._entries(e)).map((function(e){var n=e[0],r=e[1];return t(n)+"="+t(r)})).join("&")};var h=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,f=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,p=/^https?:\/\/.*$/,d=/^www\./,m=/\.(?:org|net|com)(?:\:|\/|$)/;t.urlize=function(e,t,n){s(t)&&(t=1/0);var r=!0===n?' rel="nofollow"':"";return e.split(/(\s+)/).filter((function(e){return e&&e.length})).map((function(e){var n=e.match(h),i=n?n[1]:e,o=i.substr(0,t);return p.test(i)?'<a href="'+i+'"'+r+">"+o+"</a>":d.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":f.test(i)?'<a href="mailto:'+i+'">'+i+"</a>":m.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":e})).join("")},t.wordcount=function(e){var t=(e=o(e,""))?e.match(/\w+/g):null;return t?t.length:null},t.float=function(e,t){var n=parseFloat(e);return s(n)?t:n};var y=i.makeMacro(["value","default","base"],[],(function(e,t,n){void 0===n&&(n=10);var r=parseInt(e,n);return s(r)?t:r}));t.int=y,t.d=t.default,t.e=t.escape},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=function(e){var t,n;function i(t){var n;return(n=e.call(this)||this).precompiled=t||{},n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n),i.prototype.getSource=function(e){return this.precompiled[e]?{src:{type:"code",obj:this.precompiled[e]},path:e}:null},i}(n(6));e.exports={PrecompiledLoader:i}},function(e,t,n){"use strict";var r=n(2).SafeString;t.callable=function(e){return"function"==typeof e},t.defined=function(e){return void 0!==e},t.divisibleby=function(e,t){return e%t==0},t.escaped=function(e){return e instanceof r},t.equalto=function(e,t){return e===t},t.eq=t.equalto,t.sameas=t.equalto,t.even=function(e){return e%2==0},t.falsy=function(e){return!e},t.ge=function(e,t){return e>=t},t.greaterthan=function(e,t){return e>t},t.gt=t.greaterthan,t.le=function(e,t){return e<=t},t.lessthan=function(e,t){return e<t},t.lt=t.lessthan,t.lower=function(e){return e.toLowerCase()===e},t.ne=function(e,t){return e!==t},t.null=function(e){return null===e},t.number=function(e){return"number"==typeof e},t.odd=function(e){return e%2==1},t.string=function(e){return"string"==typeof e},t.truthy=function(e){return!!e},t.undefined=function(e){return void 0===e},t.upper=function(e){return e.toUpperCase()===e},t.iterable=function(e){return"undefined"!=typeof Symbol?!!e[Symbol.iterator]:Array.isArray(e)||"string"==typeof e},t.mapping=function(e){var t=null!=e&&"object"==typeof e&&!Array.isArray(e);return Set?t&&!(e instanceof Set):t}},function(e,t,n){"use strict";e.exports=function(){return{range:function(e,t,n){void 0===t?(t=e,e=0,n=1):n||(n=1);var r=[];if(n>0)for(var i=e;i<t;i+=n)r.push(i);else for(var o=e;o>t;o+=n)r.push(o);return r},cycler:function(){return e=Array.prototype.slice.call(arguments),t=-1,{current:null,reset:function(){t=-1,this.current=null},next:function(){return++t>=e.length&&(t=0),this.current=e[t],this.current}};var e,t},joiner:function(e){return function(e){e=e||",";var t=!0;return function(){var n=t?"":e;return t=!1,n}}(e)}}}},function(e,t,n){var r=n(4);e.exports=function(e,t){function n(e,t){if(this.name=e,this.path=e,this.defaultEngine=t.defaultEngine,this.ext=r.extname(e),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return n.prototype.render=function(t,n){e.render(this.name,t,n)},t.set("view",n),t.set("nunjucksEnv",e),e}},function(e,t,n){"use strict";var r=n(4),i=n(4),o=n(0)._prettifyError,s=n(5),a=n(7).Environment,u=n(24);function c(e,t){return!!Array.isArray(t)&&t.some((function(t){return e.match(t)}))}function l(e,t){(t=t||{}).isString=!0;var n=t.env||new a([]),r=t.wrapper||u;if(!t.name)throw new Error('the "name" option is required when compiling a string');return r([h(e,t.name,n)],t)}function h(e,t,n){var r,i=(n=n||new a([])).asyncFilters,u=n.extensionsList;t=t.replace(/\\/g,"/");try{r=s.compile(e,i,u,t,n.opts)}catch(e){throw o(t,!1,e)}return{name:t,template:r}}e.exports={precompile:function(e,t){var n=(t=t||{}).env||new a([]),o=t.wrapper||u;if(t.isString)return l(e,t);var s=r.existsSync(e)&&r.statSync(e),f=[],p=[];if(s.isFile())f.push(h(r.readFileSync(e,"utf-8"),t.name||e,n));else if(s.isDirectory()){!function n(o){r.readdirSync(o).forEach((function(s){var a=i.join(o,s),u=a.substr(i.join(e,"/").length),l=r.statSync(a);l&&l.isDirectory()?c(u+="/",t.exclude)||n(a):c(u,t.include)&&p.push(a)}))}(e);for(var d=0;d<p.length;d++){var m=p[d].replace(i.join(e,"/"),"");try{f.push(h(r.readFileSync(p[d],"utf-8"),m,n))}catch(e){if(!t.force)throw e;console.error(e)}}}return o(f,t)},precompileString:l}},function(e,t,n){"use strict";e.exports=function(e,t){var n="";t=t||{};for(var r=0;r<e.length;r++){var i=JSON.stringify(e[r].name);n+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+i+"] = (function() {\n"+e[r].template+"\n})();\n",t.asFunction&&(n+="return function(ctx, cb) { return nunjucks.render("+i+", ctx, cb); }\n"),n+="})();\n"}return n}},function(e,t,n){e.exports=function(){"use strict";var e,t,n=this.runtime,r=this.lib,i=this.compiler.Compiler,o=this.parser.Parser,s=this.nodes,a=this.lexer,u=n.contextOrFrameLookup,c=n.memberLookup;function l(e){return{index:e.index,lineno:e.lineno,colno:e.colno}}if(i&&(e=i.prototype.assertType),o&&(t=o.prototype.parseAggregate),n.contextOrFrameLookup=function(e,t,n){var r=u.apply(this,arguments);if(void 0!==r)return r;switch(n){case"True":return!0;case"False":return!1;case"None":return null;default:return}},s&&i&&o){var h=s.Node.extend("Slice",{fields:["start","stop","step"],init:function(e,t,n,r,i){n=n||new s.Literal(e,t,null),r=r||new s.Literal(e,t,null),i=i||new s.Literal(e,t,1),this.parent(e,t,n,r,i)}});i.prototype.assertType=function(t){t instanceof h||e.apply(this,arguments)},i.prototype.compileSlice=function(e,t){this._emit("("),this._compileExpression(e.start,t),this._emit("),("),this._compileExpression(e.stop,t),this._emit("),("),this._compileExpression(e.step,t),this._emit(")")},o.prototype.parseAggregate=function(){var e=this,n=l(this.tokens);n.colno--,n.index--;try{return t.apply(this)}catch(t){var i=l(this.tokens),o=function(){return r._assign(e.tokens,i),t};r._assign(this.tokens,n),this.peeked=!1;var u=this.peekToken();if(u.type!==a.TOKEN_LEFT_BRACKET)throw o();this.nextToken();for(var c=new h(u.lineno,u.colno),f=!1,p=0;p<=c.fields.length&&!this.skip(a.TOKEN_RIGHT_BRACKET);p++){if(p===c.fields.length){if(!f)break;this.fail("parseSlice: too many slice components",u.lineno,u.colno)}this.skip(a.TOKEN_COLON)?f=!0:(c[c.fields[p]]=this.parseExpression(),f=this.skip(a.TOKEN_COLON)||f)}if(!f)throw o();return new s.Array(u.lineno,u.colno,[c])}}}function f(e,t,r,i){e=e||[],null===t&&(t=i<0?e.length-1:0),null===r?r=i<0?-1:e.length:r<0&&(r+=e.length),t<0&&(t+=e.length);for(var o=[],s=t;!(s<0||s>e.length||i>0&&s>=r||i<0&&s<=r);s+=i)o.push(n.memberLookup(e,s));return o}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var d={pop:function(e){if(void 0===e)return this.pop();if(e>=this.length||e<0)throw new Error("KeyError");return this.splice(e,1)},append:function(e){return this.push(e)},remove:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return this.splice(t,1);throw new Error("ValueError")},count:function(e){for(var t=0,n=0;n<this.length;n++)this[n]===e&&t++;return t},index:function(e){var t;if(-1===(t=this.indexOf(e)))throw new Error("ValueError");return t},find:function(e){return this.indexOf(e)},insert:function(e,t){return this.splice(e,0,t)}},m={items:function(){return r._entries(this)},values:function(){return r._values(this)},keys:function(){return r.keys(this)},get:function(e,t){var n=this[e];return void 0===n&&(n=t),n},has_key:function(e){return p(this,e)},pop:function(e,t){var n=this[e];if(void 0===n&&void 0!==t)n=t;else{if(void 0===n)throw new Error("KeyError");delete this[e]}return n},popitem:function(){var e=r.keys(this);if(!e.length)throw new Error("KeyError");var t=e[0],n=this[t];return delete this[t],[t,n]},setdefault:function(e,t){return void 0===t&&(t=null),e in this||(this[e]=t),this[e]},update:function(e){return r._assign(this,e),null}};return m.iteritems=m.items,m.itervalues=m.values,m.iterkeys=m.keys,n.memberLookup=function(e,t,n){return 4===arguments.length?f.apply(this,arguments):(e=e||{},r.isArray(e)&&p(d,t)?d[t].bind(e):r.isObject(e)&&p(m,t)?m[t].bind(e):c.apply(this,arguments))},function(){n.contextOrFrameLookup=u,n.memberLookup=c,i&&(i.prototype.assertType=e),o&&(o.prototype.parseAggregate=t)}}}])},e.exports=t()},579:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var r="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",l=t(r,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),h=n(r+t(r,i,"[\\+\\-\\.]")+"*"),f=n(n(s+"|"+t(l,a,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("[1-9]"+i)+"|"+i),n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i)),d=n(p+"\\."+p+"\\."+p+"\\."+p),m=n(o+"{1,4}"),y=n(n(m+"\\:"+m)+"|"+d),v=n(n(m+"\\:")+"{6}"+y),g=n("\\:\\:"+n(m+"\\:")+"{5}"+y),_=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+y),b=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+y),w=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+y),x=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+y),k=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+y),E=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),S=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),T=n([v,g,_,b,w,x,k,E,S].join("|")),A=n(n(l+"|"+s)+"+"),O=(n(T+"\\%25"+A),n(T+n("\\%25|\\%(?!"+o+"{2})")+A)),N=n("[vV]"+o+"+\\."+t(l,a,"[\\:]")+"+"),P=n("\\["+n(O+"|"+T+"|"+N)+"\\]"),C=n(n(s+"|"+t(l,a))+"*"),R=n(P+"|"+d+"(?!"+C+")|"+C),L=n(i+"*"),I=n(n(f+"@")+"?"+R+n("\\:"+L)+"?"),D=n(s+"|"+t(l,a,"[\\:\\@]")),M=n(D+"*"),j=n(D+"+"),F=n(n(s+"|"+t(l,a,"[\\@]"))+"+"),B=n(n("\\/"+M)+"*"),U=n("\\/"+n(j+B)+"?"),z=n(F+B),V=n(j+B),$="(?!"+D+")",q=(n(B+"|"+U+"|"+z+"|"+V+"|"+$),n(n(D+"|"+t("[\\/\\?]",c))+"*")),K=n(n(D+"|[\\/\\?]")+"*"),H=n(n("\\/\\/"+I+B)+"|"+U+"|"+V+"|"+$),W=n(h+"\\:"+H+n("\\?"+q)+"?"+n("\\#"+K)+"?"),G=n(n("\\/\\/"+I+B)+"|"+U+"|"+z+"|"+$),Y=n(G+n("\\?"+q)+"?"+n("\\#"+K)+"?");return n(W+"|"+Y),n(h+"\\:"+H+n("\\?"+q)+"?"),n(n("\\/\\/("+n("("+f+")@")+"?("+R+")"+n("\\:("+L+")")+"?)")+"?("+B+"|"+U+"|"+V+"|"+$+")"),n("\\?("+q+")"),n("\\#("+K+")"),n(n("\\/\\/("+n("("+f+")@")+"?("+R+")"+n("\\:("+L+")")+"?)")+"?("+B+"|"+U+"|"+z+"|"+$+")"),n("\\?("+q+")"),n("\\#("+K+")"),n(n("\\/\\/("+n("("+f+")@")+"?("+R+")"+n("\\:("+L+")")+"?)")+"?("+B+"|"+U+"|"+V+"|"+$+")"),n("\\?("+q+")"),n("\\#("+K+")"),n("("+f+")@"),n("\\:("+L+")"),{NOT_SCHEME:new RegExp(t("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,u),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+T+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+A+")")+"?\\]?$")}}var s=o(!1),a=o(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=36,h=/^xn--/,f=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,y=String.fromCharCode;function v(e){throw new RangeError(d[e])}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(p,".")).split("."),t).join(".")}function _(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},w=function(e,t,n){var r=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;r+=l)e=m(e/35);return m(r+36*e/(e+38))},x=function(e){var t,n=[],r=e.length,i=0,o=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var u=0;u<a;++u)e.charCodeAt(u)>=128&&v("not-basic"),n.push(e.charCodeAt(u));for(var h=a>0?a+1:0;h<r;){for(var f=i,p=1,d=l;;d+=l){h>=r&&v("invalid-input");var y=(t=e.charCodeAt(h++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l;(y>=l||y>m((c-i)/p))&&v("overflow"),i+=y*p;var g=d<=s?1:d>=s+26?26:d-s;if(y<g)break;var _=l-g;p>m(c/_)&&v("overflow"),p*=_}var b=n.length+1;s=w(i-f,b,0==f),m(i/b)>c-o&&v("overflow"),o+=m(i/b),i%=b,n.splice(i++,0,o)}return String.fromCodePoint.apply(String,n)},k=function(e){var t=[],n=(e=_(e)).length,r=128,i=0,o=72,s=!0,a=!1,u=void 0;try{for(var h,f=e[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var p=h.value;p<128&&t.push(y(p))}}catch(e){a=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(a)throw u}}var d=t.length,g=d;for(d&&t.push("-");g<n;){var x=c,k=!0,E=!1,S=void 0;try{for(var T,A=e[Symbol.iterator]();!(k=(T=A.next()).done);k=!0){var O=T.value;O>=r&&O<x&&(x=O)}}catch(e){E=!0,S=e}finally{try{!k&&A.return&&A.return()}finally{if(E)throw S}}var N=g+1;x-r>m((c-i)/N)&&v("overflow"),i+=(x-r)*N,r=x;var P=!0,C=!1,R=void 0;try{for(var L,I=e[Symbol.iterator]();!(P=(L=I.next()).done);P=!0){var D=L.value;if(D<r&&++i>c&&v("overflow"),D==r){for(var M=i,j=l;;j+=l){var F=j<=o?1:j>=o+26?26:j-o;if(M<F)break;var B=M-F,U=l-F;t.push(y(b(F+B%U,0))),M=m(B/U)}t.push(y(b(M,0))),o=w(i,N,g==d),i=0,++g}}}catch(e){C=!0,R=e}finally{try{!P&&I.return&&I.return()}finally{if(C)throw R}}++i,++r}return t.join("")},E={version:"2.1.0",ucs2:{decode:_,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}},decode:x,encode:k,toASCII:function(e){return g(e,(function(e){return f.test(e)?"xn--"+k(e):e}))},toUnicode:function(e){return g(e,(function(e){return h.test(e)?x(e.slice(4).toLowerCase()):e}))}},S={};function T(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function A(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function O(e,t){function n(e){var n=A(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,T).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,T).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,T).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,T).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,T).replace(t.PCT_ENCODED,i)),e}function N(e){return e.replace(/^0*(.*)/,"$1")||"0"}function P(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=u(n,2)[1];return r?r.split(".").map(N).join("."):e}function C(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=u(n,3),i=r[1],o=r[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=u(s,2),c=a[0],l=a[1],h=l?l.split(":").map(N):[],f=c.split(":").map(N),p=t.IPV4ADDRESS.test(f[f.length-1]),d=p?7:8,m=f.length-d,y=Array(d),v=0;v<d;++v)y[v]=h[v]||f[m+v]||"";p&&(y[d-1]=P(y[d-1],t));var g=y.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],_=void 0;if(g&&g.length>1){var b=y.slice(0,g.index),w=y.slice(g.index+g.length);_=b.join(":")+"::"+w.join(":")}else _=y.join(":");return o&&(_+="%"+o),_}return e}var R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,L=void 0==="".match(/(){0}/)[1];function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(R);if(i){L?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=C(P(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=S[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)O(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=E.toASCII(n.host.replace(r.PCT_ENCODED,A).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}O(n,s)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}var D=/^\.\.?\//,M=/^\/\.(\/|$)/,j=/^\/\.\.(\/|$)/,F=/^\/?(?:.|\n)*?(?=\/|$)/;function B(e){for(var t=[];e.length;)if(e.match(D))e=e.replace(D,"");else if(e.match(M))e=e.replace(M,"/");else if(e.match(j))e=e.replace(j,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(F);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?a:s,r=[],i=S[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?E.toUnicode(e.host):E.toASCII(e.host.replace(n.PCT_ENCODED,A).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}O(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=function(e,t){var n=!1!==t.iri?a:s,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(C(P(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=B(u)),void 0===o&&(u=u.replace(/^\/\//,"/%2F")),r.push(u)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=I(U(e,n),n),t=I(U(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=B(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=B(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=B(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=B(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function V(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,A)}var $={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},q={scheme:"https",domainHost:$.domainHost,parse:$.parse,serialize:$.serialize};function K(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var H={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=K(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(K(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=u(n,2),i=r[0],o=r[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},W={scheme:"wss",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize},G={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Q="[0-9A-Fa-f]",X=n(n("%[EFef]"+Q+"%"+Q+Q+"%"+Q+Q)+"|"+n("%[89A-Fa-f]"+Q+"%"+Q+Q)+"|"+n("%"+Q+Q)),Z=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),J=new RegExp(Y,"g"),ee=new RegExp(X,"g"),te=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Z),"g"),ne=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),re=ne;function ie(e){var t=A(e);return t.match(J)?t:e}var oe={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},s=n.query.split("&"),a=0,u=s.length;a<u;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),h=0,f=l.length;h<f;++h)r.push(l[h]);break;case"subject":n.subject=V(c[1],t);break;case"body":n.body=V(c[1],t);break;default:i=!0,o[V(c[0],t)]=V(c[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var p=0,d=r.length;p<d;++p){var m=r[p].split("@");if(m[0]=V(m[0]),t.unicodeSupport)m[1]=V(m[1],t).toLowerCase();else try{m[1]=E.toASCII(V(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[p]=m.join("@")}return n},serialize:function(e,t){var n,r=e,o=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var s=0,a=o.length;s<a;++s){var u=String(o[s]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(ee,ie).replace(ee,i).replace(te,T),h=u.slice(c+1);try{h=t.iri?E.toUnicode(h):E.toASCII(V(h,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[s]=l+"@"+h}r.path=o.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var p=[];for(var d in f)f[d]!==G[d]&&p.push(d.replace(ee,ie).replace(ee,i).replace(ne,T)+"="+f[d].replace(ee,ie).replace(ee,i).replace(re,T));return p.length&&(r.query=p.join("&")),r}},se=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(se),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=i+":"+(t.nid||o),u=S[a];r.nid=o,r.nss=s,r.path=void 0,u&&(r=u.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=S[i];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(r||t.nid)+":"+a,s}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ce={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ue)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};S[$.scheme]=$,S[q.scheme]=q,S[H.scheme]=H,S[W.scheme]=W,S[oe.scheme]=oe,S[ae.scheme]=ae,S[ce.scheme]=ce,e.SCHEMES=S,e.pctEncChar=T,e.pctDecChars=A,e.parse=I,e.removeDotSegments=B,e.serialize=U,e.resolveComponents=z,e.resolve=function(e,t,n){var r=function(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}({scheme:"null"},n);return U(z(I(e,r),I(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=U(I(e,t),t):"object"===r(e)&&(e=I(U(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=U(I(e,n),n):"object"===r(e)&&(e=U(e,n)),"string"==typeof t?t=U(I(t,n),n):"object"===r(t)&&(t=U(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,T)},e.unescapeComponent=V,Object.defineProperty(e,"__esModule",{value:!0})}(t)},420:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},198:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{default:()=>En});var e=n(916),t=n(19),i=n.n(t);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}function l(e,t,n){return t=f(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var d=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{blockType:null,provider:null};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,t,[a(a({},n),{},{defaultWidth:n.isContainer?186:96,defaultHeight:n.isContainer?160:80,minWidth:n.isContainer?186:96,minHeight:n.isContainer?140:80,reservedWidth:n.isContainer?12:0,reservedHeight:n.isContainer?80:0,margin:15,gap:50})])).blockType=n.blockType||null,e.provider=n.provider||null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(e.ComponentDefinition);const m=d;function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t,n){return t=_(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var w=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{linkAttribute:"id"};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=v(this,t,[n])).linkAttribute=n.linkAttribute||"id",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(e.ComponentAttributeDefinition);const x=w,k={$id:"https://ditrit.io/schemas",type:"object",properties:{name:{type:"string"},model:{type:"string"},icon:{type:"string"},attributes:{type:"array",items:{$ref:"#/definitions/attribute"}},data:{type:"array",items:{$ref:"#/definitions/data"}},modules:{type:"array",items:{$ref:"#/definitions/module"}},resources:{type:"array",items:{$ref:"#/definitions/resource"}},variables:{type:"array",items:{$ref:"#/definitions/variable"}},displayName:{type:"string"},description:{type:"string"},url:{type:"string"}},required:["name","attributes","data","modules","resources","variables"],definitions:{defaultObject:{type:"object",properties:{type:{type:"string"},model:{type:"string"},icon:{type:"string"},isContainer:{type:"boolean"},attributes:{type:"array",items:{$ref:"#/definitions/attribute"}},displayName:{type:"string"},description:{type:"string"},url:{type:"string"}},required:["type","attributes"]},attribute:{type:"object",properties:{name:{type:"string"},type:{type:"string",pattern:"(String|Boolean|Number|Array|Object|Link|Reference)"},required:{type:"boolean"},linkType:{type:"string",pattern:"(Default|Reverse)"},linkRef:{type:"string"},containerRef:{type:"string"},attributes:{type:"array",items:{$ref:"#/definitions/attribute"}},rules:{$ref:"#/definitions/rule"},displayName:{type:"string"},description:{type:"string"},url:{type:"string"}},required:["name","type"]},rule:{type:"object",properties:{values:{type:"array",items:{type:"string"}},min:{type:"integer"},max:{type:"integer"},regex:{type:"string"}}},data:{$ref:"#/definitions/defaultObject"},module:{$ref:"#/definitions/defaultObject"},resource:{$ref:"#/definitions/defaultObject"},variable:{$ref:"#/definitions/defaultObject"}}},E={aws:JSON.parse('{"name":"aws","displayName":"AWS provider","description":"Use the Amazon Web Services (AWS) provider to interact with the many resources supported by AWS.","icon":"aws","model":"DefaultModel","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs","attributes":[{"name":"region","displayName":"Region","description":"AWS service endpoints","required":true,"type":"String","url":"https://docs.aws.amazon.com/general/latest/gr/rande.html"},{"name":"skip_region_validation","displayName":"Skip region validation","description":"Define if region validation should be skipped or not.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#skip_region_validation"},{"name":"access_key","displayName":"Access key","description":"The ID of the access key to allow Terraform requests to authenticate with.","type":"String","url":"https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html"},{"name":"secret_key","displayName":"Secret key","description":"The secret key to allow Terraform requests to authenticate with.","type":"String","url":"https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html"},{"name":"token","displayName":"Token","description":"Used to validate session temporary credentials.","type":"String","url":"https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html"},{"name":"allowed_account_ids","displayName":"Allowed Account IDs","description":"List of allowed AWS account IDs to prevent you from mistakenly<br>using an incorrect one (and potentially end up destroying a live environment).","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#allowed_account_ids"},{"name":"forbidden_account_ids","displayName":"Forbidden Account IDs","description":"List of forbidden AWS account IDs to prevent you from mistakenly<br>using an incorrect one (and potentially end up destroying a live environment).","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#forbidden_account_ids"},{"name":"skip_requesting_account_id","displayName":"Skip requesting account ID","description":"Whether to skip requesting the account ID or not.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#skip_requesting_account_id"},{"name":"custom_ca_bundle","displayName":"Custom Certificate Authority (CA) bundle","description":"File containing custom root and intermediate certificates.","type":"String","url":"https://docs.aws.amazon.com/privateca/latest/userguide/PcaWelcome.html"},{"name":"insecure","displayName":"Insecure","description":"Whether to explicitly allow the provider to perform \\"insecure\\" SSL requests or not.","type":"Boolean","url":"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html"},{"name":"ec2_metadata_service_endpoint","displayName":"EC2 metadata service (IMDS) endpoint","description":"Address of the EC2 metadata service (IMDS) endpoint to use.","type":"String","url":"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/environments-cfg-ec2-imds.html"},{"name":"ec2_metadata_service_endpoint_mode","displayName":"EC2 metadata service (IMDS) endpoint mode","description":"Communication mode to use with the metadata service.","type":"String","url":"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/environments-cfg-ec2-imds.html","rules":{"values":["IPv4","IPv6"]}},{"name":"http_proxy","displayName":"HTTP proxy","description":"Address of an HTTP proxy to use when accessing the AWS API.","type":"String","url":"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-http.html","rules":{"regex":"[-a-zA-Z0-9@:%._\\\\+~#=]{1,256}\\\\.[a-zA-Z0-9()]{1,6}\\\\b([-a-zA-Z0-9()@:%_\\\\+.~#?&//=]*)"}},{"name":"max_retries","displayName":"Max retries","description":"Maximum number of times an API call is retried when AWS throttles requests or on transient failures.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#max_retries"},{"name":"profile","displayName":"Profile","description":"AWS profile name as set in the shared configuration and credentials files.","type":"String","url":"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html"},{"name":"shared_config_files","displayName":"Shared config files","description":"List of paths to AWS shared config files.","type":"String","url":"https://docs.aws.amazon.com/sdkref/latest/guide/file-format.html"},{"name":"shared_credentials_files","displayName":"Shared credentials files","description":"List of paths to the shared credentials files.","type":"String","url":"https://docs.aws.amazon.com/sdkref/latest/guide/file-format.html"},{"name":"skip_credentials_validation","displayName":"Skip credentials validation","description":"Whether to skip credentials validation via the STS API or not.","type":"Boolean","url":"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp.html"},{"name":"sts_region","displayName":"Security Token Servic (STS) region","description":"AWS region for Security Token Service (STS)","type":"String","url":"https://docs.aws.amazon.com/STS/latest/APIReference/welcome.html"},{"name":"s3_use_path_style","displayName":"Use path-style for S3","description":"Whether to enable the request to use path-style addressing or not<br>i.e., https://s3.amazonaws.com/BUCKET/KEY.","type":"Boolean","url":"https://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html"},{"name":"skip_metadata_api_check","displayName":"Skip metadata API check","description":"Whether to skip the AWS Metadata API check or not.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#skip_metadata_api_check"},{"name":"use_dualstack_endpoint","displayName":"Use dual-stack endpoint","description":"Force the provider to resolve endpoints with DualStack capability.","type":"Boolean","url":"https://docs.aws.amazon.com/AmazonS3/latest/userguide/dual-stack-endpoints.html"},{"name":"use_fips_endpoint","displayName":"Use FIPS endpoint","description":"Force the provider to resolve endpoints with FIPS capability.","type":"Boolean","url":"https://aws.amazon.com/compliance/fips/"},{"name":"assume_role","displayName":"Assume role","description":"Set of temporary security credentials that you can use to access AWS resources.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#assume_role","attributes":[{"name":"duration","displayName":"Duration","description":"Duration of the assume role session.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#duration"},{"name":"external_id","displayName":"External ID","description":"External identifier to use when assuming the role.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#external_id"},{"name":"policy","displayName":"Policy","description":"IAM Policy JSON describing further restricting permissions for the IAM Role being assumed.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#policy"},{"name":"policy_arns","displayName":"Policy ARNs","description":"Set of Amazon Resource Names (ARNs) of IAM Policies describing further restricting permissions for the IAM Role being assumed.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#policy_arns"},{"name":"role_arn","displayName":"Role ARN","description":"ARN of the IAM Role to assume. Can also be set with the AWS_ROLE_ARN environment variable.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#role_arn"},{"name":"session_name","displayName":"Session name","description":"Session name to use when assuming the role. Can also be set with the AWS_ROLE_SESSION_NAME environment variable.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#session_name"},{"name":"source_identity","displayName":"Source identity","description":"Source identity specified by the principal assuming the role.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#source_identity"},{"name":"tags","displayName":"Tags","description":"Map of assume role session tags.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#tags"},{"name":"transitive_tag_keys","displayName":"Transitive tag keys","description":"Set of assume role session tag keys to pass to any subsequent sessions.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#transitive_tag_keys"}]},{"name":"assume_role_with_web_identity","displayName":"Assume role with web identity","description":"Configuration block for assuming an IAM role using a web identity.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#assume_role_with_web_identity","attributes":[{"name":"duration","displayName":"Duration","description":"Duration of the assume role session.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#duration"},{"name":"policy","displayName":"Policy","description":"IAM Policy JSON describing further restricting permissions for the IAM Role being assumed.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#policy"},{"name":"policy_arns","displayName":"Policy ARNs","description":"Set of Amazon Resource Names (ARNs) of IAM Policies describing further restricting permissions for the IAM Role being assumed.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#policy_arns"},{"name":"role_arn","displayName":"Role ARN","description":"ARN of the IAM Role to assume. Can also be set with the AWS_ROLE_ARN environment variable.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#role_arn"},{"name":"session_name","displayName":"Session name","description":"Session name to use when assuming the role. Can also be set with the AWS_ROLE_SESSION_NAME environment variable.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#session_name"},{"name":"web_identity_token","displayName":"Web identity token","description":"Value of a web identity token from an OpenID Connect (OIDC) or OAuth provider. One of web_identity_token or web_identity_token_file is required.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#web_identity_token"},{"name":"web_identity_token_file","displayName":"Web identity token file","description":"File containing a web identity token from an OpenID Connect (OIDC) or OAuth provider. One of web_identity_token_file or web_identity_token is required. Can also be set with the AWS_WEB_IDENTITY_TOKEN_FILE environment variable.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#web_identity_token_file"}]},{"name":"default_tags","displayName":"Default tags","description":"You can assign metadata to your AWS resources in the form of tags.<br>Each tag is a label consisting of a user-defined key and value.<br>Tags can help you manage, identify, organize, search for, and filter resources.","type":"Object","url":"https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html","attributes":[{"name":"tags","displayName":"Tags","description":"Key-value map of tags to apply to all resources.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#tags"}]},{"name":"ignore_tags","displayName":"Ignore tags","description":"Configuration block with resource tag settings to ignore across all resources handled by this provider<br>(except any individual service tag resources such as aws_ec2_tag)<br>for situations where external systems are managing certain resource tags.","type":"Object","url":"https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html","attributes":[{"name":"keys","displayName":"Keys","description":"List of exact resource tag keys to ignore across all resources handled by this provider.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#keys"},{"name":"key_prefixes","displayName":"Key prefixes","description":"List of resource tag key prefixes to ignore across all resources handled by this provider.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#key_prefixes"}]},{"name":"endpoints","displayName":"Endpoints","description":"Configure the Terraform AWS Provider to use customized endpoints.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/guides/custom-service-endpoints"}],"data":[{"type":"aws_ami","displayName":"Amazon Machine Image (AMI)","description":"An Amazon Machine Image (AMI) is a supported and maintained image provided by AWS<br>that provides the information required to launch an instance.","icon":"Aws_EC2_AMI","model":"DefaultModel","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html","attributes":[{"name":"owners","displayName":"Owners","description":"List of AMI owners to limit search.","type":"Array","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/finding-an-ami.html"},{"name":"most_recent","displayName":"Most recent","description":"If more than one result is returned, use the most recent AMI.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/ami#most_recent"},{"name":"executable_users","displayName":"Executable users","description":"Limit search to users with explicit launch permission on the image.","type":"Array","url":"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html"},{"name":"include_deprecated","displayName":"Include deprecated","description":"If true, all deprecated AMIs are included in the response.","type":"Boolean","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ami-deprecate.html"},{"name":"name_regex","displayName":"Name regex","description":"Regex string to apply to the AMI list returned by AWS.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/ami#name_regex"}]},{"type":"aws_rds_engine_version","displayName":"Relational Database Service engine version","description":"Information about a Relational Database Service engine version.<br><br>Amazon Relational Database Service (Amazon RDS) is a web service<br>that makes it easier to set up, operate, and scale a relational database in the AWS Cloud.","icon":"Aws_RDS","model":"DefaultModel","url":"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Welcome.html","attributes":[{"name":"engine","displayName":"Engine","description":"A DB engine is the specific relational database software that runs on your DB instance.","required":true,"type":"String","url":"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Welcome.html#Welcome.Concepts.DBInstance.engine","rules":{"values":["aurora","aurora-mysql","aurora-postgresql","docdb","mariadb","mysql","neptune","oracle-ee","oracle-se","oracle-se1","oracle-se2","postgres","sqlserver-ee","sqlserver-ex","sqlserver-se","sqlserver-web"]}},{"name":"default_only","displayName":"Default only","description":"When set to true, the default version for the specified engine or combination of engine and major version will be returned.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/rds_engine_version#default_only"},{"name":"version","displayName":"Version","description":"Version of the DB engine.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/rds_engine_version#version"},{"name":"preferred_versions","displayName":"Preferred versions","description":"Ordered list of preferred engine versions.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/rds_engine_version#preferred_versions"},{"name":"include_all","displayName":"Include all","description":"When set to true, the specified version or member of prefered versions will be returned even if it is deprecated.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/rds_engine_version#include_all"},{"name":"parameter_group_family","displayName":"Parameter group family","description":"Name of a specific DB parameter group family.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/rds_engine_version#parameter_group_family"}]},{"type":"aws_availability_zones","displayName":"Availability Zones","description":"The Availability Zones data source allows access to the list of AWS Availability Zones<br>which can be accessed by an AWS account within the region configured in the provider.<br><br>This is different from the Availability Zone (singular).","icon":"Aws_Local-Zones","model":"DefaultModel","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html","attributes":[{"name":"all_availability_zones","displayName":"All Availability Zones","description":"Set to true to include all Availability Zones and Local Zones regardless of your opt in status.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones#all_availability_zones"},{"name":"exclude_names","displayName":"Exclude names","description":"List of Availability Zone names to exclude.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones#exclude_names"},{"name":"exclude_zone_ids","displayName":"Exclude zone IDs","description":"List of Availability Zone IDs to exclude.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones#exclude_zone_ids"},{"name":"state","displayName":"State","description":"Allows to filter list of Availability Zones based on their current state.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones#state","rules":{"values":["available","impaired","information","unavailable"]}}]}],"modules":[{"type":"server","displayName":"Server","icon":"Aws_Servers","model":"DefaultModel"}],"resources":[{"type":"aws_security_group","displayName":"Security group","description":"A security group controls the traffic that is allowed to reach and leave the resources that it is associated with.","icon":"AwsSecurityGroup","model":"DefaultModel","url":"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html","attributes":[{"name":"description","displayName":"Description","description":"Description of the security group.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#description"},{"name":"name","displayName":"Name","description":"Name of the security group.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#name"},{"name":"name_prefix","displayName":"Name prefix","description":"Creates a unique name beginning with the specified prefix.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#name_prefix"},{"name":"revoke_rules_on_delete","displayName":"Revoke rules on delete","description":"Instruct Terraform to revoke all of the Security Groups attached ingress and egress rules before deleting the rule itself.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#revoke_rules_on_delete"},{"name":"vpc_id","displayName":"VPC ID","description":"The ID of the VPC for which to create the security group.","containerRef":"aws_vpc","linkAttribute":"id","linkRef":"aws_vpc","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#vpc_id"},{"name":"egress","displayName":"Egress","description":"Configuration block for egress rules","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#egress","attributes":[{"name":"from_port","displayName":"From port","description":"Start port (or ICMP type number if protocol is icmp).","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#from_port"},{"name":"to_port","displayName":"To port","description":"End port (or ICMP code if protocol is icmp).","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#to_port"},{"name":"protocol","displayName":"Protocol","description":"The protocol. If not icmp, tcp, udp, or all use the -1 protocol number.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#protocol"},{"name":"cidr_blocks","displayName":"CIDR blocks","description":"List of CIDR blocks.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#cidr_blocks"},{"name":"ipv6_cidr_blocks","displayName":"IPv6 CIDR blocks","description":"List of IPv6 CIDR blocks.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#ipv6_cidr_blocks"}]},{"name":"ingress","displayName":"Ingress","description":"Configuration block for Ingress rules","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#ingress","attributes":[{"name":"from_port","displayName":"From port","description":"Start port (or ICMP type number if protocol is icmp).","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#from_port"},{"name":"to_port","displayName":"To port","description":"End port (or ICMP code if protocol is icmp).","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#to_port"},{"name":"protocol","displayName":"Protocol","description":"The protocol. If not icmp, tcp, udp, or all use the -1 protocol number.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#protocol"},{"name":"cidr_blocks","displayName":"CIDR blocks","description":"List of CIDR blocks.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#cidr_blocks"},{"name":"ipv6_cidr_blocks","displayName":"IPv6 CIDR blocks","description":"List of IPv6 CIDR blocks.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group#ipv6_cidr_blocks"}]},{"name":"tags","displayName":"Tags","description":"A map of tags to assign to the resource.","type":"Object","url":"https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html"}]},{"type":"aws_instance","displayName":"EC2 Instance","description":"Provides an EC2 instance resource.","icon":"Aws_EC2-Instance","model":"DefaultModel","url":"https://docs.aws.amazon.com/ec2/index.html","attributes":[{"name":"security_groups","displayName":"Security groups","description":"List of security group names to associate with.","linkAttribute":"name","linkRef":"aws_security_group","linkType":"Reverse","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance#security_groups"},{"name":"vpc_security_group_ids","displayName":"VPC security group IDs","description":"List of security group IDs to associate with.","linkAttribute":"id","linkRef":"aws_security_group","linkType":"Reverse","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance#vpc_security_group_ids"},{"name":"subnet_id","displayName":"Subnet ID","description":"The VPC Subnet ID to launch in.","linkAttribute":"id","linkRef":"aws_subnet","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance#subnet_id"}]},{"type":"aws_volume_attachment","displayName":"AWS volume attachment","description":"Attach an EBS volume to one or more instances","icon":"Aws_Elastic-Block-Store_Volume","model":"DefaultModel","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-attaching-volume.html","attributes":[{"name":"device_name","displayName":"Device name","description":"The device name to expose to the instance (for example, /dev/sdh or xvdh).","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/volume_attachment#device_name"},{"name":"volume_id","displayName":"Volume ID","description":"The ID of the Volume to attach to.","linkAttribute":"id","linkRef":"aws_ebs_volume","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/volume_attachment#volume_id"},{"name":"instance_id","displayName":"Instance ID","description":"The ID of the Instance to attach to.","linkAttribute":"id","linkRef":"aws_instance","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/volume_attachment#instance_id"}]},{"type":"aws_ebs_volume","displayName":"EBS Volume","description":"A durable, block-level storage device that you can attach to your instances.","icon":"Aws_Elastic-Block-Store_Volume","model":"DefaultModel","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volumes.html","attributes":[{"name":"availability_zone","displayName":"Availability zone","description":"The Availability Zone where the EBS volume will exist.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ebs_volume#availability_zone"}]},{"type":"aws_elb","displayName":"AWS ELB","description":"Automatically distributes incoming application traffic across multiple targets and virtual appliances in one or more Availability Zones.","icon":"Aws_Elastic-Load-Balancing_Network-Load-Balancer","model":"DefaultModel","url":"https://aws.amazon.com/elasticloadbalancing/","attributes":[{"name":"listener","displayName":"Listener","description":"A list of listener blocks. Each listener block supports fields documented below.","required":true,"type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#listener","attributes":[{"name":"instance_port","displayName":"Instance port","description":"The port on the instance to route to.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#instance_port"},{"name":"lb_port","displayName":"LB port","description":"The port to listen on for the load balancer.","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#lb_port"},{"name":"lb_protocol","displayName":"LB protocol","description":"The protocol to listen on. Valid values are HTTP, HTTPS, TCP, or SSL.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#lb_protocol"},{"name":"instance_protocol","displayName":"Instance protocol","description":"The protocol to use to the instance. Valid values are HTTP, HTTPS, TCP, or SSL.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#instance_protocol"}]},{"name":"subnets","displayName":"Subnets","description":"A list of subnet IDs to attach to the ELB.","linkAttribute":"id","linkRef":"aws_subnet","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#subnets"},{"name":"security_groups","displayName":"Security groups","description":"A list of security group IDs to assign to the ELB.","linkAttribute":"id","linkRef":"aws_security_group","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#security_groups"},{"name":"instances","displayName":"Instances","description":"A list of instance ids to place in the ELB pool.","linkAttribute":"id","linkRef":"aws_instance","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elb#instances"}]},{"type":"aws_vpc","displayName":"Virtual Private Cloud (VPC)","description":"Amazon Virtual Private Cloud (Amazon VPC) enables you to launch AWS resources into a virtual network that you\'ve defined.","icon":"Aws_Virtual-Private-Cloud","isContainer":true,"model":"DefaultContainer","url":"https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html","attributes":[{"name":"cidr_block","displayName":"CIDR block","description":"IPv4 CIDR block of the desired VPC.","type":"String","url":"https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html","rules":{"regex":"^([0-9]{1,3}\\\\.){3}[0-9]{1,3}(\\\\/([0-9]|[1-2][0-9]|3[0-2]))?$"}},{"name":"ipv4_ipam_pool_id","displayName":"IPv4 IPAM pool ID","description":"ID of an IPv4 IPAM pool you want to use for allocating this VPC\'s CIDR.","type":"String","url":"https://docs.aws.amazon.com/vpc/latest/ipam/what-it-is-ipam.html"},{"name":"ipv4_netmask_length","displayName":"IPv4 netmask length","description":"Netmask length of the IPv4 CIDR you want to allocate to this VPC.","type":"Number","url":"https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html","rules":{"max":32,"min":1}},{"name":"ipv6_cidr_block","displayName":"IPv6 CIDR block","description":"IPv6 CIDR block to request from an IPAM Pool.","type":"String","url":"https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html","rules":{"regex":"[a-fA-F0-9]{4}(:[a-fA-F0-9]{4}){7}"}},{"name":"ipv6_ipam_pool_id","displayName":"IPv6 IPAM pool ID","description":"IPAM Pool ID for a IPv6 pool","type":"String","url":"https://docs.aws.amazon.com/vpc/latest/ipam/what-it-is-ipam.html"},{"name":"ipv6_netmask_length","displayName":"IPv6 netmask length","description":"Netmask length to request from IPAM Pool.","type":"Number","url":"https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html","rules":{"values":[56]}},{"name":"ipv6_cidr_block_network_border_group","displayName":"IPv6 CIDR block network border group","description":"Restrict advertisement of public addresses to specific Network Border Groups such as LocalZones.","type":"String","url":"https://docs.aws.amazon.com/vpc/latest/userguide/Extend_VPCs.html"},{"name":"instance_tenancy","displayName":"Instance tenancy","description":"Allowed tenancy of instances launched into the selected VPC.","type":"String","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/dedicated-instance.html","rules":{"values":["default","dedicated"]}},{"name":"enable_dns_support","displayName":"Enable DNS support","description":"Enable DNS support in the VPC.","type":"Boolean","url":"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html"},{"name":"enable_dns_hostnames","displayName":"Enable DNS hostnames","description":"Enable DNS hostnames in the VPC.","type":"Boolean","url":"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html"},{"name":"enable_classiclink","displayName":"Enable ClassicLink","description":"Enable ClassicLink for the VPC, allowing you to link EC2-Classic instances to the VPC.","type":"Boolean","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/vpc-classiclink.html"},{"name":"enable_classiclink_dns_support","displayName":"Enable ClassicLink DNS support","description":"Enable ClassicLink DNS Support for the VPC.<br>If set to true, DNS hostnames that are addressed between linked EC2-Classic instances and instances in the VPC will resolve to private IP addresses.","type":"Boolean","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/vpc-classiclink.html"},{"name":"assign_generated_ipv6_cidr_block","displayName":"Assign generated IPv6 CIDR block","description":"Requests an Amazon-provided IPv6 CIDR block with a /56 prefix length for the VPC.","type":"Boolean","url":"https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html"},{"name":"enable_network_address_usage_metrics","displayName":"Enable network address usage metrics","description":"Enable network address usage metrics for the VPC.","type":"Boolean","url":"https://docs.aws.amazon.com/vpc/latest/userguide/network-address-usage.html"},{"name":"tags","displayName":"Tags","description":"A map of tags to assign to the resource.","type":"Object","url":"https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html"}]},{"type":"aws_internet_gateway","displayName":"Internet gateway","description":"An internet gateway is a horizontally scaled, redundant, and highly available VPC component<br>that allows communication between your VPC and the internet.","icon":"Aws_VPC_Internet-Gateway","model":"DefaultModel","url":"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html","attributes":[{"name":"vpc_id","displayName":"VPC ID","description":"The VPC ID to create the gateway in.","containerRef":"aws_vpc","type":"Reference","url":"https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html"},{"name":"tags","displayName":"Tags","description":"A map of tags to assign to the resource.","type":"Object","url":"https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html"}]},{"type":"aws_route","displayName":"AWS route","description":"Contains a set of rules, called routes, that determine where network traffic from your subnet or gateway is directed.","icon":"Aws_Route-53","model":"DefaultModel","url":"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html","attributes":[{"name":"route_table_id","displayName":"Route table ID","description":"The ID of the routing table.","containerRef":"aws_route","required":true,"type":"Reference","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route#route_table_id"},{"name":"gateway_id","displayName":"Gateway ID","description":"Identifier of a VPC internet gateway or a virtual private gateway.","linkAttribute":"id","linkRef":"aws_internet_gateway","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route#gateway_id"}]},{"type":"aws_subnet","displayName":"Subnet","description":"A subnet is a range of IP addresses in your VPC. You can launch AWS resources into your subnets.","icon":"Aws_Mesh","model":"DefaultModel","url":"https://docs.aws.amazon.com/vpc/latest/userguide/configure-subnets.html","attributes":[{"name":"vpc_id","displayName":"VPC ID","description":"The VPC ID to create the subnet in.","containerRef":"aws_vpc","required":true,"type":"Reference","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#vpc_id"},{"name":"gateway_id","type":"Link","linkAttribute":"id","linkRef":"aws_internet_gateway","linkType":"Default","linkModel":"defaultLink"},{"name":"availability_zone","displayName":"Availability zone","description":"The Availability Zone for the subnet.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#availability_zone"},{"name":"availability_zone_id","displayName":"Availability zone ID","description":"The ID of the Availability Zone for the subnet.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#availability_zone_id"},{"name":"cidr_block","displayName":"CIDR block","description":"IPv4 CIDR block for the subnet","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#cidr_block","rules":{"regex":"^([0-9]{1,3}\\\\.){3}[0-9]{1,3}(\\\\/([0-9]|[1-2][0-9]|3[0-2]))?$"}},{"name":"customer_owned_ipv4_pool","displayName":"Customer owned IPv4 pool","description":"The ID of an address pool that you own.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#customer_owned_ipv4_pool"},{"name":"map_customer_owned_ip_on_launch","displayName":"Map customer owned IP on launch","description":"Specify true to indicate that network interfaces created in the subnet should be assigned a customer owned IP address.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#map_customer_owned_ip_on_launch"},{"name":"map_customer_ip_on_launch","displayName":"Map customer IP on launch","description":"Specify true to indicate that instances launched into the subnet should be assigned a public IP address.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#map_public_ip_on_launch"},{"name":"enable_dns64","displayName":"Enable DNS64","description":"Whether DNS queries made to the Amazon-provided DNS Resolver<br>in this subnet should return synthetic IPv6 addresses for IPv4-only destinations.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#enable_dns64"},{"name":"assign_ipv6_address_on_creation","displayName":"Assign IPv6 address on creation","description":"Specify true to indicate that network interfaces created in the specified subnet should be assigned an IPv6 address.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#assign_ipv6_address_on_creation"},{"name":"ipv6_cidr_block","displayName":"IPv6 CIDR block","description":"The IPv6 network range for the subnet, in CIDR notation","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#ipv6_cidr_block","rules":{"regex":"[a-fA-F0-9]{4}(:[a-fA-F0-9]{4}){7}"}},{"name":"ipv6_native","displayName":"IPv6 native","description":"Whether to create an IPv6-only subnet.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#ipv6_native"},{"name":"enable_resource_name_dns_a_record_on_launch","displayName":"Enable ressource name DNS A record on launch","description":"Whether to respond to DNS queries for instance hostnames with DNS A records.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#enable_resource_name_dns_a_record_on_launch"},{"name":"enable_resource_name_dns_aaaa_record_on_launch","displayName":"Enable ressource name DNS AAAA record on launch","description":"Whether to respond to DNS queries for instance hostnames with DNS AAAA records.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#enable_resource_name_dns_aaaa_record_on_launch"},{"name":"private_dns_hostname_type_on_launch","displayName":"Private DNS hostname type on launch","description":"The type of hostnames to assign to instances in the subnet at launch.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#private_dns_hostname_type_on_launch"},{"name":"outpost_arn","displayName":"Outpost Amazon Resource Name (ARN)","description":"Amazon Resource Name (ARN) of the Outpost","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#outpost_arn"},{"name":"tags","displayName":"Tags","description":"A map of tags to assign to the resource.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet#tags"}]},{"type":"aws_db_subnet_group","displayName":"AWS DB subnet group","description":"A collection of subnets that you create in a VPC and that you then designate for your DB instances.","icon":"AwsDbSubnetGroup","model":"DefaultModel","url":"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_VPC.WorkingWithRDSInstanceinaVPC.html#USER_VPC.Subnets","attributes":[{"name":"subnet_ids","displayName":"Subnet IDs","description":"A list of VPC subnet IDs.","linkRef":"aws_subnet","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html"}]},{"type":"aws_route53_zone","displayName":"AWS route 53 zone","description":"A collection of records","icon":"Aws_Route-53-Hosted-Zone","isContainer":true,"model":"DefaultContainer","url":"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-working-with.html","attributes":[{"name":"name","displayName":"Name","description":"This is the name of the hosted zone.","required":true,"type":"String","containerRef":"aws_route53_zone","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route53_zone#name"},{"name":"records","displayName":"Records","type":"Link","linkModel":"defaultLink","linkAttribute":"name","linkRef":"aws_route53_record","linkType":"Default"}]},{"type":"aws_route53_record","displayName":"AWS route 53 record","description":"Create records to tell the DNS how to route traffic for that domain.","icon":"Aws_Route-53_Route-Table","model":"DefaultModel","url":"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/rrsets-working-with.html","attributes":[{"name":"zone_id","displayName":"Zone ID","description":"The ID of the hosted zone to contain this record.","containerRef":"aws_route53_zone","required":true,"type":"Reference","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route53_record#zone_id"},{"name":"records","displayName":"Records","description":"A string list of records.","linkRef":"aws_route53_record","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route53_record#records"}]},{"type":"aws_db_instance","displayName":"AWS DB instance","description":"An isolated database environment.","icon":"Aws_EC2_DB-Instance","model":"DefaultModel","url":"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.DBInstance.html","attributes":[{"name":"allocated_storage","displayName":"Allocated storage","description":"The allocated storage in gigabytes.","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#allocated_storage"},{"name":"db_name","displayName":"Database name","description":"The name of the database to create when the DB instance is created. If this parameter is not specified, no database is created in the DB instance.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#db_name"},{"name":"engine","displayName":"Database engine","description":"The database engine to use.","linkRef":"aws_rds_engine_version","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#engine"},{"name":"vpc_security_group_ids","displayName":"VPC security groups","description":"A list of VPC security groups to associate.","linkRef":"aws_security_group","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#vpc_security_group_ids"},{"name":"instance_class","displayName":"Instance class","description":"The instance type of the Relational Database Service instance.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#instance_class"},{"name":"db_subnet_group_name","displayName":"Subnet group name","description":"Name of DB subnet group. DB instance will be created in the VPC associated with the DB subnet group.","linkAttribute":"name","linkRef":"aws_db_subnet_group","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#db_subnet_group_name"},{"name":"username","displayName":"Username","description":"Username for the master DB user.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#username"},{"name":"password","displayName":"Password","description":"Password for the master DB user.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#password"},{"name":"skip_final_snapshot","displayName":"Skip final snapshot","description":"Determines whether a final DB snapshot is created before the DB instance is deleted.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#skip_final_snapshot"},{"name":"publicly_accessible","displayName":"Publicly accessible","description":"Controls if instance is publicly accessible.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#publicly_accessible"},{"name":"allow_major_version_upgrade","displayName":"Allow major version upgrade","description":"Indicates that major version upgrades are allowed.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#allow_major_version_upgrade"},{"name":"apply_immediately","displayName":"Apply immediately","description":"Specifies whether any database modifications are applied immediately, or during the next maintenance window.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#apply_immediately"},{"name":"auto_minor_version_upgrade","displayName":"Auto minor version upgrade","description":"Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#auto_minor_version_upgrade"},{"name":"availability_zone","displayName":"Availability zone","description":"The Availability Zone for the Relational Database Service instance.","linkAttribute":"id","linkRef":"aws_availability_zones","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#availability_zone"},{"name":"backup_retention_period","displayName":"Backup retention period","description":"The days to retain backups for.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#backup_retention_period","rules":{"max":"35","min":"0"}},{"name":"backup_window","displayName":"Backup window","description":"The daily time range (in UTC) during which automated backups are created if they are enabled.<br/>Must not overlap with maintenance_window.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#backup_window"},{"name":"character_set_name","displayName":"Character set name","description":"Specifies the character set to associate with the DB instance.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#character_set_name"},{"name":"copy_tags_to_snapshot","displayName":"Copy tags to snapshot","description":"Whether to copy all Instance tags to snapshots, or not.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#copy_tags_to_snapshot"},{"name":"delete_automated_snapshots","displayName":"Delete automated snapshots","description":"Whether to remove automated backups when the DB instance is deleted.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#delete_automated_snapshots"},{"name":"deletion_protection","displayName":"Deletion protection","description":"If \'Deletion protection\' is set to true, the DB instance cannot be deleted. Otherwise, it can.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#deletion_protection"},{"name":"final_snapshot_identifier","displayName":"Final snapshot identifier","description":"The name of the final DB snapshot when this DB instance is deleted.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#final_snapshot_identifier"},{"name":"iam_database_authentication_enabled","displayName":"IAM database authentication enabled","description":"Specifies whether mappings of AWS Identity and Access Management (IAM) accounts to database accounts is enabled.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#iam_database_authentication_enabled"},{"name":"identifier","displayName":"Identifier","description":"The name of the Relational Database Service instance.<br>Conflicts with identifier_prefix.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#identifier"},{"name":"identifier_prefix","displayName":"Identifier prefix","description":"Creates a unique identifier beginning with the specified prefix.<br>Conflicts with identifier.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#identifier_prefix"},{"name":"iops","displayName":"IOPS","description":"The amount of provisioned IOPS.<br>Can only be set when storage_type is io1 or p3.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#iops"},{"name":"maintenance_window","displayName":"Maintenance window","description":"The window to perform maintenance in.<br>Format: ddd:hh24:mi-ddd:hh24:mi.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#maintenance_window"},{"name":"max_allocated_storage","displayName":"Max allocated storage","description":"The upper limit to which Amazon RDS can automatically scale the storage of the DB instance.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#max_allocated_storage"},{"name":"monitoring_interval","displayName":"Monitoring interval","description":"The interval, in seconds, between points when Enhanced Monitoring metrics are collected for the DB instance.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#monitoring_interval","rules":{"values":["0","1","5","10","15","30","60"]}},{"name":"multi_az","displayName":"Multi AZ","description":"Specifies if the Relational Database Service instance is on multiple Availability Zones.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#multi_az"},{"name":"network_type","displayName":"Network type","description":"The type of network connection to use for connecting to an Amazon Relational Database Service instance.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#network_type","rules":{"values":["IPV4","DUAL"]}},{"name":"option_group_name","displayName":"Option group name","description":"The name of the option group to associate.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#option_group_name"},{"name":"parameter_group_name","displayName":"Parameter group name","description":"The name of the DB parameter group to associate.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#parameter_group_name"},{"name":"performance_insights_enabled","displayName":"Performance insights enabled","description":"Specifies whether Performance Insights are enabled.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#performance_insights_enabled"},{"name":"performance_insights_retention_period","displayName":"Performance insights retention period","description":"The amount of time in days to retain Performance Insights data.<br>Must be a multiple of 31.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#performance_insights_retention_period"},{"name":"port","displayName":"Port","description":"The port on which the DB accepts connections.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#port","rules":{"max":"65535","min":"1"}},{"name":"replica_mode","displayName":"Replica mode","description":"Specifies whether the replica is in either mounted or open-read-only mode.<br>This attribute is only supported by Oracle instances.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#replica_mode","rules":{"values":["mounted","open-read-only"]}},{"name":"restore_to_point_in_time","displayName":"Restore to point in time","description":"Restore from a point in time.<br>Must be specified if restore is set to true.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#restore_to_point_in_time","attributes":[{"name":"restore_time","displayName":"Restore time","description":"The date and time to restore from.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#restore_time"},{"name":"source_db_instance_identifier","displayName":"Source DB instance identifier","description":"The identifier of the source DB instance from which to restore.","linkRef":"aws_db_instance","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#source_db_instance_identifier"},{"name":"use_latest_restorable_time","displayName":"Use latest restorable time","description":"Specifies whether to restore the DB instance to the latest restorable backup time.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#use_latest_restorable_time"},{"name":"source_db_instance_automated_backups_arn","displayName":"Source DB instance automated backups ARN","description":"The ARN of the automated backup from which to restore.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#source_db_instance_automated_backups_arn"},{"name":"source_dbi_resource_id","displayName":"Source DBI resource ID","description":"The resource ID of the source DB instance from which to restore.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#source_dbi_resource_id"}]},{"name":"s3_import","displayName":"S3 import","description":"Import from an S3 bucket.<br>Must be specified if import is set to true.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#s3_import","attributes":[{"name":"bucket_name","displayName":"Bucket name","description":"The name of the S3 bucket where the backup is stored.","linkRef":"aws_s3_bucket","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#bucket_name"},{"name":"bucket_prefix","displayName":"Bucket prefix","description":"The path to the backup.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#bucket_prefix"},{"name":"ingestion_role","displayName":"Ingestion role","description":"Role applied to load the data.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#ingestion_role"},{"name":"source_engine","displayName":"Source engine","description":"Source engine for the backup.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#source_engine"},{"name":"source_engine_version","displayName":"Source engine version","description":"Version of the source engine used for the backup.","linkRef":"aws_rds_engine_version","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#source_engine_version"}]},{"name":"storage_encrypted","displayName":"Storage encrypted","description":"Specifies whether the DB instance is encrypted.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#storage_encrypted"},{"name":"storage_type","displayName":"Storage type","description":"The type of storage for the DB.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#storage_type","rules":{"values":["standard","gp2","gp3","io1"]}},{"name":"storage_throughput","displayName":"Storage throughput","description":"The storage throughput value for the DB instance.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#storage_throughput"},{"name":"timezone","displayName":"Timezone","description":"The timezone of the DB instance.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#timezone"},{"name":"customer_owned_ip_enabled","displayName":"Customer owned IP enabled","description":"Specifies whether the DB instance is a customer-owned IP address (CoIP) enabled.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#customer_owned_ip_enabled"},{"name":"tags","displayName":"Tags","description":"A mapping of tags to assign to the DB instance.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance#tags"}]},{"type":"aws_key_pair","displayName":"AWS key pair","description":"A set of security credentials to prove your identity when connecting to an Amazon EC2 instance.","icon":"Aws_Identity-Access-Management_Long-Term-Security-Credential","model":"DefaultModel","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html","attributes":[{"name":"key_name","displayName":"Key name","description":"The name for the key pair.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/key_pair#key_name"},{"name":"public_key","displayName":"Public key","description":"The public key material.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/key_pair#public_key"},{"name":"key_name_prefix","displayName":"Key name prefix","description":"Creates a unique name beginning with the specified prefix.<br>Conflicts with key_name.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/key_pair#key_name_prefix"},{"name":"tags","displayName":"Tags","description":"A mapping of tags to assign to the resource.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/key_pair#tags"}]},{"type":"aws_route_table","displayName":"Route table","description":"A route table contains a set of rules, called routes, that determine where network traffic from your subnet or gateway is directed.","icon":"Aws_Route-53_Route-Table","model":"DefaultModel","url":"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html","attributes":[{"name":"vpc_id","displayName":"VPC ID","description":"The ID of the VPC for which to create the route table.","containerRef":"aws_vpc","required":true,"type":"Reference","url":"https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html"},{"name":"propagating_vgws","displayName":"Propagating Virtual GateWays (VGWS)","description":"List of virtual gateways for propagation","type":"Array","url":"https://docs.aws.amazon.com/directconnect/latest/UserGuide/virtualgateways.html"},{"name":"tags","displayName":"Tags","description":"A map of tags to assign to the resource.","type":"Object","url":"https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html"}]},{"type":"aws_route_table_association","displayName":"Route table association","description":"Association between a route table and a subnet, internet gateway, or virtual private gateway.","icon":"Aws_Connector","model":"DefaultModel","url":"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html","attributes":[{"name":"vpc_id","displayName":"VPC ID","description":"The ID of the VPC for which to create the route table association.","containerRef":"aws_vpc","type":"Reference","url":"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html"},{"name":"route_table_id","displayName":"Route table ID","description":"The ID of the route table to associate the subnet with.","linkRef":"aws_route_table","linkType":"Reverse","linkModel":"defaultLink","required":true,"type":"Link","url":"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html"},{"name":"gateway_id","displayName":"Gateway ID","description":"The ID of the gateway to associate the route table with. Conflicts with subnet_id.","linkRef":"aws_internet_gateway","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html"},{"name":"subnet_id","displayName":"Subnet ID","description":"The ID of the subnet to associate the route table with. Conflicts with gateway_id.","linkRef":"aws_subnet","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://docs.aws.amazon.com/vpc/latest/userguide/configure-subnets.html"}]},{"type":"aws_s3_bucket","displayName":"S3 bucket","description":"Amazon Simple Storage Service (Amazon S3) is an object storage service.","icon":"Aws_Storage-Service_Bucket","model":"DefaultModel","url":"https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html","attributes":[{"name":"bucket","displayName":"Bucket name","description":"The name of the bucket.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket#bucket","rules":{"max":63,"min":1}},{"name":"bucket_prefix","displayName":"Bucket prefix","description":"Creates a unique bucket name beginning with the specified prefix.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket#bucket_prefix","rules":{"max":63,"min":1}},{"name":"force_destroy","displayName":"Force destroy","description":"Indicates if all objects (including any locked objects) should be deleted from the bucket<br>when the bucket is destroyed so that the bucket can be destroyed without error.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket#force_destroy"},{"name":"object_lock_enabled","displayName":"Object lock enabled","description":"Indicates whether this bucket has an Object Lock configuration enabled.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket#object_lock_enabled"},{"name":"tags","displayName":"Tags","description":"A map of tags to assign to the resource.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket#tags"}]},{"type":"aws_s3_bucket_acl","displayName":"S3 bucket Access Control List (ACL)","description":"Amazon S3 access control lists (ACLs) enable you to manage access to buckets and objects.","icon":"Aws_Storage-Service_Bucket-ACL","model":"DefaultModel","url":"https://docs.aws.amazon.com/AmazonS3/latest/userguide/acls.html","attributes":[{"name":"bucket","displayName":"Bucket","description":"The name of the bucket to put the ACL in.","linkRef":"aws_s3_bucket","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_acl#bucket"},{"name":"acl","displayName":"ACL","description":"ACL to apply to the bucket<br>Conflicts with access_control_policy","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_acl#acl"},{"name":"expected_bucket_owner","displayName":"Bucket owner","description":"Account ID of the expected bucket owner","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_acl#expected_bucket_owner"}]},{"type":"aws_lb","displayName":"Application Load Balancer (LB)","description":"A load balancer serves as the single point of contact for clients. The load balancer distributes incoming application traffic across multiple targets, in multiple Availability Zones.","icon":"Aws_Application-Load-Balancer","model":"DefaultModel","url":"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/introduction.html","attributes":[{"name":"vpc_id","displayName":"VPC ID","description":"The ID of the VPC to create the ALB in.","containerRef":"aws_vpc","type":"Reference","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#vpc_id"},{"name":"name","displayName":"Name","description":"The name of the LB. This name must be unique within your AWS account.<br>If not specified, Terraform will autogenerate a name beginning with tf-lb.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#name","rules":{"regex":"^([a-zA-Z0-9]+-)*[a-zA-Z0-9]+$"}},{"name":"internal","displayName":"Internal LB","description":"If true, the LB will be internal.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#internal"},{"name":"load_balancer_type","displayName":"Load balancer type","description":"The type of load balancer to create.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#load_balancer_type","rules":{"values":["application","gateway","network"]}},{"name":"access_logs","displayName":"Access logs","description":"An Access Logs block.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb","attributes":[{"name":"bucket","displayName":"Bucket","description":"The S3 bucket name to store the logs in.","linkRef":"aws_s3_bucket","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#bucket"},{"name":"enabled","displayName":"Enabled","description":"Boolean to enable / disable access_logs. Defaults to false, even when bucket is specified.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#enabled"},{"name":"prefix","displayName":"Prefix","description":"The S3 bucket prefix. Logs are stored in the root if not configured.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#prefix"}]},{"name":"customer_owned_ipv4_pool","displayName":"Customer owned ivp4 pool","description":"The ID of the customer owned ipv4 pool to use for this load balancer.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#customer_owned_ipv4_pool"},{"name":"desync_mitigation_mode","displayName":"Customer owned ivp4 pool","description":"Determines how the load balancer handles requests that might pose a security risk to an application due to HTTP desync.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#desync_mitigation_mode","rules":{"values":["defensive","monitor","strictest"]}},{"name":"drop_invalid_header_fields","displayName":"Drop invalid header fields","description":"Indicates whether HTTP headers with header fields that are not valid are removed by the load balancer (true) or routed to targets (false).<br>The default is false. Elastic Load Balancing requires that message header names contain only alphanumeric characters and hyphens. Only valid for Load Balancers of type.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#drop_invalid_header_fields"},{"name":"enable_cross_zone_load_balancing","displayName":"Enable cross zone load balancing","description":"If true, cross-zone load balancing of the load balancer will be enabled. For network and gateway type load balancers, this feature is disabled by default (false).<br>For application load balancer this feature is always enabled (true) and cannot be disabled. Defaults to false.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#enable_cross_zone_load_balancing"},{"name":"enable_deletion_protection","displayName":"Enable deletion protection","description":"If true, deletion of the load balancer will be disabled via the AWS API. This will prevent Terraform from deleting the load balancer. Defaults to false.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#enable_deletion_protection"},{"name":"enable_http2","displayName":"Enable http2","description":"Indicates whether HTTP/2 is enabled in application load balancers. Defaults to true.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#enable_http2"},{"name":"enable_waf_fail_open","displayName":"Enable WAF fail open","description":"Indicates whether to allow a WAF-enabled load balancer to route requests to targets<br>if it is unable to forward the request to AWS WAF. Defaults to false.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#enable_waf_fail_open"},{"name":"idle_timeout","displayName":"Idle timeout","description":"The time in seconds that the connection is allowed to be idle.<br>Only valid for Load Balancers of type application. Default: 60.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#idle_timeout"},{"name":"ip_address_type","displayName":"IP address type","description":"The type of IP addresses used by the subnets for your load balancer.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#ip_address_type","rules":{"values":["ipv4","dualstack"]}},{"name":"security_groups","displayName":"Security groups","description":"A list of security group IDs to assign to the LB. Only valid for Load Balancers of type application.","linkRef":"aws_security_group","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#security_groups"},{"name":"preserve_host_header","displayName":"Preserve host header","description":"Indicates whether the Application Load Balancer should preserve the Host header in the HTTP request <br>and send it to the target without any change. Defaults to false.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#preserve_host_header"},{"name":"subnet_mapping","displayName":"Subnet mapping","description":"A subnet mapping block.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#subnet_mapping","attributes":[{"name":"subnet_id","displayName":"Subnet ID","description":"ID of the subnet of which to attach to the load balancer. You can specify only one subnet per Availability Zone.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#subnet_id"},{"name":"allocation_id","displayName":"Allocation ID","description":"The allocation ID of the Elastic IP address for an internet-facing load balancer.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#allocation_id"},{"name":"ipv6_address","displayName":"IPv6 address","description":"The IPv6 address. You associate IPv6 CIDR blocks with your VPC and choose the subnets <br>where you launch both internet-facing and internal Application Load Balancers or Network Load Balancers.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#ipv6_address"},{"name":"private_ipv4_address","displayName":"Private IPv4 address","description":"The private IPv4 address for an internal load balancer.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#private_ipv4_address"}]},{"name":"subnets","displayName":"Subnets","description":"A list of subnet IDs to attach to the LB. Subnets cannot be updated for Load Balancers of type network.<br>Changing this value for load balancers of type network will force a recreation of the resource.","linkRef":"aws_subnet","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#subnets"},{"name":"name_prefix","displayName":"Name prefix","description":"Creates a unique name beginning with the specified prefix. Conflicts with name.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#name_prefix"},{"name":"tags","displayName":"Tags","description":"A map of tags to assign to the resource. If configured with a provider default_tags configuration block present,<br>tags with matching keys will overwrite those defined at the provider-level.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb#tags"}]},{"type":"aws_lb_target_group","displayName":"Load balancer target group","description":"Target groups route requests to one or more registered targets, using the protocol and port number that you specify.<br>You can register a target with multiple target groups","icon":"Aws_Application-Load-Balancer-Target-Group","model":"DefaultModel","url":"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-target-groups.html","attributes":[{"name":"connection_termination","displayName":"Connection termination","description":"Whether to terminate connections at the end of the deregistration timeout on Network Load Balancers.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#connection_termination"},{"name":"deregistration_delay","displayName":"Deregistration delay","description":"Amount time for Elastic Load Balancing to wait before changing the state of a deregistering target from draining to unused.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#deregistration_delay"},{"name":"lambda_multi_value_headers_enabled","displayName":"Lambda multi value headers enabled","description":"Whether the request and response headers exchanged between the load balancer and the Lambda function include arrays of values or strings.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#lambda_multi_value_headers_enabled"},{"name":"load_balancing_algorithm_type","displayName":"Load balancing algorithm type","description":"Determines how the load balancer selects targets when routing requests.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#load_balancing_algorithm_type","rules":{"values":["round_robin","least_outstanding_requests"]}},{"name":"name","displayName":"Name","description":"Name of the target group. If omitted, Terraform will assign a random, unique name.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#name"},{"name":"name_prefix","displayName":"Name prefix","description":"Creates a unique name beginning with the specified prefix.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#name_prefix"},{"name":"port","displayName":"Port","description":"Port on which targets receive traffic, unless overridden when registering a specific target.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#port"},{"name":"preserve_client_ip","displayName":"Preserve client IP","description":"Whether client IP preservation is enabled.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#preserve_client_ip"},{"name":"protocol","displayName":"Protocol","description":"Protocol to use for routing traffic to the targets.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#protocol","rules":{"values":["GENEVE","HTTP","HTTPS","TCP","TCP_UDP","TLS","UDP"]}},{"name":"protocol_version","displayName":"Protocol version","description":"Only applicable when protocol is HTTP or HTTPS. The protocol version.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#protocol_version"},{"name":"proxy_protocol_v2","displayName":"Proxy protocol v2","description":"Whether to enable support for proxy protocol v2 on Network Load Balancers.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#proxy_protocol_v2"},{"name":"slow_start","displayName":"Slow start","description":"Amount time for targets to warm up before the load balancer sends them a full share of requests.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#slow_start"},{"name":"target_type","displayName":"Target type","description":"Type of target that you must specify when registering targets with this target group. The default is \\"instance\\".","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#target_type"},{"name":"ip_address_type","displayName":"IP address type","description":"The type of IP addresses used by the target group, only supported when target type is set to ip.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#ip_address_type","rules":{"values":["ipv4","ipv6"]}},{"name":"vpc_id","displayName":"VPC ID","description":"Identifier of the VPC in which to create the target group.","linkRef":"aws_vpc","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#vpc_id"},{"name":"health_check","displayName":"Health check","description":"Health Check configuration block.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#health_check","attributes":[{"name":"enabled","displayName":"Enabled","description":"Whether health checks are enabled.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#enabled"},{"name":"healthy_threshold","displayName":"Healthy threshold","description":"Number of consecutive health check successes required before considering a target healthy.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#healthy_threshold"},{"name":"interval","displayName":"Interval","description":"Approximate amount of time, in seconds, between health checks of an individual target.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#interval"},{"name":"matcher","displayName":"Matcher","description":"Response codes to use when checking for a healthy responses from a target.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#matcher"},{"name":"path","displayName":"Path","description":"Destination for the health check request.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#path"},{"name":"port","displayName":"Port","description":"The port the load balancer uses when performing health checks on targets.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#port"},{"name":"protocol","displayName":"Protocol","description":"The port the load balancer uses when performing health checks on targets.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#protocol","rules":{"values":["TCP","HTTP","HTTPS"]}},{"name":"timeout","displayName":"Timeout","description":"Amount of time, in seconds, during which no response from a target means a failed health check.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#timeout"},{"name":"unhealthy_threshold","displayName":"Unhealthy threshold","description":"Number of consecutive health check failures required before considering a target unhealthy.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#unhealthy_threshold"}]},{"name":"stickiness","displayName":"Stickiness","description":"Stickiness configuration block.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#stickiness","attributes":[{"name":"cookie_duration","displayName":"Cookie duration","description":"The time period, in seconds, during which requests from a client should be routed to the same target.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#cookie_duration"},{"name":"cookie_name","displayName":"Cookie name","description":"Name of the application based cookie.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#cookie_name"},{"name":"enabled","displayName":"Enable stickiness","description":"Boolean to enable/disable stickiness.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#enabled"},{"name":"type","displayName":"Type","description":"The type of sticky sessions.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#type","rules":{"values":["lb_cookie","app_cookie","source_ip","source_ip_dest_ip","source_ip_dest_ip_proto"]}}]},{"name":"tags","displayName":"Tags","description":"A map of tags to assign to the resource.","type":"Object","url":"https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html"},{"name":"target_failover","displayName":"Target failover","description":"Target failover block.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#target_failover","attributes":[{"name":"on_deregistration","displayName":"On deregistration","description":"Indicates how the Gateway Load Balancer (GWLB) handles existing flows when a target is deregistered.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#on_deregistration","rules":{"values":["rebalance","no_rebalance"]}},{"name":"on_unhealthy","displayName":"On unhealthy","description":"Indicates how the Gateway Load Balancer (GWLB) handles existing flows when a target is unhealthy.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_target_group#on_unhealthy","rules":{"values":["rebalance","no_rebalance"]}}]}]},{"type":"aws_launch_configuration","displayName":"Launch configuration","description":"A launch configuration is an instance configuration template that an Auto Scaling group uses to launch EC2 instances.<br>When you create a launch configuration, you specify information for the instances.","icon":"Aws_Launch-Configuration","model":"DefaultModel","url":"https://docs.aws.amazon.com/autoscaling/ec2/userguide/launch-configurations.html","attributes":[{"name":"image_id","displayName":"Image ID","description":"The EC2 image ID to launch.","linkRef":"aws_ami","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#image_id"},{"name":"instance_type","displayName":"Instance type","description":"The size of instance to launch.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#instance_type"},{"name":"iam_instance_profile","displayName":"IAM instance profile","description":"The name attribute of the IAM instance profile to associate with launched instances.","type":"String","url":"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2_instance-profiles.html"},{"name":"associate_public_ip_address","displayName":"Associate public IP address","description":"Associate a public ip address with an instance in a VPC.","type":"Boolean","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html"},{"name":"enable_monitoring","displayName":"Enable monitoring","description":"Enables/disables detailed monitoring.","type":"Boolean","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring_ec2.html"},{"name":"key_name","displayName":"Key name","description":"The key name that should be used for the instance.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#key_name"},{"name":"name","displayName":"Name","description":"The name of the launch configuration.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#name"},{"name":"name_prefix","displayName":"Name prefix","description":"Creates a unique name beginning with the specified prefix.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#name_prefix"},{"name":"security_groups","displayName":"Security groups","description":"A list of associated security group IDS.","linkRef":"aws_security_group","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#security_groups"},{"name":"placement_tenancy","displayName":"Placement tenancy","description":"The tenancy of the instance.","type":"String","url":"https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_CreateLaunchConfiguration.html","rules":{"values":["enabled","disabled"]}},{"name":"spot_price","displayName":"Spot price","description":"The maximum price to use for reserving spot instances.","type":"Number","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-instances.html"},{"name":"user_data","displayName":"User data","description":"The user data to provide when launching the instance.<br>If you need to pass gzip-compressed data via this argument, use \\"user_data_base64\\" instead.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#user_data"},{"name":"user_data_base64","displayName":"User data base64","description":"Can be used instead of \\"user_data\\" to pass base64-encoded binary data directly,<br>whenever the value is not a valid UTF-8 string.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#user_data_base64"},{"name":"vpc_classic_link_id","displayName":"VPC ClassicLink ID","description":"The ID of a ClassicLink-enabled VPC.","linkRef":"aws_vpc","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html"},{"name":"vpc_classic_link_security_groups","displayName":"VPC ClassicLink security groups","description":"The IDs of one or more security groups for the specified ClassicLink-enabled VPC.","linkRef":"aws_security_group","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html"},{"name":"ebs_optimized","displayName":"EBS optimized","description":"If true, the launched EC2 instance will be EBS-optimized.","type":"Boolean","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-optimized.html"},{"name":"ebs_block_device","displayName":"EBS block device","description":"Additional EBS block devices to attach to the instance.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#ebs_block_device","attributes":[{"name":"device_name","displayName":"Device name","description":"The name of the device to mount.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#device_name"},{"name":"snapshot_id","displayName":"Snapshot ID","description":"The Snapshot ID to mount.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#snapshot_id"},{"name":"volume_size","displayName":"Volume size","description":"The size of the volume in gigabytes.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#volume_size"},{"name":"volume_type","displayName":"Volume type","description":"The type of volume.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration#volume_type","rules":{"values":["standard","gp2","gp3","st1","sc1","io1"]}},{"name":"iops","displayName":"IOPS","description":"The amount of provisioned Input/output Operations Per Second (IOPS). This must be set with a volume_type of \\"io1\\".","type":"Number","url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-io-characteristics.html"},{"name":"throughput","displayName":"Throughput","description":"The throughput (MiBps) to provision for a gp3 volume.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#throughput"},{"name":"delete_on_termination","displayName":"Delete on termination","description":"Whether the volume should be destroyed on instance termination.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#delete_on_termination"},{"name":"encrypted","displayName":"Encrypted","description":"Whether the volume should be encrypted or not.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#encrypted"},{"name":"no_device","displayName":"No device","description":"Whether the device in the block device mapping of the AMI is suppressed.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#no_device"}]},{"name":"ephemeral_block_device","displayName":"Ephemeral block device","description":"Customize Ephemeral (also known as \\"Instance Store\\") volumes on the instance.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#ephemeral_block_device","attributes":[{"name":"device_name","displayName":"Device name","description":"The name of the block device to mount on the instance.","required":"true","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#ephemeral_block_device"},{"name":"no_device","displayName":"No device","description":"Whether the device in the block device mapping of the AMI is suppressed.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#ephemeral_block_device"},{"name":"virtual_name","displayName":"Virtual name","description":"The Instance Store Device Name.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#virtual_name"}]},{"name":"metadata_options","displayName":"Metadata options","description":"The metadata options for the instance.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration#metadata_options","attributes":[{"name":"http_endpoint","displayName":"HTTP endpoint","description":"The state of the metadata service: enabled, disabled.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration#http_endpoint","rules":{"values":["enabled","disabled"]}},{"name":"http_tokens","displayName":"HTTP tokens","description":"Whether the HTTP tokens are required.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration#http_tokens","rules":{"values":["optional","required"]}},{"name":"http_put_response_hop_limit","displayName":"HTTP PUT response hop limit","description":"The desired HTTP PUT response hop limit for instance metadata requests.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration#http_put_response_hop_limit"}]},{"name":"root_block_device","displayName":"Root block device","description":"Customize details about the root block device of the instance.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device","attributes":[{"description":"Whether the volume should be destroyed on instance termination.","displayName":"Delete on termination","name":"delete_on_termination","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"},{"description":"Whether the volume should be encrypted or not. Defaults to false.","displayName":"Encrypted","name":"encrypted","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"},{"description":"The amount of provisioned IOPS.","displayName":"IOPS","name":"iops","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"},{"description":"The throughput (MiBps) to provision for a gp3 volume.","displayName":"Throughput","name":"throughput","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"},{"description":"The size of the volume in gigabytes.","displayName":"Volume","name":"volume_size","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"},{"displayName":"Volume type","name":"volume_type","rules":{"values":["standard","gp2","gp3","st1","sc1","io1"]},"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration.html#root_block_device"}]}]},{"type":"aws_autoscaling_policy","displayName":"Autoscaling policy","description":"Provides an Auto Scaling policy resource.","icon":"Aws_Auto-Scaling","model":"DefaultModel","url":"https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-scaling-simple-step.html","attributes":[{"name":"name","displayName":"Name","description":"Name of the policy.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#name"},{"name":"autoscaling_group_name","displayName":"Autoscaling group name","description":"Name of the autoscaling group.","linkRef":"aws_autoscaling_group","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#autoscaling_group_name"},{"name":"adjustment_type","displayName":"Adjustment type","description":"Whether the adjustment is an absolute number or a percentage of the current capacity.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#adjustment_type","rules":{"values":["ChangeInCapacity","ExactCapacity","PercentChangeInCapacity"]}},{"name":"policy_type","displayName":"Policy type","description":"Policy type","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#policy_type","rules":{"values":["SimpleScaling","StepScaling","TargetTrackingScaling","PredictiveScaling"]}},{"name":"cooldown","displayName":"Cooldown","description":"Amount of time, in seconds, after a scaling activity completes and before the next scaling activity can start.<br>Only available for SimpleScaling policies.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#cooldown"},{"name":"scaling_adjustment","displayName":"Scaling adjustment","description":"Number of instances by which to scale.<br>Only available for SimpleScaling policies.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#scaling_adjustment"},{"name":"estimated_instance_warmup","displayName":"Estimated instance warmup","description":"Estimated time, in seconds, until a newly launched instance can contribute to the CloudWatch metrics.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#estimated_instance_warmup"},{"name":"enabled","displayName":"Enabled","description":"Whether the policy should be enabled.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#enabled"},{"name":"min_adjustment_magnitude","displayName":"Min adjustment magnitude","description":"Minimum value to scale by when adjustment_type is set to PercentChangeInCapacity.<br>Only valid when policy_type is SimpleScaling or StepScalling.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#min_adjustment_magnitude"},{"name":"metric_aggregation_type","displayName":"Metric aggregation type","description":"The aggregation type for the CloudWatch metrics.<br>Only valid when policy_type is StepScaling.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#metric_aggregation_type","rules":{"values":["Average","Minimum","Maximum"]}},{"name":"step_adjustment","displayName":"Step adjustment","description":"A list of step adjustments.<br>Only valid when policy_type is StepScaling.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#step_adjustment","attributes":[{"name":"metric_interval_lower_bound","displayName":"Metric interval lower bound","description":"The lower bound for the difference between the alarm threshold and the CloudWatch metric.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#metric_interval_lower_bound"},{"name":"metric_interval_upper_bound","displayName":"Metric interval upper bound","description":"The upper bound for the difference between the alarm threshold and the CloudWatch metric.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#metric_interval_upper_bound"},{"name":"scaling_adjustment","displayName":"Scaling adjustment","description":"The number of members by which to scale.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_policy#scaling_adjustment"}]}]},{"type":"aws_cloudwatch_metric_alarm","displayName":"Cloudwatch metric alarm","description":"Watches a single metric over a specified time period, and performs one or more specified actions, based on the value of the metric relative to a threshold over time.","icon":"Amazon-CloudWatch_Alarm","model":"DefaultModel","url":"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch_concepts.html#CloudWatchAlarms","attributes":[{"name":"alarm_name","displayName":"Alarm name","description":"The descriptive name for the alarm. This name must be unique within the user\'s AWS account","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#alarm_name"},{"name":"comparison_operator","displayName":"Comparison operator","description":"The arithmetic operation to use when comparing the specified Statistic and Threshold.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#comparison_operator","rules":{"values":["GreaterThanOrEqualToThreshold","GreaterThanThreshold","LessThanThreshold","LessThanOrEqualToThreshold","LessThanLowerOrGreaterThanUpperThreshold","LessThanLowerThreshold","GreaterThanUpperThreshold"]}},{"name":"evaluation_periods","displayName":"Evaluation periods","description":"The number of periods over which data is compared to the specified threshold.","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#evaluation_periods"},{"name":"metric_name","displayName":"Metric name","description":"The name for the alarm\'s associated metric.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#metric_name"},{"name":"namespace","displayName":"Namespace","description":"The namespace for the alarm\'s associated metric.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#namespace"},{"name":"period","displayName":"Period","description":"The period in seconds over which the specified statistic is applied.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#period"},{"name":"statistic","displayName":"Statistic","description":"The statistic to apply to the alarm\'s associated metric.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#statistic","rules":{"values":["SampleCount","Average","Sum","Minimum","Maximum"]}},{"name":"threshold","displayName":"Threshold","description":"The value against which the specified statistic is compared.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#threshold"},{"name":"dimensions","displayName":"Dimensions","description":"The dimensions for the alarm\'s associated metric.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#dimensions","attributes":[{"name":"AutoScalingGroupName","displayName":"Auto Scaling group name","description":"Amazon EC2 Auto Scaling","linkRef":"aws_autoscaling_group","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/aws-services-cloudwatch-metrics.html"}]},{"name":"actions_enabled","displayName":"Actions enabled","description":"Indicates whether or not actions should be executed during any changes to the alarm\'s state.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#actions_enabled"},{"name":"alarm_description","displayName":"Alarm description","description":"The description for the alarm.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#alarm_description"},{"name":"datapoints_to_alarm","displayName":"Datapoints to alarm","description":"The number of datapoints that must be breaching to trigger the alarm.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#datapoints_to_alarm"},{"name":"alarm_actions","displayName":"Alarm actions","description":"The list of actions to execute when this alarm transitions into an ALARM state from any other state.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#alarm_actions","rules":{"max":5,"min":1}},{"name":"insufficient_data_actions","displayName":"Insufficient data actions","description":"The list of actions to execute when this alarm transitions into an INSUFFICIENT_DATA state from any other state.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#insufficient_data_actions","rules":{"max":5,"min":1}},{"name":"ok_actions","displayName":"OK actions","description":"The list of actions to execute when this alarm transitions into an OK state from any other state.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#ok_actions","rules":{"max":5,"min":1}},{"name":"unit","displayName":"Unit","description":"The unit for the alarm\'s associated metric.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#unit","rules":{"values":["Seconds","Microseconds","Milliseconds","Bytes","Kilobytes","Megabytes","Gigabytes","Terabytes","Bits","Kilobits","Megabits","Gigabits","Terabits","Percent","Count","Bytes/Second","Kilobytes/Second","Megabytes/Second","Gigabytes/Second","Terabytes/Second","Bits/Second","Kilobits/Second","Megabits/Second","Gigabits/Second","Terabits/Second","Count/Second","None"]}},{"name":"extended_statistic","displayName":"Extended statistic","description":"The percentile statistic for the metric associated with the alarm. Specify a value between p0.0 and p100.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#extended_statistic"},{"name":"treat_missing_data","displayName":"Treat missing data","description":"Sets how this alarm is to handle missing data points.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#treat_missing_data","rules":{"values":["breaching","notBreaching","ignore","missing"]}},{"name":"evaluate_low_sample_count_percentiles","displayName":"Evaluate low sample count percentiles","description":"Used only for alarms based on percentiles.<br>If ignore, the alarm state does not change during periods with too few data points to be statistically significant.<br>If evaluate or omit, the alarm is always evaluated and possibly changes state no matter how many data points are available.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#evaluate_low_sample_count_percentiles","rules":{"values":["evaluate","ignore"]}},{"name":"metric_query","displayName":"Metric query","description":"Enable to create an alarm based on a metric math expression.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#metric_query","attributes":[{"name":"id","displayName":"ID","description":"A short name used to tie this object to the results in the response.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#id"},{"name":"account_id","displayName":"Account ID","description":"The account ID to use when searching for the metric.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#account_id"},{"name":"expression","displayName":"Expression","description":"The math expression to be performed on the returned data, if this object is performing a math expression.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#expression"},{"name":"label","displayName":"Label","description":"A human-readable label for this metric or expression.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#label"},{"name":"return_data","displayName":"Return data","description":"Specify exactly one metric_query to be true to use that metric_query result as the alarm.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_metric_alarm#return_data"}]}]},{"type":"aws_efs_file_system","displayName":"EFS File System","description":"Provides an Elastic File System (EFS) File System resource.","icon":"Amazon-EFS","model":"DefaultModel","url":"https://aws.amazon.com/efs/?nc1=h_ls","attributes":[{"name":"arn","displayName":"ARN","description":"Amazon Resource Name (ARN) of the file system.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#arn"},{"name":"availability_zone_name","displayName":"Availability zone name","description":"The AWS Availability Zone in which to create the file system.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#availability_zone_name"},{"name":"availability_zone_id","displayName":"Availability zone ID","description":"The identifier of the Availability Zone in which the file system\'s One Zone storage classes exist.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#availability_zone_id"},{"name":"creation_token","displayName":"Creation token","description":"A unique name used as reference when creating the Elastic File System to ensure idempotent file system creation.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#creation_token","rules":{"max":"64","min":"1"}},{"name":"encrypted","displayName":"Encrypted","description":"If true, the disk will be encrypted.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#encrypted"},{"name":"kms_key_id","displayName":"Encrypted","description":"Amazon Resource Name (ARN) for the Key Management Service (KMS) encryption key.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#kms_key_id"},{"name":"lifecycle_policy","displayName":"Lifecycle policy","description":"A file system lifecycle policy","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#lifecycle_policy","attributes":[{"name":"transition_to_ia","displayName":"Transition to IA","description":"Indicates how long it takes to transition files to the IA storage class.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#transition_to_ia","rules":{"values":["AFTER_1_DAY","AFTER_7_DAYS","AFTER_14_DAYS","AFTER_30_DAYS","AFTER_60_DAYS","AFTER_90_DAYS"]}},{"name":"transition_to_primary_storage_class","displayName":"Transition to primary storage class","description":"Describes the policy used to transition a file from infrequent access storage to primary storage.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#transition_to_primary_storage_class","rules":{"values":["AFTER_1_ACCESS"]}}]},{"name":"performance_mode","displayName":"Performance mode","description":"The file system performance mode.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#performance_mode","rules":{"values":["generalPurpose","maxIO"]}},{"name":"provisioned_throughput_in_mibps","displayName":"Provisioned throughput in Mibps","description":"The throughput, measured in MiB/s, that you want to provision for the file system.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#provisioned_throughput_in_mibps"},{"name":"throughput_mode","displayName":"Throughput mode","description":"Throughput mode for the file system.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#throughput_mode","rules":{"values":["bursting","provisioned","elastic"]}},{"name":"size_in_bytes","displayName":"Size in bytes","description":"Current byte count used by the file system.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/efs_file_system#size_in_bytes"},{"name":"tags","displayName":"Tags","description":"A mapping of tags to assign to the file system.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system#tags"}]},{"type":"aws_lb_listener","displayName":"Load Balancer Listener","description":"Provides a Load Balancer Listener resource.","icon":"Aws_Elastic-Load-Balancing_Network-Load-Balancer","model":"DefaultModel","url":"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-listeners.html","attributes":[{"name":"load_balancer_arn","displayName":"Load balancer ARN","description":"ARN of the load balancer.","linkRef":"aws_lb","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#load_balancer_arn"},{"name":"default_action","displayName":"Default action","description":"Configuration block for the default action.","required":true,"type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#default_action","attributes":[{"name":"type","displayName":"Type","description":"Type of routing action.","required":true,"type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#type","rules":{"values":["forward","authenticate-oidc","authenticate-cognito","redirect","fixed-response"]}},{"name":"target_group_arn","displayName":"Target group ARN","description":"ARN of the target group to which to route traffic.","linkRef":"aws_lb_target_group","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#target_group_arn"}]},{"name":"certificate_arn","displayName":"Cerificate ARN","description":"ARN of the default SSL server certificate.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#certificate_arn"},{"name":"port","displayName":"Port","description":"Port on which the load balancer is listening.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#port","rules":{"max":65535,"min":1}},{"name":"protocol","displayName":"Protocol","description":"Protocol for connections from clients to the load balancer.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#protocol","rules":{"values":["HTTP","HTTPS","TCP","TLS","UDP","TCP_UDP"]}},{"name":"alpn_policy","displayName":"ALPN policy","description":"Name of the Application-Layer Protocol Negotiation (ALPN) policy.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#alpn_policy","rules":{"values":["HTTP1Only","HTTP2Only","HTTP2Optional","HTTP2Preferred","None"]}},{"name":"ssl_policy","displayName":"SSL policy","description":"Name of the SSL Policy for the listener.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#ssl_policy"},{"name":"tags","displayName":"Tags","description":"A mapping of tags to assign to the resource.","type":"Object","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb_listener#tags"}]},{"type":"aws_efs_mount_target","displayName":"EFS Mount Target","description":"Provide an Elastic File System (EFS) mount target.","icon":"Amazon-EFS","model":"DefaultModel","url":"https://docs.aws.amazon.com/efs/latest/ug/accessing-fs.html","attributes":[{"name":"file_system_id","displayName":"File system ID","description":"The ID of the file system for which the mount target is intended.","linkRef":"aws_efs_file_system","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_mount_target#file_system_id"},{"name":"subnet_id","displayName":"Subnet ID","description":"The ID of the subnet to add the mount target in.","linkRef":"aws_subnet","linkType":"Default","linkModel":"defaultLink","required":true,"type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_mount_target#subnet_id"},{"name":"ip_address","displayName":"IP address","description":"The address (within the address range of the specified subnet) at which the file system may be mounted via the mount target.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_mount_target#ip_address"},{"name":"security_groups","displayName":"Security groups","description":"A list of up to 5 VPC security group IDs (that must be for the same VPC as subnet specified) in effect for the mount target.","linkRef":"aws_security_group","linkType":"Default","linkModel":"defaultLink","type":"Link","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_mount_target#security_groups"}]},{"type":"random_string","displayName":"Random String","description":"Generates a random permutation of alphanumeric characters and optionally special characters.","icon":"variable","model":"DefaultModel","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string","attributes":[{"name":"length","displayName":"Length","description":"The length of the string desired.","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#length","rules":{"min":1}},{"name":"special","displayName":"Special","description":"Include special characters in the result.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#special"},{"name":"min_special","displayName":"Min special","description":"Minimum number of special characters to include in the result.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_special"},{"name":"lower","displayName":"Lower","description":"Include lowercase alphabet characters in the result.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#lower"},{"name":"min_lower","displayName":"Min lower","description":"Minimum number of lowercase characters to include in the result.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_lower"},{"name":"upper","displayName":"Upper","description":"Include uppercase alphabet characters in the result.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#upper"},{"name":"min_upper","displayName":"Min upper","description":"Minimum number of uppercase characters to include in the result.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_upper"},{"name":"numeric","displayName":"Numeric","description":"Include numeric characters in the result.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#numeric"},{"name":"min_numeric","displayName":"Min numeric","description":"Minimum number of numeric characters to include in the result.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#min_numeric"},{"name":"override_special","displayName":"Override special","description":"Supply your own list of special characters to use for string generation.","type":"String"}]},{"type":"random_password","displayName":"Random Password","description":"Identical to random_string with the exception that the result is treated as sensitive and, thus, not displayed in console output.","icon":"variable","model":"DefaultModel","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password","attributes":[{"name":"length","displayName":"Length","description":"The length of the string desired.","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#length","rules":{"min":1}},{"name":"special","displayName":"Special","description":"Include special characters in the result.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#special"},{"name":"min_special","displayName":"Min special","description":"Minimum number of special characters to include in the result.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_special"},{"name":"lower","displayName":"Lower","description":"Include lowercase alphabet characters in the result.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#lower"},{"name":"min_lower","displayName":"Min lower","description":"Minimum number of lowercase characters to include in the result.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_lower"},{"name":"upper","displayName":"Upper","description":"Include uppercase alphabet characters in the result.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#upper"},{"name":"min_upper","displayName":"Min upper","description":"Minimum number of uppercase characters to include in the result.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string#min_upper"},{"name":"numeric","displayName":"Numeric","description":"Include numeric characters in the result.","type":"Boolean","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#numeric"},{"name":"min_numeric","displayName":"Min numeric","description":"Minimum number of numeric characters to include in the result.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#min_numeric"},{"name":"override_special","displayName":"Override special","description":"Supply your own list of special characters to use for string generation.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password#override_special"}]},{"type":"aws_autoscaling_group","displayName":"Auto Scaling Group","description":"Provides an Auto Scaling Group resource.","icon":"Aws_Auto-Scaling","model":"DefaultModel","url":"https://docs.aws.amazon.com/autoscaling/ec2/userguide/auto-scaling-groups.html","attributes":[{"name":"name","displayName":"Name","description":"Name of the Auto Scaling Group.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#name"},{"name":"min_size","displayName":"Min Size","description":"Minimum size of the Auto Scaling Group.","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#min_size"},{"name":"max_size","displayName":"Max Size","description":"Maximum size of the Auto Scaling Group.","required":true,"type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#max_size"},{"name":"deired_capacity","displayName":"Desired Capacity","description":"Number of Amazon EC2 instances that should be running in the group.","type":"Number","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#desired_capacity"},{"name":"health_check_type","displayName":"Health Check Type","description":"Controls how health checking is done.","type":"String","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#health_check_type","rules":{"values":["EC2","ELB"]}},{"name":"target_group_arns","displayName":"Target Group ARNs","description":"Set of aws_alb_target_group ARNs, for use with Application or Network Load Balancing.","type":"Array","url":"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group#target_group_arns"}]}],"variables":[{"type":"image_id","icon":"variable","model":"DefaultModel"}]}')};function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}function R(e,t,n){return t=I(t),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L()?Reflect.construct(t,n||[],I(e).constructor):t.apply(e,n))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}var M=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=R(this,t,[e])).providers=E,n.ajv=new(i()),n.schema=k,n.getAttributeDefinition=n.getAttributeDefinition.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),function(e,t,n){return t&&P(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"validate",value:function(){var e=this,t=[];if(Object.keys(this.providers).forEach((function(n){var r=e.ajv.compile(e.schema);r(e.providers[n])||t.push({provider:n,errors:r.errors})})),t.length>0)throw new Error("Metadata are not valid",{cause:t});return!0}},{key:"parse",value:function(){this.pluginData.definitions={components:this.getComponentDefinitions()}}},{key:"getComponentDefinitions",value:function(){var e=this,t=[];return Object.keys(this.providers).map((function(t){return e.providers[t]})).forEach((function(n){var r=[];r.push(e.getProviderDefinition(n)),n.data.forEach((function(t){return r.push(e.getBlockDefinition("data",n.name,t))})),n.modules.forEach((function(t){return r.push(e.getBlockDefinition("module",n.name,t))})),n.resources.forEach((function(t){return r.push(e.getBlockDefinition("resource",n.name,t))})),n.variables.forEach((function(t){return r.push(e.getBlockDefinition("variable",n.name,t))})),e.setChildrenTypes(r),r.forEach((function(e){t.push(e)}))})),t}},{key:"getProviderDefinition",value:function(e){var t=new m({blockType:"provider",provider:e.name,type:e.name,icon:e.icon,model:e.model,definedAttributes:e.attributes.map(this.getAttributeDefinition),isContainer:e.isContainer,displayName:e.displayName,description:e.description,url:e.url});return t.parentTypes=this.getParentTypes(t),t}},{key:"getBlockDefinition",value:function(e,t,n){var r=n.attributes||[],i=new m({blockType:e,provider:t,type:n.type,model:n.model,icon:n.icon,isContainer:n.isContainer||!1,definedAttributes:r.map(this.getAttributeDefinition),displayName:n.displayName,description:n.description,url:n.url});return i.parentTypes=this.getParentTypes(i),i}},{key:"getAttributeDefinition",value:function(e){var t=e.attributes||[];return new x(O(O({},e),{},{definedAttributes:t.map(this.getAttributeDefinition)}))}},{key:"getParentTypes",value:function(e){var t=[];return e.definedAttributes.filter((function(e){return"Reference"===e.type})).map((function(e){return e.containerRef})).filter((function(e){return!t.includes(e)})).forEach((function(e){return t.push(e)})),t}},{key:"setChildrenTypes",value:function(e){var t=e.filter((function(e){return e.parentTypes.length>0})).reduce((function(e,t){return t.parentTypes.forEach((function(n){var r;e[n]=[].concat(function(e){if(Array.isArray(e))return T(e)}(r=e[n]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.type])})),e}),{});e.filter((function(e){return t[e.type]})).forEach((function(e){e.childrenTypes=t[e.type]}))}}])}(e.DefaultMetadata);const j=M;var F={92:()=>{}},B={};function U(e){var t=B[e];if(void 0!==t)return t.exports;var n=B[e]={exports:{}};return F[e](n,n.exports,U),n.exports}U.d=(e,t)=>{for(var n in t)U.o(t,n)&&!U.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},U.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var z={};(()=>{U.d(z,{dx:()=>Y,q2:()=>Oe,FO:()=>kt,xf:()=>Tt,Gy:()=>Pt,s4:()=>Le,c7:()=>It,_7:()=>ut,gp:()=>_t,cK:()=>Ne,zs:()=>vt,AV:()=>Tt,Xp:()=>v,VS:()=>g,ul:()=>G,hW:()=>Fe,x1:()=>Qe,z5:()=>tt,oN:()=>ft,TB:()=>pt,u1:()=>dt,_b:()=>Mt,$F:()=>rt,_T:()=>Bt,db:()=>it,Zx:()=>et,_x:()=>Me,r8:()=>D,JI:()=>P,TP:()=>C,WU:()=>e,Nj:()=>u,ZP:()=>Kt});class e{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(e){this._text=e}}function t(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!(e[n]===t[n]||e[n].equals&&e[n].equals(t[n])))return!1;return!0}e.INVALID_TYPE=0,e.EPSILON=-2,e.MIN_USER_TOKEN_TYPE=1,e.EOF=-1,e.DEFAULT_CHANNEL=0,e.HIDDEN_CHANNEL=1;const n=Math.round(Math.random()*Math.pow(2,32));function r(e){if(!e)return 0;const t=typeof e,r="string"===t?e:!("object"!==t||!e.toString)&&e.toString();if(!r)return 0;let i,o;const s=3&r.length,a=r.length-s;let u=n;const c=3432918353,l=461845907;let h=0;for(;h<a;)o=255&r.charCodeAt(h)|(255&r.charCodeAt(++h))<<8|(255&r.charCodeAt(++h))<<16|(255&r.charCodeAt(++h))<<24,++h,o=(65535&o)*c+(((o>>>16)*c&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*l+(((o>>>16)*l&65535)<<16)&4294967295,u^=o,u=u<<13|u>>>19,i=5*(65535&u)+((5*(u>>>16)&65535)<<16)&4294967295,u=27492+(65535&i)+((58964+(i>>>16)&65535)<<16);switch(o=0,s){case 3:o^=(255&r.charCodeAt(h+2))<<16;case 2:o^=(255&r.charCodeAt(h+1))<<8;case 1:o^=255&r.charCodeAt(h),o=(65535&o)*c+(((o>>>16)*c&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*l+(((o>>>16)*l&65535)<<16)&4294967295,u^=o}return u^=r.length,u^=u>>>16,u=2246822507*(65535&u)+((2246822507*(u>>>16)&65535)<<16)&4294967295,u^=u>>>13,u=3266489909*(65535&u)+((3266489909*(u>>>16)&65535)<<16)&4294967295,u^=u>>>16,u>>>0}class i{constructor(){this.count=0,this.hash=0}update(){for(let e=0;e<arguments.length;e++){const t=arguments[e];if(null!=t)if(Array.isArray(t))this.update.apply(this,t);else{let e=0;switch(typeof t){case"undefined":case"function":continue;case"number":case"boolean":e=t;break;case"string":e=r(t);break;default:t.updateHashCode?t.updateHashCode(this):console.log("No updateHashCode for "+t.toString());continue}e*=3432918353,e=e<<15|e>>>17,e*=461845907,this.count=this.count+1;let n=this.hash^e;n=n<<13|n>>>19,n=5*n+3864292196,this.hash=n}}}finish(){let e=this.hash^4*this.count;return e^=e>>>16,e*=2246822507,e^=e>>>13,e*=3266489909,e^=e>>>16,e}static hashStuff(){const e=new i;return e.update.apply(e,arguments),e.finish()}}function o(e){return e?"string"==typeof e?r(e):e.hashCode():-1}function s(e,t){return e?e.equals(t):e===t}function a(e){return null===e?"null":e}function u(e){return Array.isArray(e)?"["+e.map(a).join(", ")+"]":"null"}const c="h-";class l{constructor(e,t){this.data={},this.hashFunction=e||o,this.equalsFunction=t||s}add(e){const t=c+this.hashFunction(e);if(t in this.data){const n=this.data[t];for(let t=0;t<n.length;t++)if(this.equalsFunction(e,n[t]))return n[t];return n.push(e),e}return this.data[t]=[e],e}has(e){return null!=this.get(e)}get(e){const t=c+this.hashFunction(e);if(t in this.data){const n=this.data[t];for(let t=0;t<n.length;t++)if(this.equalsFunction(e,n[t]))return n[t]}return null}values(){return Object.keys(this.data).filter((e=>e.startsWith(c))).flatMap((e=>this.data[e]),this)}toString(){return u(this.values())}get length(){return Object.keys(this.data).filter((e=>e.startsWith(c))).map((e=>this.data[e].length),this).reduce(((e,t)=>e+t),0)}}class h{hashCode(){const e=new i;return this.updateHashCode(e),e.finish()}evaluate(e,t){}evalPrecedence(e,t){return this}static andContext(e,t){if(null===e||e===h.NONE)return t;if(null===t||t===h.NONE)return e;const n=new f(e,t);return 1===n.opnds.length?n.opnds[0]:n}static orContext(e,t){if(null===e)return t;if(null===t)return e;if(e===h.NONE||t===h.NONE)return h.NONE;const n=new p(e,t);return 1===n.opnds.length?n.opnds[0]:n}}class f extends h{constructor(e,t){super();const n=new l;e instanceof f?e.opnds.map((function(e){n.add(e)})):n.add(e),t instanceof f?t.opnds.map((function(e){n.add(e)})):n.add(t);const r=d(n);if(r.length>0){let e=null;r.map((function(t){(null===e||t.precedence<e.precedence)&&(e=t)})),n.add(e)}this.opnds=Array.from(n.values())}equals(e){return this===e||e instanceof f&&t(this.opnds,e.opnds)}updateHashCode(e){e.update(this.opnds,"AND")}evaluate(e,t){for(let n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(e,t))return!1;return!0}evalPrecedence(e,t){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const o=this.opnds[i],s=o.evalPrecedence(e,t);if(n|=s!==o,null===s)return null;s!==h.NONE&&r.push(s)}if(!n)return this;if(0===r.length)return h.NONE;let i=null;return r.map((function(e){i=null===i?e:h.andContext(i,e)})),i}toString(){const e=this.opnds.map((e=>e.toString()));return(e.length>3?e.slice(3):e).join("&&")}}class p extends h{constructor(e,t){super();const n=new l;e instanceof p?e.opnds.map((function(e){n.add(e)})):n.add(e),t instanceof p?t.opnds.map((function(e){n.add(e)})):n.add(t);const r=d(n);if(r.length>0){const e=r.sort((function(e,t){return e.compareTo(t)})),t=e[e.length-1];n.add(t)}this.opnds=Array.from(n.values())}equals(e){return this===e||e instanceof p&&t(this.opnds,e.opnds)}updateHashCode(e){e.update(this.opnds,"OR")}evaluate(e,t){for(let n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(e,t))return!0;return!1}evalPrecedence(e,t){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const o=this.opnds[i],s=o.evalPrecedence(e,t);if(n|=s!==o,s===h.NONE)return h.NONE;null!==s&&r.push(s)}return n?(0===r.length||r.map((function(e){return e})),null):this}toString(){const e=this.opnds.map((e=>e.toString()));return(e.length>3?e.slice(3):e).join("||")}}function d(e){const t=[];return e.values().map((function(e){e instanceof h.PrecedencePredicate&&t.push(e)})),t}function m(e,t){if(null===e){const e={state:null,alt:null,context:null,semanticContext:null};return t&&(e.reachesIntoOuterContext=0),e}{const n={};return n.state=e.state||null,n.alt=void 0===e.alt?null:e.alt,n.context=e.context||null,n.semanticContext=e.semanticContext||null,t&&(n.reachesIntoOuterContext=e.reachesIntoOuterContext||0,n.precedenceFilterSuppressed=e.precedenceFilterSuppressed||!1),n}}class y{constructor(e,t){this.checkContext(e,t),e=m(e),t=m(t,!0),this.state=null!==e.state?e.state:t.state,this.alt=null!==e.alt?e.alt:t.alt,this.context=null!==e.context?e.context:t.context,this.semanticContext=null!==e.semanticContext?e.semanticContext:null!==t.semanticContext?t.semanticContext:h.NONE,this.reachesIntoOuterContext=t.reachesIntoOuterContext,this.precedenceFilterSuppressed=t.precedenceFilterSuppressed}checkContext(e,t){null!==e.context&&void 0!==e.context||null!==t&&null!==t.context&&void 0!==t.context||(this.context=null)}hashCode(){const e=new i;return this.updateHashCode(e),e.finish()}updateHashCode(e){e.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(e){return this===e||e instanceof y&&this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&(null===this.context?null===e.context:this.context.equals(e.context))&&this.semanticContext.equals(e.semanticContext)&&this.precedenceFilterSuppressed===e.precedenceFilterSuppressed}hashCodeForConfigSet(){const e=new i;return e.update(this.state.stateNumber,this.alt,this.semanticContext),e.finish()}equalsForConfigSet(e){return this===e||e instanceof y&&this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.semanticContext.equals(e.semanticContext)}toString(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==h.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class v{constructor(e,t){this.start=e,this.stop=t}clone(){return new v(this.start,this.stop)}contains(e){return e>=this.start&&e<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}v.INVALID_INTERVAL=new v(-1,-2);class g{constructor(){this.intervals=null,this.readOnly=!1}first(t){return null===this.intervals||0===this.intervals.length?e.INVALID_TYPE:this.intervals[0].start}addOne(e){this.addInterval(new v(e,e+1))}addRange(e,t){this.addInterval(new v(e,t+1))}addInterval(e){if(null===this.intervals)this.intervals=[],this.intervals.push(e.clone());else{for(let t=0;t<this.intervals.length;t++){const n=this.intervals[t];if(e.stop<n.start)return void this.intervals.splice(t,0,e);if(e.stop===n.start)return void(this.intervals[t]=new v(e.start,n.stop));if(e.start<=n.stop)return this.intervals[t]=new v(Math.min(n.start,e.start),Math.max(n.stop,e.stop)),void this.reduce(t)}this.intervals.push(e.clone())}}addSet(e){return null!==e.intervals&&e.intervals.forEach((e=>this.addInterval(e)),this),this}reduce(e){if(e<this.intervals.length-1){const t=this.intervals[e],n=this.intervals[e+1];t.stop>=n.stop?(this.intervals.splice(e+1,1),this.reduce(e)):t.stop>=n.start&&(this.intervals[e]=new v(t.start,n.stop),this.intervals.splice(e+1,1))}}complement(e,t){const n=new g;return n.addInterval(new v(e,t+1)),null!==this.intervals&&this.intervals.forEach((e=>n.removeRange(e))),n}contains(e){if(null===this.intervals)return!1;for(let t=0;t<this.intervals.length;t++)if(this.intervals[t].contains(e))return!0;return!1}removeRange(e){if(e.start===e.stop-1)this.removeOne(e.start);else if(null!==this.intervals){let t=0;for(let n=0;n<this.intervals.length;n++){const n=this.intervals[t];if(e.stop<=n.start)return;if(e.start>n.start&&e.stop<n.stop){this.intervals[t]=new v(n.start,e.start);const r=new v(e.stop,n.stop);return void this.intervals.splice(t,0,r)}e.start<=n.start&&e.stop>=n.stop?(this.intervals.splice(t,1),t-=1):e.start<n.stop?this.intervals[t]=new v(n.start,e.start):e.stop<n.stop&&(this.intervals[t]=new v(e.stop,n.stop)),t+=1}}}removeOne(e){if(null!==this.intervals)for(let t=0;t<this.intervals.length;t++){const n=this.intervals[t];if(e<n.start)return;if(e===n.start&&e===n.stop-1)return void this.intervals.splice(t,1);if(e===n.start)return void(this.intervals[t]=new v(n.start+1,n.stop));if(e===n.stop-1)return void(this.intervals[t]=new v(n.start,n.stop-1));if(e<n.stop-1){const r=new v(n.start,e);return n.start=e+1,void this.intervals.splice(t,0,r)}}}toString(e,t,n){return e=e||null,t=t||null,n=n||!1,null===this.intervals?"{}":null!==e||null!==t?this.toTokenString(e,t):n?this.toCharString():this.toIndexString()}toCharString(){const t=[];for(let n=0;n<this.intervals.length;n++){const r=this.intervals[n];r.stop===r.start+1?r.start===e.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(r.start)+"'"):t.push("'"+String.fromCharCode(r.start)+"'..'"+String.fromCharCode(r.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}toIndexString(){const t=[];for(let n=0;n<this.intervals.length;n++){const r=this.intervals[n];r.stop===r.start+1?r.start===e.EOF?t.push("<EOF>"):t.push(r.start.toString()):t.push(r.start.toString()+".."+(r.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}toTokenString(e,t){const n=[];for(let r=0;r<this.intervals.length;r++){const i=this.intervals[r];for(let r=i.start;r<i.stop;r++)n.push(this.elementName(e,t,r))}return n.length>1?"{"+n.join(", ")+"}":n[0]}elementName(t,n,r){return r===e.EOF?"<EOF>":r===e.EPSILON?"<EPSILON>":t[r]||n[r]}get length(){return this.intervals.map((e=>e.length)).reduce(((e,t)=>e+t))}}class _{constructor(){this.atn=null,this.stateNumber=_.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(e){return e instanceof _&&this.stateNumber===e.stateNumber}isNonGreedyExitState(){return!1}addTransition(e,t){void 0===t&&(t=-1),0===this.transitions.length?this.epsilonOnlyTransitions=e.isEpsilon:this.epsilonOnlyTransitions!==e.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===t?this.transitions.push(e):this.transitions.splice(t,1,e)}}_.INVALID_TYPE=0,_.BASIC=1,_.RULE_START=2,_.BLOCK_START=3,_.PLUS_BLOCK_START=4,_.STAR_BLOCK_START=5,_.TOKEN_START=6,_.RULE_STOP=7,_.BLOCK_END=8,_.STAR_LOOP_BACK=9,_.STAR_LOOP_ENTRY=10,_.PLUS_LOOP_BACK=11,_.LOOP_END=12,_.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],_.INVALID_STATE_NUMBER=-1;class b extends _{constructor(){return super(),this.stateType=_.RULE_STOP,this}}class w{constructor(e){if(null==e)throw"target cannot be null.";this.target=e,this.isEpsilon=!1,this.label=null}}w.EPSILON=1,w.RANGE=2,w.RULE=3,w.PREDICATE=4,w.ATOM=5,w.ACTION=6,w.SET=7,w.NOT_SET=8,w.WILDCARD=9,w.PRECEDENCE=10,w.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],w.serializationTypes={EpsilonTransition:w.EPSILON,RangeTransition:w.RANGE,RuleTransition:w.RULE,PredicateTransition:w.PREDICATE,AtomTransition:w.ATOM,ActionTransition:w.ACTION,SetTransition:w.SET,NotSetTransition:w.NOT_SET,WildcardTransition:w.WILDCARD,PrecedencePredicateTransition:w.PRECEDENCE};class x extends w{constructor(e,t,n,r){super(e),this.ruleIndex=t,this.precedence=n,this.followState=r,this.serializationType=w.RULE,this.isEpsilon=!0}matches(e,t,n){return!1}}class k extends w{constructor(t,n){super(t),this.serializationType=w.SET,null!=n?this.label=n:(this.label=new g,this.label.addOne(e.INVALID_TYPE))}matches(e,t,n){return this.label.contains(e)}toString(){return this.label.toString()}}class E extends k{constructor(e,t){super(e,t),this.serializationType=w.NOT_SET}matches(e,t,n){return e>=t&&e<=n&&!super.matches(e,t,n)}toString(){return"~"+super.toString()}}class S extends w{constructor(e){super(e),this.serializationType=w.WILDCARD}matches(e,t,n){return e>=t&&e<=n}toString(){return"."}}class T extends w{constructor(e){super(e)}}class A{}class O extends A{}class N extends O{}class P extends N{get ruleContext(){throw new Error("missing interface implementation")}}class C extends N{}class R extends C{}const L={toStringTree:function(e,t,n){t=t||null,null!==(n=n||null)&&(t=n.ruleNames);let r=L.getNodeText(e,t);r=function(e,t){return e.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);const i=e.getChildCount();if(0===i)return r;let o="("+r+" ";i>0&&(r=L.toStringTree(e.getChild(0),t),o=o.concat(r));for(let n=1;n<i;n++)r=L.toStringTree(e.getChild(n),t),o=o.concat(" "+r);return o=o.concat(")"),o},getNodeText:function(t,n,r){if(n=n||null,null!==(r=r||null)&&(n=r.ruleNames),null!==n){if(t instanceof P){const e=t.ruleContext.getAltNumber();return 0!=e?n[t.ruleIndex]+":"+e:n[t.ruleIndex]}if(t instanceof R)return t.toString();if(t instanceof C&&null!==t.symbol)return t.symbol.text}const i=t.getPayload();return i instanceof e?i.text:t.getPayload().toString()},getChildren:function(e){const t=[];for(let n=0;n<e.getChildCount();n++)t.push(e.getChild(n));return t},getAncestors:function(e){let t=[];for(e=e.getParent();null!==e;)t=[e].concat(t),e=e.getParent();return t},findAllTokenNodes:function(e,t){return L.findAllNodes(e,t,!0)},findAllRuleNodes:function(e,t){return L.findAllNodes(e,t,!1)},findAllNodes:function(e,t,n){const r=[];return L._findAllNodes(e,t,n,r),r},_findAllNodes:function(e,t,n,r){n&&e instanceof C?e.symbol.type===t&&r.push(e):!n&&e instanceof P&&e.ruleIndex===t&&r.push(e);for(let i=0;i<e.getChildCount();i++)L._findAllNodes(e.getChild(i),t,n,r)},descendants:function(e){let t=[e];for(let n=0;n<e.getChildCount();n++)t=t.concat(L.descendants(e.getChild(n)));return t}},I=L;class D extends P{constructor(e,t){super(),this.parentCtx=e||null,this.invokingState=t||-1}depth(){let e=0,t=this;for(;null!==t;)t=t.parentCtx,e+=1;return e}isEmpty(){return-1===this.invokingState}getSourceInterval(){return v.INVALID_INTERVAL}get ruleContext(){return this}getPayload(){return this}getText(){return 0===this.getChildCount()?"":this.children.map((function(e){return e.getText()})).join("")}getAltNumber(){return 0}setAltNumber(e){}getChild(e){return null}getChildCount(){return 0}accept(e){return e.visitChildren(this)}toStringTree(e,t){return I.toStringTree(this,e,t)}toString(e,t){e=e||null,t=t||null;let n=this,r="[";for(;null!==n&&n!==t;){if(null===e)n.isEmpty()||(r+=n.invokingState);else{const t=n.ruleIndex;r+=t>=0&&t<e.length?e[t]:""+t}null===n.parentCtx||null===e&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+="]",r}}class M{constructor(e){this.cachedHashCode=e}isEmpty(){return this===M.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===M.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(e){e.update(this.cachedHashCode)}}M.EMPTY=null,M.EMPTY_RETURN_STATE=2147483647,M.globalNodeCount=1,M.id=M.globalNodeCount,M.trace_atn_sim=!1;class j extends M{constructor(e,t){const n=new i;return n.update(e,t),super(n.finish()),this.parents=e,this.returnStates=t,this}isEmpty(){return this.returnStates[0]===M.EMPTY_RETURN_STATE}getParent(e){return this.parents[e]}getReturnState(e){return this.returnStates[e]}equals(e){return this===e||e instanceof j&&this.hashCode()===e.hashCode()&&t(this.returnStates,e.returnStates)&&t(this.parents,e.parents)}toString(){if(this.isEmpty())return"[]";{let e="[";for(let t=0;t<this.returnStates.length;t++)t>0&&(e+=", "),this.returnStates[t]!==M.EMPTY_RETURN_STATE?(e+=this.returnStates[t],null!==this.parents[t]?e=e+" "+this.parents[t]:e+="null"):e+="$";return e+"]"}}get length(){return this.returnStates.length}}class F extends M{constructor(e,t){let n=0;const r=new i;null!==e?r.update(e,t):r.update(1),n=r.finish(),super(n),this.parentCtx=e,this.returnState=t}getParent(e){return this.parentCtx}getReturnState(e){return this.returnState}equals(e){return this===e||e instanceof F&&this.hashCode()===e.hashCode()&&this.returnState===e.returnState&&(null==this.parentCtx?null==e.parentCtx:this.parentCtx.equals(e.parentCtx))}toString(){const e=null===this.parentCtx?"":this.parentCtx.toString();return 0===e.length?this.returnState===M.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+e}get length(){return 1}static create(e,t){return t===M.EMPTY_RETURN_STATE&&null===e?M.EMPTY:new F(e,t)}}class B extends F{constructor(){super(null,M.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(e){return null}getReturnState(e){return this.returnState}equals(e){return this===e}toString(){return"$"}}M.EMPTY=new B;const V="h-";class ${constructor(e,t){this.data={},this.hashFunction=e||o,this.equalsFunction=t||s}set(e,t){const n=V+this.hashFunction(e);if(n in this.data){const r=this.data[n];for(let n=0;n<r.length;n++){const i=r[n];if(this.equalsFunction(e,i.key)){const e=i.value;return i.value=t,e}}return r.push({key:e,value:t}),t}return this.data[n]=[{key:e,value:t}],t}containsKey(e){const t=V+this.hashFunction(e);if(t in this.data){const n=this.data[t];for(let t=0;t<n.length;t++){const r=n[t];if(this.equalsFunction(e,r.key))return!0}}return!1}get(e){const t=V+this.hashFunction(e);if(t in this.data){const n=this.data[t];for(let t=0;t<n.length;t++){const r=n[t];if(this.equalsFunction(e,r.key))return r.value}}return null}entries(){return Object.keys(this.data).filter((e=>e.startsWith(V))).flatMap((e=>this.data[e]),this)}getKeys(){return this.entries().map((e=>e.key))}getValues(){return this.entries().map((e=>e.value))}toString(){return"["+this.entries().map((e=>"{"+e.key+":"+e.value+"}")).join(", ")+"]"}get length(){return Object.keys(this.data).filter((e=>e.startsWith(V))).map((e=>this.data[e].length),this).reduce(((e,t)=>e+t),0)}}function q(e,t){if(null==t&&(t=D.EMPTY),null===t.parentCtx||t===D.EMPTY)return M.EMPTY;const n=q(e,t.parentCtx),r=e.states[t.invokingState].transitions[0];return F.create(n,r.followState.stateNumber)}function K(e,t,n){if(e.isEmpty())return e;let r=n.get(e)||null;if(null!==r)return r;if(r=t.get(e),null!==r)return n.set(e,r),r;let i=!1,o=[];for(let r=0;r<o.length;r++){const s=K(e.getParent(r),t,n);if(i||s!==e.getParent(r)){if(!i){o=[];for(let t=0;t<e.length;t++)o[t]=e.getParent(t);i=!0}o[r]=s}}if(!i)return t.add(e),n.set(e,e),e;let s=null;return s=0===o.length?M.EMPTY:1===o.length?F.create(o[0],e.getReturnState(0)):new j(o,e.returnStates),t.add(s),n.set(s,s),n.set(e,s),s}function H(e,t,n,r){if(e===t)return e;if(e instanceof F&&t instanceof F)return function(e,t,n,r){if(null!==r){let n=r.get(e,t);if(null!==n)return n;if(n=r.get(t,e),null!==n)return n}const i=function(e,t,n){if(n){if(e===M.EMPTY)return M.EMPTY;if(t===M.EMPTY)return M.EMPTY}else{if(e===M.EMPTY&&t===M.EMPTY)return M.EMPTY;if(e===M.EMPTY){const e=[t.returnState,M.EMPTY_RETURN_STATE],n=[t.parentCtx,null];return new j(n,e)}if(t===M.EMPTY){const t=[e.returnState,M.EMPTY_RETURN_STATE],n=[e.parentCtx,null];return new j(n,t)}}return null}(e,t,n);if(null!==i)return null!==r&&r.set(e,t,i),i;if(e.returnState===t.returnState){const i=H(e.parentCtx,t.parentCtx,n,r);if(i===e.parentCtx)return e;if(i===t.parentCtx)return t;const o=F.create(i,e.returnState);return null!==r&&r.set(e,t,o),o}{let n=null;if((e===t||null!==e.parentCtx&&e.parentCtx===t.parentCtx)&&(n=e.parentCtx),null!==n){const i=[e.returnState,t.returnState];e.returnState>t.returnState&&(i[0]=t.returnState,i[1]=e.returnState);const o=new j([n,n],i);return null!==r&&r.set(e,t,o),o}const i=[e.returnState,t.returnState];let o=[e.parentCtx,t.parentCtx];e.returnState>t.returnState&&(i[0]=t.returnState,i[1]=e.returnState,o=[t.parentCtx,e.parentCtx]);const s=new j(o,i);return null!==r&&r.set(e,t,s),s}}(e,t,n,r);if(n){if(e instanceof B)return e;if(t instanceof B)return t}return e instanceof F&&(e=new j([e.getParent()],[e.returnState])),t instanceof F&&(t=new j([t.getParent()],[t.returnState])),function(e,t,n,r){if(null!==r){let n=r.get(e,t);if(null!==n)return M.trace_atn_sim&&console.log("mergeArrays a="+e+",b="+t+" -> previous"),n;if(n=r.get(t,e),null!==n)return M.trace_atn_sim&&console.log("mergeArrays a="+e+",b="+t+" -> previous"),n}let i=0,o=0,s=0,a=new Array(e.returnStates.length+t.returnStates.length).fill(0),u=new Array(e.returnStates.length+t.returnStates.length).fill(null);for(;i<e.returnStates.length&&o<t.returnStates.length;){const c=e.parents[i],l=t.parents[o];if(e.returnStates[i]===t.returnStates[o]){const t=e.returnStates[i];t===M.EMPTY_RETURN_STATE&&null===c&&null===l||null!==c&&null!==l&&c===l?(u[s]=c,a[s]=t):(u[s]=H(c,l,n,r),a[s]=t),i+=1,o+=1}else e.returnStates[i]<t.returnStates[o]?(u[s]=c,a[s]=e.returnStates[i],i+=1):(u[s]=l,a[s]=t.returnStates[o],o+=1);s+=1}if(i<e.returnStates.length)for(let t=i;t<e.returnStates.length;t++)u[s]=e.parents[t],a[s]=e.returnStates[t],s+=1;else for(let e=o;e<t.returnStates.length;e++)u[s]=t.parents[e],a[s]=t.returnStates[e],s+=1;if(s<u.length){if(1===s){const n=F.create(u[0],a[0]);return null!==r&&r.set(e,t,n),n}u=u.slice(0,s),a=a.slice(0,s)}const c=new j(u,a);return c.equals(e)?(null!==r&&r.set(e,t,e),M.trace_atn_sim&&console.log("mergeArrays a="+e+",b="+t+" -> a"),e):c.equals(t)?(null!==r&&r.set(e,t,t),M.trace_atn_sim&&console.log("mergeArrays a="+e+",b="+t+" -> b"),t):(function(e){const t=new $;for(let n=0;n<e.length;n++){const r=e[n];t.containsKey(r)||t.set(r,r)}for(let n=0;n<e.length;n++)e[n]=t.get(e[n])}(u),null!==r&&r.set(e,t,c),M.trace_atn_sim&&console.log("mergeArrays a="+e+",b="+t+" -> "+c),c)}(e,t,n,r)}class W{constructor(){this.data=[]}add(e){this.data[e]=!0}or(e){Object.keys(e.data).map((e=>this.add(e)),this)}remove(e){delete this.data[e]}has(e){return!0===this.data[e]}values(){return Object.keys(this.data)}minValue(){return Math.min.apply(null,this.values())}hashCode(){return i.hashStuff(this.values())}equals(e){return e instanceof W&&t(this.data,e.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.values().length}}class G{constructor(e){this.atn=e}getDecisionLookahead(e){if(null===e)return null;const t=e.transitions.length,n=[];for(let r=0;r<t;r++){n[r]=new g;const t=new l,i=!1;this._LOOK(e.transition(r).target,null,M.EMPTY,n[r],t,new W,i,!1),(0===n[r].length||n[r].contains(G.HIT_PRED))&&(n[r]=null)}return n}LOOK(e,t,n){const r=new g,i=null!==(n=n||null)?q(e.atn,n):null;return this._LOOK(e,t,i,r,new l,new W,!0,!0),r}_LOOK(t,n,r,i,o,s,a,u){const c=new y({state:t,alt:0,context:r},null);if(!o.has(c)){if(o.add(c),t===n){if(null===r)return void i.addOne(e.EPSILON);if(r.isEmpty()&&u)return void i.addOne(e.EOF)}if(t instanceof b){if(null===r)return void i.addOne(e.EPSILON);if(r.isEmpty()&&u)return void i.addOne(e.EOF);if(r!==M.EMPTY){const e=s.has(t.ruleIndex);try{s.remove(t.ruleIndex);for(let e=0;e<r.length;e++){const t=this.atn.states[r.getReturnState(e)];this._LOOK(t,n,r.getParent(e),i,o,s,a,u)}}finally{e&&s.add(t.ruleIndex)}return}}for(let c=0;c<t.transitions.length;c++){const l=t.transitions[c];if(l.constructor===x){if(s.has(l.target.ruleIndex))continue;const e=F.create(r,l.followState.stateNumber);try{s.add(l.target.ruleIndex),this._LOOK(l.target,n,e,i,o,s,a,u)}finally{s.remove(l.target.ruleIndex)}}else if(l instanceof T)a?this._LOOK(l.target,n,r,i,o,s,a,u):i.addOne(G.HIT_PRED);else if(l.isEpsilon)this._LOOK(l.target,n,r,i,o,s,a,u);else if(l.constructor===S)i.addRange(e.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let t=l.label;null!==t&&(l instanceof E&&(t=t.complement(e.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),i.addSet(t))}}}}}G.HIT_PRED=e.INVALID_TYPE;class Y{constructor(e,t){this.grammarType=e,this.maxTokenType=t,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(e,t){return new G(this).LOOK(e,null,t)}nextTokensNoContext(e){return null!==e.nextTokenWithinRule||(e.nextTokenWithinRule=this.nextTokensInContext(e,null),e.nextTokenWithinRule.readOnly=!0),e.nextTokenWithinRule}nextTokens(e,t){return void 0===t?this.nextTokensNoContext(e):this.nextTokensInContext(e,t)}addState(e){null!==e&&(e.atn=this,e.stateNumber=this.states.length),this.states.push(e)}removeState(e){this.states[e.stateNumber]=null}defineDecisionState(e){return this.decisionToState.push(e),e.decision=this.decisionToState.length-1,e.decision}getDecisionState(e){return 0===this.decisionToState.length?null:this.decisionToState[e]}getExpectedTokens(t,n){if(t<0||t>=this.states.length)throw"Invalid state number.";const r=this.states[t];let i=this.nextTokens(r);if(!i.contains(e.EPSILON))return i;const o=new g;for(o.addSet(i),o.removeOne(e.EPSILON);null!==n&&n.invokingState>=0&&i.contains(e.EPSILON);){const t=this.states[n.invokingState].transitions[0];i=this.nextTokens(t.followState),o.addSet(i),o.removeOne(e.EPSILON),n=n.parentCtx}return i.contains(e.EPSILON)&&o.addOne(e.EOF),o}}Y.INVALID_ALT_NUMBER=0;class Q extends _{constructor(){super(),this.stateType=_.BASIC}}class X extends _{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class Z extends X{constructor(){return super(),this.endState=null,this}}class J extends _{constructor(){return super(),this.stateType=_.BLOCK_END,this.startState=null,this}}class ee extends _{constructor(){return super(),this.stateType=_.LOOP_END,this.loopBackState=null,this}}class te extends _{constructor(){return super(),this.stateType=_.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class ne extends X{constructor(){return super(),this.stateType=_.TOKEN_START,this}}class re extends X{constructor(){return super(),this.stateType=_.PLUS_LOOP_BACK,this}}class ie extends _{constructor(){return super(),this.stateType=_.STAR_LOOP_BACK,this}}class oe extends X{constructor(){return super(),this.stateType=_.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class se extends Z{constructor(){return super(),this.stateType=_.PLUS_BLOCK_START,this.loopBackState=null,this}}class ae extends Z{constructor(){return super(),this.stateType=_.STAR_BLOCK_START,this}}class ue extends Z{constructor(){return super(),this.stateType=_.BLOCK_START,this}}class ce extends w{constructor(e,t){super(e),this.label_=t,this.label=this.makeLabel(),this.serializationType=w.ATOM}makeLabel(){const e=new g;return e.addOne(this.label_),e}matches(e,t,n){return this.label_===e}toString(){return this.label_}}class le extends w{constructor(e,t,n){super(e),this.serializationType=w.RANGE,this.start=t,this.stop=n,this.label=this.makeLabel()}makeLabel(){const e=new g;return e.addRange(this.start,this.stop),e}matches(e,t,n){return e>=this.start&&e<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class he extends w{constructor(e,t,n,r){super(e),this.serializationType=w.ACTION,this.ruleIndex=t,this.actionIndex=void 0===n?-1:n,this.isCtxDependent=void 0!==r&&r,this.isEpsilon=!0}matches(e,t,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class fe extends w{constructor(e,t){super(e),this.serializationType=w.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=t}matches(e,t,n){return!1}toString(){return"epsilon"}}class pe extends h{constructor(e,t,n){super(),this.ruleIndex=void 0===e?-1:e,this.predIndex=void 0===t?-1:t,this.isCtxDependent=void 0!==n&&n}evaluate(e,t){const n=this.isCtxDependent?t:null;return e.sempred(n,this.ruleIndex,this.predIndex)}updateHashCode(e){e.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(e){return this===e||e instanceof pe&&this.ruleIndex===e.ruleIndex&&this.predIndex===e.predIndex&&this.isCtxDependent===e.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}h.NONE=new pe;class de extends T{constructor(e,t,n,r){super(e),this.serializationType=w.PREDICATE,this.ruleIndex=t,this.predIndex=n,this.isCtxDependent=r,this.isEpsilon=!0}matches(e,t,n){return!1}getPredicate(){return new pe(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class me extends h{constructor(e){super(),this.precedence=void 0===e?0:e}evaluate(e,t){return e.precpred(t,this.precedence)}evalPrecedence(e,t){return e.precpred(t,this.precedence)?h.NONE:null}compareTo(e){return this.precedence-e.precedence}updateHashCode(e){e.update(this.precedence)}equals(e){return this===e||e instanceof me&&this.precedence===e.precedence}toString(){return"{"+this.precedence+">=prec}?"}}h.PrecedencePredicate=me;class ye extends T{constructor(e,t){super(e),this.serializationType=w.PRECEDENCE,this.precedence=t,this.isEpsilon=!0}matches(e,t,n){return!1}getPredicate(){return new me(this.precedence)}toString(){return this.precedence+" >= _p"}}class ve{constructor(e){void 0===e&&(e=null),this.readOnly=!1,this.verifyATN=null===e||e.verifyATN,this.generateRuleBypassTransitions=null!==e&&e.generateRuleBypassTransitions}}ve.defaultOptions=new ve,ve.defaultOptions.readOnly=!0;class ge{constructor(e){this.actionType=e,this.isPositionDependent=!1}hashCode(){const e=new i;return this.updateHashCode(e),e.finish()}updateHashCode(e){e.update(this.actionType)}equals(e){return this===e}}class _e extends ge{constructor(){super(6)}execute(e){e.skip()}toString(){return"skip"}}_e.INSTANCE=new _e;class be extends ge{constructor(e){super(0),this.channel=e}execute(e){e._channel=this.channel}updateHashCode(e){e.update(this.actionType,this.channel)}equals(e){return this===e||e instanceof be&&this.channel===e.channel}toString(){return"channel("+this.channel+")"}}class we extends ge{constructor(e,t){super(1),this.ruleIndex=e,this.actionIndex=t,this.isPositionDependent=!0}execute(e){e.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(e){e.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(e){return this===e||e instanceof we&&this.ruleIndex===e.ruleIndex&&this.actionIndex===e.actionIndex}}class xe extends ge{constructor(){super(3)}execute(e){e.more()}toString(){return"more"}}xe.INSTANCE=new xe;class ke extends ge{constructor(e){super(7),this.type=e}execute(e){e.type=this.type}updateHashCode(e){e.update(this.actionType,this.type)}equals(e){return this===e||e instanceof ke&&this.type===e.type}toString(){return"type("+this.type+")"}}class Ee extends ge{constructor(e){super(5),this.mode=e}execute(e){e.pushMode(this.mode)}updateHashCode(e){e.update(this.actionType,this.mode)}equals(e){return this===e||e instanceof Ee&&this.mode===e.mode}toString(){return"pushMode("+this.mode+")"}}class Se extends ge{constructor(){super(4)}execute(e){e.popMode()}toString(){return"popMode"}}Se.INSTANCE=new Se;class Te extends ge{constructor(e){super(2),this.mode=e}execute(e){e.mode(this.mode)}updateHashCode(e){e.update(this.actionType,this.mode)}equals(e){return this===e||e instanceof Te&&this.mode===e.mode}toString(){return"mode("+this.mode+")"}}function Ae(e,t){const n=[];return n[e-1]=t,n.map((function(e){return t}))}class Oe{constructor(e){null==e&&(e=ve.defaultOptions),this.deserializationOptions=e,this.stateFactories=null,this.actionFactories=null}deserialize(e){const t=this.reset(e);this.checkVersion(t),t&&this.skipUUID();const n=this.readATN();this.readStates(n,t),this.readRules(n,t),this.readModes(n);const r=[];return this.readSets(n,r,this.readInt.bind(this)),t&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,t),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}reset(e){if(3===(e.charCodeAt?e.charCodeAt(0):e[0])){const t=function(e){const t=e.charCodeAt(0);return t>1?t-2:t+65534},n=e.split("").map(t);return n[0]=e.charCodeAt(0),this.data=n,this.pos=0,!0}return this.data=e,this.pos=0,!1}skipUUID(){let e=0;for(;e++<8;)this.readInt()}checkVersion(e){const t=this.readInt();if(!e&&4!==t)throw"Could not deserialize ATN with version "+t+" (expected 4)."}readATN(){const e=this.readInt(),t=this.readInt();return new Y(e,t)}readStates(e,t){let n,r,i;const o=[],s=[],a=this.readInt();for(let n=0;n<a;n++){const n=this.readInt();if(n===_.INVALID_TYPE){e.addState(null);continue}let r=this.readInt();t&&65535===r&&(r=-1);const i=this.stateFactory(n,r);if(n===_.LOOP_END){const e=this.readInt();o.push([i,e])}else if(i instanceof Z){const e=this.readInt();s.push([i,e])}e.addState(i)}for(n=0;n<o.length;n++)r=o[n],r[0].loopBackState=e.states[r[1]];for(n=0;n<s.length;n++)r=s[n],r[0].endState=e.states[r[1]];let u=this.readInt();for(n=0;n<u;n++)i=this.readInt(),e.states[i].nonGreedy=!0;let c=this.readInt();for(n=0;n<c;n++)i=this.readInt(),e.states[i].isPrecedenceRule=!0}readRules(t,n){let r;const i=this.readInt();for(0===t.grammarType&&(t.ruleToTokenType=Ae(i,0)),t.ruleToStartState=Ae(i,0),r=0;r<i;r++){const i=this.readInt();if(t.ruleToStartState[r]=t.states[i],0===t.grammarType){let i=this.readInt();n&&65535===i&&(i=e.EOF),t.ruleToTokenType[r]=i}}for(t.ruleToStopState=Ae(i,0),r=0;r<t.states.length;r++){const e=t.states[r];e instanceof b&&(t.ruleToStopState[e.ruleIndex]=e,t.ruleToStartState[e.ruleIndex].stopState=e)}}readModes(e){const t=this.readInt();for(let n=0;n<t;n++){let t=this.readInt();e.modeToStartState.push(e.states[t])}}readSets(e,t,n){const r=this.readInt();for(let e=0;e<r;e++){const e=new g;t.push(e);const r=this.readInt();0!==this.readInt()&&e.addOne(-1);for(let t=0;t<r;t++){const t=n(),r=n();e.addRange(t,r)}}}readEdges(e,t){let n,r,i,o,s;const a=this.readInt();for(n=0;n<a;n++){const n=this.readInt(),r=this.readInt(),i=this.readInt(),s=this.readInt(),a=this.readInt(),u=this.readInt();o=this.edgeFactory(e,i,n,r,s,a,u,t),e.states[n].addTransition(o)}for(n=0;n<e.states.length;n++)for(i=e.states[n],r=0;r<i.transitions.length;r++){const t=i.transitions[r];if(!(t instanceof x))continue;let n=-1;e.ruleToStartState[t.target.ruleIndex].isPrecedenceRule&&0===t.precedence&&(n=t.target.ruleIndex),o=new fe(t.followState,n),e.ruleToStopState[t.target.ruleIndex].addTransition(o)}for(n=0;n<e.states.length;n++){if(i=e.states[n],i instanceof Z){if(null===i.endState)throw"IllegalState";if(null!==i.endState.startState)throw"IllegalState";i.endState.startState=i}if(i instanceof re)for(r=0;r<i.transitions.length;r++)s=i.transitions[r].target,s instanceof se&&(s.loopBackState=i);else if(i instanceof ie)for(r=0;r<i.transitions.length;r++)s=i.transitions[r].target,s instanceof oe&&(s.loopBackState=i)}}readDecisions(e){const t=this.readInt();for(let n=0;n<t;n++){const t=this.readInt(),r=e.states[t];e.decisionToState.push(r),r.decision=n}}readLexerActions(e,t){if(0===e.grammarType){const n=this.readInt();e.lexerActions=Ae(n,null);for(let r=0;r<n;r++){const n=this.readInt();let i=this.readInt();t&&65535===i&&(i=-1);let o=this.readInt();t&&65535===o&&(o=-1),e.lexerActions[r]=this.lexerActionFactory(n,i,o)}}}generateRuleBypassTransitions(e){let t;const n=e.ruleToStartState.length;for(t=0;t<n;t++)e.ruleToTokenType[t]=e.maxTokenType+t+1;for(t=0;t<n;t++)this.generateRuleBypassTransition(e,t)}generateRuleBypassTransition(e,t){let n,r;const i=new ue;i.ruleIndex=t,e.addState(i);const o=new J;o.ruleIndex=t,e.addState(o),i.endState=o,e.defineDecisionState(i),o.startState=i;let s=null,a=null;if(e.ruleToStartState[t].isPrecedenceRule){for(a=null,n=0;n<e.states.length;n++)if(r=e.states[n],this.stateIsEndStateFor(r,t)){a=r,s=r.loopBackState.transitions[0];break}if(null===s)throw"Couldn't identify final state of the precedence rule prefix section."}else a=e.ruleToStopState[t];for(n=0;n<e.states.length;n++){r=e.states[n];for(let e=0;e<r.transitions.length;e++){const t=r.transitions[e];t!==s&&t.target===a&&(t.target=o)}}const u=e.ruleToStartState[t],c=u.transitions.length;for(;c>0;)i.addTransition(u.transitions[c-1]),u.transitions=u.transitions.slice(-1);e.ruleToStartState[t].addTransition(new fe(i)),o.addTransition(new fe(a));const l=new Q;e.addState(l),l.addTransition(new ce(o,e.ruleToTokenType[t])),i.addTransition(new fe(l))}stateIsEndStateFor(e,t){if(e.ruleIndex!==t)return null;if(!(e instanceof oe))return null;const n=e.transitions[e.transitions.length-1].target;return n instanceof ee&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof b?e:null}markPrecedenceDecisions(e){for(let t=0;t<e.states.length;t++){const n=e.states[t];if(n instanceof oe&&e.ruleToStartState[n.ruleIndex].isPrecedenceRule){const e=n.transitions[n.transitions.length-1].target;e instanceof ee&&e.epsilonOnlyTransitions&&e.transitions[0].target instanceof b&&(n.isPrecedenceDecision=!0)}}}verifyATN(e){if(this.deserializationOptions.verifyATN)for(let t=0;t<e.states.length;t++){const n=e.states[t];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof se)this.checkCondition(null!==n.loopBackState);else if(n instanceof oe)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof ae)this.checkCondition(n.transitions[1].target instanceof ee),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof ee))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof ae),this.checkCondition(n.nonGreedy)}else n instanceof ie?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof oe)):n instanceof ee?this.checkCondition(null!==n.loopBackState):n instanceof te?this.checkCondition(null!==n.stopState):n instanceof Z?this.checkCondition(null!==n.endState):n instanceof J?this.checkCondition(null!==n.startState):n instanceof X?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof b)}}checkCondition(e,t){if(!e)throw null==t&&(t="IllegalState"),t}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(t,n,r,i,o,s,a,u){const c=t.states[i];switch(n){case w.EPSILON:return new fe(c);case w.RANGE:return new le(c,0!==a?e.EOF:o,s);case w.RULE:return new x(t.states[o],s,a,c);case w.PREDICATE:return new de(c,o,s,0!==a);case w.PRECEDENCE:return new ye(c,o);case w.ATOM:return new ce(c,0!==a?e.EOF:o);case w.ACTION:return new he(c,o,s,0!==a);case w.SET:return new k(c,u[o]);case w.NOT_SET:return new E(c,u[o]);case w.WILDCARD:return new S(c);default:throw"The specified transition type: "+n+" is not valid."}}stateFactory(e,t){if(null===this.stateFactories){const e=[];e[_.INVALID_TYPE]=null,e[_.BASIC]=()=>new Q,e[_.RULE_START]=()=>new te,e[_.BLOCK_START]=()=>new ue,e[_.PLUS_BLOCK_START]=()=>new se,e[_.STAR_BLOCK_START]=()=>new ae,e[_.TOKEN_START]=()=>new ne,e[_.RULE_STOP]=()=>new b,e[_.BLOCK_END]=()=>new J,e[_.STAR_LOOP_BACK]=()=>new ie,e[_.STAR_LOOP_ENTRY]=()=>new oe,e[_.PLUS_LOOP_BACK]=()=>new re,e[_.LOOP_END]=()=>new ee,this.stateFactories=e}if(e>this.stateFactories.length||null===this.stateFactories[e])throw"The specified state type "+e+" is not valid.";{const n=this.stateFactories[e]();if(null!==n)return n.ruleIndex=t,n}}lexerActionFactory(e,t,n){if(null===this.actionFactories){const e=[];e[0]=(e,t)=>new be(e),e[1]=(e,t)=>new we(e,t),e[2]=(e,t)=>new Te(e),e[3]=(e,t)=>xe.INSTANCE,e[4]=(e,t)=>Se.INSTANCE,e[5]=(e,t)=>new Ee(e),e[6]=(e,t)=>_e.INSTANCE,e[7]=(e,t)=>new ke(e),this.actionFactories=e}if(e>this.actionFactories.length||null===this.actionFactories[e])throw"The specified lexer action type "+e+" is not valid.";return this.actionFactories[e](t,n)}}class Ne{syntaxError(e,t,n,r,i,o){}reportAmbiguity(e,t,n,r,i,o,s){}reportAttemptingFullContext(e,t,n,r,i,o){}reportContextSensitivity(e,t,n,r,i,o){}}class Pe extends Ne{constructor(){super()}syntaxError(e,t,n,r,i,o){console.error("line "+n+":"+r+" "+i)}}Pe.INSTANCE=new Pe;class Ce extends Ne{constructor(e){if(super(),null===e)throw"delegates";return this.delegates=e,this}syntaxError(e,t,n,r,i,o){this.delegates.map((s=>s.syntaxError(e,t,n,r,i,o)))}reportAmbiguity(e,t,n,r,i,o,s){this.delegates.map((a=>a.reportAmbiguity(e,t,n,r,i,o,s)))}reportAttemptingFullContext(e,t,n,r,i,o){this.delegates.map((s=>s.reportAttemptingFullContext(e,t,n,r,i,o)))}reportContextSensitivity(e,t,n,r,i,o){this.delegates.map((s=>s.reportContextSensitivity(e,t,n,r,i,o)))}}class Re{constructor(){this._listeners=[Pe.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(e){const t="4.13.1";t!==e&&console.log("ANTLR runtime and generated code versions disagree: "+t+"!="+e)}addErrorListener(e){this._listeners.push(e)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const e=this.getLiteralNames(),t=this.getSymbolicNames(),n=e.length>t.length?e.length:t.length;this.tokenNames=[];for(let r=0;r<n;r++)this.tokenNames[r]=e[r]||t[r]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";let n=this.tokenTypeMapCache[t];return void 0===n&&(n=t.reduce((function(e,t,n){e[t]=n})),n.EOF=e.EOF,this.tokenTypeMapCache[t]=n),n}getRuleIndexMap(){const e=this.ruleNames;if(null===e)throw"The current recognizer does not provide a list of rule names.";let t=this.ruleIndexMapCache[e];return void 0===t&&(t=e.reduce((function(e,t,n){e[t]=n})),this.ruleIndexMapCache[e]=t),t}getTokenType(t){const n=this.getTokenTypeMap()[t];return void 0!==n?n:e.INVALID_TYPE}getErrorHeader(e){return"line "+e.getOffendingToken().line+":"+e.getOffendingToken().column}getTokenErrorDisplay(t){if(null===t)return"<no token>";let n=t.text;return null===n&&(n=t.type===e.EOF?"<EOF>":"<"+t.type+">"),n=n.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"),"'"+n+"'"}getErrorListenerDispatch(){return new Ce(this._listeners)}sempred(e,t,n){return!0}precpred(e,t){return!0}get atn(){return this._interp.atn}get state(){return this._stateNumber}set state(e){this._stateNumber=e}}Re.tokenTypeMapCache={},Re.ruleIndexMapCache={};class Le extends e{constructor(t,n,r,i,o){super(),this.source=void 0!==t?t:Le.EMPTY_SOURCE,this.type=void 0!==n?n:null,this.channel=void 0!==r?r:e.DEFAULT_CHANNEL,this.start=void 0!==i?i:-1,this.stop=void 0!==o?o:-1,this.tokenIndex=-1,null!==this.source[0]?(this.line=t[0].line,this.column=t[0].column):this.column=-1}clone(){const e=new Le(this.source,this.type,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,e.text=this.text,e}cloneWithType(t){const n=new Le(this.source,t,this.channel,this.start,this.stop);return n.tokenIndex=this.tokenIndex,n.line=this.line,n.column=this.column,t===e.EOF&&(n.text=""),n}toString(){let e=this.text;return e=null!==e?e.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+e+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(null!==this._text)return this._text;const e=this.getInputStream();if(null===e)return null;const t=e.size;return this.start<t&&this.stop<t?e.getText(this.start,this.stop):"<EOF>"}set text(e){this._text=e}}Le.EMPTY_SOURCE=[null,null];class Ie{}class De extends Ie{constructor(e){super(),this.copyText=void 0!==e&&e}create(e,t,n,r,i,o,s,a){const u=new Le(e,t,r,i,o);return u.line=s,u.column=a,null!==n?u.text=n:this.copyText&&null!==e[1]&&(u.text=e[1].getText(i,o)),u}createThin(e,t){const n=new Le(null,e);return n.text=t,n}}De.DEFAULT=new De;class Me extends Error{constructor(e){super(e.message),Error.captureStackTrace&&Error.captureStackTrace(this,Me),this.message=e.message,this.recognizer=e.recognizer,this.input=e.input,this.ctx=e.ctx,this.offendingToken=null,this.offendingState=-1,null!==this.recognizer&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class je extends Me{constructor(e,t,n,r){super({message:"",recognizer:e,input:t,ctx:null}),this.startIndex=n,this.deadEndConfigs=r}toString(){let e="";return this.startIndex>=0&&this.startIndex<this.input.size&&(e=this.input.getText(new v(this.startIndex,this.startIndex))),"LexerNoViableAltException"+e}}class Fe extends Re{constructor(t){super(),this._input=t,this._factory=De.DEFAULT,this._tokenFactorySourcePair=[this,t],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=e.DEFAULT_CHANNEL,this._type=e.INVALID_TYPE,this._modeStack=[],this._mode=Fe.DEFAULT_MODE,this._text=null}reset(){null!==this._input&&this._input.seek(0),this._token=null,this._type=e.INVALID_TYPE,this._channel=e.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=Fe.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(null===this._input)throw"nextToken requires a non-null input stream.";const t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=e.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let t=!1;for(;;){this._type=e.INVALID_TYPE;let n=Fe.SKIP;try{n=this._interp.match(this._input,this._mode)}catch(e){if(!(e instanceof Me))throw console.log(e.stack),e;this.notifyListeners(e),this.recover(e)}if(this._input.LA(1)===e.EOF&&(this._hitEOF=!0),this._type===e.INVALID_TYPE&&(this._type=n),this._type===Fe.SKIP){t=!0;break}if(this._type!==Fe.MORE)break}if(!t)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}skip(){this._type=Fe.SKIP}more(){this._type=Fe.MORE}mode(e){this._mode=e}pushMode(e){this._interp.debug&&console.log("pushMode "+e),this._modeStack.push(this._mode),this.mode(e)}popMode(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}emitToken(e){this._token=e}emit(){const e=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(e),e}emitEOF(){const t=this.column,n=this.line,r=this._factory.create(this._tokenFactorySourcePair,e.EOF,null,e.DEFAULT_CHANNEL,this._input.index,this._input.index-1,n,t);return this.emitToken(r),r}getCharIndex(){return this._input.index}getAllTokens(){const t=[];let n=this.nextToken();for(;n.type!==e.EOF;)t.push(n),n=this.nextToken();return t}notifyListeners(e){const t=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(t,n),i="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i,e)}getErrorDisplay(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t.join("")}getErrorDisplayForChar(t){return t.charCodeAt(0)===e.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}getCharErrorDisplay(e){return"'"+this.getErrorDisplayForChar(e)+"'"}recover(t){this._input.LA(1)!==e.EOF&&(t instanceof je?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(e){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=e,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(e){this._type=e}get line(){return this._interp.line}set line(e){this._interp.line=e}get column(){return this._interp.column}set column(e){this._interp.column=e}get text(){return null!==this._text?this._text:this._interp.getText(this._input)}set text(e){this._text=e}}function Be(e){return e.hashCodeForConfigSet()}function Ue(e,t){return e===t||null!==e&&null!==t&&e.equalsForConfigSet(t)}Fe.DEFAULT_MODE=0,Fe.MORE=-2,Fe.SKIP=-3,Fe.DEFAULT_TOKEN_CHANNEL=e.DEFAULT_CHANNEL,Fe.HIDDEN=e.HIDDEN_CHANNEL,Fe.MIN_CHAR_VALUE=0,Fe.MAX_CHAR_VALUE=1114111;class ze{constructor(e){this.configLookup=new l(Be,Ue),this.fullCtx=void 0===e||e,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(e,t){if(void 0===t&&(t=null),this.readOnly)throw"This set is readonly";e.semanticContext!==h.NONE&&(this.hasSemanticContext=!0),e.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.add(e);if(n===e)return this.cachedHashCode=-1,this.configs.push(e),!0;const r=!this.fullCtx,i=H(n.context,e.context,r,t);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,e.reachesIntoOuterContext),e.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=i,!0}getStates(){const e=new l;for(let t=0;t<this.configs.length;t++)e.add(this.configs[t].state);return e}getPredicates(){const e=[];for(let t=0;t<this.configs.length;t++){const n=this.configs[t].semanticContext;n!==h.NONE&&e.push(n.semanticContext)}return e}optimizeConfigs(e){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(let t=0;t<this.configs.length;t++){const n=this.configs[t];n.context=e.getCachedContext(n.context)}}addAll(e){for(let t=0;t<e.length;t++)this.add(e[t]);return!1}equals(e){return this===e||e instanceof ze&&t(this.configs,e.configs)&&this.fullCtx===e.fullCtx&&this.uniqueAlt===e.uniqueAlt&&this.conflictingAlts===e.conflictingAlts&&this.hasSemanticContext===e.hasSemanticContext&&this.dipsIntoOuterContext===e.dipsIntoOuterContext}hashCode(){const e=new i;return e.update(this.configs),e.finish()}updateHashCode(e){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),e.update(this.cachedHashCode)):e.update(this.hashCode())}isEmpty(){return 0===this.configs.length}contains(e){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(e)}containsFast(e){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(e)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new l}setReadonly(e){this.readOnly=e,e&&(this.configLookup=null)}toString(){return u(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==Y.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class Ve{constructor(e,t){return null===e&&(e=-1),null===t&&(t=new ze),this.stateNumber=e,this.configs=t,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const e=new l;if(null!==this.configs)for(let t=0;t<this.configs.length;t++){const n=this.configs[t];e.add(n.alt)}return 0===e.length?null:e}equals(e){return this===e||e instanceof Ve&&this.configs.equals(e.configs)}toString(){let e=this.stateNumber+":"+this.configs;return this.isAcceptState&&(e+="=>",null!==this.predicates?e+=this.predicates:e+=this.prediction),e}hashCode(){const e=new i;return e.update(this.configs),e.finish()}}class $e{constructor(e,t){return this.atn=e,this.sharedContextCache=t,this}getCachedContext(e){if(null===this.sharedContextCache)return e;const t=new $;return K(e,this.sharedContextCache,t)}}$e.ERROR=new Ve(2147483647,new ze);class qe extends ze{constructor(){super(),this.configLookup=new l}}class Ke extends y{constructor(e,t){super(e,t);const n=e.lexerActionExecutor||null;return this.lexerActionExecutor=n||(null!==t?t.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=null!==t&&this.checkNonGreedyDecision(t,this.state),this.hashCodeForConfigSet=Ke.prototype.hashCode,this.equalsForConfigSet=Ke.prototype.equals,this}updateHashCode(e){e.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(e){return this===e||e instanceof Ke&&this.passedThroughNonGreedyDecision===e.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(e.lexerActionExecutor):!e.lexerActionExecutor)&&super.equals(e)}checkNonGreedyDecision(e,t){return e.passedThroughNonGreedyDecision||t instanceof X&&t.nonGreedy}}class He extends ge{constructor(e,t){super(t.actionType),this.offset=e,this.action=t,this.isPositionDependent=!0}execute(e){this.action.execute(e)}updateHashCode(e){e.update(this.actionType,this.offset,this.action)}equals(e){return this===e||e instanceof He&&this.offset===e.offset&&this.action===e.action}}class We{constructor(e){return this.lexerActions=null===e?[]:e,this.cachedHashCode=i.hashStuff(e),this}fixOffsetBeforeMatch(e){let t=null;for(let n=0;n<this.lexerActions.length;n++)!this.lexerActions[n].isPositionDependent||this.lexerActions[n]instanceof He||(null===t&&(t=this.lexerActions.concat([])),t[n]=new He(e,this.lexerActions[n]));return null===t?this:new We(t)}execute(e,t,n){let r=!1;const i=t.index;try{for(let o=0;o<this.lexerActions.length;o++){let s=this.lexerActions[o];if(s instanceof He){const e=s.offset;t.seek(n+e),s=s.action,r=n+e!==i}else s.isPositionDependent&&(t.seek(i),r=!1);s.execute(e)}}finally{r&&t.seek(i)}}hashCode(){return this.cachedHashCode}updateHashCode(e){e.update(this.cachedHashCode)}equals(e){if(this===e)return!0;if(e instanceof We){if(this.cachedHashCode!=e.cachedHashCode)return!1;if(this.lexerActions.length!=e.lexerActions.length)return!1;{const t=this.lexerActions.length;for(let n=0;n<t;++n)if(!this.lexerActions[n].equals(e.lexerActions[n]))return!1;return!0}}return!1}static append(e,t){if(null===e)return new We([t]);const n=e.lexerActions.concat([t]);return new We(n)}}function Ge(e){e.index=-1,e.line=0,e.column=-1,e.dfaState=null}class Ye{constructor(){Ge(this)}reset(){Ge(this)}}class Qe extends $e{constructor(e,t,n,r){super(t,r),this.decisionToDFA=n,this.recog=e,this.startIndex=-1,this.line=1,this.column=0,this.mode=Fe.DEFAULT_MODE,this.prevAccept=new Ye}copyState(e){this.column=e.column,this.line=e.line,this.mode=e.mode,this.startIndex=e.startIndex}match(e,t){this.mode=t;const n=e.mark();try{this.startIndex=e.index,this.prevAccept.reset();const n=this.decisionToDFA[t];return null===n.s0?this.matchATN(e):this.execATN(e,n.s0)}finally{e.release(n)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Fe.DEFAULT_MODE}matchATN(e){const t=this.atn.modeToStartState[this.mode];Qe.debug&&console.log("matchATN mode "+this.mode+" start: "+t);const n=this.mode,r=this.computeStartState(e,t),i=r.hasSemanticContext;r.hasSemanticContext=!1;const o=this.addDFAState(r);i||(this.decisionToDFA[this.mode].s0=o);const s=this.execATN(e,o);return Qe.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),s}execATN(t,n){Qe.debug&&console.log("start state closure="+n.configs),n.isAcceptState&&this.captureSimState(this.prevAccept,t,n);let r=t.LA(1),i=n;for(;;){Qe.debug&&console.log("execATN loop starting closure: "+i.configs);let n=this.getExistingTargetState(i,r);if(null===n&&(n=this.computeTargetState(t,i,r)),n===$e.ERROR)break;if(r!==e.EOF&&this.consume(t),n.isAcceptState&&(this.captureSimState(this.prevAccept,t,n),r===e.EOF))break;r=t.LA(1),i=n}return this.failOrAccept(this.prevAccept,t,i.configs,r)}getExistingTargetState(e,t){if(null===e.edges||t<Qe.MIN_DFA_EDGE||t>Qe.MAX_DFA_EDGE)return null;let n=e.edges[t-Qe.MIN_DFA_EDGE];return void 0===n&&(n=null),Qe.debug&&null!==n&&console.log("reuse state "+e.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(e,t,n){const r=new qe;return this.getReachableConfigSet(e,t.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(t,n,$e.ERROR),$e.ERROR):this.addDFAEdge(t,n,null,r)}failOrAccept(t,n,r,i){if(null!==this.prevAccept.dfaState){const e=t.dfaState.lexerActionExecutor;return this.accept(n,e,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(i===e.EOF&&n.index===this.startIndex)return e.EOF;throw new je(this.recog,n,this.startIndex,r)}getReachableConfigSet(t,n,r,i){let o=Y.INVALID_ALT_NUMBER;for(let s=0;s<n.items.length;s++){const a=n.items[s],u=a.alt===o;if(!u||!a.passedThroughNonGreedyDecision){Qe.debug&&console.log("testing %s at %s\n",this.getTokenName(i),a.toString(this.recog,!0));for(let n=0;n<a.state.transitions.length;n++){const s=a.state.transitions[n],c=this.getReachableTarget(s,i);if(null!==c){let n=a.lexerActionExecutor;null!==n&&(n=n.fixOffsetBeforeMatch(t.index-this.startIndex));const s=i===e.EOF,l=new Ke({state:c,lexerActionExecutor:n},a);this.closure(t,l,r,u,!0,s)&&(o=a.alt)}}}}}accept(e,t,n,r,i,o){Qe.debug&&console.log("ACTION %s\n",t),e.seek(r),this.line=i,this.column=o,null!==t&&null!==this.recog&&t.execute(this.recog,e,n)}getReachableTarget(e,t){return e.matches(t,0,Fe.MAX_CHAR_VALUE)?e.target:null}computeStartState(e,t){const n=M.EMPTY,r=new qe;for(let i=0;i<t.transitions.length;i++){const o=t.transitions[i].target,s=new Ke({state:o,alt:i+1,context:n},null);this.closure(e,s,r,!1,!1,!1)}return r}closure(e,t,n,r,i,o){let s=null;if(Qe.debug&&console.log("closure("+t.toString(this.recog,!0)+")"),t.state instanceof b){if(Qe.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[t.state.ruleIndex],t):console.log("closure at rule stop %s\n",t)),null===t.context||t.context.hasEmptyPath()){if(null===t.context||t.context.isEmpty())return n.add(t),!0;n.add(new Ke({state:t.state,context:M.EMPTY},t)),r=!0}if(null!==t.context&&!t.context.isEmpty())for(let a=0;a<t.context.length;a++)if(t.context.getReturnState(a)!==M.EMPTY_RETURN_STATE){const u=t.context.getParent(a),c=this.atn.states[t.context.getReturnState(a)];s=new Ke({state:c,context:u},t),r=this.closure(e,s,n,r,i,o)}return r}t.state.epsilonOnlyTransitions||r&&t.passedThroughNonGreedyDecision||n.add(t);for(let a=0;a<t.state.transitions.length;a++){const u=t.state.transitions[a];s=this.getEpsilonTarget(e,t,u,n,i,o),null!==s&&(r=this.closure(e,s,n,r,i,o))}return r}getEpsilonTarget(t,n,r,i,o,s){let a=null;if(r.serializationType===w.RULE){const e=F.create(n.context,r.followState.stateNumber);a=new Ke({state:r.target,context:e},n)}else{if(r.serializationType===w.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(r.serializationType===w.PREDICATE)Qe.debug&&console.log("EVAL rule "+r.ruleIndex+":"+r.predIndex),i.hasSemanticContext=!0,this.evaluatePredicate(t,r.ruleIndex,r.predIndex,o)&&(a=new Ke({state:r.target},n));else if(r.serializationType===w.ACTION)if(null===n.context||n.context.hasEmptyPath()){const e=We.append(n.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);a=new Ke({state:r.target,lexerActionExecutor:e},n)}else a=new Ke({state:r.target},n);else r.serializationType===w.EPSILON?a=new Ke({state:r.target},n):r.serializationType!==w.ATOM&&r.serializationType!==w.RANGE&&r.serializationType!==w.SET||s&&r.matches(e.EOF,0,Fe.MAX_CHAR_VALUE)&&(a=new Ke({state:r.target},n))}return a}evaluatePredicate(e,t,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,t,n);const i=this.column,o=this.line,s=e.index,a=e.mark();try{return this.consume(e),this.recog.sempred(null,t,n)}finally{this.column=i,this.line=o,e.seek(s),e.release(a)}}captureSimState(e,t,n){e.index=t.index,e.line=this.line,e.column=this.column,e.dfaState=n}addDFAEdge(e,t,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){const e=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),e)return n}return t<Qe.MIN_DFA_EDGE||t>Qe.MAX_DFA_EDGE||(Qe.debug&&console.log("EDGE "+e+" -> "+n+" upon "+t),null===e.edges&&(e.edges=[]),e.edges[t-Qe.MIN_DFA_EDGE]=n),n}addDFAState(e){const t=new Ve(null,e);let n=null;for(let t=0;t<e.items.length;t++){const r=e.items[t];if(r.state instanceof b){n=r;break}}null!==n&&(t.isAcceptState=!0,t.lexerActionExecutor=n.lexerActionExecutor,t.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);const r=this.decisionToDFA[this.mode],i=r.states.get(t);if(null!==i)return i;const o=t;return o.stateNumber=r.states.length,e.setReadonly(!0),o.configs=e,r.states.add(o),o}getDFA(e){return this.decisionToDFA[e]}getText(e){return e.getText(this.startIndex,e.index-1)}consume(e){e.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,e.consume()}getTokenName(e){return-1===e?"EOF":"'"+String.fromCharCode(e)+"'"}}Qe.debug=!1,Qe.dfa_debug=!1,Qe.MIN_DFA_EDGE=0,Qe.MAX_DFA_EDGE=127;class Xe{constructor(e,t){this.alt=t,this.pred=e}toString(){return"("+this.pred+", "+this.alt+")"}}class Ze{constructor(){this.data={}}get(e){return this.data["k-"+e]||null}set(e,t){this.data["k-"+e]=t}values(){return Object.keys(this.data).filter((e=>e.startsWith("k-"))).map((e=>this.data[e]),this)}}const Je={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(e,t){if(Je.allConfigsInRuleStopStates(t))return!0;if(e===Je.SLL&&t.hasSemanticContext){const e=new ze;for(let n=0;n<t.items.length;n++){let r=t.items[n];r=new y({semanticContext:h.NONE},r),e.add(r)}t=e}const n=Je.getConflictingAltSubsets(t);return Je.hasConflictingAltSet(n)&&!Je.hasStateAssociatedWithOneAlt(t)},hasConfigInRuleStopState:function(e){for(let t=0;t<e.items.length;t++)if(e.items[t].state instanceof b)return!0;return!1},allConfigsInRuleStopStates:function(e){for(let t=0;t<e.items.length;t++)if(!(e.items[t].state instanceof b))return!1;return!0},resolvesToJustOneViableAlt:function(e){return Je.getSingleViableAlt(e)},allSubsetsConflict:function(e){return!Je.hasNonConflictingAltSet(e)},hasNonConflictingAltSet:function(e){for(let t=0;t<e.length;t++)if(1===e[t].length)return!0;return!1},hasConflictingAltSet:function(e){for(let t=0;t<e.length;t++)if(e[t].length>1)return!0;return!1},allSubsetsEqual:function(e){let t=null;for(let n=0;n<e.length;n++){const r=e[n];if(null===t)t=r;else if(r!==t)return!1}return!0},getUniqueAlt:function(e){const t=Je.getAlts(e);return 1===t.length?t.minValue():Y.INVALID_ALT_NUMBER},getAlts:function(e){const t=new W;return e.map((function(e){t.or(e)})),t},getConflictingAltSubsets:function(e){const t=new $;return t.hashFunction=function(e){i.hashStuff(e.state.stateNumber,e.context)},t.equalsFunction=function(e,t){return e.state.stateNumber===t.state.stateNumber&&e.context.equals(t.context)},e.items.map((function(e){let n=t.get(e);null===n&&(n=new W,t.set(e,n)),n.add(e.alt)})),t.getValues()},getStateToAltMap:function(e){const t=new Ze;return e.items.map((function(e){let n=t.get(e.state);null===n&&(n=new W,t.set(e.state,n)),n.add(e.alt)})),t},hasStateAssociatedWithOneAlt:function(e){const t=Je.getStateToAltMap(e).values();for(let e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},getSingleViableAlt:function(e){let t=null;for(let n=0;n<e.length;n++){const r=e[n].minValue();if(null===t)t=r;else if(t!==r)return Y.INVALID_ALT_NUMBER}return t}},et=Je;class tt extends Me{constructor(e,t,n,r,i,o){o=o||e._ctx,r=r||e.getCurrentToken(),n=n||e.getCurrentToken(),t=t||e.getInputStream(),super({message:"",recognizer:e,input:t,ctx:o}),this.deadEndConfigs=i,this.startToken=n,this.offendingToken=r}}class nt{constructor(e){this.defaultMapCtor=e||$,this.cacheMap=new this.defaultMapCtor}get(e,t){const n=this.cacheMap.get(e)||null;return null===n?null:n.get(t)||null}set(e,t,n){let r=this.cacheMap.get(e)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(e,r)),r.set(t,n)}}class rt extends $e{constructor(e,t,n,r){super(t,r),this.parser=e,this.decisionToDFA=n,this.predictionMode=et.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.trace_atn_sim=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(e,t,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+t+" exec LA(1)=="+this.getLookaheadName(e)+" line "+e.LT(1).line+":"+e.LT(1).column),this._input=e,this._startIndex=e.index,this._outerContext=n;const r=this.decisionToDFA[t];this._dfa=r;const i=e.mark(),o=e.index;try{let t;if(t=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0,null===t){null===n&&(n=D.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(e)+", outerContext="+n.toString(this.parser.ruleNames));const i=!1;let o=this.computeStartState(r.atnStartState,D.EMPTY,i);r.precedenceDfa?(r.s0.configs=o,o=this.applyPrecedenceFilter(o),t=this.addDFAState(r,new Ve(null,o)),r.setPrecedenceStartState(this.parser.getPrecedence(),t)):(t=this.addDFAState(r,new Ve(null,o)),r.s0=t)}const i=this.execATN(r,t,e,o,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),i}finally{this._dfa=null,this.mergeCache=null,e.seek(o),e.release(i)}}execATN(t,n,r,i,o){let s;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+t.decision+", DFA state "+n+", LA(1)=="+this.getLookaheadName(r)+" line "+r.LT(1).line+":"+r.LT(1).column);let a=n;this.debug&&console.log("s0 = "+n);let u=r.LA(1);for(;;){let n=this.getExistingTargetState(a,u);if(null===n&&(n=this.computeTargetState(t,a,u)),n===$e.ERROR){const e=this.noViableAlt(r,o,a.configs,i);if(r.seek(i),s=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(a.configs,o),s!==Y.INVALID_ALT_NUMBER)return s;throw e}if(n.requiresFullContext&&this.predictionMode!==et.SLL){let e=null;if(null!==n.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const t=r.index;if(t!==i&&r.seek(i),e=this.evalSemanticContext(n.predicates,o,!0),1===e.length)return this.debug&&console.log("Full LL avoided"),e.minValue();t!==i&&r.seek(t)}this.dfa_debug&&console.log("ctx sensitive state "+o+" in "+n);const a=!0,u=this.computeStartState(t.atnStartState,o,a);return this.reportAttemptingFullContext(t,e,n.configs,i,r.index),s=this.execATNWithFullContext(t,n,u,r,i,o),s}if(n.isAcceptState){if(null===n.predicates)return n.prediction;const e=r.index;r.seek(i);const s=this.evalSemanticContext(n.predicates,o,!0);if(0===s.length)throw this.noViableAlt(r,o,n.configs,i);return 1===s.length||this.reportAmbiguity(t,n,i,e,!1,s,n.configs),s.minValue()}a=n,u!==e.EOF&&(r.consume(),u=r.LA(1))}}getExistingTargetState(e,t){const n=e.edges;return null===n?null:n[t+1]||null}computeTargetState(e,t,n){const r=this.computeReachSet(t.configs,n,!1);if(null===r)return this.addDFAEdge(e,t,n,$e.ERROR),$e.ERROR;let i=new Ve(null,r);const o=this.getUniqueAlt(r);if(this.debug){const e=et.getConflictingAltSubsets(r);console.log("SLL altSubSets="+u(e)+", configs="+r+", predict="+o+", allSubsetsConflict="+et.allSubsetsConflict(e)+", conflictingAlts="+this.getConflictingAlts(r))}return o!==Y.INVALID_ALT_NUMBER?(i.isAcceptState=!0,i.configs.uniqueAlt=o,i.prediction=o):et.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(i.configs.conflictingAlts=this.getConflictingAlts(r),i.requiresFullContext=!0,i.isAcceptState=!0,i.prediction=i.configs.conflictingAlts.minValue()),i.isAcceptState&&i.configs.hasSemanticContext&&(this.predicateDFAState(i,this.atn.getDecisionState(e.decision)),null!==i.predicates&&(i.prediction=Y.INVALID_ALT_NUMBER)),i=this.addDFAEdge(e,t,n,i),i}predicateDFAState(e,t){const n=t.transitions.length,r=this.getConflictingAltsOrUniqueAlt(e.configs),i=this.getPredsForAmbigAlts(r,e.configs,n);null!==i?(e.predicates=this.getPredicatePredictions(r,i),e.prediction=Y.INVALID_ALT_NUMBER):e.prediction=r.minValue()}execATNWithFullContext(t,n,r,i,o,s){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+r);let a,u=!1,c=r;i.seek(o);let l=i.LA(1),h=-1;for(;;){if(a=this.computeReachSet(c,l,!0),null===a){const e=this.noViableAlt(i,s,c,o);i.seek(o);const t=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(c,s);if(t!==Y.INVALID_ALT_NUMBER)return t;throw e}const t=et.getConflictingAltSubsets(a);if(this.debug&&console.log("LL altSubSets="+t+", predict="+et.getUniqueAlt(t)+", resolvesToJustOneViableAlt="+et.resolvesToJustOneViableAlt(t)),a.uniqueAlt=this.getUniqueAlt(a),a.uniqueAlt!==Y.INVALID_ALT_NUMBER){h=a.uniqueAlt;break}if(this.predictionMode!==et.LL_EXACT_AMBIG_DETECTION){if(h=et.resolvesToJustOneViableAlt(t),h!==Y.INVALID_ALT_NUMBER)break}else if(et.allSubsetsConflict(t)&&et.allSubsetsEqual(t)){u=!0,h=et.getSingleViableAlt(t);break}c=a,l!==e.EOF&&(i.consume(),l=i.LA(1))}return a.uniqueAlt!==Y.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,h,a,o,i.index),h):(this.reportAmbiguity(t,n,o,i.index,u,null,a),h)}computeReachSet(t,n,r){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new nt);const i=new ze(r);let o=null;for(let s=0;s<t.items.length;s++){const a=t.items[s];if(this.debug&&console.log("testing "+this.getTokenName(n)+" at "+a),a.state instanceof b)(r||n===e.EOF)&&(null===o&&(o=[]),o.push(a),this.debug_add&&console.log("added "+a+" to skippedStopStates"));else for(let e=0;e<a.state.transitions.length;e++){const t=a.state.transitions[e],r=this.getReachableTarget(t,n);if(null!==r){const e=new y({state:r},a);i.add(e,this.mergeCache),this.debug_add&&console.log("added "+e+" to intermediate")}}}let s=null;if(null===o&&n!==e.EOF&&(1===i.items.length||this.getUniqueAlt(i)!==Y.INVALID_ALT_NUMBER)&&(s=i),null===s){s=new ze(r);const t=new l,o=n===e.EOF;for(let e=0;e<i.items.length;e++)this.closure(i.items[e],s,t,!1,r,o)}if(n===e.EOF&&(s=this.removeAllConfigsNotInRuleStopState(s,s===i)),!(null===o||r&&et.hasConfigInRuleStopState(s)))for(let e=0;e<o.length;e++)s.add(o[e],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+t+" -> "+s),0===s.items.length?null:s}removeAllConfigsNotInRuleStopState(t,n){if(et.allConfigsInRuleStopStates(t))return t;const r=new ze(t.fullCtx);for(let i=0;i<t.items.length;i++){const o=t.items[i];if(o.state instanceof b)r.add(o,this.mergeCache);else if(n&&o.state.epsilonOnlyTransitions&&this.atn.nextTokens(o.state).contains(e.EPSILON)){const e=this.atn.ruleToStopState[o.state.ruleIndex];r.add(new y({state:e},o),this.mergeCache)}}return r}computeStartState(e,t,n){const r=q(this.atn,t),i=new ze(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+e+" initialContext="+r.toString(this.parser));for(let t=0;t<e.transitions.length;t++){const o=e.transitions[t].target,s=new y({state:o,alt:t+1,context:r},null),a=new l;this.closure(s,i,a,!0,n,!1)}return i}applyPrecedenceFilter(e){let t;const n=[],r=new ze(e.fullCtx);for(let i=0;i<e.items.length;i++){if(t=e.items[i],1!==t.alt)continue;const o=t.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==o&&(n[t.state.stateNumber]=t.context,o!==t.semanticContext?r.add(new y({semanticContext:o},t),this.mergeCache):r.add(t,this.mergeCache))}for(let i=0;i<e.items.length;i++)if(t=e.items[i],1!==t.alt){if(!t.precedenceFilterSuppressed){const e=n[t.state.stateNumber]||null;if(null!==e&&e.equals(t.context))continue}r.add(t,this.mergeCache)}return r}getReachableTarget(e,t){return e.matches(t,0,this.atn.maxTokenType)?e.target:null}getPredsForAmbigAlts(e,t,n){let r=[];for(let n=0;n<t.items.length;n++){const i=t.items[n];e.has(i.alt)&&(r[i.alt]=h.orContext(r[i.alt]||null,i.semanticContext))}let i=0;for(let e=1;e<n+1;e++){const t=r[e]||null;null===t?r[e]=h.NONE:t!==h.NONE&&(i+=1)}return 0===i&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+u(r)),r}getPredicatePredictions(e,t){const n=[];let r=!1;for(let i=1;i<t.length;i++){const o=t[i];null!==e&&e.has(i)&&n.push(new Xe(o,i)),o!==h.NONE&&(r=!0)}return r?n:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(e,t){const n=this.splitAccordingToSemanticValidity(e,t),r=n[0],i=n[1];let o=this.getAltThatFinishedDecisionEntryRule(r);return o!==Y.INVALID_ALT_NUMBER||i.items.length>0&&(o=this.getAltThatFinishedDecisionEntryRule(i),o!==Y.INVALID_ALT_NUMBER)?o:Y.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(e){const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.reachesIntoOuterContext>0||r.state instanceof b&&r.context.hasEmptyPath())&&t.indexOf(r.alt)<0&&t.push(r.alt)}return 0===t.length?Y.INVALID_ALT_NUMBER:Math.min.apply(null,t)}splitAccordingToSemanticValidity(e,t){const n=new ze(e.fullCtx),r=new ze(e.fullCtx);for(let i=0;i<e.items.length;i++){const o=e.items[i];o.semanticContext!==h.NONE?o.semanticContext.evaluate(this.parser,t)?n.add(o):r.add(o):n.add(o)}return[n,r]}evalSemanticContext(e,t,n){const r=new W;for(let i=0;i<e.length;i++){const o=e[i];if(o.pred===h.NONE){if(r.add(o.alt),!n)break;continue}const s=o.pred.evaluate(this.parser,t);if((this.debug||this.dfa_debug)&&console.log("eval pred "+o+"="+s),s&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+o.alt),r.add(o.alt),!n))break}return r}closure(e,t,n,r,i,o){this.closureCheckingStopState(e,t,n,r,i,0,o)}closureCheckingStopState(e,t,n,r,i,o,s){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+e.toString(this.parser,!0)+")"),e.state instanceof b){if(!e.context.isEmpty()){for(let a=0;a<e.context.length;a++){if(e.context.getReturnState(a)===M.EMPTY_RETURN_STATE){if(i){t.add(new y({state:e.state,context:M.EMPTY},e),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(e.state.ruleIndex)),this.closure_(e,t,n,r,i,o,s);continue}const u=this.atn.states[e.context.getReturnState(a)],c=e.context.getParent(a),l={state:u,alt:e.alt,context:c,semanticContext:e.semanticContext},h=new y(l,null);h.reachesIntoOuterContext=e.reachesIntoOuterContext,this.closureCheckingStopState(h,t,n,r,i,o-1,s)}return}if(i)return void t.add(e,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(e.state.ruleIndex))}this.closure_(e,t,n,r,i,o,s)}closure_(e,t,n,r,i,o,s){const a=e.state;a.epsilonOnlyTransitions||t.add(e,this.mergeCache);for(let u=0;u<a.transitions.length;u++){if(0===u&&this.canDropLoopEntryEdgeInLeftRecursiveRule(e))continue;const c=a.transitions[u],l=r&&!(c instanceof he),h=this.getEpsilonTarget(e,c,l,0===o,i,s);if(null!==h){let r=o;if(e.state instanceof b){if(null!==this._dfa&&this._dfa.precedenceDfa&&c.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(h.precedenceFilterSuppressed=!0),h.reachesIntoOuterContext+=1,n.add(h)!==h)continue;t.dipsIntoOuterContext=!0,r-=1,this.debug&&console.log("dips into outer ctx: "+h)}else{if(!c.isEpsilon&&n.add(h)!==h)continue;c instanceof x&&r>=0&&(r+=1)}this.closureCheckingStopState(h,t,n,l,i,r,s)}}}canDropLoopEntryEdgeInLeftRecursiveRule(e){const t=e.state;if(t.stateType!==_.STAR_LOOP_ENTRY)return!1;if(t.stateType!==_.STAR_LOOP_ENTRY||!t.isPrecedenceDecision||e.context.isEmpty()||e.context.hasEmptyPath())return!1;const n=e.context.length;for(let r=0;r<n;r++)if(this.atn.states[e.context.getReturnState(r)].ruleIndex!==t.ruleIndex)return!1;const r=t.transitions[0].target.endState.stateNumber,i=this.atn.states[r];for(let r=0;r<n;r++){const n=e.context.getReturnState(r),o=this.atn.states[n];if(1!==o.transitions.length||!o.transitions[0].isEpsilon)return!1;const s=o.transitions[0].target;if(!(o.stateType===_.BLOCK_END&&s===t||o===i||s===i||s.stateType===_.BLOCK_END&&1===s.transitions.length&&s.transitions[0].isEpsilon&&s.transitions[0].target===t))return!1}return!0}getRuleName(e){return null!==this.parser&&e>=0?this.parser.ruleNames[e]:"<rule "+e+">"}getEpsilonTarget(t,n,r,i,o,s){switch(n.serializationType){case w.RULE:return this.ruleTransition(t,n);case w.PRECEDENCE:return this.precedenceTransition(t,n,r,i,o);case w.PREDICATE:return this.predTransition(t,n,r,i,o);case w.ACTION:return this.actionTransition(t,n);case w.EPSILON:return new y({state:n.target},t);case w.ATOM:case w.RANGE:case w.SET:return s&&n.matches(e.EOF,0,1)?new y({state:n.target},t):null;default:return null}}actionTransition(e,t){if(this.debug){const e=-1===t.actionIndex?65535:t.actionIndex;console.log("ACTION edge "+t.ruleIndex+":"+e)}return new y({state:t.target},e)}precedenceTransition(e,t,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+t.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+u(this.parser.getRuleInvocationStack())));let o=null;if(n&&r)if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=t.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(o=new y({state:t.target},e))}else{const n=h.andContext(e.semanticContext,t.getPredicate());o=new y({state:t.target,semanticContext:n},e)}else o=new y({state:t.target},e);return this.debug&&console.log("config from pred transition="+o),o}predTransition(e,t,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+t.ruleIndex+":"+t.predIndex+", ctx dependent="+t.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+u(this.parser.getRuleInvocationStack())));let o=null;if(n&&(t.isCtxDependent&&r||!t.isCtxDependent))if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=t.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(o=new y({state:t.target},e))}else{const n=h.andContext(e.semanticContext,t.getPredicate());o=new y({state:t.target,semanticContext:n},e)}else o=new y({state:t.target},e);return this.debug&&console.log("config from pred transition="+o),o}ruleTransition(e,t){this.debug&&console.log("CALL rule "+this.getRuleName(t.target.ruleIndex)+", ctx="+e.context);const n=t.followState,r=F.create(e.context,n.stateNumber);return new y({state:t.target,context:r},e)}getConflictingAlts(e){const t=et.getConflictingAltSubsets(e);return et.getAlts(t)}getConflictingAltsOrUniqueAlt(e){let t=null;return e.uniqueAlt!==Y.INVALID_ALT_NUMBER?(t=new W,t.add(e.uniqueAlt)):t=e.conflictingAlts,t}getTokenName(t){if(t===e.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}getLookaheadName(e){return this.getTokenName(e.LA(1))}dumpDeadEndConfigs(e){console.log("dead end configs: ");const t=e.getDeadEndConfigs();for(let e=0;e<t.length;e++){const n=t[e];let r="no edges";if(n.state.transitions.length>0){const e=n.state.transitions[0];e instanceof ce?r="Atom "+this.getTokenName(e.label):e instanceof k&&(r=(e instanceof E?"~":"")+"Set "+e.set)}console.error(n.toString(this.parser,!0)+":"+r)}}noViableAlt(e,t,n,r){return new tt(this.parser,e,e.get(r),e.LT(1),n,t)}getUniqueAlt(e){let t=Y.INVALID_ALT_NUMBER;for(let n=0;n<e.items.length;n++){const r=e.items[n];if(t===Y.INVALID_ALT_NUMBER)t=r.alt;else if(r.alt!==t)return Y.INVALID_ALT_NUMBER}return t}addDFAEdge(e,t,n,r){if(this.debug&&console.log("EDGE "+t+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(e,r),null===t||n<-1||n>this.atn.maxTokenType)return r;if(null===t.edges&&(t.edges=[]),t.edges[n+1]=r,this.debug){const t=null===this.parser?null:this.parser.literalNames,n=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+e.toString(t,n))}return r}addDFAState(e,t){if(t===$e.ERROR)return t;const n=e.states.get(t);return null!==n?(this.trace_atn_sim&&console.log("addDFAState "+t+" exists"),n):(t.stateNumber=e.states.length,t.configs.readOnly||(t.configs.optimizeConfigs(this),t.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+t),e.states.add(t),this.debug&&console.log("adding new DFA state: "+t),t)}reportAttemptingFullContext(e,t,n,r,i){if(this.debug||this.retry_debug){const t=new v(r,i+1);console.log("reportAttemptingFullContext decision="+e.decision+":"+n+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,e,r,i,t,n)}reportContextSensitivity(e,t,n,r,i){if(this.debug||this.retry_debug){const t=new v(r,i+1);console.log("reportContextSensitivity decision="+e.decision+":"+n+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,e,r,i,t,n)}reportAmbiguity(e,t,n,r,i,o,s){if(this.debug||this.retry_debug){const e=new v(n,r+1);console.log("reportAmbiguity "+o+":"+s+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,e,n,r,i,o,s)}}class it{constructor(){this.cache=new $}add(e){if(e===M.EMPTY)return M.EMPTY;const t=this.cache.get(e)||null;return null!==t?t:(this.cache.set(e,e),e)}get(e){return this.cache.get(e)||null}get length(){return this.cache.length}}const ot={ATN:Y,ATNDeserializer:Oe,LexerATNSimulator:Qe,ParserATNSimulator:rt,PredictionMode:et,PredictionContextCache:it};class st{constructor(e,t,n){this.dfa=e,this.literalNames=t||[],this.symbolicNames=n||[]}toString(){if(null===this.dfa.s0)return null;let e="";const t=this.dfa.sortedStates();for(let n=0;n<t.length;n++){const r=t[n];if(null!==r.edges){const t=r.edges.length;for(let n=0;n<t;n++){const t=r.edges[n]||null;null!==t&&2147483647!==t.stateNumber&&(e=e.concat(this.getStateString(r)),e=e.concat("-"),e=e.concat(this.getEdgeLabel(n)),e=e.concat("->"),e=e.concat(this.getStateString(t)),e=e.concat("\n"))}}}return 0===e.length?null:e}getEdgeLabel(e){return 0===e?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[e-1]||this.symbolicNames[e-1]:String.fromCharCode(e-1)}getStateString(e){const t=(e.isAcceptState?":":"")+"s"+e.stateNumber+(e.requiresFullContext?"^":"");return e.isAcceptState?null!==e.predicates?t+"=>"+u(e.predicates):t+"=>"+e.prediction.toString():t}}class at extends st{constructor(e){super(e,null)}getEdgeLabel(e){return"'"+String.fromCharCode(e)+"'"}}class ut{constructor(e,t){if(void 0===t&&(t=0),this.atnStartState=e,this.decision=t,this._states=new l,this.s0=null,this.precedenceDfa=!1,e instanceof oe&&e.isPrecedenceDecision){this.precedenceDfa=!0;const e=new Ve(null,new ze);e.edges=[],e.isAcceptState=!1,e.requiresFullContext=!1,this.s0=e}}getPrecedenceStartState(e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return e<0||e>=this.s0.edges.length?null:this.s0.edges[e]||null}setPrecedenceStartState(e,t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";e<0||(this.s0.edges[e]=t)}setPrecedenceDfa(e){if(this.precedenceDfa!==e){if(this._states=new l,e){const e=new Ve(null,new ze);e.edges=[],e.isAcceptState=!1,e.requiresFullContext=!1,this.s0=e}else this.s0=null;this.precedenceDfa=e}}sortedStates(){return this._states.values().sort((function(e,t){return e.stateNumber-t.stateNumber}))}toString(e,t){return e=e||null,t=t||null,null===this.s0?"":new st(this,e,t).toString()}toLexerString(){return null===this.s0?"":new at(this).toString()}get states(){return this._states}}const ct={DFA:ut,DFASerializer:st,LexerDFASerializer:at,PredPrediction:Xe},lt={PredictionContext:M},ht={Interval:v,IntervalSet:g};class ft{visitTerminal(e){}visitErrorNode(e){}enterEveryRule(e){}exitEveryRule(e){}}class pt{visit(e){return Array.isArray(e)?e.map((function(e){return e.accept(this)}),this):e.accept(this)}visitChildren(e){return e.children?this.visit(e.children):null}visitTerminal(e){}visitErrorNode(e){}}class dt{walk(e,t){if(t instanceof R||void 0!==t.isErrorNode&&t.isErrorNode())e.visitErrorNode(t);else if(t instanceof C)e.visitTerminal(t);else{this.enterRule(e,t);for(let n=0;n<t.getChildCount();n++){const r=t.getChild(n);this.walk(e,r)}this.exitRule(e,t)}}enterRule(e,t){const n=t.ruleContext;e.enterEveryRule(n),n.enterRule(e)}exitRule(e,t){const n=t.ruleContext;n.exitRule(e),e.exitEveryRule(n)}}dt.DEFAULT=new dt;const mt={Trees:I,RuleNode:P,ErrorNode:R,TerminalNode:C,ParseTreeListener:ft,ParseTreeVisitor:pt,ParseTreeWalker:dt};class yt extends Me{constructor(e){super({message:"",recognizer:e,input:e.getInputStream(),ctx:e._ctx}),this.offendingToken=e.getCurrentToken()}}class vt extends Me{constructor(e,t,n){super({message:gt(t,n||null),recognizer:e,input:e.getInputStream(),ctx:e._ctx});const r=e._interp.atn.states[e.state].transitions[0];r instanceof de?(this.ruleIndex=r.ruleIndex,this.predicateIndex=r.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=t,this.offendingToken=e.getCurrentToken()}}function gt(e,t){return null!==t?t:"failed predicate: {"+e+"}?"}class _t extends Ne{constructor(e){super(),e=e||!0,this.exactOnly=e}reportAmbiguity(e,t,n,r,i,o,s){if(this.exactOnly&&!i)return;const a="reportAmbiguity d="+this.getDecisionDescription(e,t)+": ambigAlts="+this.getConflictingAlts(o,s)+", input='"+e.getTokenStream().getText(new v(n,r))+"'";e.notifyErrorListeners(a)}reportAttemptingFullContext(e,t,n,r,i,o){const s="reportAttemptingFullContext d="+this.getDecisionDescription(e,t)+", input='"+e.getTokenStream().getText(new v(n,r))+"'";e.notifyErrorListeners(s)}reportContextSensitivity(e,t,n,r,i,o){const s="reportContextSensitivity d="+this.getDecisionDescription(e,t)+", input='"+e.getTokenStream().getText(new v(n,r))+"'";e.notifyErrorListeners(s)}getDecisionDescription(e,t){const n=t.decision,r=t.atnStartState.ruleIndex,i=e.ruleNames;if(r<0||r>=i.length)return""+n;const o=i[r]||null;return null===o||0===o.length?""+n:`${n} (${o})`}getConflictingAlts(e,t){if(null!==e)return e;const n=new W;for(let e=0;e<t.items.length;e++)n.add(t.items[e].alt);return`{${n.values().join(", ")}}`}}class bt extends Error{constructor(){super(),Error.captureStackTrace(this,bt)}}class wt{reset(e){}recoverInline(e){}recover(e,t){}sync(e){}inErrorRecoveryMode(e){}reportError(e){}}class xt extends wt{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(e){this.endErrorCondition(e)}beginErrorCondition(e){this.errorRecoveryMode=!0}inErrorRecoveryMode(e){return this.errorRecoveryMode}endErrorCondition(e){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(e){this.endErrorCondition(e)}reportError(e,t){this.inErrorRecoveryMode(e)||(this.beginErrorCondition(e),t instanceof tt?this.reportNoViableAlternative(e,t):t instanceof yt?this.reportInputMismatch(e,t):t instanceof vt?this.reportFailedPredicate(e,t):(console.log("unknown recognition error type: "+t.constructor.name),console.log(t.stack),e.notifyErrorListeners(t.getOffendingToken(),t.getMessage(),t)))}recover(e,t){this.lastErrorIndex===e.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(e.state)>=0&&e.consume(),this.lastErrorIndex=e._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(e.state);const n=this.getErrorRecoverySet(e);this.consumeUntil(e,n)}sync(t){if(this.inErrorRecoveryMode(t))return;const n=t._interp.atn.states[t.state],r=t.getTokenStream().LA(1),i=t.atn.nextTokens(n);if(i.contains(r))return this.nextTokensContext=null,void(this.nextTokenState=_.INVALID_STATE_NUMBER);if(i.contains(e.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(n.stateType){case _.BLOCK_START:case _.STAR_BLOCK_START:case _.PLUS_BLOCK_START:case _.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new yt(t);case _.PLUS_LOOP_BACK:case _.STAR_LOOP_BACK:{this.reportUnwantedToken(t);const e=new g;e.addSet(t.getExpectedTokens());const n=e.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,n)}}}reportNoViableAlternative(t,n){const r=t.getTokenStream();let i;i=null!==r?n.startToken.type===e.EOF?"<EOF>":r.getText(new v(n.startToken.tokenIndex,n.offendingToken.tokenIndex)):"<unknown input>";const o="no viable alternative at input "+this.escapeWSAndQuote(i);t.notifyErrorListeners(o,n.offendingToken,n)}reportInputMismatch(e,t){const n="mismatched input "+this.getTokenErrorDisplay(t.offendingToken)+" expecting "+t.getExpectedTokens().toString(e.literalNames,e.symbolicNames);e.notifyErrorListeners(n,t.offendingToken,t)}reportFailedPredicate(e,t){const n="rule "+e.ruleNames[e._ctx.ruleIndex]+" "+t.message;e.notifyErrorListeners(n,t.offendingToken,t)}reportUnwantedToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);const t=e.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(t)+" expecting "+this.getExpectedTokens(e).toString(e.literalNames,e.symbolicNames);e.notifyErrorListeners(n,t,null)}reportMissingToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);const t=e.getCurrentToken(),n="missing "+this.getExpectedTokens(e).toString(e.literalNames,e.symbolicNames)+" at "+this.getTokenErrorDisplay(t);e.notifyErrorListeners(n,t,null)}recoverInline(e){const t=this.singleTokenDeletion(e);if(null!==t)return e.consume(),t;if(this.singleTokenInsertion(e))return this.getMissingSymbol(e);throw new yt(e)}singleTokenInsertion(e){const t=e.getTokenStream().LA(1),n=e._interp.atn,r=n.states[e.state].transitions[0].target;return!!n.nextTokens(r,e._ctx).contains(t)&&(this.reportMissingToken(e),!0)}singleTokenDeletion(e){const t=e.getTokenStream().LA(2);if(this.getExpectedTokens(e).contains(t)){this.reportUnwantedToken(e),e.consume();const t=e.getCurrentToken();return this.reportMatch(e),t}return null}getMissingSymbol(t){const n=t.getCurrentToken(),r=this.getExpectedTokens(t).first();let i;i=r===e.EOF?"<missing EOF>":"<missing "+t.literalNames[r]+">";let o=n;const s=t.getTokenStream().LT(-1);return o.type===e.EOF&&null!==s&&(o=s),t.getTokenFactory().create(o.source,r,i,e.DEFAULT_CHANNEL,-1,-1,o.line,o.column)}getExpectedTokens(e){return e.getExpectedTokens()}getTokenErrorDisplay(t){if(null===t)return"<no token>";let n=t.text;return null===n&&(n=t.type===e.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(n)}escapeWSAndQuote(e){return"'"+(e=(e=(e=e.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(t){const n=t._interp.atn;let r=t._ctx;const i=new g;for(;null!==r&&r.invokingState>=0;){const e=n.states[r.invokingState].transitions[0],t=n.nextTokens(e.followState);i.addSet(t),r=r.parentCtx}return i.removeOne(e.EPSILON),i}consumeUntil(t,n){let r=t.getTokenStream().LA(1);for(;r!==e.EOF&&!n.contains(r);)t.consume(),r=t.getTokenStream().LA(1)}}class kt extends xt{constructor(){super()}recover(e,t){let n=e._ctx;for(;null!==n;)n.exception=t,n=n.parentCtx;throw new bt(t)}recoverInline(e){this.recover(e,new yt(e))}sync(e){}}const Et={RecognitionException:Me,NoViableAltException:tt,LexerNoViableAltException:je,InputMismatchException:yt,FailedPredicateException:vt,DiagnosticErrorListener:_t,BailErrorStrategy:kt,DefaultErrorStrategy:xt,ErrorListener:Ne};class St{constructor(e,t){if(this.name="<empty>",this.strdata=e,this.decodeToUnicodeCodePoints=t||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let e=0;e<this.strdata.length;){const t=this.strdata.codePointAt(e);this.data.push(t),e+=t<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let e=0;e<this.strdata.length;e++)this.data[e]=this.strdata.charCodeAt(e)}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(t){if(0===t)return 0;t<0&&(t+=1);const n=this._index+t-1;return n<0||n>=this._size?e.EOF:this.data[n]}LT(e){return this.LA(e)}mark(){return-1}release(e){}seek(e){e<=this._index?this._index=e:this._index=Math.min(e,this._size)}getText(e,t){if(t>=this._size&&(t=this._size-1),e>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n="";for(let r=e;r<=t;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(e,t+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}class Tt extends St{constructor(e,t){super(e,t)}}var At=U(92);const Ot="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;class Nt extends Tt{static fromPath(e,t,n){if(!Ot)throw new Error("FileStream is only available when running in Node!");At.readFile(e,t,(function(e,t){let r=null;null!==t&&(r=new St(t,!0)),n(e,r)}))}constructor(e,t,n){if(!Ot)throw new Error("FileStream is only available when running in Node!");super(At.readFileSync(e,t||"utf-8"),n),this.fileName=e}}const Pt={fromString:function(e){return new St(e,!0)},fromBlob:function(e,t,n,r){const i=new window.FileReader;i.onload=function(e){const t=new St(e.target.result,!0);n(t)},i.onerror=r,i.readAsText(e,t)},fromBuffer:function(e,t){return new St(e.toString(t),!0)},fromPath:function(e,t,n){Nt.fromPath(e,t,n)},fromPathSync:function(e,t){return new Nt(e,t)}},Ct={arrayToString:u,stringToCharArray:function(e){let t=new Uint16Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}};class Rt{}class Lt extends Rt{constructor(e){super(),this.tokenSource=e,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(e){}reset(){this.seek(0)}seek(e){this.lazyInit(),this.index=this.adjustSeekIndex(e)}get size(){return this.tokens.length}get(e){return this.lazyInit(),this.tokens[e]}consume(){let t=!1;if(t=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!t&&this.LA(1)===e.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(e){const t=e-this.tokens.length+1;return!(t>0)||this.fetch(t)>=t}fetch(t){if(this.fetchedEOF)return 0;for(let n=0;n<t;n++){const t=this.tokenSource.nextToken();if(t.tokenIndex=this.tokens.length,this.tokens.push(t),t.type===e.EOF)return this.fetchedEOF=!0,n+1}return t}getTokens(t,n,r){if(void 0===r&&(r=null),t<0||n<0)return null;this.lazyInit();const i=[];n>=this.tokens.length&&(n=this.tokens.length-1);for(let o=t;o<n;o++){const t=this.tokens[o];if(t.type===e.EOF)break;(null===r||r.contains(t.type))&&i.push(t)}return i}LA(e){return this.LT(e).type}LB(e){return this.index-e<0?null:this.tokens[this.index-e]}LT(e){if(this.lazyInit(),0===e)return null;if(e<0)return this.LB(-e);const t=this.index+e-1;return this.sync(t),t>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[t]}adjustSeekIndex(e){return e}lazyInit(){-1===this.index&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(e){this.tokenSource=e,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(t,n){if(this.sync(t),t>=this.tokens.length)return-1;let r=this.tokens[t];for(;r.channel!==this.channel;){if(r.type===e.EOF)return-1;t+=1,this.sync(t),r=this.tokens[t]}return t}previousTokenOnChannel(e,t){for(;e>=0&&this.tokens[e].channel!==t;)e-=1;return e}getHiddenTokensToRight(e,t){if(void 0===t&&(t=-1),this.lazyInit(),e<0||e>=this.tokens.length)throw e+" not in 0.."+this.tokens.length-1;const n=this.nextTokenOnChannel(e+1,Fe.DEFAULT_TOKEN_CHANNEL),r=e+1,i=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,i,t)}getHiddenTokensToLeft(e,t){if(void 0===t&&(t=-1),this.lazyInit(),e<0||e>=this.tokens.length)throw e+" not in 0.."+this.tokens.length-1;const n=this.previousTokenOnChannel(e-1,Fe.DEFAULT_TOKEN_CHANNEL);if(n===e-1)return null;const r=n+1,i=e-1;return this.filterForChannel(r,i,t)}filterForChannel(e,t,n){const r=[];for(let i=e;i<t+1;i++){const e=this.tokens[i];-1===n?e.channel!==Fe.DEFAULT_TOKEN_CHANNEL&&r.push(e):e.channel===n&&r.push(e)}return 0===r.length?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(t){this.lazyInit(),this.fill(),t||(t=new v(0,this.tokens.length-1));let n=t.start;n instanceof e&&(n=n.tokenIndex);let r=t.stop;if(r instanceof e&&(r=r.tokenIndex),null===n||null===r||n<0||r<0)return"";r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let t=n;t<r+1;t++){const n=this.tokens[t];if(n.type===e.EOF)break;i+=n.text}return i}fill(){for(this.lazyInit();1e3===this.fetch(1e3););}}Object.defineProperty(Lt,"size",{get:function(){return this.tokens.length}});class It extends Lt{constructor(t,n){super(t),this.channel=void 0===n?e.DEFAULT_CHANNEL:n}adjustSeekIndex(e){return this.nextTokenOnChannel(e,this.channel)}LB(e){if(0===e||this.index-e<0)return null;let t=this.index,n=1;for(;n<=e;)t=this.previousTokenOnChannel(t-1,this.channel),n+=1;return t<0?null:this.tokens[t]}LT(e){if(this.lazyInit(),0===e)return null;if(e<0)return this.LB(-e);let t=this.index,n=1;for(;n<e;)this.sync(t+1)&&(t=this.nextTokenOnChannel(t+1,this.channel)),n+=1;return this.tokens[t]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let n=0;n<this.tokens.length;n++){const r=this.tokens[n];if(r.channel===this.channel&&(t+=1),r.type===e.EOF)break}return t}}class Dt extends ft{constructor(e){super(),this.parser=e}enterEveryRule(e){console.log("enter   "+this.parser.ruleNames[e.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(e){console.log("consume "+e.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(e){console.log("exit    "+this.parser.ruleNames[e.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class Mt extends Re{constructor(e){super(),this._input=null,this._errHandler=new xt,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(e)}reset(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}match(e){let t=this.getCurrentToken();return t.type===e?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}matchWildcard(){let e=this.getCurrentToken();return e.type>0?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}getParseListeners(){return this._parseListeners||[]}addParseListener(e){if(null===e)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(e)}removeParseListener(e){if(null!==this._parseListeners){const t=this._parseListeners.indexOf(e);t>=0&&this._parseListeners.splice(t,1),0===this._parseListeners.length&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(null!==this._parseListeners){const e=this._ctx;this._parseListeners.forEach((function(t){t.enterEveryRule(e),e.enterRule(t)}))}}triggerExitRuleEvent(){if(null!==this._parseListeners){const e=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(t){e.exitRule(t),t.exitEveryRule(e)}))}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(e){this._input.tokenSource._factory=e}getATNWithBypassAlts(){const e=this.getSerializedATN();if(null===e)throw"The current parser does not support an ATN with bypass alternatives.";let t=this.bypassAltsAtnCache[e];if(null===t){const n=new ve;n.generateRuleBypassTransitions=!0,t=new Oe(n).deserialize(e),this.bypassAltsAtnCache[e]=t}return t}getInputStream(){return this.getTokenStream()}setInputStream(e){this.setTokenStream(e)}getTokenStream(){return this._input}setTokenStream(e){this._input=null,this.reset(),this._input=e}get syntaxErrorsCount(){return this._syntaxErrors}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(e,t,n){n=n||null,null===(t=t||null)&&(t=this.getCurrentToken()),this._syntaxErrors+=1;const r=t.line,i=t.column;this.getErrorListenerDispatch().syntaxError(this,t,r,i,e,n)}consume(){const t=this.getCurrentToken();t.type!==e.EOF&&this.getInputStream().consume();const n=null!==this._parseListeners&&this._parseListeners.length>0;if(this.buildParseTrees||n){let e;e=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t),e.invokingState=this.state,n&&this._parseListeners.forEach((function(t){e instanceof R||void 0!==e.isErrorNode&&e.isErrorNode()?t.visitErrorNode(e):e instanceof C&&t.visitTerminal(e)}))}return t}addContextToParseTree(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(e,t,n){this.state=t,this._ctx=e,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(e,t){e.setAltNumber(t),this.buildParseTrees&&this._ctx!==e&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(e)),this._ctx=e}getPrecedence(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(e,t,n,r){this.state=t,this._precedenceStack.push(r),this._ctx=e,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(e,t,n){const r=this._ctx;r.parentCtx=e,r.invokingState=t,r.stop=this._input.LT(-1),this._ctx=e,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}unrollRecursionContexts(e){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const t=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==e;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=e;t.parentCtx=e,this.buildParseTrees&&null!==e&&e.addChild(t)}getInvokingContext(e){let t=this._ctx;for(;null!==t;){if(t.ruleIndex===e)return t;t=t.parentCtx}return null}precpred(e,t){return t>=this._precedenceStack[this._precedenceStack.length-1]}inContext(e){return!1}isExpectedToken(t){const n=this._interp.atn;let r=this._ctx;const i=n.states[this.state];let o=n.nextTokens(i);if(o.contains(t))return!0;if(!o.contains(e.EPSILON))return!1;for(;null!==r&&r.invokingState>=0&&o.contains(e.EPSILON);){const e=n.states[r.invokingState].transitions[0];if(o=n.nextTokens(e.followState),o.contains(t))return!0;r=r.parentCtx}return!(!o.contains(e.EPSILON)||t!==e.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const e=this._interp.atn,t=e.states[this.state];return e.nextTokens(t)}getRuleIndex(e){const t=this.getRuleIndexMap()[e];return null!==t?t:-1}getRuleInvocationStack(e){null===(e=e||null)&&(e=this._ctx);const t=[];for(;null!==e;){const n=e.ruleIndex;n<0?t.push("n/a"):t.push(this.ruleNames[n]),e=e.parentCtx}return t}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let e=!1;for(let t=0;t<this._interp.decisionToDFA.length;t++){const n=this._interp.decisionToDFA[t];n.states.length>0&&(e&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),e=!0)}}getSourceName(){return this._input.sourceName}setTrace(e){e?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new Dt(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}Mt.bypassAltsAtnCache={};class jt extends C{constructor(e){super(),this.parentCtx=null,this.symbol=e}getChild(e){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(null===this.symbol)return v.INVALID_INTERVAL;const e=this.symbol.tokenIndex;return new v(e,e)}getChildCount(){return 0}accept(e){return e.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===e.EOF?"<EOF>":this.symbol.text}}class Ft extends jt{constructor(e){super(e)}isErrorNode(){return!0}accept(e){return e.visitErrorNode(this)}}class Bt extends D{constructor(e,t){super(e,t),this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(e){this.parentCtx=e.parentCtx,this.invokingState=e.invokingState,this.children=null,this.start=e.start,this.stop=e.stop,e.children&&(this.children=[],e.children.map((function(e){e instanceof Ft&&(this.children.push(e),e.parentCtx=this)}),this))}enterRule(e){}exitRule(e){}addChild(e){return null===this.children&&(this.children=[]),this.children.push(e),e}removeLastChild(){null!==this.children&&this.children.pop()}addTokenNode(e){const t=new jt(e);return this.addChild(t),t.parentCtx=this,t}addErrorNode(e){const t=new Ft(e);return this.addChild(t),t.parentCtx=this,t}getChild(e,t){if(t=t||null,null===this.children||e<0||e>=this.children.length)return null;if(null===t)return this.children[e];for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof t){if(0===e)return r;e-=1}}return null}getToken(e,t){if(null===this.children||t<0||t>=this.children.length)return null;for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof C&&r.symbol.type===e){if(0===t)return r;t-=1}}return null}getTokens(e){if(null===this.children)return[];{const t=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof C&&r.symbol.type===e&&t.push(r)}return t}}getTypedRuleContext(e,t){return this.getChild(t,e)}getTypedRuleContexts(e){if(null===this.children)return[];{const t=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof e&&t.push(r)}return t}}getChildCount(){return null===this.children?0:this.children.length}getSourceInterval(){return null===this.start||null===this.stop?v.INVALID_INTERVAL:new v(this.start.tokenIndex,this.stop.tokenIndex)}}D.EMPTY=new Bt;class Ut{static DEFAULT_PROGRAM_NAME="default";constructor(e){this.tokens=e,this.programs=new Map}getTokenStream(){return this.tokens}insertAfter(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut.DEFAULT_PROGRAM_NAME;n="number"==typeof e?e:e.tokenIndex;let i=this.getProgram(r),o=new $t(this.tokens,n,i.length,t);i.push(o)}insertBefore(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut.DEFAULT_PROGRAM_NAME;n="number"==typeof e?e:e.tokenIndex;const i=this.getProgram(r),o=new Vt(this.tokens,n,i.length,t);i.push(o)}replaceSingle(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut.DEFAULT_PROGRAM_NAME;this.replace(e,e,t,n)}replace(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ut.DEFAULT_PROGRAM_NAME;if("number"!=typeof e&&(e=e.tokenIndex),"number"!=typeof t&&(t=t.tokenIndex),e>t||e<0||t<0||t>=this.tokens.size)throw new RangeError(`replace: range invalid: ${e}..${t}(size=${this.tokens.size})`);let i=this.getProgram(r),o=new qt(this.tokens,e,t,i.length,n);i.push(o)}delete(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut.DEFAULT_PROGRAM_NAME;void 0===t&&(t=e),this.replace(e,t,null,n)}getProgram(e){let t=this.programs.get(e);return null==t&&(t=this.initializeProgram(e)),t}initializeProgram(e){const t=[];return this.programs.set(e,t),t}getText(t){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut.DEFAULT_PROGRAM_NAME;n=t instanceof v?t:new v(0,this.tokens.size-1),"string"==typeof t&&(r=t);const i=this.programs.get(r);let o=n.start,s=n.stop;if(s>this.tokens.size-1&&(s=this.tokens.size-1),o<0&&(o=0),null==i||0===i.length)return this.tokens.getText(new v(o,s));let a=[],u=this.reduceToSingleOperationPerIndex(i),c=o;for(;c<=s&&c<this.tokens.size;){let t=u.get(c);u.delete(c);let n=this.tokens.get(c);null==t?(n.type!==e.EOF&&a.push(String(n.text)),c++):c=t.execute(a)}if(s===this.tokens.size-1)for(const e of u.values())e.index>=this.tokens.size-1&&a.push(e.text.toString());return a.join("")}reduceToSingleOperationPerIndex(e){for(let t=0;t<e.length;t++){let n=e[t];if(null==n)continue;if(!(n instanceof qt))continue;let r=n,i=this.getKindOfOps(e,Vt,t);for(let t of i)t.index===r.index?(e[t.instructionIndex]=void 0,r.text=t.text.toString()+(null!=r.text?r.text.toString():"")):t.index>r.index&&t.index<=r.lastIndex&&(e[t.instructionIndex]=void 0);let o=this.getKindOfOps(e,qt,t);for(let t of o){if(t.index>=r.index&&t.lastIndex<=r.lastIndex){e[t.instructionIndex]=void 0;continue}let n=t.lastIndex<r.index||t.index>r.lastIndex;if(null!=t.text||null!=r.text||n){if(!n)throw new Error(`replace op boundaries of ${r} overlap with previous ${t}`)}else e[t.instructionIndex]=void 0,r.index=Math.min(t.index,r.index),r.lastIndex=Math.max(t.lastIndex,r.lastIndex)}}for(let t=0;t<e.length;t++){let n=e[t];if(null==n)continue;if(!(n instanceof Vt))continue;let r=n,i=this.getKindOfOps(e,Vt,t);for(let t of i)t.index===r.index&&(t instanceof $t?(r.text=this.catOpText(t.text,r.text),e[t.instructionIndex]=void 0):t instanceof Vt&&(r.text=this.catOpText(r.text,t.text),e[t.instructionIndex]=void 0));let o=this.getKindOfOps(e,qt,t);for(let n of o)if(r.index!==n.index){if(r.index>=n.index&&r.index<=n.lastIndex)throw new Error(`insert op ${r} within boundaries of previous ${n}`)}else n.text=this.catOpText(r.text,n.text),e[t]=void 0}let t=new Map;for(let n of e)if(null!=n){if(null!=t.get(n.index))throw new Error("should only be one op per index");t.set(n.index,n)}return t}catOpText(e,t){let n="",r="";return null!=e&&(n=e.toString()),null!=t&&(r=t.toString()),n+r}getKindOfOps(e,t,n){return e.slice(0,n).filter((e=>e&&e instanceof t))}}class zt{constructor(e,t,n,r){this.tokens=e,this.instructionIndex=n,this.index=t,this.text=void 0===r?"":r}toString(){let e=this.constructor.name;const t=e.indexOf("$");return e=e.substring(t+1,e.length),"<"+e+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}class Vt extends zt{constructor(e,t,n,r){super(e,t,n,r)}execute(t){return this.text&&t.push(this.text.toString()),this.tokens.get(this.index).type!==e.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}class $t extends Vt{constructor(e,t,n,r){super(e,t+1,n,r)}}class qt extends zt{constructor(e,t,n,r,i){super(e,t,r,i),this.lastIndex=n}execute(e){return this.text&&e.push(this.text.toString()),this.lastIndex+1}toString(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}const Kt={atn:ot,dfa:ct,context:lt,misc:ht,tree:mt,error:Et,Token:e,CommonToken:Le,CharStreams:Pt,CharStream:Tt,InputStream:Tt,CommonTokenStream:It,Lexer:Fe,Parser:Mt,ParserRuleContext:Bt,Interval:v,IntervalSet:g,LL1Analyzer:G,Utils:Ct,TokenStreamRewriter:Ut}})();var V=z.ZP;function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K(r.key),r)}}function K(e){var t=function(e,t){if("object"!=$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}function H(e,t,n){return t=G(t),function(e,t){if(t&&("object"==$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,W()?Reflect.construct(t,n||[],G(e).constructor):t.apply(e,n))}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}var Q=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{defaultValue:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=H(this,t,[n]);var r=n.defaultValue,i=n.description,o=n.sensitive,s=n.nullable;return e.__class="TerraformVariable",e.defaultValue=r||null,e.description=i||null,e.sensitive=o||!1,e.nullable=s||!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(t,e),function(e,t,n){return t&&q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"formattedName",get:function(){var e="variable"===this.category?"var":"local";return"output"===this.category?null:"".concat(e,".").concat(this.name)}}])}(e.Variable);const X=Q;function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function ee(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}function te(e,t,n){return t=re(t),function(e,t){if(t&&("object"==Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ne()?Reflect.construct(t,n||[],re(e).constructor):t.apply(e,n))}function ne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ne=function(){return!!e})()}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}var oe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isDynamic:!1};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=te(this,t,[n])).isDynamic=n.isDynamic||!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(t,e),function(e,t,n){return t&&J(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"isVariable",get:function(){return null!==this.value&&"string"==typeof this.value&&(this.value.startsWith("var.")||this.value.startsWith("local."))}}])}(e.ComponentAttribute);const se=oe;function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ce(r.key),r)}}function ce(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ae(t)?t:t+""}function le(e,t,n){return t=fe(t),function(e,t){if(t&&("object"==ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,he()?Reflect.construct(t,n||[],fe(e).constructor):t.apply(e,n))}function he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(he=function(){return!!e})()}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}var de=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),le(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}(t,e),function(e,t,n){return t&&ue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"createAttribute",value:function(e){return new se(e)}},{key:"getConfigurationKey",value:function(){return"".concat(this.definition.type,".").concat(this.externalId)}}])}(e.Component);const me=de;function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ge(r.key),r)}}function ge(e){var t=function(e,t){if("object"!=ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ye(t)?t:t+""}function _e(e,t,n){return t=we(t),function(e,t){if(t&&("object"==ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,be()?Reflect.construct(t,n||[],we(e).constructor):t.apply(e,n))}function be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(be=function(){return!!e})()}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}var ke=function(e){return e.getText().replaceAll('"',"").trim()},Ee=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_e(this,t)).pluginData=e,n.definitions=e.definitions.components,n.currentComponent=null,n.currentBlockType=null,n.currentField=null,n.currentObjectField=null,n.currentFile=null,n.fieldsTree=[],n.currentVariable=null,n.currentVariableField=null,n.ids=new Map,n.idCounter=1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(t,e),function(e,t,n){return t&&ve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"addComponent",value:function(){var e="".concat(this.currentComponent.definition.type,".").concat(this.currentComponent.externalId);this.currentComponent.path=this.currentFile.path,this.currentComponent.id=this.createIdFromTypeExternalId(e),this.pluginData.components.push(this.currentComponent),this.currentComponent=null,this.currentBlockType=null,this.fieldsTree=[]}},{key:"addVariable",value:function(){this.currentVariable.path=this.currentFile.path,this.pluginData.variables.push(this.currentVariable),this.currentVariable=null,this.currentVariableField=null}},{key:"getAttributeDefinition",value:function(e,t){var n;return(null===(n=e.definition)||void 0===n?void 0:n.definedAttributes.find((function(e){return e.name===t})))||null}},{key:"isVariable",value:function(){return"variable"===this.currentBlockType||"output"===this.currentBlockType}},{key:"attributeTypeToVariableType",value:function(e){switch(e){case"String":default:return"string";case"Number":return"number";case"Boolean":return"bool"}}},{key:"enterFile_",value:function(){}},{key:"exitFile_",value:function(){}},{key:"enterTerraform",value:function(){}},{key:"exitTerraform",value:function(){}},{key:"enterResource",value:function(){this.currentBlockType="resource",this.currentComponent=new me}},{key:"exitResource",value:function(){this.addComponent()}},{key:"enterData",value:function(){this.currentBlockType="data",this.currentComponent=new me}},{key:"exitData",value:function(){this.addComponent()}},{key:"enterProvider",value:function(){this.currentBlockType="provider",this.currentComponent=new me}},{key:"exitProvider",value:function(){this.addComponent()}},{key:"enterOutput",value:function(){this.currentBlockType="output",this.currentVariable=new X({category:"output"})}},{key:"exitOutput",value:function(){this.addVariable(),this.currentBlockType=null}},{key:"enterLocal",value:function(){this.currentBlockType="local"}},{key:"exitLocal",value:function(){this.currentBlockType=null}},{key:"enterModule",value:function(e){this.currentBlockType="module",this.currentComponent=new me;var t=ke(e.name());this.currentComponent.definition=this.definitions.find((function(e){return"module"===e.blockType&&e.type===t}))||null}},{key:"exitModule",value:function(){this.addComponent()}},{key:"enterVariable",value:function(){this.currentBlockType="variable",this.currentVariable=new X({category:"variable"})}},{key:"exitVariable",value:function(){this.addVariable(),this.currentBlockType=null}},{key:"enterBlock",value:function(e){var t,n=ke(e.blocktype());this.currentObjectField?(this.fieldsTree.push(this.currentObjectField),t=this.getAttributeDefinition(this.currentObjectField,n)):t=this.getAttributeDefinition(this.currentComponent,n),this.currentObjectField=new se({name:n,value:[],type:"Object",definition:t,isDynamic:!0})}},{key:"exitBlock",value:function(){if(this.fieldsTree.length>0){var e=this.fieldsTree.pop();e.value.push(this.currentObjectField),this.currentObjectField=e}else this.currentComponent.attributes.push(this.currentObjectField),this.currentObjectField=null}},{key:"enterBlocktype",value:function(){}},{key:"exitBlocktype",value:function(){}},{key:"enterResourcetype",value:function(e){var t=this,n=ke(e);if(this.currentComponent.definition=this.definitions.find((function(e){return e.blockType===t.currentBlockType&&e.type===n}))||new m({blockType:this.currentBlockType,type:n}),"provider"===this.currentBlockType){var r="".concat(n,".").concat(n);this.currentComponent.externalId=n,this.currentComponent.id=this.createIdFromTypeExternalId(r)}}},{key:"exitResourcetype",value:function(){}},{key:"enterName",value:function(){}},{key:"exitName",value:function(e){this.currentComponent?this.currentComponent.externalId=ke(e):this.currentVariable&&(this.currentVariable.name=ke(e))}},{key:"enterLabel",value:function(){}},{key:"exitLabel",value:function(){}},{key:"enterBlockbody",value:function(){}},{key:"exitBlockbody",value:function(){}},{key:"enterArgument",value:function(e){var t;if(null!==(t=e.expression())&&void 0!==t&&null!==(t=t.section())&&void 0!==t&&t.map_()){this.currentObjectField&&this.fieldsTree.push(this.currentObjectField);var n=e.identifier().getText();this.currentObjectField=new se({name:n,type:"Object",value:[],definition:this.getAttributeDefinition(this.currentObjectField||this.currentComponent,n)})}this.isVariable()?(this.currentVariableField=e.identifier().getText(),"default"===this.currentVariableField&&(this.currentVariableField="defaultValue")):"local"===this.currentBlockType?(this.currentVariable=new X({category:"local",name:ke(e.identifier())}),this.currentVariableField="value"):this.currentField=new se}},{key:"exitArgument",value:function(e){var t,n,r=this;if(this.isVariable()){var i=e.identifier().getText();"description"===i?this.currentVariable.description=ke(e.expression()):"sensitive"!==i&&"nullable"!==i||(this.currentVariable[i]="true"===ke(e.expression()))}else if("local"===this.currentBlockType)this.addVariable();else if(this.currentField)this.currentField.name=e.identifier().getText(),this.currentObjectField?(this.currentObjectField.value.push(this.currentField),this.currentField.definition=this.getAttributeDefinition(this.currentObjectField,this.currentField.name)):(this.currentComponent.attributes.push(this.currentField),this.currentField.definition=this.getAttributeDefinition(this.currentComponent,this.currentField.name));else if(this.currentObjectField.name=e.identifier().getText(),this.fieldsTree.length>0){var o=this.fieldsTree.pop();o.value.push(this.currentObjectField),this.currentObjectField=o}else this.currentComponent.attributes.push(this.currentObjectField),this.currentObjectField=null;if("Reference"===(null===(t=this.currentField)||void 0===t||null===(t=t.definition)||void 0===t?void 0:t.type)&&/([^.]+\.[^.]+)/.exec(this.currentField.value)&&(Array.isArray(this.currentField.value)?this.currentField.value=this.currentField.value.map((function(e){var t=/([^.]+\.[^.]+)\.([^.]+)/.exec(e);return r.createIdFromTypeExternalId(t[1])})):this.currentField.value=this.createIdFromTypeExternalId(this.currentField.value)),"Link"===(null===(n=this.currentField)||void 0===n||null===(n=n.definition)||void 0===n?void 0:n.type)){this.currentField.type="Array",Array.isArray(this.currentField.value)&&(this.currentField.value=this.currentField.value.map((function(e){var t=/([^.]+\.[^.]+)\.([^.]+)/.exec(e);return r.createIdFromTypeExternalId(t[1])})));var s=/([^.]+\.[^.]+)(\.([^.]+))?/.exec(this.currentField.value);s&&(this.currentField.value=[this.createIdFromTypeExternalId(s[1])])}this.currentField=null}},{key:"createIdFromTypeExternalId",value:function(e){if(this.ids.has(e))return this.ids.get(e);var t="id_".concat(this.idCounter);return this.idCounter+=1,this.ids.set(e,t),t}},{key:"enterIdentifier",value:function(){}},{key:"exitIdentifier",value:function(){}},{key:"enterIdentifierchain",value:function(){}},{key:"exitIdentifierchain",value:function(){}},{key:"enterInline_index",value:function(){}},{key:"exitInline_index",value:function(){}},{key:"enterExpression",value:function(){}},{key:"exitExpression",value:function(){}},{key:"enterForloop",value:function(){}},{key:"exitForloop",value:function(){}},{key:"enterSection",value:function(e){var t;if(!this.currentField&&!this.isVariable()&&null!==(t=e.val())&&void 0!==t&&t.identifier()){var n=ke(e.val());this.currentField=new se({type:"String",value:"null"===n?null:n})}}},{key:"exitSection",value:function(){}},{key:"enterVal",value:function(){}},{key:"getFieldValueTypeFromContext",value:function(e){if(e.BOOL())return{value:"true"===e.BOOL().getText(),type:"Boolean"};if(e.signed_number())return{value:parseFloat(e.signed_number().getText()),type:"Number"};var t=ke(e);return{value:"null"===t?null:t,type:"String"}}},{key:"exitVal",value:function(e){var t=this.getFieldValueTypeFromContext(e),n=t.value,r=t.type;if(this.isVariable()||"local"===this.currentBlockType){var i=this.attributeTypeToVariableType(r);Array.isArray(this.currentVariable[this.currentVariableField])?(this.currentVariable[this.currentVariableField].push(n),"defaultValue"!==this.currentVariableField&&"value"!==this.currentVariableField||(this.currentVariable.type="list(".concat(i,")"))):(this.currentVariable[this.currentVariableField]=n,"defaultValue"!==this.currentVariableField&&"value"!==this.currentVariableField||(this.currentVariable.type=i))}else"Array"===this.currentField.type?this.currentField.value.push(n):(this.currentField.value=n,this.currentField.type=r)}},{key:"enterFunctioncall",value:function(){}},{key:"exitFunctioncall",value:function(){}},{key:"enterFunctionname",value:function(){}},{key:"exitFunctionname",value:function(){}},{key:"enterFunctionarguments",value:function(){}},{key:"exitFunctionarguments",value:function(){}},{key:"enterIndex",value:function(){}},{key:"exitIndex",value:function(){}},{key:"enterFiledecl",value:function(){}},{key:"exitFiledecl",value:function(){}},{key:"enterList_",value:function(){this.currentField?this.currentField&&(this.currentField.type="Array",this.currentField.value=[]):this.currentField=new se({type:"Array",value:[]}),this.isVariable()?this.currentVariable[this.currentVariableField]=[]:"local"===this.currentBlockType&&(this.currentVariable.value=[])}},{key:"exitList_",value:function(){this.currentField&&(this.currentField.type="Array")}},{key:"enterMap_",value:function(){}},{key:"exitMap_",value:function(){}},{key:"enterString",value:function(){}},{key:"exitString",value:function(){}},{key:"enterNumber",value:function(){}},{key:"exitNumber",value:function(){}},{key:"enterSigned_number",value:function(){}},{key:"exitSigned_number",value:function(){}}])}(V.tree.ParseTreeListener);const Se=Ee;function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Ae(e,t,n){return t=Ne(t),function(e,t){if(t&&("object"==Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Oe()?Reflect.construct(t,n||[],Ne(e).constructor):t.apply(e,n))}function Oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Oe=function(){return!!e})()}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}function Ce(e,t,n){return(t=Re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e){var t=function(e,t){if("object"!=Te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Te(t)?t:t+""}var Le=(new V.atn.ATNDeserializer).deserialize([4,0,49,390,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,4,1,4,1,4,1,4,1,4,1,4,1,4,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,6,1,6,1,7,1,7,1,7,1,7,1,7,1,7,1,8,1,8,1,8,1,8,1,9,1,9,1,10,1,10,1,11,1,11,1,11,1,11,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,13,1,13,1,14,1,14,1,15,1,15,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,18,1,18,1,19,1,19,1,20,1,20,1,21,1,21,1,22,1,22,1,22,1,23,1,23,1,24,1,24,1,24,1,25,1,25,1,25,1,26,1,26,1,26,1,27,1,27,1,27,1,28,1,28,1,28,1,29,1,29,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,32,1,32,1,32,1,33,1,33,1,34,1,34,1,35,1,35,1,36,1,36,1,37,1,37,1,38,1,38,1,39,1,39,1,39,1,39,1,39,1,39,1,39,5,39,261,8,39,10,39,12,39,264,9,39,1,39,1,39,1,39,1,39,1,40,1,40,1,40,1,40,1,41,4,41,275,8,41,11,41,12,41,276,1,42,1,42,1,42,1,42,1,42,1,42,1,42,1,42,1,42,3,42,288,8,42,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,5,43,305,8,43,10,43,12,43,308,9,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,44,1,44,1,44,1,44,1,44,1,44,1,44,1,44,5,44,330,8,44,10,44,12,44,333,9,44,1,44,1,44,1,44,1,44,1,45,1,45,1,45,1,45,5,45,343,8,45,10,45,12,45,346,9,45,1,45,1,45,1,46,1,46,5,46,352,8,46,10,46,12,46,355,9,46,1,47,1,47,1,47,3,47,360,8,47,1,47,5,47,363,8,47,10,47,12,47,366,9,47,1,47,1,47,1,48,1,48,1,48,1,48,5,48,374,8,48,10,48,12,48,377,9,48,1,48,1,48,1,48,1,48,1,48,1,49,4,49,385,8,49,11,49,12,49,386,1,49,1,49,4,262,306,331,375,0,50,1,1,3,2,5,3,7,4,9,5,11,6,13,7,15,8,17,9,19,10,21,11,23,12,25,13,27,14,29,15,31,16,33,17,35,18,37,19,39,20,41,21,43,22,45,23,47,24,49,25,51,26,53,27,55,28,57,29,59,0,61,30,63,31,65,32,67,33,69,34,71,35,73,36,75,37,77,38,79,39,81,40,83,41,85,42,87,43,89,44,91,45,93,46,95,47,97,48,99,49,1,0,6,1,0,48,57,3,0,10,10,13,13,34,34,2,0,65,90,97,122,5,0,45,45,48,57,65,90,95,95,97,122,2,0,10,10,13,13,3,0,9,10,13,13,32,32,400,0,1,1,0,0,0,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,0,25,1,0,0,0,0,27,1,0,0,0,0,29,1,0,0,0,0,31,1,0,0,0,0,33,1,0,0,0,0,35,1,0,0,0,0,37,1,0,0,0,0,39,1,0,0,0,0,41,1,0,0,0,0,43,1,0,0,0,0,45,1,0,0,0,0,47,1,0,0,0,0,49,1,0,0,0,0,51,1,0,0,0,0,53,1,0,0,0,0,55,1,0,0,0,0,57,1,0,0,0,0,61,1,0,0,0,0,63,1,0,0,0,0,65,1,0,0,0,0,67,1,0,0,0,0,69,1,0,0,0,0,71,1,0,0,0,0,73,1,0,0,0,0,75,1,0,0,0,0,77,1,0,0,0,0,79,1,0,0,0,0,81,1,0,0,0,0,83,1,0,0,0,0,85,1,0,0,0,0,87,1,0,0,0,0,89,1,0,0,0,0,91,1,0,0,0,0,93,1,0,0,0,0,95,1,0,0,0,0,97,1,0,0,0,0,99,1,0,0,0,1,101,1,0,0,0,3,111,1,0,0,0,5,120,1,0,0,0,7,125,1,0,0,0,9,132,1,0,0,0,11,139,1,0,0,0,13,146,1,0,0,0,15,148,1,0,0,0,17,154,1,0,0,0,19,158,1,0,0,0,21,160,1,0,0,0,23,162,1,0,0,0,25,166,1,0,0,0,27,177,1,0,0,0,29,179,1,0,0,0,31,181,1,0,0,0,33,183,1,0,0,0,35,188,1,0,0,0,37,190,1,0,0,0,39,192,1,0,0,0,41,194,1,0,0,0,43,196,1,0,0,0,45,198,1,0,0,0,47,201,1,0,0,0,49,203,1,0,0,0,51,206,1,0,0,0,53,209,1,0,0,0,55,212,1,0,0,0,57,215,1,0,0,0,59,218,1,0,0,0,61,220,1,0,0,0,63,229,1,0,0,0,65,238,1,0,0,0,67,241,1,0,0,0,69,243,1,0,0,0,71,245,1,0,0,0,73,247,1,0,0,0,75,249,1,0,0,0,77,251,1,0,0,0,79,253,1,0,0,0,81,269,1,0,0,0,83,274,1,0,0,0,85,287,1,0,0,0,87,289,1,0,0,0,89,321,1,0,0,0,91,338,1,0,0,0,93,349,1,0,0,0,95,359,1,0,0,0,97,369,1,0,0,0,99,384,1,0,0,0,101,102,5,116,0,0,102,103,5,101,0,0,103,104,5,114,0,0,104,105,5,114,0,0,105,106,5,97,0,0,106,107,5,102,0,0,107,108,5,111,0,0,108,109,5,114,0,0,109,110,5,109,0,0,110,2,1,0,0,0,111,112,5,114,0,0,112,113,5,101,0,0,113,114,5,115,0,0,114,115,5,111,0,0,115,116,5,117,0,0,116,117,5,114,0,0,117,118,5,99,0,0,118,119,5,101,0,0,119,4,1,0,0,0,120,121,5,100,0,0,121,122,5,97,0,0,122,123,5,116,0,0,123,124,5,97,0,0,124,6,1,0,0,0,125,126,5,111,0,0,126,127,5,117,0,0,127,128,5,116,0,0,128,129,5,112,0,0,129,130,5,117,0,0,130,131,5,116,0,0,131,8,1,0,0,0,132,133,5,108,0,0,133,134,5,111,0,0,134,135,5,99,0,0,135,136,5,97,0,0,136,137,5,108,0,0,137,138,5,115,0,0,138,10,1,0,0,0,139,140,5,109,0,0,140,141,5,111,0,0,141,142,5,100,0,0,142,143,5,117,0,0,143,144,5,108,0,0,144,145,5,101,0,0,145,12,1,0,0,0,146,147,5,61,0,0,147,14,1,0,0,0,148,149,5,108,0,0,149,150,5,111,0,0,150,151,5,99,0,0,151,152,5,97,0,0,152,153,5,108,0,0,153,16,1,0,0,0,154,155,5,118,0,0,155,156,5,97,0,0,156,157,5,114,0,0,157,18,1,0,0,0,158,159,5,63,0,0,159,20,1,0,0,0,160,161,5,58,0,0,161,22,1,0,0,0,162,163,5,102,0,0,163,164,5,111,0,0,164,165,5,114,0,0,165,24,1,0,0,0,166,167,5,106,0,0,167,168,5,115,0,0,168,169,5,111,0,0,169,170,5,110,0,0,170,171,5,101,0,0,171,172,5,110,0,0,172,173,5,99,0,0,173,174,5,111,0,0,174,175,5,100,0,0,175,176,5,101,0,0,176,26,1,0,0,0,177,178,5,44,0,0,178,28,1,0,0,0,179,180,5,91,0,0,180,30,1,0,0,0,181,182,5,93,0,0,182,32,1,0,0,0,183,184,5,102,0,0,184,185,5,105,0,0,185,186,5,108,0,0,186,187,5,101,0,0,187,34,1,0,0,0,188,189,5,43,0,0,189,36,1,0,0,0,190,191,5,45,0,0,191,38,1,0,0,0,192,193,5,47,0,0,193,40,1,0,0,0,194,195,5,37,0,0,195,42,1,0,0,0,196,197,5,62,0,0,197,44,1,0,0,0,198,199,5,62,0,0,199,200,5,61,0,0,200,46,1,0,0,0,201,202,5,60,0,0,202,48,1,0,0,0,203,204,5,60,0,0,204,205,5,61,0,0,205,50,1,0,0,0,206,207,5,61,0,0,207,208,5,61,0,0,208,52,1,0,0,0,209,210,5,33,0,0,210,211,5,61,0,0,211,54,1,0,0,0,212,213,5,38,0,0,213,214,5,38,0,0,214,56,1,0,0,0,215,216,5,124,0,0,216,217,5,124,0,0,217,58,1,0,0,0,218,219,7,0,0,0,219,60,1,0,0,0,220,221,5,118,0,0,221,222,5,97,0,0,222,223,5,114,0,0,223,224,5,105,0,0,224,225,5,97,0,0,225,226,5,98,0,0,226,227,5,108,0,0,227,228,5,101,0,0,228,62,1,0,0,0,229,230,5,112,0,0,230,231,5,114,0,0,231,232,5,111,0,0,232,233,5,118,0,0,233,234,5,105,0,0,234,235,5,100,0,0,235,236,5,101,0,0,236,237,5,114,0,0,237,64,1,0,0,0,238,239,5,105,0,0,239,240,5,110,0,0,240,66,1,0,0,0,241,242,5,42,0,0,242,68,1,0,0,0,243,244,5,46,0,0,244,70,1,0,0,0,245,246,5,123,0,0,246,72,1,0,0,0,247,248,5,125,0,0,248,74,1,0,0,0,249,250,5,40,0,0,250,76,1,0,0,0,251,252,5,41,0,0,252,78,1,0,0,0,253,254,5,60,0,0,254,255,5,60,0,0,255,256,5,69,0,0,256,257,5,79,0,0,257,258,5,70,0,0,258,262,1,0,0,0,259,261,9,0,0,0,260,259,1,0,0,0,261,264,1,0,0,0,262,263,1,0,0,0,262,260,1,0,0,0,263,265,1,0,0,0,264,262,1,0,0,0,265,266,5,69,0,0,266,267,5,79,0,0,267,268,5,70,0,0,268,80,1,0,0,0,269,270,5,110,0,0,270,271,5,117,0,0,271,272,5,108,0,0,272,82,1,0,0,0,273,275,3,59,29,0,274,273,1,0,0,0,275,276,1,0,0,0,276,274,1,0,0,0,276,277,1,0,0,0,277,84,1,0,0,0,278,279,5,116,0,0,279,280,5,114,0,0,280,281,5,117,0,0,281,288,5,101,0,0,282,283,5,102,0,0,283,284,5,97,0,0,284,285,5,108,0,0,285,286,5,115,0,0,286,288,5,101,0,0,287,278,1,0,0,0,287,282,1,0,0,0,288,86,1,0,0,0,289,290,5,60,0,0,290,291,5,60,0,0,291,292,5,68,0,0,292,293,5,69,0,0,293,294,5,83,0,0,294,295,5,67,0,0,295,296,5,82,0,0,296,297,5,73,0,0,297,298,5,80,0,0,298,299,5,84,0,0,299,300,5,73,0,0,300,301,5,79,0,0,301,302,5,78,0,0,302,306,1,0,0,0,303,305,9,0,0,0,304,303,1,0,0,0,305,308,1,0,0,0,306,307,1,0,0,0,306,304,1,0,0,0,307,309,1,0,0,0,308,306,1,0,0,0,309,310,5,68,0,0,310,311,5,69,0,0,311,312,5,83,0,0,312,313,5,67,0,0,313,314,5,82,0,0,314,315,5,73,0,0,315,316,5,80,0,0,316,317,5,84,0,0,317,318,5,73,0,0,318,319,5,79,0,0,319,320,5,78,0,0,320,88,1,0,0,0,321,322,5,60,0,0,322,323,5,60,0,0,323,324,5,45,0,0,324,325,5,69,0,0,325,326,5,79,0,0,326,327,5,70,0,0,327,331,1,0,0,0,328,330,9,0,0,0,329,328,1,0,0,0,330,333,1,0,0,0,331,332,1,0,0,0,331,329,1,0,0,0,332,334,1,0,0,0,333,331,1,0,0,0,334,335,5,69,0,0,335,336,5,79,0,0,336,337,5,70,0,0,337,90,1,0,0,0,338,344,5,34,0,0,339,340,5,92,0,0,340,343,5,34,0,0,341,343,8,1,0,0,342,339,1,0,0,0,342,341,1,0,0,0,343,346,1,0,0,0,344,342,1,0,0,0,344,345,1,0,0,0,345,347,1,0,0,0,346,344,1,0,0,0,347,348,5,34,0,0,348,92,1,0,0,0,349,353,7,2,0,0,350,352,7,3,0,0,351,350,1,0,0,0,352,355,1,0,0,0,353,351,1,0,0,0,353,354,1,0,0,0,354,94,1,0,0,0,355,353,1,0,0,0,356,360,5,35,0,0,357,358,5,47,0,0,358,360,5,47,0,0,359,356,1,0,0,0,359,357,1,0,0,0,360,364,1,0,0,0,361,363,8,4,0,0,362,361,1,0,0,0,363,366,1,0,0,0,364,362,1,0,0,0,364,365,1,0,0,0,365,367,1,0,0,0,366,364,1,0,0,0,367,368,6,47,0,0,368,96,1,0,0,0,369,370,5,47,0,0,370,371,5,42,0,0,371,375,1,0,0,0,372,374,9,0,0,0,373,372,1,0,0,0,374,377,1,0,0,0,375,376,1,0,0,0,375,373,1,0,0,0,376,378,1,0,0,0,377,375,1,0,0,0,378,379,5,42,0,0,379,380,5,47,0,0,380,381,1,0,0,0,381,382,6,48,0,0,382,98,1,0,0,0,383,385,7,5,0,0,384,383,1,0,0,0,385,386,1,0,0,0,386,384,1,0,0,0,386,387,1,0,0,0,387,388,1,0,0,0,388,389,6,49,1,0,389,100,1,0,0,0,13,0,262,276,287,306,331,342,344,353,359,364,375,386,2,0,1,0,6,0,0]),Ie=Le.decisionToState.map((function(e,t){return new V.dfa.DFA(e,t)})),De=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ae(this,t,[e]))._interp=new V.atn.LexerATNSimulator(n,Le,Ie,new V.atn.PredictionContextCache),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(t,e),function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(V.Lexer);function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,He(r.key),r)}}function Be(e,t,n){return t&&Fe(e.prototype,t),n&&Fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ue(e,t,n){return t=Ve(t),function(e,t){if(t&&("object"==Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ze()?Reflect.construct(t,n||[],Ve(e).constructor):t.apply(e,n))}function ze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ze=function(){return!!e})()}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}function $e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}function qe(e,t){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qe(e,t)}function Ke(e,t,n){return(t=He(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){var t=function(e,t){if("object"!=Me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Me(t)?t:t+""}Ce(De,"grammarFileName","terraform.g4"),Ce(De,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),Ce(De,"modeNames",["DEFAULT_MODE"]),Ce(De,"literalNames",[null,"'terraform'","'resource'","'data'","'output'","'locals'","'module'","'='","'local'","'var'","'?'","':'","'for'","'jsonencode'","','","'['","']'","'file'","'+'","'-'","'/'","'%'","'>'","'>='","'<'","'<='","'=='","'!='","'&&'","'||'","'variable'","'provider'","'in'","'*'","'.'","'{'","'}'","'('","')'",null,"'nul'"]),Ce(De,"symbolicNames",[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"VARIABLE","PROVIDER","IN","STAR","DOT","LCURL","RCURL","LPAREN","RPAREN","EOF_","NULL_","NATURAL_NUMBER","BOOL","DESCRIPTION","MULTILINESTRING","STRING","IDENTIFIER","COMMENT","BLOCKCOMMENT","WS"]),Ce(De,"ruleNames",["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","T__8","T__9","T__10","T__11","T__12","T__13","T__14","T__15","T__16","T__17","T__18","T__19","T__20","T__21","T__22","T__23","T__24","T__25","T__26","T__27","T__28","DIGIT","VARIABLE","PROVIDER","IN","STAR","DOT","LCURL","RCURL","LPAREN","RPAREN","EOF_","NULL_","NATURAL_NUMBER","BOOL","DESCRIPTION","MULTILINESTRING","STRING","IDENTIFIER","COMMENT","BLOCKCOMMENT","WS"]),De.EOF=V.Token.EOF,De.T__0=1,De.T__1=2,De.T__2=3,De.T__3=4,De.T__4=5,De.T__5=6,De.T__6=7,De.T__7=8,De.T__8=9,De.T__9=10,De.T__10=11,De.T__11=12,De.T__12=13,De.T__13=14,De.T__14=15,De.T__15=16,De.T__16=17,De.T__17=18,De.T__18=19,De.T__19=20,De.T__20=21,De.T__21=22,De.T__22=23,De.T__23=24,De.T__24=25,De.T__25=26,De.T__26=27,De.T__27=28,De.T__28=29,De.VARIABLE=30,De.PROVIDER=31,De.IN=32,De.STAR=33,De.DOT=34,De.LCURL=35,De.RCURL=36,De.LPAREN=37,De.RPAREN=38,De.EOF_=39,De.NULL_=40,De.NATURAL_NUMBER=41,De.BOOL=42,De.DESCRIPTION=43,De.MULTILINESTRING=44,De.STRING=45,De.IDENTIFIER=46,De.COMMENT=47,De.BLOCKCOMMENT=48,De.WS=49;var We=(new V.atn.ATNDeserializer).deserialize([4,1,49,310,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,4,0,77,8,0,11,0,12,0,78,1,0,1,0,1,1,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,3,1,3,1,3,1,3,1,3,1,4,1,4,1,4,1,4,1,5,1,5,1,5,1,5,1,6,1,6,1,6,1,7,1,7,1,7,1,7,1,8,1,8,1,8,1,8,1,9,1,9,5,9,117,8,9,10,9,12,9,120,9,9,1,9,1,9,1,10,1,10,1,11,1,11,1,12,1,12,1,13,1,13,1,14,1,14,1,14,5,14,135,8,14,10,14,12,14,138,9,14,1,14,1,14,1,15,1,15,1,15,1,15,1,16,1,16,3,16,148,8,16,1,16,1,16,1,17,1,17,3,17,154,8,17,1,17,1,17,5,17,158,8,17,10,17,12,17,161,9,17,1,17,1,17,1,17,5,17,166,8,17,10,17,12,17,169,9,17,1,17,1,17,1,17,5,17,174,8,17,10,17,12,17,177,9,17,3,17,179,8,17,1,18,1,18,1,19,1,19,1,19,1,19,1,19,1,19,1,19,3,19,190,8,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,5,19,202,8,19,10,19,12,19,205,9,19,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,21,1,21,1,21,3,21,217,8,21,1,22,1,22,1,22,1,22,1,22,1,22,1,22,1,22,1,22,3,22,228,8,22,1,23,1,23,1,23,1,23,1,23,1,23,1,23,1,23,5,23,238,8,23,10,23,12,23,241,9,23,1,23,3,23,244,8,23,1,24,1,24,1,25,1,25,1,25,1,25,5,25,252,8,25,10,25,12,25,255,9,25,3,25,257,8,25,1,26,1,26,1,26,1,26,1,27,1,27,1,27,1,27,1,27,1,28,1,28,1,28,1,28,5,28,272,8,28,10,28,12,28,275,9,28,1,28,3,28,278,8,28,3,28,280,8,28,1,28,1,28,1,29,1,29,1,29,3,29,287,8,29,5,29,289,8,29,10,29,12,29,292,9,29,1,29,1,29,1,30,1,30,1,31,3,31,299,8,31,1,31,1,31,1,32,1,32,1,33,1,33,1,33,3,33,308,8,33,1,33,1,239,1,38,34,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,0,5,3,0,3,3,6,6,8,9,2,0,30,32,46,46,1,0,44,45,1,0,18,19,2,0,18,29,33,33,318,0,76,1,0,0,0,2,82,1,0,0,0,4,85,1,0,0,0,6,90,1,0,0,0,8,95,1,0,0,0,10,99,1,0,0,0,12,103,1,0,0,0,14,106,1,0,0,0,16,110,1,0,0,0,18,114,1,0,0,0,20,123,1,0,0,0,22,125,1,0,0,0,24,127,1,0,0,0,26,129,1,0,0,0,28,131,1,0,0,0,30,141,1,0,0,0,32,147,1,0,0,0,34,178,1,0,0,0,36,180,1,0,0,0,38,189,1,0,0,0,40,206,1,0,0,0,42,216,1,0,0,0,44,227,1,0,0,0,46,243,1,0,0,0,48,245,1,0,0,0,50,256,1,0,0,0,52,258,1,0,0,0,54,262,1,0,0,0,56,267,1,0,0,0,58,283,1,0,0,0,60,295,1,0,0,0,62,298,1,0,0,0,64,302,1,0,0,0,66,304,1,0,0,0,68,77,3,12,6,0,69,77,3,14,7,0,70,77,3,10,5,0,71,77,3,8,4,0,72,77,3,16,8,0,73,77,3,6,3,0,74,77,3,4,2,0,75,77,3,2,1,0,76,68,1,0,0,0,76,69,1,0,0,0,76,70,1,0,0,0,76,71,1,0,0,0,76,72,1,0,0,0,76,73,1,0,0,0,76,74,1,0,0,0,76,75,1,0,0,0,77,78,1,0,0,0,78,76,1,0,0,0,78,79,1,0,0,0,79,80,1,0,0,0,80,81,5,0,0,1,81,1,1,0,0,0,82,83,5,1,0,0,83,84,3,28,14,0,84,3,1,0,0,0,85,86,5,2,0,0,86,87,3,22,11,0,87,88,3,24,12,0,88,89,3,28,14,0,89,5,1,0,0,0,90,91,5,3,0,0,91,92,3,22,11,0,92,93,3,24,12,0,93,94,3,28,14,0,94,7,1,0,0,0,95,96,5,31,0,0,96,97,3,22,11,0,97,98,3,28,14,0,98,9,1,0,0,0,99,100,5,4,0,0,100,101,3,24,12,0,101,102,3,28,14,0,102,11,1,0,0,0,103,104,5,5,0,0,104,105,3,28,14,0,105,13,1,0,0,0,106,107,5,6,0,0,107,108,3,24,12,0,108,109,3,28,14,0,109,15,1,0,0,0,110,111,5,30,0,0,111,112,3,24,12,0,112,113,3,28,14,0,113,17,1,0,0,0,114,118,3,20,10,0,115,117,3,26,13,0,116,115,1,0,0,0,117,120,1,0,0,0,118,116,1,0,0,0,118,119,1,0,0,0,119,121,1,0,0,0,120,118,1,0,0,0,121,122,3,28,14,0,122,19,1,0,0,0,123,124,5,46,0,0,124,21,1,0,0,0,125,126,5,45,0,0,126,23,1,0,0,0,127,128,5,45,0,0,128,25,1,0,0,0,129,130,5,45,0,0,130,27,1,0,0,0,131,136,5,35,0,0,132,135,3,30,15,0,133,135,3,18,9,0,134,132,1,0,0,0,134,133,1,0,0,0,135,138,1,0,0,0,136,134,1,0,0,0,136,137,1,0,0,0,137,139,1,0,0,0,138,136,1,0,0,0,139,140,5,36,0,0,140,29,1,0,0,0,141,142,3,32,16,0,142,143,5,7,0,0,143,144,3,38,19,0,144,31,1,0,0,0,145,146,7,0,0,0,146,148,5,34,0,0,147,145,1,0,0,0,147,148,1,0,0,0,148,149,1,0,0,0,149,150,3,34,17,0,150,33,1,0,0,0,151,153,7,1,0,0,152,154,3,52,26,0,153,152,1,0,0,0,153,154,1,0,0,0,154,159,1,0,0,0,155,156,5,34,0,0,156,158,3,34,17,0,157,155,1,0,0,0,158,161,1,0,0,0,159,157,1,0,0,0,159,160,1,0,0,0,160,179,1,0,0,0,161,159,1,0,0,0,162,167,5,33,0,0,163,164,5,34,0,0,164,166,3,34,17,0,165,163,1,0,0,0,166,169,1,0,0,0,167,165,1,0,0,0,167,168,1,0,0,0,168,179,1,0,0,0,169,167,1,0,0,0,170,175,3,36,18,0,171,172,5,34,0,0,172,174,3,34,17,0,173,171,1,0,0,0,174,177,1,0,0,0,175,173,1,0,0,0,175,176,1,0,0,0,176,179,1,0,0,0,177,175,1,0,0,0,178,151,1,0,0,0,178,162,1,0,0,0,178,170,1,0,0,0,179,35,1,0,0,0,180,181,5,41,0,0,181,37,1,0,0,0,182,183,6,19,-1,0,183,190,3,42,21,0,184,185,5,37,0,0,185,186,3,38,19,0,186,187,5,38,0,0,187,190,1,0,0,0,188,190,3,40,20,0,189,182,1,0,0,0,189,184,1,0,0,0,189,188,1,0,0,0,190,203,1,0,0,0,191,192,10,4,0,0,192,193,3,64,32,0,193,194,3,38,19,5,194,202,1,0,0,0,195,196,10,2,0,0,196,197,5,10,0,0,197,198,3,38,19,0,198,199,5,11,0,0,199,200,3,38,19,3,200,202,1,0,0,0,201,191,1,0,0,0,201,195,1,0,0,0,202,205,1,0,0,0,203,201,1,0,0,0,203,204,1,0,0,0,204,39,1,0,0,0,205,203,1,0,0,0,206,207,5,12,0,0,207,208,3,32,16,0,208,209,5,32,0,0,209,210,3,38,19,0,210,211,5,11,0,0,211,212,3,38,19,0,212,41,1,0,0,0,213,217,3,56,28,0,214,217,3,58,29,0,215,217,3,44,22,0,216,213,1,0,0,0,216,214,1,0,0,0,216,215,1,0,0,0,217,43,1,0,0,0,218,228,5,40,0,0,219,228,3,62,31,0,220,228,3,60,30,0,221,228,3,32,16,0,222,228,5,42,0,0,223,228,5,43,0,0,224,228,3,54,27,0,225,228,3,46,23,0,226,228,5,39,0,0,227,218,1,0,0,0,227,219,1,0,0,0,227,220,1,0,0,0,227,221,1,0,0,0,227,222,1,0,0,0,227,223,1,0,0,0,227,224,1,0,0,0,227,225,1,0,0,0,227,226,1,0,0,0,228,45,1,0,0,0,229,230,3,48,24,0,230,231,5,37,0,0,231,232,3,50,25,0,232,233,5,38,0,0,233,244,1,0,0,0,234,235,5,13,0,0,235,239,5,37,0,0,236,238,9,0,0,0,237,236,1,0,0,0,238,241,1,0,0,0,239,240,1,0,0,0,239,237,1,0,0,0,240,242,1,0,0,0,241,239,1,0,0,0,242,244,5,38,0,0,243,229,1,0,0,0,243,234,1,0,0,0,244,47,1,0,0,0,245,246,5,46,0,0,246,49,1,0,0,0,247,257,1,0,0,0,248,253,3,38,19,0,249,250,5,14,0,0,250,252,3,38,19,0,251,249,1,0,0,0,252,255,1,0,0,0,253,251,1,0,0,0,253,254,1,0,0,0,254,257,1,0,0,0,255,253,1,0,0,0,256,247,1,0,0,0,256,248,1,0,0,0,257,51,1,0,0,0,258,259,5,15,0,0,259,260,3,38,19,0,260,261,5,16,0,0,261,53,1,0,0,0,262,263,5,17,0,0,263,264,5,37,0,0,264,265,3,38,19,0,265,266,5,38,0,0,266,55,1,0,0,0,267,279,5,15,0,0,268,273,3,38,19,0,269,270,5,14,0,0,270,272,3,38,19,0,271,269,1,0,0,0,272,275,1,0,0,0,273,271,1,0,0,0,273,274,1,0,0,0,274,277,1,0,0,0,275,273,1,0,0,0,276,278,5,14,0,0,277,276,1,0,0,0,277,278,1,0,0,0,278,280,1,0,0,0,279,268,1,0,0,0,279,280,1,0,0,0,280,281,1,0,0,0,281,282,5,16,0,0,282,57,1,0,0,0,283,290,5,35,0,0,284,286,3,30,15,0,285,287,5,14,0,0,286,285,1,0,0,0,286,287,1,0,0,0,287,289,1,0,0,0,288,284,1,0,0,0,289,292,1,0,0,0,290,288,1,0,0,0,290,291,1,0,0,0,291,293,1,0,0,0,292,290,1,0,0,0,293,294,5,36,0,0,294,59,1,0,0,0,295,296,7,2,0,0,296,61,1,0,0,0,297,299,7,3,0,0,298,297,1,0,0,0,298,299,1,0,0,0,299,300,1,0,0,0,300,301,3,66,33,0,301,63,1,0,0,0,302,303,7,4,0,0,303,65,1,0,0,0,304,307,5,41,0,0,305,306,5,34,0,0,306,308,5,41,0,0,307,305,1,0,0,0,307,308,1,0,0,0,308,67,1,0,0,0,27,76,78,118,134,136,147,153,159,167,175,178,189,201,203,216,227,239,243,253,256,273,277,279,286,290,298,307]),Ge=We.decisionToState.map((function(e,t){return new V.dfa.DFA(e,t)})),Ye=new V.atn.PredictionContextCache,Qe=function(e){function t(e){var n;return je(this,t),(n=Ue(this,t,[e]))._interp=new V.atn.ParserATNSimulator(n,We,Ge,Ye),n.ruleNames=t.ruleNames,n.literalNames=t.literalNames,n.symbolicNames=t.symbolicNames,n}return $e(t,e),Be(t,[{key:"sempred",value:function(e,t,n){if(19===t)return this.expression_sempred(e,n);throw"No predicate with index:"+t}},{key:"expression_sempred",value:function(e,t){switch(t){case 0:return this.precpred(this._ctx,4);case 1:return this.precpred(this._ctx,2);default:throw"No predicate with index:"+t}}},{key:"file_",value:function(){var e=new Xe(this,this._ctx,this.state);this.enterRule(e,0,t.RULE_file_);var n=0;try{this.enterOuterAlt(e,1),this.state=76,this._errHandler.sync(this),n=this._input.LA(1);do{switch(this.state=76,this._errHandler.sync(this),this._input.LA(1)){case 5:this.state=68,this.local();break;case 6:this.state=69,this.module();break;case 4:this.state=70,this.output();break;case 31:this.state=71,this.provider();break;case 30:this.state=72,this.variable();break;case 3:this.state=73,this.data();break;case 2:this.state=74,this.resource();break;case 1:this.state=75,this.terraform();break;default:throw new V.error.NoViableAltException(this)}this.state=78,this._errHandler.sync(this),n=this._input.LA(1)}while(!(-32&n)&&1<<n&3221225598);this.state=80,this.match(t.EOF)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"terraform",value:function(){var e=new Ze(this,this._ctx,this.state);this.enterRule(e,2,t.RULE_terraform);try{this.enterOuterAlt(e,1),this.state=82,this.match(t.T__0),this.state=83,this.blockbody()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"resource",value:function(){var e=new Je(this,this._ctx,this.state);this.enterRule(e,4,t.RULE_resource);try{this.enterOuterAlt(e,1),this.state=85,this.match(t.T__1),this.state=86,this.resourcetype(),this.state=87,this.name(),this.state=88,this.blockbody()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"data",value:function(){var e=new et(this,this._ctx,this.state);this.enterRule(e,6,t.RULE_data);try{this.enterOuterAlt(e,1),this.state=90,this.match(t.T__2),this.state=91,this.resourcetype(),this.state=92,this.name(),this.state=93,this.blockbody()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"provider",value:function(){var e=new tt(this,this._ctx,this.state);this.enterRule(e,8,t.RULE_provider);try{this.enterOuterAlt(e,1),this.state=95,this.match(t.PROVIDER),this.state=96,this.resourcetype(),this.state=97,this.blockbody()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"output",value:function(){var e=new nt(this,this._ctx,this.state);this.enterRule(e,10,t.RULE_output);try{this.enterOuterAlt(e,1),this.state=99,this.match(t.T__3),this.state=100,this.name(),this.state=101,this.blockbody()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"local",value:function(){var e=new rt(this,this._ctx,this.state);this.enterRule(e,12,t.RULE_local);try{this.enterOuterAlt(e,1),this.state=103,this.match(t.T__4),this.state=104,this.blockbody()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"module",value:function(){var e=new it(this,this._ctx,this.state);this.enterRule(e,14,t.RULE_module);try{this.enterOuterAlt(e,1),this.state=106,this.match(t.T__5),this.state=107,this.name(),this.state=108,this.blockbody()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"variable",value:function(){var e=new ot(this,this._ctx,this.state);this.enterRule(e,16,t.RULE_variable);try{this.enterOuterAlt(e,1),this.state=110,this.match(t.VARIABLE),this.state=111,this.name(),this.state=112,this.blockbody()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"block",value:function(){var e=new st(this,this._ctx,this.state);this.enterRule(e,18,t.RULE_block);var n=0;try{for(this.enterOuterAlt(e,1),this.state=114,this.blocktype(),this.state=118,this._errHandler.sync(this),n=this._input.LA(1);45===n;)this.state=115,this.label(),this.state=120,this._errHandler.sync(this),n=this._input.LA(1);this.state=121,this.blockbody()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"blocktype",value:function(){var e=new at(this,this._ctx,this.state);this.enterRule(e,20,t.RULE_blocktype);try{this.enterOuterAlt(e,1),this.state=123,this.match(t.IDENTIFIER)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"resourcetype",value:function(){var e=new ut(this,this._ctx,this.state);this.enterRule(e,22,t.RULE_resourcetype);try{this.enterOuterAlt(e,1),this.state=125,this.match(t.STRING)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"name",value:function(){var e=new ct(this,this._ctx,this.state);this.enterRule(e,24,t.RULE_name);try{this.enterOuterAlt(e,1),this.state=127,this.match(t.STRING)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"label",value:function(){var e=new lt(this,this._ctx,this.state);this.enterRule(e,26,t.RULE_label);try{this.enterOuterAlt(e,1),this.state=129,this.match(t.STRING)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"blockbody",value:function(){var e=new ht(this,this._ctx,this.state);this.enterRule(e,28,t.RULE_blockbody);var n=0;try{for(this.enterOuterAlt(e,1),this.state=131,this.match(t.LCURL),this.state=136,this._errHandler.sync(this),n=this._input.LA(1);!(-32&n)&&1<<n&3221226312||!(n-32&-32)&&1<<n-32&16899;){switch(this.state=134,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,3,this._ctx)){case 1:this.state=132,this.argument();break;case 2:this.state=133,this.block()}this.state=138,this._errHandler.sync(this),n=this._input.LA(1)}this.state=139,this.match(t.RCURL)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"argument",value:function(){var e=new ft(this,this._ctx,this.state);this.enterRule(e,30,t.RULE_argument);try{this.enterOuterAlt(e,1),this.state=141,this.identifier(),this.state=142,this.match(t.T__6),this.state=143,this.expression(0)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"identifier",value:function(){var e=new pt(this,this._ctx,this.state);this.enterRule(e,32,t.RULE_identifier);var n=0;try{this.enterOuterAlt(e,1),this.state=147,this._errHandler.sync(this),!(-32&(n=this._input.LA(1)))&&1<<n&840&&(this.state=145,-32&(n=this._input.LA(1))||!(1<<n&840)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=146,this.match(t.DOT)),this.state=149,this.identifierchain()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"identifierchain",value:function(){var e=new dt(this,this._ctx,this.state);this.enterRule(e,34,t.RULE_identifierchain);var n=0;try{switch(this.state=178,this._errHandler.sync(this),this._input.LA(1)){case 30:case 31:case 32:case 46:this.enterOuterAlt(e,1),this.state=151,(n=this._input.LA(1))-30&-32||!(1<<n-30&65543)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=153,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,6,this._ctx)&&(this.state=152,this.index()),this.state=159,this._errHandler.sync(this);for(var r=this._interp.adaptivePredict(this._input,7,this._ctx);2!=r&&r!=V.atn.ATN.INVALID_ALT_NUMBER;)1===r&&(this.state=155,this.match(t.DOT),this.state=156,this.identifierchain()),this.state=161,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,7,this._ctx);break;case 33:for(this.enterOuterAlt(e,2),this.state=162,this.match(t.STAR),this.state=167,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,8,this._ctx);2!=r&&r!=V.atn.ATN.INVALID_ALT_NUMBER;)1===r&&(this.state=163,this.match(t.DOT),this.state=164,this.identifierchain()),this.state=169,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,8,this._ctx);break;case 41:for(this.enterOuterAlt(e,3),this.state=170,this.inline_index(),this.state=175,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,9,this._ctx);2!=r&&r!=V.atn.ATN.INVALID_ALT_NUMBER;)1===r&&(this.state=171,this.match(t.DOT),this.state=172,this.identifierchain()),this.state=177,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,9,this._ctx);break;default:throw new V.error.NoViableAltException(this)}}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"inline_index",value:function(){var e=new mt(this,this._ctx,this.state);this.enterRule(e,36,t.RULE_inline_index);try{this.enterOuterAlt(e,1),this.state=180,this.match(t.NATURAL_NUMBER)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"expression",value:function(e){void 0===e&&(e=0);var n=this._ctx,r=this.state,i=new yt(this,this._ctx,r);this.enterRecursionRule(i,38,t.RULE_expression,e);try{switch(this.enterOuterAlt(i,1),this.state=189,this._errHandler.sync(this),this._input.LA(1)){case 3:case 6:case 8:case 9:case 13:case 15:case 17:case 18:case 19:case 30:case 31:case 32:case 33:case 35:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:this.state=183,this.section();break;case 37:this.state=184,this.match(t.LPAREN),this.state=185,this.expression(0),this.state=186,this.match(t.RPAREN);break;case 12:this.state=188,this.forloop();break;default:throw new V.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=203,this._errHandler.sync(this);for(var o=this._interp.adaptivePredict(this._input,13,this._ctx);2!=o&&o!=V.atn.ATN.INVALID_ALT_NUMBER;){if(1===o)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),this.state=201,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,12,this._ctx)){case 1:if(i=new yt(this,n,r),this.pushNewRecursionContext(i,38,t.RULE_expression),this.state=191,!this.precpred(this._ctx,4))throw new V.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=192,this.operator_(),this.state=193,this.expression(5);break;case 2:if(i=new yt(this,n,r),this.pushNewRecursionContext(i,38,t.RULE_expression),this.state=195,!this.precpred(this._ctx,2))throw new V.error.FailedPredicateException(this,"this.precpred(this._ctx, 2)");this.state=196,this.match(t.T__9),this.state=197,this.expression(0),this.state=198,this.match(t.T__10),this.state=199,this.expression(3)}this.state=205,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,13,this._ctx)}}catch(e){if(!(e instanceof V.error.RecognitionException))throw e;i.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.unrollRecursionContexts(n)}return i}},{key:"forloop",value:function(){var e=new vt(this,this._ctx,this.state);this.enterRule(e,40,t.RULE_forloop);try{this.enterOuterAlt(e,1),this.state=206,this.match(t.T__11),this.state=207,this.identifier(),this.state=208,this.match(t.IN),this.state=209,this.expression(0),this.state=210,this.match(t.T__10),this.state=211,this.expression(0)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"section",value:function(){var e=new gt(this,this._ctx,this.state);this.enterRule(e,42,t.RULE_section);try{switch(this.state=216,this._errHandler.sync(this),this._input.LA(1)){case 15:this.enterOuterAlt(e,1),this.state=213,this.list_();break;case 35:this.enterOuterAlt(e,2),this.state=214,this.map_();break;case 3:case 6:case 8:case 9:case 13:case 17:case 18:case 19:case 30:case 31:case 32:case 33:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:this.enterOuterAlt(e,3),this.state=215,this.val();break;default:throw new V.error.NoViableAltException(this)}}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"val",value:function(){var e=new _t(this,this._ctx,this.state);this.enterRule(e,44,t.RULE_val);try{switch(this.state=227,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,15,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=218,this.match(t.NULL_);break;case 2:this.enterOuterAlt(e,2),this.state=219,this.signed_number();break;case 3:this.enterOuterAlt(e,3),this.state=220,this.string();break;case 4:this.enterOuterAlt(e,4),this.state=221,this.identifier();break;case 5:this.enterOuterAlt(e,5),this.state=222,this.match(t.BOOL);break;case 6:this.enterOuterAlt(e,6),this.state=223,this.match(t.DESCRIPTION);break;case 7:this.enterOuterAlt(e,7),this.state=224,this.filedecl();break;case 8:this.enterOuterAlt(e,8),this.state=225,this.functioncall();break;case 9:this.enterOuterAlt(e,9),this.state=226,this.match(t.EOF_)}}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"functioncall",value:function(){var e=new bt(this,this._ctx,this.state);this.enterRule(e,46,t.RULE_functioncall);try{switch(this.state=243,this._errHandler.sync(this),this._input.LA(1)){case 46:this.enterOuterAlt(e,1),this.state=229,this.functionname(),this.state=230,this.match(t.LPAREN),this.state=231,this.functionarguments(),this.state=232,this.match(t.RPAREN);break;case 13:this.enterOuterAlt(e,2),this.state=234,this.match(t.T__12),this.state=235,this.match(t.LPAREN),this.state=239,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,16,this._ctx);1!=n&&n!=V.atn.ATN.INVALID_ALT_NUMBER;)2===n&&(this.state=236,this.matchWildcard()),this.state=241,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,16,this._ctx);this.state=242,this.match(t.RPAREN);break;default:throw new V.error.NoViableAltException(this)}}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"functionname",value:function(){var e=new wt(this,this._ctx,this.state);this.enterRule(e,48,t.RULE_functionname);try{this.enterOuterAlt(e,1),this.state=245,this.match(t.IDENTIFIER)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"functionarguments",value:function(){var e=new xt(this,this._ctx,this.state);this.enterRule(e,50,t.RULE_functionarguments);var n=0;try{switch(this.state=256,this._errHandler.sync(this),this._input.LA(1)){case 38:this.enterOuterAlt(e,1);break;case 3:case 6:case 8:case 9:case 12:case 13:case 15:case 17:case 18:case 19:case 30:case 31:case 32:case 33:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:for(this.enterOuterAlt(e,2),this.state=248,this.expression(0),this.state=253,this._errHandler.sync(this),n=this._input.LA(1);14===n;)this.state=249,this.match(t.T__13),this.state=250,this.expression(0),this.state=255,this._errHandler.sync(this),n=this._input.LA(1);break;default:throw new V.error.NoViableAltException(this)}}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"index",value:function(){var e=new kt(this,this._ctx,this.state);this.enterRule(e,52,t.RULE_index);try{this.enterOuterAlt(e,1),this.state=258,this.match(t.T__14),this.state=259,this.expression(0),this.state=260,this.match(t.T__15)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"filedecl",value:function(){var e=new Et(this,this._ctx,this.state);this.enterRule(e,54,t.RULE_filedecl);try{this.enterOuterAlt(e,1),this.state=262,this.match(t.T__16),this.state=263,this.match(t.LPAREN),this.state=264,this.expression(0),this.state=265,this.match(t.RPAREN)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"list_",value:function(){var e=new St(this,this._ctx,this.state);this.enterRule(e,56,t.RULE_list_);var n=0;try{if(this.enterOuterAlt(e,1),this.state=267,this.match(t.T__14),this.state=279,this._errHandler.sync(this),!(-32&(n=this._input.LA(1)))&&1<<n&3222188872||!(n-32&-32)&&1<<n-32&32683){this.state=268,this.expression(0),this.state=273,this._errHandler.sync(this);for(var r=this._interp.adaptivePredict(this._input,20,this._ctx);2!=r&&r!=V.atn.ATN.INVALID_ALT_NUMBER;)1===r&&(this.state=269,this.match(t.T__13),this.state=270,this.expression(0)),this.state=275,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,20,this._ctx);this.state=277,this._errHandler.sync(this),14===(n=this._input.LA(1))&&(this.state=276,this.match(t.T__13))}this.state=281,this.match(t.T__15)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"map_",value:function(){var e=new Tt(this,this._ctx,this.state);this.enterRule(e,58,t.RULE_map_);var n=0;try{for(this.enterOuterAlt(e,1),this.state=283,this.match(t.LCURL),this.state=290,this._errHandler.sync(this),n=this._input.LA(1);!(-32&n)&&1<<n&3221226312||!(n-32&-32)&&1<<n-32&16899;)this.state=284,this.argument(),this.state=286,this._errHandler.sync(this),14===(n=this._input.LA(1))&&(this.state=285,this.match(t.T__13)),this.state=292,this._errHandler.sync(this),n=this._input.LA(1);this.state=293,this.match(t.RCURL)}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"string",value:function(){var e=new At(this,this._ctx,this.state);this.enterRule(e,60,t.RULE_string);var n=0;try{this.enterOuterAlt(e,1),this.state=295,44!==(n=this._input.LA(1))&&45!==n?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"signed_number",value:function(){var e=new Ot(this,this._ctx,this.state);this.enterRule(e,62,t.RULE_signed_number);var n=0;try{this.enterOuterAlt(e,1),this.state=298,this._errHandler.sync(this),18!==(n=this._input.LA(1))&&19!==n||(this.state=297,18!==(n=this._input.LA(1))&&19!==n?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())),this.state=300,this.number()}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"operator_",value:function(){var e=new Nt(this,this._ctx,this.state);this.enterRule(e,64,t.RULE_operator_);var n=0;try{this.enterOuterAlt(e,1),this.state=302,(n=this._input.LA(1))-18&-32||!(1<<n-18&36863)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"number",value:function(){var e=new Pt(this,this._ctx,this.state);this.enterRule(e,66,t.RULE_number);try{this.enterOuterAlt(e,1),this.state=304,this.match(t.NATURAL_NUMBER),this.state=307,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,26,this._ctx)&&(this.state=305,this.match(t.DOT),this.state=306,this.match(t.NATURAL_NUMBER))}catch(t){if(!(t instanceof V.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}}])}(V.Parser);Ke(Qe,"grammarFileName","terraform.g4"),Ke(Qe,"literalNames",[null,"'terraform'","'resource'","'data'","'output'","'locals'","'module'","'='","'local'","'var'","'?'","':'","'for'","'jsonencode'","','","'['","']'","'file'","'+'","'-'","'/'","'%'","'>'","'>='","'<'","'<='","'=='","'!='","'&&'","'||'","'variable'","'provider'","'in'","'*'","'.'","'{'","'}'","'('","')'",null,"'nul'"]),Ke(Qe,"symbolicNames",[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"VARIABLE","PROVIDER","IN","STAR","DOT","LCURL","RCURL","LPAREN","RPAREN","EOF_","NULL_","NATURAL_NUMBER","BOOL","DESCRIPTION","MULTILINESTRING","STRING","IDENTIFIER","COMMENT","BLOCKCOMMENT","WS"]),Ke(Qe,"ruleNames",["file_","terraform","resource","data","provider","output","local","module","variable","block","blocktype","resourcetype","name","label","blockbody","argument","identifier","identifierchain","inline_index","expression","forloop","section","val","functioncall","functionname","functionarguments","index","filedecl","list_","map_","string","signed_number","operator_","number"]),Qe.EOF=V.Token.EOF,Qe.T__0=1,Qe.T__1=2,Qe.T__2=3,Qe.T__3=4,Qe.T__4=5,Qe.T__5=6,Qe.T__6=7,Qe.T__7=8,Qe.T__8=9,Qe.T__9=10,Qe.T__10=11,Qe.T__11=12,Qe.T__12=13,Qe.T__13=14,Qe.T__14=15,Qe.T__15=16,Qe.T__16=17,Qe.T__17=18,Qe.T__18=19,Qe.T__19=20,Qe.T__20=21,Qe.T__21=22,Qe.T__22=23,Qe.T__23=24,Qe.T__24=25,Qe.T__25=26,Qe.T__26=27,Qe.T__27=28,Qe.T__28=29,Qe.VARIABLE=30,Qe.PROVIDER=31,Qe.IN=32,Qe.STAR=33,Qe.DOT=34,Qe.LCURL=35,Qe.RCURL=36,Qe.LPAREN=37,Qe.RPAREN=38,Qe.EOF_=39,Qe.NULL_=40,Qe.NATURAL_NUMBER=41,Qe.BOOL=42,Qe.DESCRIPTION=43,Qe.MULTILINESTRING=44,Qe.STRING=45,Qe.IDENTIFIER=46,Qe.COMMENT=47,Qe.BLOCKCOMMENT=48,Qe.WS=49,Qe.RULE_file_=0,Qe.RULE_terraform=1,Qe.RULE_resource=2,Qe.RULE_data=3,Qe.RULE_provider=4,Qe.RULE_output=5,Qe.RULE_local=6,Qe.RULE_module=7,Qe.RULE_variable=8,Qe.RULE_block=9,Qe.RULE_blocktype=10,Qe.RULE_resourcetype=11,Qe.RULE_name=12,Qe.RULE_label=13,Qe.RULE_blockbody=14,Qe.RULE_argument=15,Qe.RULE_identifier=16,Qe.RULE_identifierchain=17,Qe.RULE_inline_index=18,Qe.RULE_expression=19,Qe.RULE_forloop=20,Qe.RULE_section=21,Qe.RULE_val=22,Qe.RULE_functioncall=23,Qe.RULE_functionname=24,Qe.RULE_functionarguments=25,Qe.RULE_index=26,Qe.RULE_filedecl=27,Qe.RULE_list_=28,Qe.RULE_map_=29,Qe.RULE_string=30,Qe.RULE_signed_number=31,Qe.RULE_operator_=32,Qe.RULE_number=33;var Xe=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),Ke(i=Ue(this,t,[n,r]),"local",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(rt):this.getTypedRuleContext(rt,e)})),Ke(i,"module",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(it):this.getTypedRuleContext(it,e)})),Ke(i,"output",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(nt):this.getTypedRuleContext(nt,e)})),Ke(i,"provider",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(tt):this.getTypedRuleContext(tt,e)})),Ke(i,"variable",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(ot):this.getTypedRuleContext(ot,e)})),Ke(i,"data",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(et):this.getTypedRuleContext(et,e)})),Ke(i,"resource",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(Je):this.getTypedRuleContext(Je,e)})),Ke(i,"terraform",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(Ze):this.getTypedRuleContext(Ze,e)})),i.parser=e,i.ruleIndex=Qe.RULE_file_,i}return $e(t,e),Be(t,[{key:"EOF",value:function(){return this.getToken(Qe.EOF,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterFile_(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitFile_(this)}}])}(V.ParserRuleContext),Ze=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_terraform,i}return $e(t,e),Be(t,[{key:"blockbody",value:function(){return this.getTypedRuleContext(ht,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterTerraform(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitTerraform(this)}}])}(V.ParserRuleContext),Je=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_resource,i}return $e(t,e),Be(t,[{key:"resourcetype",value:function(){return this.getTypedRuleContext(ut,0)}},{key:"name",value:function(){return this.getTypedRuleContext(ct,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(ht,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterResource(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitResource(this)}}])}(V.ParserRuleContext),et=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_data,i}return $e(t,e),Be(t,[{key:"resourcetype",value:function(){return this.getTypedRuleContext(ut,0)}},{key:"name",value:function(){return this.getTypedRuleContext(ct,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(ht,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterData(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitData(this)}}])}(V.ParserRuleContext),tt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_provider,i}return $e(t,e),Be(t,[{key:"PROVIDER",value:function(){return this.getToken(Qe.PROVIDER,0)}},{key:"resourcetype",value:function(){return this.getTypedRuleContext(ut,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(ht,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterProvider(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitProvider(this)}}])}(V.ParserRuleContext),nt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_output,i}return $e(t,e),Be(t,[{key:"name",value:function(){return this.getTypedRuleContext(ct,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(ht,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterOutput(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitOutput(this)}}])}(V.ParserRuleContext),rt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_local,i}return $e(t,e),Be(t,[{key:"blockbody",value:function(){return this.getTypedRuleContext(ht,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterLocal(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitLocal(this)}}])}(V.ParserRuleContext),it=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_module,i}return $e(t,e),Be(t,[{key:"name",value:function(){return this.getTypedRuleContext(ct,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(ht,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterModule(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitModule(this)}}])}(V.ParserRuleContext),ot=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_variable,i}return $e(t,e),Be(t,[{key:"VARIABLE",value:function(){return this.getToken(Qe.VARIABLE,0)}},{key:"name",value:function(){return this.getTypedRuleContext(ct,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(ht,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterVariable(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitVariable(this)}}])}(V.ParserRuleContext),st=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),Ke(i=Ue(this,t,[n,r]),"label",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(lt):this.getTypedRuleContext(lt,e)})),i.parser=e,i.ruleIndex=Qe.RULE_block,i}return $e(t,e),Be(t,[{key:"blocktype",value:function(){return this.getTypedRuleContext(at,0)}},{key:"blockbody",value:function(){return this.getTypedRuleContext(ht,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterBlock(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitBlock(this)}}])}(V.ParserRuleContext),at=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_blocktype,i}return $e(t,e),Be(t,[{key:"IDENTIFIER",value:function(){return this.getToken(Qe.IDENTIFIER,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterBlocktype(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitBlocktype(this)}}])}(V.ParserRuleContext),ut=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_resourcetype,i}return $e(t,e),Be(t,[{key:"STRING",value:function(){return this.getToken(Qe.STRING,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterResourcetype(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitResourcetype(this)}}])}(V.ParserRuleContext),ct=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_name,i}return $e(t,e),Be(t,[{key:"STRING",value:function(){return this.getToken(Qe.STRING,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterName(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitName(this)}}])}(V.ParserRuleContext),lt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_label,i}return $e(t,e),Be(t,[{key:"STRING",value:function(){return this.getToken(Qe.STRING,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterLabel(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitLabel(this)}}])}(V.ParserRuleContext),ht=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),Ke(i=Ue(this,t,[n,r]),"argument",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(ft):this.getTypedRuleContext(ft,e)})),Ke(i,"block",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(st):this.getTypedRuleContext(st,e)})),i.parser=e,i.ruleIndex=Qe.RULE_blockbody,i}return $e(t,e),Be(t,[{key:"LCURL",value:function(){return this.getToken(Qe.LCURL,0)}},{key:"RCURL",value:function(){return this.getToken(Qe.RCURL,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterBlockbody(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitBlockbody(this)}}])}(V.ParserRuleContext),ft=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_argument,i}return $e(t,e),Be(t,[{key:"identifier",value:function(){return this.getTypedRuleContext(pt,0)}},{key:"expression",value:function(){return this.getTypedRuleContext(yt,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterArgument(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitArgument(this)}}])}(V.ParserRuleContext),pt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_identifier,i}return $e(t,e),Be(t,[{key:"identifierchain",value:function(){return this.getTypedRuleContext(dt,0)}},{key:"DOT",value:function(){return this.getToken(Qe.DOT,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterIdentifier(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitIdentifier(this)}}])}(V.ParserRuleContext),dt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),Ke(i=Ue(this,t,[n,r]),"DOT",(function(e){return void 0===e&&(e=null),null===e?this.getTokens(Qe.DOT):this.getToken(Qe.DOT,e)})),Ke(i,"identifierchain",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(t):this.getTypedRuleContext(t,e)})),i.parser=e,i.ruleIndex=Qe.RULE_identifierchain,i}return $e(t,e),Be(t,[{key:"IDENTIFIER",value:function(){return this.getToken(Qe.IDENTIFIER,0)}},{key:"IN",value:function(){return this.getToken(Qe.IN,0)}},{key:"VARIABLE",value:function(){return this.getToken(Qe.VARIABLE,0)}},{key:"PROVIDER",value:function(){return this.getToken(Qe.PROVIDER,0)}},{key:"index",value:function(){return this.getTypedRuleContext(kt,0)}},{key:"STAR",value:function(){return this.getToken(Qe.STAR,0)}},{key:"inline_index",value:function(){return this.getTypedRuleContext(mt,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterIdentifierchain(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitIdentifierchain(this)}}])}(V.ParserRuleContext),mt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_inline_index,i}return $e(t,e),Be(t,[{key:"NATURAL_NUMBER",value:function(){return this.getToken(Qe.NATURAL_NUMBER,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterInline_index(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitInline_index(this)}}])}(V.ParserRuleContext),yt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),Ke(i=Ue(this,t,[n,r]),"expression",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(t):this.getTypedRuleContext(t,e)})),i.parser=e,i.ruleIndex=Qe.RULE_expression,i}return $e(t,e),Be(t,[{key:"section",value:function(){return this.getTypedRuleContext(gt,0)}},{key:"LPAREN",value:function(){return this.getToken(Qe.LPAREN,0)}},{key:"RPAREN",value:function(){return this.getToken(Qe.RPAREN,0)}},{key:"forloop",value:function(){return this.getTypedRuleContext(vt,0)}},{key:"operator_",value:function(){return this.getTypedRuleContext(Nt,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterExpression(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitExpression(this)}}])}(V.ParserRuleContext),vt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),Ke(i=Ue(this,t,[n,r]),"expression",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(yt):this.getTypedRuleContext(yt,e)})),i.parser=e,i.ruleIndex=Qe.RULE_forloop,i}return $e(t,e),Be(t,[{key:"identifier",value:function(){return this.getTypedRuleContext(pt,0)}},{key:"IN",value:function(){return this.getToken(Qe.IN,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterForloop(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitForloop(this)}}])}(V.ParserRuleContext),gt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_section,i}return $e(t,e),Be(t,[{key:"list_",value:function(){return this.getTypedRuleContext(St,0)}},{key:"map_",value:function(){return this.getTypedRuleContext(Tt,0)}},{key:"val",value:function(){return this.getTypedRuleContext(_t,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterSection(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitSection(this)}}])}(V.ParserRuleContext),_t=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_val,i}return $e(t,e),Be(t,[{key:"NULL_",value:function(){return this.getToken(Qe.NULL_,0)}},{key:"signed_number",value:function(){return this.getTypedRuleContext(Ot,0)}},{key:"string",value:function(){return this.getTypedRuleContext(At,0)}},{key:"identifier",value:function(){return this.getTypedRuleContext(pt,0)}},{key:"BOOL",value:function(){return this.getToken(Qe.BOOL,0)}},{key:"DESCRIPTION",value:function(){return this.getToken(Qe.DESCRIPTION,0)}},{key:"filedecl",value:function(){return this.getTypedRuleContext(Et,0)}},{key:"functioncall",value:function(){return this.getTypedRuleContext(bt,0)}},{key:"EOF_",value:function(){return this.getToken(Qe.EOF_,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterVal(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitVal(this)}}])}(V.ParserRuleContext),bt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_functioncall,i}return $e(t,e),Be(t,[{key:"functionname",value:function(){return this.getTypedRuleContext(wt,0)}},{key:"LPAREN",value:function(){return this.getToken(Qe.LPAREN,0)}},{key:"functionarguments",value:function(){return this.getTypedRuleContext(xt,0)}},{key:"RPAREN",value:function(){return this.getToken(Qe.RPAREN,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterFunctioncall(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitFunctioncall(this)}}])}(V.ParserRuleContext),wt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_functionname,i}return $e(t,e),Be(t,[{key:"IDENTIFIER",value:function(){return this.getToken(Qe.IDENTIFIER,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterFunctionname(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitFunctionname(this)}}])}(V.ParserRuleContext),xt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),Ke(i=Ue(this,t,[n,r]),"expression",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(yt):this.getTypedRuleContext(yt,e)})),i.parser=e,i.ruleIndex=Qe.RULE_functionarguments,i}return $e(t,e),Be(t,[{key:"enterRule",value:function(e){e instanceof Se&&e.enterFunctionarguments(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitFunctionarguments(this)}}])}(V.ParserRuleContext),kt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_index,i}return $e(t,e),Be(t,[{key:"expression",value:function(){return this.getTypedRuleContext(yt,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterIndex(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitIndex(this)}}])}(V.ParserRuleContext),Et=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_filedecl,i}return $e(t,e),Be(t,[{key:"LPAREN",value:function(){return this.getToken(Qe.LPAREN,0)}},{key:"expression",value:function(){return this.getTypedRuleContext(yt,0)}},{key:"RPAREN",value:function(){return this.getToken(Qe.RPAREN,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterFiledecl(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitFiledecl(this)}}])}(V.ParserRuleContext),St=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),Ke(i=Ue(this,t,[n,r]),"expression",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(yt):this.getTypedRuleContext(yt,e)})),i.parser=e,i.ruleIndex=Qe.RULE_list_,i}return $e(t,e),Be(t,[{key:"enterRule",value:function(e){e instanceof Se&&e.enterList_(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitList_(this)}}])}(V.ParserRuleContext),Tt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),Ke(i=Ue(this,t,[n,r]),"argument",(function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(ft):this.getTypedRuleContext(ft,e)})),i.parser=e,i.ruleIndex=Qe.RULE_map_,i}return $e(t,e),Be(t,[{key:"LCURL",value:function(){return this.getToken(Qe.LCURL,0)}},{key:"RCURL",value:function(){return this.getToken(Qe.RCURL,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterMap_(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitMap_(this)}}])}(V.ParserRuleContext),At=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_string,i}return $e(t,e),Be(t,[{key:"STRING",value:function(){return this.getToken(Qe.STRING,0)}},{key:"MULTILINESTRING",value:function(){return this.getToken(Qe.MULTILINESTRING,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterString(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitString(this)}}])}(V.ParserRuleContext),Ot=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_signed_number,i}return $e(t,e),Be(t,[{key:"number",value:function(){return this.getTypedRuleContext(Pt,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterSigned_number(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitSigned_number(this)}}])}(V.ParserRuleContext),Nt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),(i=Ue(this,t,[n,r])).parser=e,i.ruleIndex=Qe.RULE_operator_,i}return $e(t,e),Be(t,[{key:"STAR",value:function(){return this.getToken(Qe.STAR,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterOperator_(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitOperator_(this)}}])}(V.ParserRuleContext),Pt=function(e){function t(e,n,r){var i;return je(this,t),void 0===n&&(n=null),null==r&&(r=-1),Ke(i=Ue(this,t,[n,r]),"NATURAL_NUMBER",(function(e){return void 0===e&&(e=null),null===e?this.getTokens(Qe.NATURAL_NUMBER):this.getToken(Qe.NATURAL_NUMBER,e)})),i.parser=e,i.ruleIndex=Qe.RULE_number,i}return $e(t,e),Be(t,[{key:"DOT",value:function(){return this.getToken(Qe.DOT,0)}},{key:"enterRule",value:function(e){e instanceof Se&&e.enterNumber(this)}},{key:"exitRule",value:function(e){e instanceof Se&&e.exitNumber(this)}}])}(V.ParserRuleContext);function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lt(r.key),r)}}function Lt(e){var t=function(e,t){if("object"!=Ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ct(t)?t:t+""}function It(e,t,n){return t=Mt(t),function(e,t){if(t&&("object"==Ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dt()?Reflect.construct(t,n||[],Mt(e).constructor):t.apply(e,n))}function Dt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dt=function(){return!!e})()}function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mt(e)}function jt(e,t){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jt(e,t)}Qe.File_Context=Xe,Qe.TerraformContext=Ze,Qe.ResourceContext=Je,Qe.DataContext=et,Qe.ProviderContext=tt,Qe.OutputContext=nt,Qe.LocalContext=rt,Qe.ModuleContext=it,Qe.VariableContext=ot,Qe.BlockContext=st,Qe.BlocktypeContext=at,Qe.ResourcetypeContext=ut,Qe.NameContext=ct,Qe.LabelContext=lt,Qe.BlockbodyContext=ht,Qe.ArgumentContext=ft,Qe.IdentifierContext=pt,Qe.IdentifierchainContext=dt,Qe.Inline_indexContext=mt,Qe.ExpressionContext=yt,Qe.ForloopContext=vt,Qe.SectionContext=gt,Qe.ValContext=_t,Qe.FunctioncallContext=bt,Qe.FunctionnameContext=wt,Qe.FunctionargumentsContext=xt,Qe.IndexContext=kt,Qe.FiledeclContext=Et,Qe.List_Context=St,Qe.Map_Context=Tt,Qe.StringContext=At,Qe.Signed_numberContext=Ot,Qe.Operator_Context=Nt,Qe.NumberContext=Pt;var Ft=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),It(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jt(e,t)}(t,e),function(e,t,n){return t&&Rt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"isParsable",value:function(e){var t=e.path;return/^.*\.tf$/.test(t)}},{key:"getModels",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(t){return e.isParsable(t)})).reduce((function(e,t){var n=t.path.split("/").slice(0,-1).join("/");return e.includes(n)||e.push(n),e}),[])}},{key:"parse",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.pluginData.components=[],this.pluginData.variables=[];var i=new Se(this.pluginData),o=null!=e&&e.path&&0!==e.path.length?"".concat(e.path,"/"):"",s=new RegExp("^".concat(o,"[^/]+\\.tf$"));n.filter((function(e){var t=e.path;return s.test(t)})).filter((function(e){var n=e.content,i=e.path;return!(!n||""===n.trim())||(t.pluginData.emitEvent({parent:r,type:"Parser",action:"read",status:"warning",files:[i],data:{code:"no_content",global:!1}}),!1)})).forEach((function(e){var n=t.pluginData.emitEvent({parent:r,type:"Parser",action:"read",status:"running",files:[e.path],data:{global:!1}});i.currentFile=e;var o=new V.InputStream(e.content),s=new De(o),a=new V.CommonTokenStream(s),u=new Qe(a);u.buildParseTrees=!0;var c=u.file_();V.tree.ParseTreeWalker.DEFAULT.walk(i,c),t.pluginData.emitEvent({id:n,status:"success"})}))}}])}(e.DefaultParser);const Bt=Ft;var Ut=n(945),zt=n.n(Ut);const Vt={root:"".concat("{% macro displayAttributeValue(attribute, value, level) %}\n{% if attribute.isVariable %}{{ value | dump | indent(level * 4, true) }},\n{% elif attribute.definition.type == 'Link' %}{{ attribute.definition.linkRef | indent(level * 4, true) }}.{{ getExternalId(value) }}.{{attribute.definition.linkAttribute}},\n{% elif isValueReference(value) %}{{ value | indent(level * 4, true) }},\n{% else %}{{ value | dump | indent(level * 4, true) }},\n{% endif %}\n{% endmacro %}\n",'{% include "local" ignore missing %}\n{% include "block" ignore missing %}\n{% include "variable" ignore missing %}\n{% include "output" ignore missing %}\n'),block:"{% for _block in components %}\n{{ _block.definition.blockType }} {% if ['resource','data'].includes(_block.definition.blockType) %}\"{{ _block.definition.type }}\" {% endif %}{% if ['provider', 'module'].includes(_block.definition.blockType) %}\"{{ _block.definition.type }}\"{% else %}\"{{ _block.externalId }}\"{% endif %} {\n{% for attribute in _block.attributes %}{% set level = 1 %}\n{% include \"attribute\" ignore missing %}\n{% endfor %}\n}\n\n{% endfor %}",attribute:"{% if attribute.type == 'Object' %}\n{{ attribute.name | indent(level * 4, true) }} {% if not attribute.isDynamic %}= {% endif %}{\n{% set level = level+1 %}{% for attr in attribute.value %}{% set attribute = attr %}\n{% include \"attribute\" ignore missing %}\n{% set attribute = attr %}\n{% endfor %}{% set level = level-1 %}\n{{ \"}\" | indent(level * 4, true)  }}\n{% else %}\n{{ attribute.name | indent(level * 4, true) }} = {% if attribute.type == 'Array' or attribute.type == 'Link' %}[\n{% set level = level+1 %}{% for value in attribute.value %}\n{% call displayAttributeValue(attribute, value, level) -%}{%- endcall %}\n{% endfor %}{% set level = level-1 %}\n{{ \"]\" | indent(level * 4, true) }}\n{% else %}\n{% if attribute.isVariable %}{{ attribute.value }}\n{% elif attribute.definition.type == 'Reference' %}{{ attribute.definition.containerRef }}.{{ getExternalId(attribute.value) }}\n{% elif attribute.type == 'Boolean' or attribute.type == 'Number' or attribute.name == 'user_data' %}{{ attribute.value }}\n{% elif attribute.type == 'String' and isValueReference(attribute.value) %}{{ attribute.value }}\n{% else %}{{ attribute.value | dump }}\n{% endif %}\n{% endif %}\n{% endif %}\n",variable:'{% for variable in variables %}\nvariable {{ variable.name | dump }} {\n{% set level = 1 %}\n{% if variable.defaultValue %}{{ "default" | indent(level * 4, true) }} = {% if isList(variable.type) %}[\n{% set level = level+1 %}{% for val in variable.defaultValue %}\n{{ val | dump | indent(level * 4, true) }},\n{% endfor %}\n{% set level = level-1 %}{{ "]" | indent(level * 4, true) }}\n{% else %}{{ variable.defaultValue | dump }}\n{% endif %}\n{% endif %}\n{% if variable.type %}{{ "type" | indent(level * 4, true) }} = {{ variable.type }}\n{% endif %}\n{% if variable.description %}{{ "description" | indent(level * 4, true) }} = {{ variable.description | dump }}\n{% endif %}\n{% if variable.sensitive %}{{ "sensitive" | indent(level * 4, true) }} = {{ variable.sensitive }}\n{% endif %}\n{% if variable.nullable %}{{ "nullable" | indent(level * 4, true) }} = {{ variable.nullable }}\n{% endif %}\n}\n\n{% endfor %}\n',output:'{% for output in outputs %}\noutput {{ output.name | dump }} {\n{% set level = 1 %}\n{% if isList(output.type) %}\n{{ "value = [" | indent(level * 4, true) }}\n{% for val in output.value %}\n{% set level = level+1 %}\n{% set argType = getListType(output.type) %}\n{% if argType == \'number\' or argType == \'bool\' or isValueReference(val) %}\n{{ val | dump  | indent(level * 4, true) }},\n{% else %}\n{{ val | dump  | indent(level * 4, true) }},\n{% endif %}\n{% set level = level-1 %}\n{% endfor %}{{ "]" | indent(level * 4, true) }}\n{% else %}\n{{ "value = " | indent(level * 4, true) }}{% if output.type == \'number\' or output.type == \'bool\' or isValueReference(output.value) %}\n{{ output.value }}\n{% else %}\n{{ output.value | dump }}\n{% endif %}\n{% endif %}\n{% if output.description %}{{ "description" | indent(level * 4, true) }} = {{ output.description | dump }}\n{% endif %}\n{% if output.sensitive %}{{ "sensitive" | indent(level * 4, true) }} = {{ output.sensitive }}\n{% endif %}\n}\n\n{% endfor %}\n',local:'{% if locals.length > 0 %}\nlocals {\n{% set level = 1 %}\n{% for local in locals %}\n{% if local.value %}{{ local.name | indent(level * 4, true) }} = {% if isList(local.type) %}[\n{% set level = level+1 %}{% for val in local.value %}\n{{ val | dump | indent(level * 4, true) }},\n{% endfor %}\n{% set level = level-1 %}{{ "]" | indent(level * 4, true) }}\n{% else %}{{ local.value | dump }}\n{% endif %}\n{% endif %}\n{% endfor %}{% set level = level-1 %}\n{% set level = 0 %}}\n\n{% endif %}\n'};function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kt(r.key),r)}}function Kt(e){var t=function(e,t){if("object"!=$t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=$t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$t(t)?t:t+""}function Ht(e,t,n){return t=Gt(t),function(e,t){if(t&&("object"==$t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Wt()?Reflect.construct(t,n||[],Gt(e).constructor):t.apply(e,n))}function Wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wt=function(){return!!e})()}function Gt(e){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gt(e)}function Yt(e,t){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yt(e,t)}var Qt=function(t){function n(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=Ht(this,n,[e]);var r=zt().Loader.extend({getSource:function(e){return{src:Vt[e]}}}),i=new(zt().Environment)(new r,{autoescape:!1,trimBlocks:!0,lstripBlocks:!0});return t.template=zt().compile(Vt.root,i),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}(n,t),function(e,t,n){return t&&qt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"renderFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.pluginData.components.reduce((function(e,t){return e.has(t.path)?e.get(t.path).push(t):e.set(t.path,[t]),e}),new Map),n=this.pluginData.variables.reduce((function(e,t){return e.has(t.path)?e.get(t.path).push(t):e.set(t.path,[t]),e}),new Map);return this.generateFiles(t,n,e)}},{key:"generateFiles",value:function(t,n,r){var i=this,o=[];return(0===t.size?n:t).forEach((function(s,a){var u=i.pluginData.emitEvent({parent:r,type:"Render",action:"write",status:"running",files:[a],data:{global:!1}}),c=(null==n?void 0:n.get(a))||[],l=(null==t?void 0:t.get(a))||[];o.push(new e.FileInput({path:a,content:"".concat(i.template.render({components:l,variables:c.filter((function(e){return"variable"===e.category})),locals:c.filter((function(e){return"local"===e.category})),outputs:c.filter((function(e){return"output"===e.category})),getExternalId:function(e){var t;return null===(t=i.pluginData.getComponentById(e))||void 0===t?void 0:t.externalId},isValueReference:function(e){return null==e?void 0:e.match(/^(data.|var.|local.|module.|aws_|random_)/)},isList:function(e){return(null==e?void 0:e.startsWith("list("))||(null==e?void 0:e.startsWith("set("))},getListType:function(e){return e.split(/\(([^)]+)\)/)[1]}}).trim(),"\n")})),i.pluginData.emitEvent({id:u,status:"success"})})),o}}])}(e.DefaultRender);const Xt=Qt,Zt={name:"terraform",languageSettings:{id:"terraform",extensions:[".tf"],aliases:["Terraform","terraform"],mimetypes:["string"]},languageConfiguration:{comments:{lineComment:"#",blockComment:["/*","*/"]},brackets:[["(",")"],["{","}"],["[","]"]],colorizedBracketPairs:[["(",")"],["{","}"],["[","]"]],autoClosingPairs:[{open:"(",close:")"},{open:"{",close:"}"},{open:"[",close:"]"},{open:"'",close:"'",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'"},{open:'"',close:'"'}]},tokenProvider:{keywords:["provider","resource","data","variable","output","locals","module","for_each","if","else","true","false","null"],operators:["+","+=","-","-=","*","*=","/","/=","%","%=","==","!=","<","<=",">",">=","=","||","&&","!"],symbols:/[=><!~?:&|+\-*/^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/#.*$/,"comment"]]}}};function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function en(e,t,n){return t=nn(t),function(e,t){if(t&&("object"==Jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tn()?Reflect.construct(t,n||[],nn(e).constructor):t.apply(e,n))}function tn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tn=function(){return!!e})()}function nn(e){return nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nn(e)}function rn(e,t){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rn(e,t)}var on=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),en(this,n,[{editor:{syntax:Zt},tags:[new e.Tag({type:"language",value:"Terraform"}),new e.Tag({type:"category",value:"Infrastructure"})],extraResources:[{type:"markers",name:"startLinkMarker"},{type:"markers",name:"endLinkMarker"},{type:"links",name:"defaultLink"},{type:"links",name:"temporaryLink"},{type:"icons",name:"error"},{type:"icons",name:"menu"},{type:"icons",name:"resize"}],container:{margin:15,gap:50},defaultFileName:"new_file.tf",defaultFileExtension:"tf"}])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}(n,t),function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}(n)}(e.DefaultConfiguration);const sn=on;function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ln(r.key),r)}}function ln(e){var t=function(e,t){if("object"!=an(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=an(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==an(t)?t:t+""}function hn(e,t,n){return t=pn(t),function(e,t){if(t&&("object"==an(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fn()?Reflect.construct(t,n||[],pn(e).constructor):t.apply(e,n))}function fn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fn=function(){return!!e})()}function pn(e){return pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pn(e)}function dn(e,t){return dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dn(e,t)}var mn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hn(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dn(e,t)}(t,e),function(e,t,n){return t&&cn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"getVariableValue",value:function(e){var t,n=e.split(".");return 2===n.length?("var"===n[0]&&(n[0]="variable"),(null===(t=this.variables.find((function(e){return e.name===n[1]&&e.category===n[0]})))||void 0===t?void 0:t.value)||null):null}},{key:"getAttributeValue",value:function(e){var t,n,r=this;if(e.isVariable)return this.getVariableValue(e.value);if("Link"===(null===(t=e.definition)||void 0===t?void 0:t.type)){var i=[];return e.value.forEach((function(t){i.push(r.expandLinkAttribute(t,e.definition.linkAttribute))})),i}return"Reference"===(null===(n=e.definition)||void 0===n?void 0:n.type)?this.expandLinkAttribute(e.value,e.definition.linkAttribute):e.value}},{key:"getLinkedComponentsIds",value:function(e){var t,n;if(e.isVariable)return[this.getVariableValue(e.value)];var r=[];return"Link"===(null===(t=e.definition)||void 0===t?void 0:t.type)||"Array"===(null===(n=e.definition)||void 0===n?void 0:n.type)?(e.value.forEach((function(e){r.push(e)})),r):[e.value]}},{key:"expandLinkAttribute",value:function(e,t){var n,r=this.getComponentIdFromValue(e);return"id"===t?r:null===(n=this.components.find((function(e){return e.id===r})))||void 0===n||null===(n=n.attributes.find((function(e){return e.name===t})))||void 0===n?void 0:n.value}},{key:"addComponent",value:function(e,t){var n=this.generateComponentId(),r=this.configuration.defaultFileName;return this.components.push(new me({id:n,name:n,definition:e,path:t?"".concat(t,"/").concat(r):r})),n}},{key:"getComponentByConfigurationKey",value:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return un(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(/([^.]*)\.([^.]*)/.exec(e),3),n=t[1],r=t[2];return this.components.find((function(e){return e.definition.type===n&&e.externalId===r}))}}])}(e.DefaultData);const yn=mn,vn=JSON.parse('{"UU":"terrator-plugin","rE":"0.8.1"}');function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function _n(e,t,n){return t=wn(t),function(e,t){if(t&&("object"==gn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bn()?Reflect.construct(t,n||[],wn(e).constructor):t.apply(e,n))}function bn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bn=function(){return!!e})()}function wn(e){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(e)}function xn(e,t){return xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xn(e,t)}var kn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{event:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=new sn,r=new yn(n,{name:vn.UU,version:vn.rE},e.event);return _n(this,t,[{pluginData:r,pluginMetadata:new j(r),pluginParser:new Bt(r),pluginRenderer:new Xt(r),configuration:n}])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xn(e,t)}(t,e),function(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(e.DefaultPlugin);const En=kn})();var i=exports;for(var o in r)i[o]=r[o];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();